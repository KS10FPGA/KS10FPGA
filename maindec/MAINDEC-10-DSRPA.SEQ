;DSRPA
                                                                                                                           SEQ 0001





				IDENTIFICATION
				--------------

	PRODUCT CODE:		AH-E446C-DD

	DIAGNOSTIC CODE:	DSRPA

	PRODUCT NAME:	 	DSRPAC0 DECSYSTEM 2020 KS10/RH11 -
				RP06 BASIC DEVICE DIAGNOSTIC

	VERSION:		0.3

	DATE RELEASED:		FEBRUARY 1979

	MAINTAINED BY:		DIAGNOSTIC ENGINEERING

	AUTHOR:			FRANK GATULIS


		        COPYRIGHT (C) 1978, 1979

	        DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.

	THIS SOFTWARE IS FURNISHED UNDER A LICENSE FOR  USE  ONLY  ON  A
	SINGLE COMPUTER SYSTEM AND MAY BE COPIED ONLY WITH THE INCLUSION
	OF THE ABOVE COPYRIGHT NOTICE.   THIS  SOFTWARE,  OR  ANY  OTHER
	COPIES  THEREOF, MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE
	TO ANY OTHER PERSON EXCEPT FOR USE ON SUCH SYSTEM AND TO ONE WHO
	AGREES  TO  THESE  LICENSE TERMS.  TITLE TO AND OWNERSHIP OF THE
	SOFTWARE  SHALL  AT   ALL  TIMES  REMAIN  IN  DIGITAL  EQUIPMENT
	CORPORATION.

	THE INFORMATION IN THIS DOCUMENT IS SUBJECT  TO  CHANGE  WITHOUT
	NOTICE  AND  SHOULD  NOT BE CONSTRUED AS A COMMITMENT BY DIGITAL
	EQUIPMENT CORPORATION.

	DIGITAL EQUIPMENT CORPORATION ASSUMES NO  RESPONSIBILITY FOR THE
	USE  OR  RELIABILITY  OF  ITS SOFTWARE IN EQUIPMENT WHICH IS NOT
	SUPPLIED BY DIGITAL EQUIPMENT CORPORATION.
								PAGE 2
MAINDEC-10-DSRPA                                                                                                           SEQ 0002


                        CONTENTS
                        --------


        SECTION
        -------

        1.0     ABSTRACT

        2.0     SYSTEM REQUIREMENTS

        3.0     LOADING PROCEDURE

        4.0     OPERATING PROCEDURE

                4.1     SWITCH SETTINGS

                4.2     STARTING ADDRESSES

		4.3	TESTING SINGLE PORTED DEVICES

		4.4	TESTING DUAL PORTED DEVICES
								PAGE 3
MAINDEC-10-DSRPA                                                                                                           SEQ 0003

1.0     ABSTRACT
        --------

	DSRPA IS THE RH11/RP06 BASIC DEVICE DIAGNOSTIC, DESIGNED TO
	ISOLATE SOLID RP06 FAULTS TO THE FAULTY MODULE OR GROUP  OF
	MODULES WITHIN THE DCL OR DRIVE ELECTRONICS. EXCELLENT SCOPE
	LOOPING CAPABILITIES HAVE BEEN DESIGNED INTO EACH TEST.

	TESTING IS DONE ON A START SMALL AND BUILD UP BASIS.  THE
	DIAGNOSTIC STARTS BY TESTING EVEN THE MOST TRIVIAL OF CONTROL
	BUS CYCLES AND ENDS UP BY DOING FULL SPEED DATA TRANSFER OP-
	ERATIONS TO VARIOUS DISK ADDRESSES. POSITIONING LOGIC IS
	ALSO TESTED ALONG THE WAY.

	IN ADDITION TO THE STRAIGHT LINE DIAGNOSTIC TESTS, THE DIAG-
	NOSTIC ALSO CONTAINS A HEAD ALIGNMENT/VERIFICATION SUB-
	PROGRAM THAT IS INVOKED BY SETTING THE PROPER SENSE SWITCH

	THIS DIAGNOSTIC OPERATES IN EXEC MODE ONLY.

2.0     SYSTEM REQUIREMENTS
        -------------------

        A)      A DECSYSTEM 2020 PROCESSOR (KS10) WITH AT  LEAST
                48K MEMORY.

        B)      MINIMUM OF 1 RH11.

        C)      1 TO 8 RP06 DISK DRIVES

        D)      APPROPRIATE LOADING DEVICE.

								PAGE 4
MAINDEC-10-DSRPA                                                                                                           SEQ 0004

2.1     PRELIMINARY PROGRAMS
        --------------------

        A)      PROCESSOR AND MEMORY TESTS

        B)      RH11 CONTROLLER DIAGNOSTIC

3.0     LOADING PROCEDURE
        -----------------

	THIS DIAGNOSTIC IS LOADED FROM ANY OF THE STANDARD
	MEDIA USING AN APPROPRIATE DIAGNOSTIC LOADER. 
	(SMMON,SMMAG, ETC.)
	REFER TO PARTICULAR LOADER FOR ITS INSTRUCTIONS.

4.0     OPERATING PROCEDURE
        -------------------

	THE DAIGNOSTIC ATTEMPTS TO BE SELF DOCUMENTING IN THAT IT
	FURNISHES ALL NECESSARY INSTRUCTIONS FOR OPERATION AS IT 
	RUNS. SENSE SWITCH OPTIONS MAY ALSO BE PRINTED AT RUN TIME.

	A)	CONFIGURATION (EXEC MODE)

	THE DIAGNOSTIC WILL FIRST POLL THE SYSTEM AND REPORT WHICH
	RP06 AND CONTROLLER CONFIGURATIONS EXIST. AFTER REPORTING
	SYSTEM CONFIGURATION, THE USER IS ALLOWED TO SELECT ANY
	NUMBER OF CONTROLLERS FOR TEST (OUT OF THOSE FOUND).

	ONCE CONTROLLERS HAVE BEEN SELECTED, THE USER IS ALLOWED TO 
	SELECT DRIVES FOR TEST ON EACH OF THE CONTROLLERS SELECTED.
	A DRIVE MAY BE SELECTED FOR TEST, WETHER OR NOT IT WAS DE-
	TECTED AT CONFIGURATION TIME. FOLLOWING THE COMPLETION
	OF CONFIGURATION, THE DIAGNOSTIC GOES TO ITS TEST DISPAT-
	CHER TO DETERMINE WHICH TESTS ARE TO BE RUN.
								PAGE 5
MAINDEC-10-DSRPA                                                                                                           SEQ 0005

	B)	DISPATCHER

	IN ORDER TO UNDERSTAND THE DISPATCHER IT IS IMPORTANT TO 
	UNDERSTAND A FEW FACTS ABOUT THE TEST STRUCTURE.

	1. THERE ARE 363(OCTAL) IN LINE STAND ALONE TESTS, SOME
	   OF WHICH REQUIRE OPERATOR INTERVENTION. THESE TESTS
	   MAY BE SELECTED FOR INDIVIDUAL OPERATION BY SW 27-35

	2. THE DUAL PORT TEST IS A STAND ALONE SERIES OF 23(OCTAL)
	   SUBTESTS THAT ARE SELF DOCUMENTING WITH COMPLETE INSTRUCTIONS

	3. HEAD ALIGNMENT-VERIFICATION IS A STAND ALONE SUB-PROGRAM
	   BUT REQUIRES THE USE OF A C.E. PACK AND DDU TESTER

	THE DISPATCH ALGORITHIM WORKS AS FOLLOWS:

	A. READ THE CONSOLE SWITCHES

	B. IF PAUSE SWITCH (002000) IS SET, GO TO STEP-A

	C. IF THE DUAL PORT OPTION SWITCH IS SET (040000), GO OFF
	   AND RUN THE DUAL PORT TESTS ON DUAL PORTED RP06'S ONLY.
	   THEN RETURN TO STEP-A

	D. IF THE HEAD ALIGNMENT OPTION SWITCH IS SET (020000), GO 
	   OFF AND PERFORM HEAD ALIGNMENT-VERIFICATION ON THE DRIVES
	   SELECTED FOR TEST. THEN RETURN TO STEP-A

	E. IF THE OPERATOR INTERVENTION SWITCH IS "ON", SET A FLAG
	   THAT ALLOWS OPERATOR INTERVENTION TESTS TO BE EXECUTED
	   WNEN ENCOUNTERED. (FLAG CHECKED LOCALLY AT EACH TEST)

	F. IF SW-26 IS SET (001000) "MANUAL TEST SELECTION" ,
	   EXECUTE THE TEST WHOSE NUMBER IS SPECIFIED IN SWITCHES
	   27-35. IF ILLEGAL, GIVE AN ERROR MESSAGE. THE TEST IS
	   EXECUTED ONE TIME AND THEN RETURN IS MADE TO STEP-A

	G. EXECUTE THE NEXT IN-LINE TEST OF THE 363 AVAILABLE,
	   ONE TIME AND THEN RETURN TO STEP-A. WHEN ALL TESTS
	   HAVE BEEN EXECUTED, END OF PASS IS TYPED AND THE SEQ-
	   UENCE WILL BE REPEATED UNTIL THE DIAGNOSTIC IS STOPPED
	   OR THE ABORT SWITCH IS RAISED.

		NOTE - WHEN AN IN LINE TEST IS BEING RUN, IT IS 
		EXECUTED ON ALL DRIVES BEING TESTED BEFORE RETURN
		IS MADE TO THE DISPATCHER.
								PAGE 6
MAINDEC-10-DSRPA                                                                                                           SEQ 0006

	C)	TERMINATION

	THIS DIAGNOSTIC READS AND WRITES VARIOUS PACK AREAS.
	IT IS NECESSARY TO WRITE ON CERTIAN AREAS OF THE PACK AND
	WHEN THE DIAGNOSTIC COMPLETES EACH PASS, THE AREAS
	WHICH IT HAS WRITTTEN ARE LEFT IN PDP-10 FORMAT. THIS IMPLIES
	THAT IF A PDP-11 FORMATTED SCRATCH PACK IS USED, IT WILL HAVE
	TO BE RE-FORMATTED AFTER A PASS OF THIS DIAGNOSTIC. IF THE
	DIAGNOSTIC IS STOPPED IN THE MIDDLE OF A PASS, IT IS IMPOSSIBLE
	TO DETERMINE THE STATE OF THE PACK AT THAT TIME.

	D)	RUN TIME (PER DRIVE BASIS)

	1. IF NO OPERATOR INTERVENTION TESTS ARE RUN, THE DIAG-
	   NOSTIC WILL COMPLETE A PASS IN APPROX 3 MINUTES.

	2. THE DUAL PORT TESTS TAKE APPROX 3 MINUTES TO EXECUTE
	   ONCE THE DRIVE IS CABLED UP.

	3. EXCLUDING WARM UP TIME AND SET UP TIME, HEAD ALIGNMENT
	   VERIFICATION TAKES APPROXIMATELY 5 MINUTES

	E)	USE OF THE DIAGNOSTIC

	A TYPICAL USE OF THE DIAGNOSTIC WOULD BE AS FOLLOWS:

	RUN THE DIAGNOSTIC UNTIL IT FAILS ON A TEST AND THEN
	SELECT THAT TEST FROM THE SWITCHES SO THAT IT WILL BE
	CONTINUOUSLY RUN AND THE TROUBLE CAN BE ISOLATED OR
	MODULES REPLACED. AFTER REPLACING A MODULE OR GROUP OF
	MODULES IT IS SUGGESTED THAT THE ENTIRE DIAGNOSTIC BE
	RE-RUN JUST IN CASE SYMPTOMS HAVE CHANGED.

	DUE TO THE STRUCTURE OF THE DIAGNOSTIC, IT IS RECOMMENDED
	THAT TROUBLESHOOTING BE DONE USING THE EARLIEST POSSIBLE
	TEST THAT FAILED, IN THE EVENT THAT SEVERAL TESTS INDICATE
	MALFUNCTIONS, COMB THEM OUT ONE AT A TIME.
								PAGE 7
MAINDEC-10-DSRPA                                                                                                           SEQ 0007

4.1     OPERATIONAL SWITCH SETTINGS
        ---------------------------

        SWITCH	     FUNCTION        RESULT

        400000 (0)	ABORT	ABORT DIAGNOSTIC AT END OF PASS

	040000 (3)	NOPNT	INHIBIT TYPEOUTS
				(EXCEPT FOR "FORCED" TYPEOUTS)

	020000 (4)	PNTLPT	PRINT ON LPT

	010000 (5)	DING	RING BELL ON ERROR

	004000 (6)	LOOPER	LOOP ON ERROR

	002000 (8)	ERSTOP	HALT ON ERROR

	001000 (8)	PALERS	PRINT ALL ERRORS (IF NOT SET,
				PRINT ONLY 1ST)

	000200 (10)	TXTINH	SHORT MESSAGES

	000040 (12)	MODDVC	MODIFY DEVICE CODE (UNIBUS ADDRESSES)

	000020 (13)	INHCSH	INHIBIT CACHE

	000010 (14)	OPRSEL	RUN OPERATOR INTERVENTION TESTS
								PAGE 8
MAINDEC-10-DSRPA                                                                                                           SEQ 0008

***** RIGHT SIDE SWITCHES FOR PROGRAM *****

	400000		IF SET, TRACE PROGRAMS PROGRESS TEST BY TEST

	200000		LIST ALL POSSIBLE MODULES IF NOT RUNNING IN
			TEXT INHIBIT MODE

	100000		NOT USED

	040000		RUN THE DUAL PORT TESTS

	020000		RUN THE HEAD ALIGNMENT VERIFICATION TEST

	004000		NOT USED

	002000		PAUSE UNTIL THIS SWITCH IS RESET

	001000		RUN THE TEST SPECIFIED BY SWITCHES 27-35

	SW 27-35	SPECIFY THE TEST THAT WILL BE CONTINUOUSLY
			RUN IF SW-26 IS SET (1000)

4.2	STARTING ADDRESSES
	-------- ---------

	LOC		FUNCTION

	30000		FULL INIT AND START OF THE DIAGNOSTIC

	30001		MODE CHECK AND RESTART

	30002		DIAGNOSTIC MONITOR START

	30003		SYSTEM EXERCISER START

	30004		DIAGNOSTIC RESTART (LESS DIALOGUE)

	30005		POWER FAIL RESTART (FULL INIT)

	30006		RE-ENTER START (USER MODE)

	30007		ENTER DDT (IF PRESENT)
								PAGE 9
MAINDEC-10-DSRPA                                                                                                           SEQ 0009

4.3	TESTING SINGLE PORTED DEVICES
	------- ------ ------ -------

	THE FOLLOWING SEQUENCE "MUST" BE FOLLOWED TO INSURE
	COMPLETE TESTING OF A SINGLE PORTED DEVICE.

	A. CABLE THE CONTROLLER TO THE ACTIVE PORT, LOCK THE
	   DEVICE ON THAT PORT AND RUN ONE PASS OF THE DIAGNOSTIC
	   WITH THE MANUAL INTERVENTION TESTS SELECTED.

	B. IF MULTIPLE PASSES ARE DESIRE, IT WILL NOT BE NEC-
	   ESSARY TO RUN THE MANUAL INTERVENTION TESTS FOLLOWING
	   THE FIRST PASS

4.4	TESTING DUAL PORTED DRIVES
	------- ---- ------ ------

	THE FOLLOWING SEQUENCE "MUST" BE FOLLOWED TO INSURE COMPLETE
	CHECKOUT OF DUAL PORTED DRIVES.

	A. CABLE THE CONTROLLER TO EITHER PORT, LOCK THE DRIVE ON THAT
	   PORT AND RUN A PASS OF THE DIAGNOSTIC WITH THE MANUAL INTER-
	   VENTION TESTS SELECTED. THIS TESTS ONE PORT.

	B. CABLE THE CONTROLLER TO THE OTHER PORT, LOCK THE DRIVE ON
	   THAT PORT AND RUN A PASS OF THE DIAGNOSTIC, THIS TIME THE
	   MANUAL INTERVENTION TESTS ARE ALSO NECESSARY. THIS TESTS THE
	   OTHER PORT.

	C. RUN THE DUAL PORT TEST AS INSTRUCTED BY THE DIAGNOSTIC. THIS
	   TESTS THE DUAL PORT ARBITRATION LOGIC IN THE DRIVE.
	   THE DUAL PORT TEST CABLE # 7010507-02 IS REQUIRED.

[END OF TEXT FILE]

HISTORY OF THE DEVELOPEMENT OF DSRPA DISK RELIABILITY DIAGNOSTIC                                                           SEQ 0010
----------------------------------------------------------------

PRODUCT CODE:	MD - 10 - DSRPA - A

VERSION:	0.1

PRODUCT NAME:	DECSYSTEM 2020 KS10/RH11 RP06 BASIC DEVICE
		DIAGNOSTIC

RELEASE DATE:	MAY 1978

AUTHOR:		JOHN R. KIRCHOFF

MAINTAINER:	DECSYSTEM -10 - SYSTEMS DIAGNOSTIC ENG.

ORIGINAL RELEASE FOR DECSYSTEM 2020.
----------------------------------------------------------------

VERSION:	0.2

RELEASE DATE:	DECEMBER 1978

AUTHOR:		JOHN R. KIRCHOFF

VERSION 0.2 RELEASED TO CORRECT A BUG IN TEST 121 AT "T121CL+5", WAS A
"MOVE 1,16377" SHOULD HAVE BEEN A "MOVEI 1,16377".
ALSO CORRECTED MODIFY DEVICE CODE (UNIBUS ADDRESSES) SWITCH TO BE "MODDVC"
RATHER THAN SWITCH 100000.  REMOVE THE USRASB DEFINE AS THIS PROGRAM ONLY
OPERATES IN EXEC MODE.
----------------------------------------------------------------
VERSION:	0.3

RELEASE DATE:	FEBRRUARY 1979

AUTHOR:	FRANK GATULIS

1.	THE DUAL PORT TESTS WERE MADE OPERATIONAL. THESE COULD
NOT PREVIOUSLY WORK BECAUSE THE PROGRAM WAS NOT DESIGNED TO TALK
TO MULTIPLE DRIVES WITHIN THE SAME TEST. IN ORDER TO MAKE THESE
TESTS WORK, ALL OF THE CODE TO READ AND WRITE REGISTERS HAD TO 
BE REPLACED.

2.	SEVERAL ATTN TESTS WOULD NOT WORK IF THEY DETECTED AN ERROR
BECAUSE OF THE INABILITY TO ADDRESS MULTIPLE DRIVES WITHIN THE SAME 
TEST. THIS WAS CLEARED UP AUTOMATICALLY1 BY REPAIRING THE REGISTER
READ ROUTINES.

3.	FIXED A BUG IN HEAD ALIGNMENT ROUTINE. IF YOU WENT BACK AND
FOURTH BETWEEN THE ALIGN AND VERIFY OPTIONS ENOUGH TIMES, THE PROGRAM
WOULD UUO OR FATAL OUT BECAUSE OF A PUSHDOWN STACK PROBLEM.

4.	REMOVED A CONSIDERABLE AMOUNT OF CODE THAT DID NOT APPLY TO
THIS PROGRAM. MOSTLY STUFF THAT HAD TO DO WITH USER MODE OR THE RM03.

5.	ADDED A NUMBER OF RH11 TESTS TO THE DIAGNOSTIC TO COVER
AREAS OF THE RH11 NOT TESTED ELSEWERE. THERE ARE 8 OF THESE
RH11 TESTS AND THEY ARE ALL RUN AS SUBTESTS OUT OF TEST-101.

6.	THE SNAPSHOT AND DUMP ROUTINES WERE RE-WRITTEN TO ALLOW
FOR THE SELECTIVE DUMPING OF DRIVE REGISTERS IN VARIOUS TESTS.                                                             SEQ 0011
THIS DRASTICALLY REDUCES THE VERBOSITY OF THE ERROR REPORTS.

7.	FIXED BUGES IN THE PROGRAM THAT PREVENTED THE TXTINH FEATURE
FROM WORKING IN A GREAT NUMBER OF CASES.

8.	THE REGISTER PRINT ROUTINES WERE CHANGED SO THAT YOU NOW
GET (NED, MCPE) INDICATIONS WETHER THE PROGRAM IS PRINTING DATA
IN OCTAL OR ENGLISH. PREVIOUSLY, (NED, MCPE) COULD NOT BE SEEN
IF PRINTING IN OCTAL WAS IN EFFECT.

9.	REPLACED THE PROGRAM TRACE ROUTINE WITH ONE THAT WORKED
CORRECTLY WITH BOTH NUMERICAL TESTS AND TESTS THAT HAVE SIXBIT 
NAMES. THIS IS COSMETIC. OCCASIONALLY TRACE WOULD PRODUCE TRASH.

10.	REMOVED TEST #324. THIS WAS A POWER UP/DOWN TEST FOR THE
RP06 THAT HAS NEVER QUITE WORKED AS DESIGNED BECAUSE THE POWER
SEQUENCERS IN VARIOUS RP06 BEHAVE SLIGHTLY DIFFERENTLY AND THERE
DOES NOT SEEM TO BE ANY ATTEMPT TO MAKE THEIR BEHAVIOR UNIFORM.
THE POWER UP SEQUENCE CHECKED HERE IS NOT CRITICAL AND REMOVAL
OF THE TEST DOES NOT COMPROMISE ANYTHING.

----------------------------------------------------------------
DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 1             
                                                                                                                           SEQ 0012




















				   DOCUMENT
				**************
        DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^
				**************

















		    COPYRIGHT 1979
		    DIGITAL EQUIPMENT CORPORATION
		    MAYNARD, MASS. 01754

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 2             
                                                                                                                           SEQ 0013

				 TABLE OF CONTENTS
				*******************


	29	PROGRAM PARAMETERS

	93	ACCUMULATOR AND UUO DEFINITIONS

	136	PROGRAM MACRO DEFINITIONS

	197	DESCRIPTION OF SENSE SWITCH OPTIONS

	291	CONSOLE DATA SWITCH ASSIGNMENTS, MARCH 1978

	326	PROGRAM/SUBROUTINE PARAMETERS

	528	*FIXED* FIXED CONTROL AND DISPATCH STORAGE, MARCH 1978

	856	KS10-RH11/MASSBUS DEVICE BIT ASSIGNMENTS

	1134	UNIBUS ADAPTER BIT ASSIGNMENTS

	1181	 MAINLINE CODE

	1309	DRIVE SELECTION TESTS

	1413	BASIC CONTROL BUS CONFIDENCE TESTS

	1605	TEST FOR PROPER OPERATION OF CTRL BUS BITS C00-C06

	2045	TEST FOR PROPER OPERATION OF CTRL BUS BITS C07-C13

	2483	TEST FOR PROPER OPERATION OF CTRL BUS BITS C14-C15

	2909	TEST FOR PERSISTANT ERRORS IN REG-15 (ERR-3)

	3339	ADDITIONAL MISC. TESTING OF REG-15 (ERR-3)

	3673	TESTING DRIVES CTRL BUS PARITY GENERATION LOGIC 

	3857	REGISTER SELECTION TESTS

	4826	VERIFY THAT GO BIT IS NOT STUCK ON A 1

	5271	TEST PARTIAL OPERATION OF C03 REG-05

	5406	TEST PARTIAL OPERATION OF C03 REG-12
DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 3             
                                                                                                                           SEQ 0014

				 TABLE OF CONTENTS
				*******************


	5543	VERIFY OPERATION OF C03 REG-14

	5733	REGISTER SELECTION TEST

	5886	TEST DRIVE CLEAR AND MISC CONTROL LOGIC

	6087	DRIVE SELECTION TEST

	6192	TEST OPERATION OF READ AND WRITE ERROR BIT.

	6253	RH11 SUBTESTS

	6302	CHECK FOR PERSISTANT MULTIPLE HEAD SELECT PROBLEM

	6364	CHECK FOR A PERSISTANT NO HEAD SELECT ERROR

	6427	CHECK FOR A PERSISTANT PLO UNSAFE CONDITION

	6487	CHECK FOR PERSISTANT INDEX ERROR

	6552	CHECK FOR A PERSISTANT WRITE READY UNSAFE

	6608	CHECK FOR A PERSISTANT TRANSITION DETECTOR FAILURE

	6665	CHECK FOR PERSISTANT TRANSITIONS UNSAFE FAILURE

	6722	CHECK FOR PERSISTANT WRITE SELECT UNSAFE ERROR

	6783	CHECK FOR PERSISTANT CURRENT SINK FAILURE

	6843	CHECK FOR A PERSISTANT WRITE CURRENT UNSAFE CONDITION

	6903	CHECK FOR A PERSISTANT ABNORMAL STOP CONDITION

	6963	TEST OPERATION OF REGISTER-15 FLOPS AND MUX'S

	7099	ADDITIONAL MISCELLANEOUS TESTS FOR REGISTER-14

	7259	MISC. OFFSET REGISTER TESTS

	7570	MISC. TESTING OF REG-12 AND ITS ASSOCIATED LOGIC

	7840	MISC. DA REGISTER TESTS
DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 4             
                                                                                                                           SEQ 0015

				 TABLE OF CONTENTS
				*******************


	8124	TEST FOR PERSISTANT "DCK" ERROR

	8179	TEST FOR A PERSISTANT "UNS" ERROR CONDITION

	8236	TEST FOR A PERSISTANT "OPI" ERROR CONDITION

	8291	TEST FOR A PERSISTANT "DTE" ERROR

	8346	TEST FOR A PERSISTANT WRITE LOCK ERROR CONDITION

	8396	CHECK FOR A PERSISTANT INVALID ADDRESS ERROR

	8450	CHECK FOR A PERSISTANT ADDRESS OVERFLOW ERROR

	8514	CHECK FOR A PERSISTANT HCRC ERROR

	8569	CHECK FOR A PERSISTANT HEADER COMPARE ERROR

	8624	CHECK FOR A PERSISTANT ECH ERROR

	8679	VERIFY THAT A PERSISTANT WRITE CLOCK FAIL ERROR DOESN'T EXIST

	8734	VERIFY THAT A PERSISTANT FORMAT ERROR DOES NOT EXIST

	8789	VERIFY THAT A PERSISTANT REG MOD REFUSED ERROR DOES NOT EXIST

	8843	VERIFY THAT A PERSISTANT ILLEGAL FUNCTION CONDITION DOES NOT EXIST

	8900	MISC. DATA TESTS OF REG-02

	9169	REG-02/REG-03 MUX TEST

	9195	TEST OPERATION OF COMPOSITE ERROR LOGIC

	9576	PARTIAL TEST OF DRIVE READY LOGIC

	9641	TEST FOR PROPER OPERATION OF HEAD LOAD SEQUENCE

	9803	TEST FOR PROPER OPERATION OF THE HEAD UNLOAD SEQUENCE

	9953	TEST OPERATION OF PACK ACKNOWLEDGE AND VOLUME VALID BITS

	10114	MISC READIN/VV/GO-BIT LOGIC TESTS
DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 5             
                                                                                                                           SEQ 0016

				 TABLE OF CONTENTS
				*******************


	10338	A BASIC MAINT MODE TEST

	10410	MISC. SEEK/GO/DRY TESTS

	10630	A MISC TEST OF THE CONTROL REGISTER

	10711	PARTIAL TESTING OF THE "PIP" BIT

	10848	ADDITIONAL OFFSET REGISTER CLEAR TEST

	10905	ADDITIONAL DESIRED CYLINDER ADDRESS REGISTER CLEAR TEST

	10964	ADDITIONAL DESIRED TRACK/SECT REGISTER RESET TEST

	11025	ADDITIONAL CONTROL REGISTER TEST

	11081	ILLEGAL FUNCTION TEST

	11191	REGISTER-05, REGISTER-07 MUX TESTS

	11292	SOME BASIC DRIVE TYPE REGISTER TESTS

	11401	DESIRED CYLINDER ADDRESS REGISTER TEST

	11456	A CURRENT CYLINDER ADDRESS REGISTER TEST

	11510	SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS

	13095	SECTOR CLOCK AND INDEX TEST

	13249	COMMAND DECODE AND PIP TEST

	13398	INVALID ADDRESS LOGIC TESTS

	14013	A SEEK CONTROL LOGIC TEST

	14122	A DATA TEST OF THE CURRENT CYLINDER ADDRESS REGISTER

	14257	PARTIAL TEST OF THE SUBTRACTOR LOGIC

	14355	RECALIBRATE TEST

	14424	A DCY RESET TEST
DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 6             
                                                                                                                           SEQ 0017

				 TABLE OF CONTENTS
				*******************


	14512	A TEST OF THE SUBTRACTOR LOGIC

	14623	SOME SEEK TESTS

	15078	A "NOP" TEST

	15148	AN OPI TEST

	15245	RMR TESTS

	15406	SEARCH TESTS

	15916	WRITE LOCK SWITCH TEST

	16027	UNLOAD/STANBY TEST

	16185	OPERATION OF THE OFFSET COMMAND

	16269	RETURN TO CENTERLINE TEST

	16346	FUNCTIONAL OPERATION OF OFFSET LOGIC

	16465	SEEK WHILE IN OFFSET MODE

	16558	ATTENTION LOGIC TESTS

	17340	DATA TRANSFER TESTS

	17652	BASIC FORMAT AND "WRITE" DATA PATH TESTS

	17942	WRITE DATA PATH TEST

	18190	PARITY NETWORK TESTS DURING A WRITE

	18587	TEST "DTE" ERROR LOGIC

	18670	MAINT MODE READ TESTS TO VERIFY OPERATION OF HEADER LOGIC

	19302	VERIFY READ DATA PATH OVER THE DATA BUS

	19523	READ DATA PATH PARITY NETWORK TEST

	19695	ADDITIONAL ATTENTION LOGIC TESTS
DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 7             
                                                                                                                           SEQ 0018

				 TABLE OF CONTENTS
				*******************


	19807	CHECK THE GENERATION OF THE ECC FIELD

	20056	HEAD SELECTION TEST

	20175	DISK ADDRESS LOGIC TESTS

	20566	FULL SPEED READ HEADER AND DATA

	21006	FULL SPEED WRITE READ TEST

	21345	OPERATOR TEST OF LOGICAL ADDR PLUG FUNCTION

	21511	DUAL PORT SUBTESTS

	22899	RH11 SUBTESTS

	23608	RP06 HEAD ALIGNMENT VERIFICATION TEST

	24207	SOME STATUS CHECK ROUTINES

	24408	MAINTENANCE MODE ROUTINES

	24609	OPERATION CONTROL ROUTINES

	25102	DEVICE I/O WAIT ROUTINE

	25168	UTILITIES TO AID IN MAINT MODE TESTING

	25527	DUAL PORT TEST UTILITY ROUTINES

	25945	REGISTER SNAPSHOT AND DUMP ROUTINES

	26531	USER MODE UUO SUPPORT ROUTINES

	26593	CPU BAD MEMORY DATA (BMD) ERROR SERVICE

	26746	KS10/RH11 RP05/06/RM03 CONFIGURATOR

	27174	DEVICE SELECTION AND PROGRAM TRACE ROUTINES

	27415	CONTROLLER INITIALIZATION ROUTINE

	27446	CONTROL BUS TIMEOUT ERROR HANDLER
DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 8             
                                                                                                                           SEQ 0019

				 TABLE OF CONTENTS
				*******************


	27539	TEST DISPATCH ROUTINE

	27657	DUAL PORT CONTROLLER DISPATCHER

	27861	SOME TTY INPUT UTILITY ROUTINES

	27975	GENERAL PRINT UTILITIES

	28367	SCOPE LOOPING AND ERROR REPORTING ROUTINE

	28766	MASSBUS CONTROLLER UTILITY PKG

	28858	UNIBUS ADAPTER STATUS REG ROUTINES

	28929	UNIBUS ADAPTER STATUS REG + RAM PRINT ROUTINES

	29062	REGISTER PRINT ROUTINES

	29206	REG PRINTER LOOKUP TABLES

	29468	REGISTER BYTE INFORMATION PRINTERS

	29760	ADDITIONAL PRINT UTILITIES

	29951	*STOR* RESERVED STORAGE, MARCH 1978

	29969	PROGRAM STORE FILE

	29985	 FLOATING PATTERNS FOR CONTROL BUS TESTING

	30207	MISC. STORAGE AREA

	30254	MODULE CALLOUT MESSAGES

	30495	THE STANDARD MAINT MODE WRITE BUFFER DATA

	30540	BUFFER AREA
DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 9             
                                                                                                                           SEQ 0020
		1	MAINDEC-10-DSRPA

		12	COPYRIGHT (C) 1978,1979

		14	DIGITAL EQUIPMENT CORPORATION, MARLBORO MASS.

		16	AUTHOR:		JOHN R. KIRCHOFF
			MAINTAINER:	PDP-10 DIAGNOSTIC ENGINEERING

		19	ASSEMBLE AS FOLLOWS:
			DSRPAT.MAC,PARAM.KSM,FIXED.KSM,DSRPA1.MAC,DSRPA2.MAC,DSRPA3.MAC,
			DSRPA4.MAC,DSRPA5.MAC,DSRPA6.MAC,STOR.KSM,DSRPA7.MAC

		*****************************************************************
	29	PROGRAM PARAMETERS
		*****************************************************************

		34	DEVICE RELATED ASSEMBLY SWITCHES

		44	SUBROUTINE PACKAGE ASSEMBLY SWITCHES

		55	FATAL BLOCK PRINTER

		72	SOME PROGRAM ADDRESS OPTIONS AND PARAMETERS

		*****************************************************************
	93	ACCUMULATOR AND UUO DEFINITIONS
		*****************************************************************

		96	SOME ACCUMULATOR DEFINITIONS

		112	 SYMBOLS TO BE KNOWN TO DDT AFTER XPUNGE COMMAND

		125	HERE ARE THE PROGRAM UUO DEFINITIONS

		*****************************************************************
	136	PROGRAM MACRO DEFINITIONS
		*****************************************************************

		139	MACRO DEFINITIONS

		143	THE BOX MACRO IS USED IN THE SOURCE CODE TO FACILITATE
			DOCUMENTATION OF GENERAL PURPOSE SUBROUTINES USED IN
			THE PROGRAM. IT TAKES 2 TEXT ARGUMENTS. ITS USE: .....
			 	XLIST
			BOX	<THIS TEXT GOES BETWEEN THE STARS>,<
			THIS TEXT IS PUT IN AS COMMENTS AND IS USED TO DESCRIBE THE
			SUBROUTINE FUNCTIONS, CALLS, ETC. >

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 10            
                                                                                                                           SEQ 0021
		157	TEXTA

		161	TEXTB

		169		THE NEWTST MACRO IS USED IN THE SOURCE CODE
				TO DOCUMENT THE ACTUAL MAINLINE DIAGNOSTIC TEXT. IT TAKES
				3 TEXT ARGUMENTS. ITS USE: ......
			
			 	XLIST
				NEWTST	<THIS TEXT GOES BETWEEN THE STARS>,<
				THIS TEXT BECOMES THE TEST DESCRIPTION >,<
				THIS TEXT PROVIDES ADDITIONAL TROUBLESHOOTING AIDS. >

		184	PA

		188	
				TEST DESCRIPTION
				---------------- PB
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- PC

		*****************************************************************
	197	DESCRIPTION OF SENSE SWITCH OPTIONS
		*****************************************************************

		202	SW00-SW17 OPERATIONAL DESCRIPTION

		206	
			THESE SWITCHES, IF USED BY THE PROGRAM, PERFORM
			THE FOLLOWING FUNCTIONS:
			
				400000	IF SET: ABORT PGM AT THE END OF THIS PASS
				200000	NOT USED
				100000	NOT USED
			
				040000	INHIBIT ALL BUT FORCED PRINTOUTS
				020000	OUTPUT TO LPT (OR LOGICAL DEVICE IN USER MODE)
				010000	RING THE BELL ON ERROR (THIS IS FORCED)
			
				004000	IF SET: LOOP ON FIRST OCCURANCE OF ERROR
				002000	HALT ON ERROR (SWITCH IGNORED IF IN USER MODE)
				001000	IF SET: PRINT ALL REPETITIONS OF AN ERROR.
					IF RESET: PRINT ONLY FIRST OCCURANCE.
			
				000400	IF SET: RUN FULL DIAG. (ELSE:- DO QUICK VERIFY)
				000200	IF SET: USE ABBREVIATED PRINTOUTS WHERE POSSIBLE
				000100	NOT USED
			
				000040	IF SET: REQUEST UNIBUS AND RH-11 PARAMETERS
				000020	IF SET: INHIBIT OPERATION OF THE CACHE (* SEE NOTE *)
				000010	OPERATOR SELECTED TESTS
			
				000004	IF SET: SELECT CHAIN MODE FOR DIAGNOSTIC MONITORS.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 11            
                                                                                                                           SEQ 0022
				000002	NOT USED
				000001	NOT USED  
			
				*NOTE*
				EXAMINATION OF THIS SWITCH TAKES PLACE ONLY ONCE. IMMEDIATELY
				FOLLOWING THE INITIAL LOAD OF THE DIAGNOSTIC INTO CORE FROM
				ITS STORAGE MEDIA. THE CACHE OPTION IS SELECTED ONLY DURING
				THE VERY FIRST PROGRAM INITIALIZATION CYCLE. ATTEMPTING TO
				ALTER THE STATE OF THE SWITCH FROM THAT POINT ON WILL HAVE 
				NO EFFECT

		249	SW18-SW35 OPERATIONAL DESCRIPTION

		253	
			IN THIS DIAGNOSTIC, THE RIGHT HAND SWITCHES PERFORM
			THE FOLLOWING FUNCTIONS:
			
				400000	TRACE PGM PROGRESS (TEST BY TEST USING FORCED PRINTOUTS)
				200000	DO EXPANDED MODULE CALLOUTS IF NOT IN TXTINH MODE
				100000	NOT USED
			
				040000	RUN THE DUAL PORT TEST
				020000	RUN THE HEAD ALIGNMENT TEST
				010000	NOT USED
			
				004000	NOT USED
				002000	PAUSE UNTIL THIS SWITCH IS RESET
				001000	RUN THE TEST SPECIFIED IN SWITCHES 27-35
			
				SWITCHES 27-35 SPECIFY THE TEST # FOR LOOPING WHEN SWITCH
					26 IS SET.

		276	TABLE CONTROL BIT DEFINITIONS FOR THE SCOPE UUO

		*****************************************************************
	291	CONSOLE DATA SWITCH ASSIGNMENTS, MARCH 1978
		*****************************************************************

		296	DATA SWITCHES
			LEFT HALF SWITCHES ARE PRE-ASSIGNED FOR SUBROUTINE PACKAGE USE
			AND CONTROL LOOPING, PRINTING (TTY OR OTHER DEVICE) AND MISC. FUNCTIONS

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 12            
                                                                                                                           SEQ 0023
		*****************************************************************
	326	PROGRAM/SUBROUTINE PARAMETERS
		*****************************************************************

		329	SPECIAL SUBPROGRAM LINKAGES

		340	SPECIAL SUBROUTINE FATAL HALTS
			USED TO REPORT ERRORS THAT CAUSE THE SUBROUTINES TO BE UNUSABLE

		372	SUBROUTINE INITIALIZATION CALL

		378	HALTING UUO'S (A MORE GRACEFUL HALT THAN SIMPLY USING THE HALT INSTRUCTION).

		385	TERMINAL INPUT UUO'S
			ALWAYS COME FROM THE CONSOLE TERMINAL IN EXEC MODE OR THE
			CONTROLLING TERMINAL (REAL TERMINAL OR PTY) IN USER MODE.

		401	TERMINAL OUTPUT UUO'S.

		467	SIXBTZ -- MACRO TO GENERATE SIXBIT DATA FOR PRINTING
				CONSERVES CORE OVER ASCIZ

		472	CONSOLE SWITCH INPUT UUO.
			READS CONSOLE SWITCHES IF IN EXEC MODE OR ASKS FOR THEM IF
			 USER MODE.

		478	CLOCK INITIALIZATION UUO - TO SET DESIRED CLOCK OPERATION
			EITHER IGNORE CLOCK, ONLY LET IT TICK OR CAUSE INTERRUPT TO OCCUR.

		484	KS-10 CACHE OPERATION UUO'S

		489	END OF PASS/PROGRAM UUOS

		492	DECREMENT ITERATION COUNT, CHECK IF FINISHED WITH THIS PROGRAM ETC.

		497	MEMORY MANAGEMENT UUO'S
			UUO'S TO PERFORM VARIOUS MEMORY FUNCTIONS. MAPPING, ZEROING, PAGING,
			ADDRESS CONVERSION, ETC...

		509	DEVICE CODE MODIFICATION UUO
			ALLOWS THE MODIFICATION OF IOT'S TO ONE DEVICE TO BE CHANGED TO
			IOT'S TO A DIFFERENT DEVICE CODE.

		519	"DIAMON" FILE SELECTION AND READ UUOS

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 13            
                                                                                                                           SEQ 0024
		*****************************************************************
	528	*FIXED* FIXED CONTROL AND DISPATCH STORAGE, MARCH 1978
		*****************************************************************

		533	PROGRAM STARTING ADDRESSES
			THESE ADDRESSES CALL VARIOUS SPECIAL START ROUTINES AND OR OPTIONS
			NORMAL START ADDRESS IS 30000 ALL OTHERS ARE SPECIAL. INVOKED BECAUSE
			OF END OF PASS, POWER FAILURE, DDT START, RE-ENTERING(TYPICALLY USER
			MODE), OR ANY NUMBER OF SPECIAL FEATURE TESTS.

		566	PROGRAM FIXED PARAMETER AREA

		586	PROGRAM VARIABLE PARAMETER AREA

		606	SPECIAL PROGRAM DISPATCH ADDRESSES

		637	PROCESSOR CONTROL STORAGE

		657	UUO DISPATCH TABLE

		677	MEMORY MANAGMENT STORAGE

		687	PRINT CONTROL STORAGE

		710	THE FOLLOWING MISCELLANEOUS PRINT CHARACTERS ARE INCLUDED
			TO FACILITATE PRINTING AND ARE CALLED AS FOLLOWS:
				MOVEI	NAME
				PNTA		;OR PNTAF

		741	USER MODE OUTPUT FILE INFORMATION

		750	DISK UPDATE MODE FILE INFORMATION

		758	PUSHDOWN LIST CONTROL INFORMATION

		766	POWER LINE CLOCK FREQUENCY FLAG

		772	KL10 CACHE CONTROL FLAGS

		779	NUMBER INPUT DIGIT FLAG

		785	KL10 & KI10 "INHPAG" SWITCH PAGING PREVENTION

		791	ERROR REPORTING ROUTINE ADDITIONAL USERS CONTROL INSTRUCTIONS

		799	SPECIAL USERS UUO INTERCEPT INSTRUCTION

		804	USER MODE MONITOR TYPE FLAG

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 14            
                                                                                                                           SEQ 0025
		810	SPECIAL USERS MUUO INTERCEPT INSTRUCTION

		816	SPECIAL USERS USER MODE OUTPUT ERROR INTERCEPT INSTUCTION

		822	"SWITCH" CALL USAGE CONTROL

		828	SPECIAL USERS ALTMODE SWITCH CALL INTERCEPT INSTRUCTIONS

		835	SM10 (KS-10) PROCESSOR TYPE FLAG

		841	RIGHT HALF SWITCHES PROMPT TABLE ADDRESS

		847	SPECIAL FUTURE EXPANSION ROOM

		851	END OF FIXED STORAGE

		*****************************************************************
	856	KS10-RH11/MASSBUS DEVICE BIT ASSIGNMENTS
		*****************************************************************

		859	RH11/MASSBUSS DEVICE REGISTER BIT ASSIGNMENTS 

		888	MASSBUSS DEVICE CONTROL REGISTER BIT ASSIGNMENTS (RHCS1 REG-00)

		907	MOVING HEAD DISK FUNCTION SET
			(FUNCTIONS INCLUDE THE "GO" BIT AND INTR ENABLE BIT IN RHCS1)

		930	RH11 CONTROL STATUS REG TWO (RHCS2)

		948	MASSBUSS DEVICE STATUS REGISTER BIT ASSIGNMENTS (DRSR REG-01)

		966	BIT ASSIGNMENTS FOR MASSBUSS DEVICE ERROR REGISTER #1 (DRER1 REG-02)

		986	BIT ASSIGNMENTS FOR MASSBUSS DEVICE ATTENTION SUMMARY REGISTER (DRAS REG-04)

		999	BIT ASSIGNMENTS FOR MASSBUSS DEVICES DESIRED TRACK SECTOR REGISTER (DRDTS REG-05)

		1006	BIT ASSIGNMENTS FOR MASSBUSS DEVICE DRIVE TYPE REGISTER (DRDT REG-06)

		1030	BIT ASSIGNMENTS FOR MASSBUSS DEVICES TRACK/SECT LOOK AHEAD REGISTER (DRLA REG-07)

		1041	BIT ASSIGNMENTS FOR MASSBUSS DEVICE SERIAL NUMBER REGISTER (DRSN REG-10)

		1052	BIT ASSIGNMENTS FOR THE MASSBUSS DEVICE DRIVE OFFSET REGISTER (DROF REG-11)

		1069	BIT ASSIGNMENTS FOR THE MASSBUSS DEVICE DESIRED CYLINDER REGISTER (DRDCY REG-12)

		1075	BIT ASSIGNMENTS FOR THE MASSBUSS DEVICE CURRENT CYLINDER REGISTER (DRCCY REG-13)

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 15            
                                                                                                                           SEQ 0026
		1081	BIT ASSIGNMENTS FOR MASSBUSS DEVICE ERROR REGISTER #2 (DRER2 REG-14)

		1100	BIT ASSIGNMENTS FOR MASSBUSS DEVICES ERROR REGISTER #3 (DRER3 REG-15)

		1115	BIT ASSIGNMENTS FOR ERROR REG 2 IN THE RMO3 (RMER2)

		1128	BIT ASSIGNMENTS FOR MASSBUSS DEVICE ECC POSITION REGISTER (DREC1 REG-16)

		1132	BIT ASSIGNMENTS FOR MASSBUSS DEVICE ECC PATTERN REG (DREC2 REG-17)

		*****************************************************************
	1134	UNIBUS ADAPTER BIT ASSIGNMENTS
		*****************************************************************

		1137	BIT ASSIGNMENTS FOR THE UBA STATUS REG

		1153	BIT ASSIGNMENTS FOR THE UBA PAGING RAM-WRITE OPERATION

		1163	BIT ASSIGNMENTS FOR THE UBA PAGING RAM-READ OPERATION

		1175	BIT ASSIGNMENTS FOR UBA MAINT REG

		*****************************************************************
	1181	 MAINLINE CODE
		*****************************************************************

		1188	THE PROGRAM TITLE MESSAGE

		1224	PROGRAM START AND RESTART CODE

		1270	RESTART WITH THE OPTION TO RECONFIGURE.

		1286	THIS IS A RESTART OR CONTINUE WITH NO RE-CONFIGURATION OPTION.

		*****************************************************************
	1309	DRIVE SELECTION TESTS
		*****************************************************************

		1314	TEST-1 DUAL DRIVE SELECTION

		1318	
				TEST DESCRIPTION
				---------------- 
			ALL DRIVES ON THE BUS ARE POWERED UP BUT THE DRIVE
			BEING TESTED.  THE DIAGNOSTIC WILL DO A BLIND READ OF
			DRIVE REGISTER #6 (THE DRIVE TYPE REGISTER) TO GUARANTEE
			THAT NO OTHER DRIVE ON THE MASSBUS RESPONDS TO THIS DRIVES
			DEVICE NUMBER. IF THE TEST IS UNSUCCESSFUL, THE
			DRIVE TYPE AND SERIAL NUMBER REGISTERS OF THE RESPONDING
			DEVICE ON THE BUS WILL BE PRINTED IN ORDER TO AID IN THE
			DEVICE ISOLATION.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 16            
                                                                                                                           SEQ 0027
			IN THIS PARTICULAR TEST, THE DRIVE BEING TESTED IS NOT
			THE FAULTY ONE AND IT IS NECESSARY TO DETERMINE WHICH DRIVE
			ON THE MASSBUS IS INCORRECTLY RESPONDING. BY SHUTTING THE 
			DRIVES OFF ONE AT A TIME UNTIL THE PROBLEM GOES AWAY. THAT
			ONE IS THE CULPRET AND IT IS HIS MODULES THAT NEED TO BE 
			REPLACED (PROVIDED IT IS AN RP06). IF THE DEVICE IS NOT AN RP06,
			IT IS SUGGESTED THAT YOU RUN THE DIAGNOSTIC FOR THAT DEVICE.
			THERE IS SOMTHING WRONG WITH THE DEVICE SELECTION LOGIC IN THAT 
			DRIVE. EITHER THE DEVICE SELECTION BITS ARE COMMING OVER ,OR
			(GETTING MODIFIED), INCORRECTLY OR THE LOGIC THAT LOOKS FOR 
			A MATCH BETWEEN DEVICE SELECTION BITS AND THE SELECTION SWITCH
			IS MALFUNCTIONING. ANOTHER REMOTE POSSIBILITY IS THAT THERE ARE
			TWO DRIVES ON THIS MASSBUS WITH THE SAME DRIVE NUMBER.  

		*****************************************************************
	1413	BASIC CONTROL BUS CONFIDENCE TESTS
		*****************************************************************

		1418	TEST-2 DEMAND/TRANSFER TEST

		1422	
				TEST DESCRIPTION
				---------------- 
			THE DRIVE BEING TESTED IS NOW POWERED UP. THE DIAGNOSTIC
			DOES A BLIND READ OF REGISTER #6 IN THE DRIVE (DRIVE TYPE)
			LOOKING ONLY FOR PROPER OPERATION OF DEMAND AND TRANSFER
			OVER THE MASSBUS. IMPROPER OPERATION WOULD RESULT IN A
			CONTROL BUS TIMEOUT. DATA AND PARITY ERRORS ARE IGNORED AT 
			THIS POINT IN THE TESTING.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
			1. DEMAND NOT GETTING OVER THE MASSBUS TO THE DRIVE (DP5).
			   POSSIBLY A FAULTY TRANSCEIVER (TC0,TF0) OR CABLE PROBLEM.
			2. HANDSHAKE TIMING CLOCK MALFUNCTIONING (DP3).
			3. MACHINE NOT GETTING SELECTED BECAUSE:
			   A. SELECT LINES NOT GETTING TO DRIVE PROPERLY (DP2). 
			      CHECK FOR TRANSCEIVER FAILURES (TC0,TF0) OR FAULTY
			      CABLING OR CONNECTOR PROBLEMS.
			   B. ADDRESS COMPARE LOGIC MALFUNCTION. CHECK LOGIC THAT
			      COMPARES THE DEVICE SELECTION BITS TO THE DEVICE
			      SELECTION SWITCH (DP2).
			   C. FAULTY PLUG ENABLE ON DP2
			4. HANDSHAKE LOGIC IS MALFUNCTIONING (DP3). TRANSFER IS NOT
			   BEING GENERATED IN THE DRIVE.
			5. TRANSFER IS NOT GETTING BACK OVER THE MASSBUS. LOOK
			   FOR FAULTY TRANSCEIVER MODULES (TC0,TF0) OR CABLE OR CONNECTOR
			   PROBLEMS.
			6. THE POWER MONITOR SIGNAL AT THE INPUT TO THE TRANSCEIVER
			   (TC0,TF0) CARRYING TRANSFER IS INCORRECT AND DISABELING THE TRANSCEIVER.
			   THIS WOULD INVOLVE CHECKING POWER SUPPLIES ETC. 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 17            
                                                                                                                           SEQ 0028
		1491	TEST-3 TEST FOR CONTROL BUS BITS STUCK ON ONE 

		1495	
				TEST DESCRIPTION
				---------------- 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

		1516	TEST-4 TRANSCEIVER ENABLE TEST

		1520	
				TEST DESCRIPTION
				---------------- 
				THIS TEST READS THE DRIVE TYPE REGISTER LOOKING FOR A LEGAL
				RP06 DEVICE TYPE. IT IS THE FIRST TIME 1'S & 0'S ARE READ.
				THIS TEST IS ACTUALLY TO GUARANTEE THAT THE TRANSCEIVERS
				ARE ENABLED DURING A CONTROL BUS READ CYCLE AND THAT THE
				CTOD (DIRECTION OF TRANSFER SIGNAL) IS NOT INCORRECT
				DURING THE CONTROL BUS READ CYCLE ALSO. IN GETTING THIS
				TEST OPERATIONAL, DRIVE TYPE REGISTER PROBLEMS ARE
				DEBUGGED AS A BY PRODUCT. THE PROGRAM READS THE DRIVE TYPE
				REGISTER. SUCCESSFUL OPERATION INDICATES THAT THE ENTIRE
				CONTROL BUS READ CYCLE IS OPERATIONAL. 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				EITHER A REGISTER SELECT PROBLEM OR A DATA PATH PROBLEM
				EXIST. POSSIBILITIES:
				1. REGISTER SELECT BITS NOT GETTING OVER MASSBUS TO THE
				   REGISTER SELECT INPUT MUX (DP5). REPLACE TRANSCEIVER
				   ACCORDING TO WHICH OF THE SELECT BITS ARE AT FAULT
				   AND WHICH PORT THE DRIVE IS ATTACHED TO.
				2. REGISTER SELECT INPUT MUX (DP4,DP5) PICKING/DROPPING BITS,
				   OR, PORT SELECTION LOGIC FAILURE. REPLACE THE DP BOARD.
				3. MALFUNCTION OF THE REGISTER DECODER (RG5) OR ITS CONTROL
				   LOGIC. LOOK FOR EITHER THE WRONG REGISTER BEING SELECTED
				   OR MULTIPLE REGISTER BEING SELECTED. REPLACE THE RG BOARD.
				4. MALFUNCTION OF THE DRIVE TYPE REGISTER MUX (EC8). SENDING
				   THE WRONG DATA TO THE ASSY REGISTER. REPLACE ECC BOARD.
				5. ASSY REGISTER INPUT STILL INCORRECT AFTER REPLACING THE
				   ECC BOARD IS AN INDICATION THAT SOME OTHER REGISTERS MUX
				   IS PUTTING DATA ON THE WIRED OR BUS. REPLACE ONE AT A
				   TIME UNTIL THE PROBLEM GOES AWAY. RG,DP,SS BOARDS.
				6. OUTPUT OF THE ASSEMBLY REGISTER IS INCORRECT AT THE WIRED-OR
				   BUS. SEVERAL TYPES OF FAILURES COULD EXIST.
				   A. HANDSHAKE TIMING IS INCORRECT (RG5). REPLACE THE RG BOARD.
				   B. THE ASSY REG (DP4) ENABLE CONDITIONS ARE INCORRECT. 
				      REPLACE THE DP BOARD TO ELIMINATE PORT SELECT PROBLEMS.
				      REPLACE TA0-PORT-A OR TD0-PORT-B TRANSCEIVER MODULE IF
				      CTOD IS INDICATING THE WRONG DIRECTION OF TRANSFER
				      BETWEEN THE CONTROLLER AND THE DRIVE.
				   C. ASSY REGISTER IS MALFUNCTIONING. REPLACE DP BOARD. 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 18            
                                                                                                                           SEQ 0029
		*****************************************************************
	1605	TEST FOR PROPER OPERATION OF CTRL BUS BITS C00-C06
		*****************************************************************

		1610	TEST-5 RESET/WRITE/READ 1'S TO REG-11 

		1614	
				TEST DESCRIPTION
				---------------- 
				MASTER RESET, THEN WRITE/READ/VERIFY 1'S FROM THE LOW ORDER
				7 BITS OF THE OFFSET REGISTER. THIS VERIFIES THAT THE RECEIVERS
				PASS 1'S. NOT YET SURE HOW THE 1'S GOT THERE, HOPEFULLY IT
				WAS BECAUSE OF THE WRITE 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				START AT STEP-10 TO SAVE TIME. IF IT FAILS, GO BACK TO
				STEP-1 WITHOUT REPLACING ANYTHING.
				1. CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				   SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE TRAN-
				   CEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				   (TA0,TB0,TD0,TE0).
				2. CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				   SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				   A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				3. CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				   INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				   BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				4. CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC ON
				   (DP4). IF CONTROL REG IS SELECTED, REPLACE THE RG-BOARD.
				5. CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC ON (DP2). IF
				   THE ATA REGISTER IS SELECTED, REPLACE THE DP BOARD.
				6. CHECK THE DATA AT THE OUTPUT OF THE RECEIVER FOR
				   THE FAILING BIT OR BITS. (C00-C05 ARE ON TA0 & TD0. C06
				   IS ON TB0 & TE0) IF FAULTY, REPLACE APPROPRIATE MODULE.
				7. CHECK THE DATA AT THE INPUT TO REG-11 (RG1). IF FAULTY,
				   REPLACE THE DP BOARD. SOMTHING IS WRONG WITH THE INPUT
				   DATA SELECT MUX LOGIC.
				8. CHECK THAT REG-11 IS BEING CLOCKED (RG1). SEVERAL THINGS
				   COULD CAUSE CLOCK FAILURE. REPLACE THE RG BOARD. THIS WILL
				   CATCH THEM ALL.
				9. CHECK THAT THE RESET LINE TO REG-11 (RG1) IS NOT STUCK
				   AND KEEPING THE FLOPS FROM BEING SET. IF FAULTY, REPLACE
				   THE RG BOARD. IF THE PROBLEM PERSISTS, REPLACE THE TRANS-
				   CEIVER CARD CARRYING MASS INIT (TA0 & TD0).
				10.CHECK THE OUTPUT OF THE REG-15 MUX (RG1). IF
				   FAULTY, REPLACE THE RG BOARD.
				11.CHECK THE OUTPUT OF THE ASSY REGISTER (DP4). IF FAULTY,
				   REPLACE THE DP BOARD.
				12.REPLACE THE TRANSMITTER CARRYING THE FAULTY BIT BACK OVER
				   THE MASSBUS. (C00-C05 ARE ON TA0 & TD0. C06 IS ON TB0
				   & TE0)  

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 19            
                                                                                                                           SEQ 0030
		1704	TEST-6 RESET/WRITE/READ 0'S TO REG-11 

		1708	
				TEST DESCRIPTION
				---------------- 
				WRITE 1'S IN BITS 0-6 OF REGISTER-11. THIS IS KNOWN TO WORK
				FROM TEST-5. RESET/WRITE 0'S/READ/VERIFY THAT BITS 0-6 HAVE
				GONE TO ZERO. WE ARE NOT SURE WETHER THE RESET OR THE WRITE
				CAUSED THE BITS TO GO TO ZERO BUT DO NOT CARE AT THIS POINT
				IN TIME 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				START AT STEP-11 TO SAVE TIME. IF IT FAILS, GO TO STEP-1
				WITHOUT REPLACING ANYTHING.
				1. CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				   SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE TRAN-
				   CEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				   (TA0,TB0,TD0,TE0).
				2. CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				   SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				   A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				3. CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				   INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				   BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				4. CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC ON
				   (DP4). IF CONTROL REG IS SELECTED, REPLACE THE RG-BOARD.
				5. CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC ON (DP2). IF
				   THE ATA REGISTER IS SELECTED, REPLACE THE DP BOARD.
				6. CHECK THE DATA AT THE RECEIVER OUTPUT FOR THE FAILING
				   BIT OR BITS. (C00-C05 ARE ON TA0 & TD0. C06 IS ON 
				   TB0 & TE0). IF FAULTY, REPLACE THE APPROPRIATE TRAN-
				   CEIVER MODULE.
				7. CHECK THE DATA AT THE INPUTS TO THE RG-11 FLOPS (RG1).
				   IF FAULTY, REPLACE THE DP BOARD. THERE IS A PORT PROBLEM
				   OR AN INPUT MUX PROBLEM.
				8. CHECK THAT REG-11 (RG1) IS BEING CLOCKED. IF NOT, REPLACE
				   THE RG BOARD. THIS COVERS THE REASONS CLOCK WOULD FAIL.
				9. CHECK THAT RESET IS GETTING TO THE CLEAR INPUT OF THE FAILING
				   FLOP OF REG-11 (RG1). IF IT IS, GO TO STEP-11.
				10.CHECK THAT MASS INIT IS GETTING THROUGH ITS MASSBUS
				   RECEIVER. IF NOT, REPLACE THE REVEIVER. (TA0 & TD0).
				11.CHECK DATA AT THE OUTPUT OF REG-11 MUX (RG1). IF FAULTY,
				   REPLACE THE DP BOARD.
				12.CHECK ONCE AGAIN, THE DATA AT THE OUTPUT OF THE REG-11
				   MUX (RG1). IF IT IS STILL INCORRECT, THERE IS MOST LIKELY
				   A FAULTY REGISTER MUX ELSEWHERE IN THE DCL. REPLACE
				   THE FOLLOWING BOARDS ONE AT A TIME. EC,SS,DP BOARDS.
				13.CHECK THE OUTPUT AT THE ASSY REGISTER (DP4). IF INCORRECT,
				   REPLACE THE DP BOARD.
				14.REPLACE THE TRANSCEIVER CARRYING THE FAULTY BIT BACK
				   OVER THE MASSBUS. (C00-05 ARE ON TA0 & TD0. C06 IS ON 
				   TB0 & TE0) 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 20            
                                                                                                                           SEQ 0031
		1809	TEST-7 RESET/WRITE 0'S/WRITE 1'S/READ/VERIFY REG-11 

		1813	
				TEST DESCRIPTION
				---------------- 
				THIS TEST IS JUST LIKE TEST-5 EXCEPT AT THIS POINT IN TIME WE
				ARE WRITING 1'S TO FLOPS THAT ARE GUARANTEED TO CONTAIN 0'S,
				THUS VERIFYING THAT TRANSMITTERS PASS 1'S, RESET NOT STUCK IN
				CLEAR DIRECTION, FLOPS ARE GETTING LOADED. 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				1. CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				   SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE TRAN-
				   CEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				   (TA0,TB0,TD0,TE0).
				2. CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				   SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				   A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				3. CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				   INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				   BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				4. CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC ON
				   (DP4). IF CONTROL REG IS SELECTED, REPLACE THE RG-BOARD.
				5. CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC ON (DP2). IF
				   THE ATA REGISTER IS SELECTED, REPLACE THE DP BOARD.
				6. CHECK THE DATA AT THE RECEIVER OUTPUT FOR THE FAULTY
				   BIT OR BITS. (C00-C05 ARE ON TA0 & TD0. C06 IS IN
				   TB0 & TE0). IF FAULTY, REPLACE APPROPRIATE TRANSCEIVER
				   MODULE.
				7. CHECK THE DATA AT THE INPUTS TO REG-11 FLOPS (RG1). IF
				   FAULTY, REPLACE THE DP BOARD. THERE IS A DUAL PORT 
				   PROBLEM OR AN INPUT MUX PROBLEM.
				8. CHECK THAT REG-11 IS GETTING CLOCKED. IF NOT, REPLACE
				   THE RG BOARD. THIS WILL COVER THE MANY FAULTS THAT COULD
				   CAUSE THE CLOCK TO MALFUNCTION.
				9. CHECK THAT THE RESET LINE TO RG-11 FLOPS (RG1) IS NOT STUCK
				   ANG KEEPING THE FLOPS FROM BEING SET. REPLACE THE
				   RG BOARD IF FAULTY.
				10.REPLACE THE RG BOARD. SOMTHING IS WRONG WITH REG-11 OR ITS
				   ASSOCIATED MUX LOGIC 

		1900	TEST-10 WRITE 1'S/WRITE 0'S/READ/VERIFY REG-11 

		1904	
				TEST DESCRIPTION
				---------------- 
				THIS TEST IS JUST LIKE TEST-6 EXCEPT AT THIS POINT IN TIME
				WE ARE GUARANTEED THAT THE FLOPS ARE ONE BEFORE WE WRITE
				THE 0'S, THUS VERIFYING THAT THE TRANSMITTERS PASS
				0'S TO THE FLOPS AND THE FLOPS ARE CLEARING VIA THE DATA
				INPUTS 
			
				RECOMMENDED DEBUG PROCEDURE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 21            
                                                                                                                           SEQ 0032
				--------------------------- 
				1. CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				   SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE TRAN-
				   CEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				   (TA0,TB0,TD0,TE0).
				2. CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				   SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				   A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				3. CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				   INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				   BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				4. CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC ON
				   (DP4). IF CONTROL REG IS SELECTED, REPLACE THE RG-BOARD.
				5. CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC ON (DP2). IF
				   THE ATA REGISTER IS SELECTED, REPLACE THE DP BOARD.
				6. CHECK THE DATA AT THE RECEIVER OUTPUT FOR THE FAILING BIT
				   OR BITS. (C00-C05 ARE ON TA0 & TD0. C06 IS ON TB0 & TE0)
				   IF FAULTY, REPLACE THE FAULTY TRANSCEIVER MODULE.
				7. CHECK THE DATA AT THE INPUTS TO  RG-11 FLOPS (RG1). IF
				   INCORRECT, REPLACE THE DP BOARD. THERE IS A PORT
				   SELECT PROBLEM OR AN INPUT MUX LOGIC PROBLEM
				8. REPLACE THE RG BOARD. SOMTHING WRONG WITH REG-11 OR ITS
			 	   ASSOCIATED MUX. 

		1984	TEST-11 WRITE 1'S/RESET/READ/VERIFY REG-11 

		1988	
				TEST DESCRIPTION
				---------------- 
				WRITES 1'S TO THE FLOPS, ISSUE A RESET (MASSBUS CLEAR) TO 
				VERIFY THAT THE RESET PULSE IS CLEARING THE PROPER BITS.
				THIS ALSO VERIFIES THAT THE RESET PULSE IS GETTING OVER
				THE MASSBUS TO THE DCL PROPERLY 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				1. CHECK FOR THE PRESENCE OF MASS INIT AT THE OUTPUT OF ITS
				   RECEIVER (TA0 & TD0). IF FAULTY, REPLACE THE APPROPRIATE
				   TRANSCEIVER MODULE.
				2. CHECK FOR THE PRESENCE OF "DP5 INIT AB  H" COMING
				   ONTO THE RG BOARD (RG4). IF INCORRECT, REPLACE THE DP BOARD.
				   THERE IS A PROBLEM WITH PORT SELECT OR THE INPUT MUX.
				3. FAULTY RG BOARD IS NOT GENERATING INIT TO DCL. 
				   REPLACE THE RG BOARD. 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 22            
                                                                                                                           SEQ 0033
		*****************************************************************
	2045	TEST FOR PROPER OPERATION OF CTRL BUS BITS C07-C13
		*****************************************************************

		2050	TEST-12 RESET/WRITE/READ/VERIFY 1'S TO REG-15 

		2054	
				TEST DESCRIPTION
				---------------- 
				MASTER RESET, THEN WRITE/READ/VERIFY 1'S TO REG-15 (ERR-3).
				THIS VERIFIES THAT THE RECEIVERS PASS 1'S. NOT YET SURE
				HOW THE 1'S GOT THERE BUT DON'T CARE AT THIS POINT IN
				THE TESTING SEQUENCE. HOPEFULLY THEY CAME FROM THE WRITE 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				START AT STEP-10 TO SAVE TIME, IF IT FAILS, GO BACK TO STEP-1
				WITHOUT REPLACING ANYTHING.
				 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
				     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				     (TA0, TB0, TD0, TE0).
				 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
				     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
				     IF THE ATA REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 6.  CHECK THE DATA OF THE RECEIVER. FOR THE FAILING BIT OR
				     BITS. (C07-C11 ARE ON TB0 & TE0. C12-13 ARE ON TC0 & TF0)
				     IF FAULTY, REPLACE THE APPROPRIATE MODULE.
				 7.  CHECK THE DATA AT THE INPUT TO REG-15 (EC7). IF FAULTY,
				     REPLACE THE DP BOARD. SOMETHING IS WRONG WITH THE INPUT
				     DATA SELECT MUX LOGIC.
				 8.  CHECK THAT REG-15 FLOPS (EC7) ARE GETTING CLOCKED. IF NOT,
				     REPLACE THE EC BOARD.
				 9.  CHECK THAT THE RESET LINE TO REG-15 (EC7) IS NOT STUCK
				     LOW. IF FAULTY, REPLACE THE EC BOARD.
				10.  CHECK THAT THE OUTPUT OF THE REG-15 MUX (EC8) IS CORRECT.
				     IF FAULTY, REPLACE THE EC BOARD.
				11.  CHECK THE OUTPUT OF THE ASSY REGISTER (DP4). IF FAULTY,
				     REPLACE THE DP BOARD.
				12.  REPLACE THE TRANSMITTED CARRYING THE FAULTY BIT BACK
				     OVER THE MASSBUS. (C07-C11 ARE ON TB0 & TE0. C12-C13
				     ARE ON TC0 & TF0)

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 23            
                                                                                                                           SEQ 0034
		2145	TEST-13 RESET/WRITE/READ 0'S TO REG-15

		2149	
				TEST DESCRIPTION
				---------------- 
				WRITE 1'S TO THE REGISTER. THIS IS KNOWN TO WORK FROM TEST -12.
				RESET/WRITE 0'S/READ/VERIFY THAT THE BITS WERE CLEARED. THIS
				VERIFIES THAT THE FLOPS AND RECEIVERS WORK WITH 0'S.
				NOT SURE WETHER THE RESET OR WRITE OF ZEROS CAUSED THE FLOP
				TO CLEAR, BUT DONT'T CARE AT THIS POINT IN THE TEST 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				START AT STEP-10 TO SAVE TIME. IF IT FAILS, GO TO STEP-1 WITHOUT
				REPLACING ANYTHING.
				 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
				     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				     (TA0, TB0, TD0, TE0).
				 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
				     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
				     IF THE ATA REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 6.  CHECK THE DATA AT THE RECEIVER OUTPUT FOR THE FAILING BITS.
				     (C07-C11 ARE ON TB0 & TE0. C12-C13 ARE ON TC0 & TF0). IF
				     FAULTY, REPLACE THE FAULTY TRANSCEIVER MODULE.
				 7.  CHECK THE DATA AT THE INPUTS TO THE RG-15 FLOPS (EC7).
				     IF FAULTY, REPLACE THE DP BOARD. THERE IS A PORT SELECT
				     PROBLEM OR INPUT MUX PROBLEM.
				 8.  CHECK THAT REG-15 (EC7) IS BEING CLOCKED. IF NOT, REPLACE
				     THE EC BOARD.
				 9.  CHECK THAT THE RESET IS GETTING TO THE CLEAR INPUT OF THE
				     FAILING FLOP OF REG-15 (EC7). IF NOT, REPLACE EC BOARD.
				10.  CHECK THE DATA AT THE OUTPUT OF THE REG-11 MUX (EC8).
				     IF FAULTY, REPLACE THE EC BOARD.
				11.  CHECK ONCE AGAIN, THE DATA AT THE OUTPUT OF THE REG-15
				     MUX ON (EC8). IF STILL INCORRECT, THERE IS MOST LIKELY A
				     FAULTY REGISTER MUX ELSEWHERE IN THE DCL. REPLACE THE
				     FOLLOWING BOARDS ONE AT A TIME. RG,SS,DP BOARDS.
				12.  CHECK THE OUTPUT OF THE ASSY REGISTER (DP4). IF INCORRECT,
				     REPLACE THE DP BOARD.
				13.  REPLACE THE TRANSMITTER CARRYING THE FAULTY BIT BACK
				     OVER THE MASSBUS. (C07-C11 ARE ON TB0 & TE0. C12-C13
				     ARE ON TC0 & TF0).

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 24            
                                                                                                                           SEQ 0035
		2252	TEST-14 RESET/WRITE 0'S/WRITE 1'S/READ/VERIFY REG-15 

		2256	
				TEST DESCRIPTION
				---------------- 
				THIS IS JUST LIKE TEST-12 EXCEPT AT THIS POINT IN TIME WE ARE
				WRITING 1'S TO FLOPS THAT ARE GUARANTEED TO CONTAIN 0'S, THUS
				VERIFYING THAT THE TRANSMITTERS ARE PASSING 1'S, RESET IS NOT
				STUCK IN THE CLEAR DIRECTION, FLOPS ARE LOADING VIA THERE DATA
				INPUTS 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
				     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				     (TA0, TB0, TD0, TE0).
				 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
				     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
				     IF THE ATA REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 6.  CHECK THE DATA AT THE OUTPUT OF THE RECEIVER FOR THE FAULTY
				     BIT. (C07-C11 ARE ON TB0 & TE0) IF FAULTY, REPLACE THE
				     FAULTY TRANSCEIVER MODULE.
				 7.  CHECK THE DATA AT THE INPUTS TO REG-15 FLOPS (EC7). IF
				     FAULTY, REPLACE THE DP BOARD. THERE IS A PORT SELECT PROBLEM
				     OR AN INPUT MUX PROBLEM.
				 8.  CHECK THAT THE REG-15 FLOPS (EC7) ARE BEING CLOCKED.
				     IF NOT, REPLACE THE EC BOARD.
				 9.  CHECK THAT THE RESET LINE TO THE REG-15 FLOPS (EC7) IT MAY
				     BE STUCK LOW. IF SO, REPLACE THE EC BOARD.
				10.  REPLACE THE EC BOARD. SOMETHING IS WRONG WITH REG-15
				     OR ITS ASSOCIATED MUX.

		2343	TEST-15 WRITE 1'S/WRITE 0'S/READ/VERIFY REG-15 

		2347	
				TEST DESCRIPTION
				---------------- 
				THIS TEST IS JUST LIKE TEST-13 EXCEPT AT THIS POINT IN TIME 
				WE ARE SURE THAT THE FLOPS ARE ONE WHEN WE WRITE THE 0'S,
				THUS VERIFYING THAT THE TRANSMITTERS PASS 0'S TO THE
				FLOPS AND THE FLOPS CLEAR VIA THE DATA INPUTS 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 25            
                                                                                                                           SEQ 0036
				 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
				     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				     (TA0, TB0, TD0, TE0).
				 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
				     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
				     IF THE ATA REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 6.  CHECK THE DATA AT THE RECEIVER OUTPUT FOR THE FAILURE
				     BIT OR BITS. (C07-C13 ARE ON THE TB0 & TE0. C12-C13 ARE ON
				     TC0 & TF0) IF INCORRECT, REPLACE APPROPRIATE MODULE.
				 7.  CHECK THE DATA AT THE INPUTS TO REG-15 FLOPS (EC7). IF
				     FAULTY, REPLACE THE DP BOARD. THERE IS A PORT SELECT PROBLEM
				     OR INPUT MUX PROBLEM.
				 8.  REPLACE THE EC BOARD. SOMETHING IS WRONG WITH REG-15 OR ITS
				     ASSOCIATED MUX.

		2430	TEST-16 WRITE 1'S/RESET/READ/VERIFY REG-15 

		2434	
				TEST DESCRIPTION
				---------------- 
				WRITE THE FLOPS WITH 1'S. ISSUE A RESET (MASSBUS CLEAR) AND
				VERIFY THAT THE FLOPS ARE CLEARED BY THE RESET 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				 1.  CHECK THAT "RG4 WAS RES L" IS COMING ONTO THE EC
				     BOARD (EC7) IF NOT, REPLACE RG BOARD. FAULTY GATE.
				 2.  SOMETHING WRONG WITH REG-15 RESET LOGIC. REPLACE EC BOARD.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 26            
                                                                                                                           SEQ 0037
		*****************************************************************
	2483	TEST FOR PROPER OPERATION OF CTRL BUS BITS C14-C15
		*****************************************************************

		2488	TEST-17 RESET/WRITE/READ/VERIFY 1'S TO REG-14 

		2492	
				TEST DESCRIPTION
				---------------- 
				MASTER RESET, THEN WRITE READ VERIFY 1'S FROM THE HIGH ORDER
				2 BITS OF REG-14 (ERR-2). THIS VERIFIES THAT THE RECEIVERS
				PASS 1'S. NOT YET SURE HOW THE 1'S GOT THERE. HOPEFULLY
				FROM THE WRITE. ITS NOT IMPORTANT TO KNOW HOW AT PRESENT 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				START AT STEP-10 TO SAVE TIME, IF IT FAILS, GO BACK TO STEP-1
				WITHOUT REPLACING ANYTHING.
				 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
				     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				     (TA0, TB0, TD0, TE0).
				 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
				     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
				     IF THE ATA REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 6.  CHECK THE OUTPUT OF THE RECEIVER FOR THE FAILING BIT OR BITS
				     (TC0 & TF0)
				 7.  CHECK THE DATA AT THE INPUT TO REG-14 FLOPS (EC6). IF FAULTY,
				     REPLACE THE DP BOARD. SOMETHING IS WRONG WITH TEH INPUT
				     DATA SELECT MUX LOGIC.
				 8.  CHECK THAT REG-14 FLOPS (EC6) ARE GETTING CLOCKED. IT NOT
				     REPLACE THE EC BOARD.
				 9.  CHECK THAT THE RESET LINE TO REG-14 (EC7) IS NOT STUCK
				     LOW. IF FAULTY, REPLACE THE EC BOARD.
				10.  CHECK THAT THE OUTPUT OF THE REG-14 MUX (EC8) IS CORRECT.
				     IF FAULTY, REPLACE THE EC BOARD.
				11.  CHECK THE OUTPUT OF THE ASSY REGISTER (DP4). IF FAULTY,
				     REPLACE THE DP BOARD.
				12.  REPLACE THE TRANSCEIVER MODULE (TC0 & TF0).

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 27            
                                                                                                                           SEQ 0038
		2578	TEST-20 RESET/WRITE/READ 0'S TO REG-14 

		2582	
				TEST DESCRIPTION
				---------------- 
				WRITE 1'S IN THE FLOPS. THIS IS KNOWN TO WORK FROM TEST-17.
				RESET/WRITE/READ/VERIFY THAT THE FLOPS ARE CLEARED. THIS
				VERIFIES THAT THE FLOPS AND RECEIVERS WORK WITH 0'S. NOT SURE
				WETHER THE RESET OR THE WRITE OF 0'S CAUSED THE FLOPS TO
				GO TO ZERO BUT IT DOESN'T MATTER AT THIS POINT IN TIME 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				START AT STEP-11 TO SAVE TIME. IF IT FAILS, GO TO STEP-1
				WITHOUT REPLACING ANYTHING.
				 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
				     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				     (TA0, TB0, TD0, TE0).
				 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
				     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
				     IF THE ATA REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 6.  CHECK THE DATA AT THE RECEIVER FOR THE FAILING BITS. (TC0 & TF0)
				     IF FAULTY, REPLACE THE TRANSCEIVER (TC0 OR TF0).
				 7.  CHECK THE DATA AT THE INPUTS TO THE REG-14 FLOPS (EC6).
				     IF FAULTY, REPLACE THE DP BOARD. THERE IS A PORT SELECT PROBLEM
				     OR INPUT MUX FAILURE.
				 8.  CHECK THAT REG-14 (EC6) IS BEING CLOCKED. IF NOT, REPLACE
				     THE EC BOARD.
				 9.  CHECK THAT THE RESET IS GETTING TO THE CLEAR INPUT OF THE
				     FAILING FLOP OF REG-14 (EC7). IF NOT, REPLACE THE EC BOARD.
				10.  CHECK THAT THE (EC6) 'MB0 AC UNSAFE H' IS NOT
				     HIGH. IF IT IS, REPLACE THE MB MODULE.
				11.  CHECK THE DATA AT THE OUTPUT OF THE REG-14 MUX (EC8).
				     IF FAULTY, REPLACE THE EC BOARD.
				12.  CHECK ONCE AGAIN, THE DATA AT THE OUTPUT OF THE REG-14
				     MUX (EC8). IF STILL INCORRECT, THERE IS MOST LIKELY A FAULTY
				     REGISTER MUX ELSEWHERE IN THE DCL. REPLACE THE FOLLOWING
				     BOARDS ONE AT A TIME. RG,SS,DP BOARDS.
				13.  CHECK THE OUTPUT OF THE ASSY REGISTER (DP4). IF FAULTY,
				     REPLACE THE DP BOARD.
				14.  REPLACE THE TRANSCEIVER (TC0 OR TF0).

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 28            
                                                                                                                           SEQ 0039
		2683	TEST-21 RESET/WRITE 0'S/WRITE 1'S/READ/VERIFY REG-14 

		2687	
				TEST DESCRIPTION
				---------------- 
				THIS TEST IS LIKE TEST-17 EXCEPT AT THIS POINT IN TIME WE ARE
				WRITING 1'S TO FLOPS THAT ARE GUARANTEED TO BE ZERO, THUS
				VERIFYING THAT THE TRANSMITTERS ARE PASSING 1'S, RESET IS NOT
				STUCK IN THE CLEAR STATE, FLOPS ARE GETTING LOADED
				VIA THEIR DATA INPUTS 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
				     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				     (TA0, TB0, TD0, TE0).
				 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
				     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
				     IF THE ATA REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 6.  CHECK THE DATA AT THE OUTPUT OF THE RECEIVER FOR THE
				     FAULTY BIT (TC0 & TF0). IF FAULTY, REPLACE THE TRANSCEIVER.
				 7.  CHECK THE DATA AT THE INPUTS TO REG-14 FLOPS (EC6). IF
				     INCORRECT, REPLACE THE DP BOARD. THERE IS A PORT SELECT OR
				     INPUT MUX PROBLEM.
				 8.  CHECK THAT REGISTER 14 FLOPS (EC6) ARE BEING CLOCKED.
				     IF NOT, REPLACE THE EC BOARD.
				 9.  CHECK THAT THE RESET LINE TO REG-14 FLOPS (EC6) IS NOT
				     STUCK LOW. IF IT IS, REPLACE EC BOARD.
				10.  REPLACE THE EC BOARD. SOMETHING IS WRONG WITH ITS REG-14
				     OR ASSOCIATED MUX.

		2773	TEST-22 WRITE 1'S/WRITE 0'S/READ/VERIFY REG-14 

		2777	
				TEST DESCRIPTION
				---------------- 
				THIS TEST IS JUST LIKE TEST-20 EXCEPT THAT AT THIS POINT IN 
				TIME, WE ARE GUARANTEED THAT THE FLOPS ARE ONE WHEN WE
				WRITE THE 0'S, THUS VERIFYING THAT THE TRANSMITTERS PASS
				0'S TO THE FLOPS AND THE FLOPS ARE CLEARING VIA THE DATA
				INPUTS 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 29            
                                                                                                                           SEQ 0040
				 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
				     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				     (TA0, TB0, TD0, TE0).
				 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
				     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
				     IF THE ATA REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 6.  CHECK THE DATA AT THE RECEIVER OUTPUT FOR THE FAILING BIT.
				     (TC0 & TF0). IF INCORRECT, REPLACE APPROPRIATE TRANSCEIVER.
				 7.  CHECK THE DATA AT THE INPUTS TO REG-14 FLOPS (EC7). IF FAULTY,
				     REPLACE THE DP BOARD. THERE IS A PORT SELECT OR INPUT DATA
				     MUX PROBLEM.
				 8.  REPLACE THE EC BOARD. SOMETHING IS WRONG WITH REG-14 OR
				     ITS ASSOCIATED MUX.

		2858	TEST-23 WRITE 1'S/RESET/READ/VERIFY REG-15 

		2862	
				TEST DESCRIPTION
				---------------- 
				WRITE 1'S TO THE FLOPS, ISSUE A RESET AND VERIFY THAT THE FLOPS
				ARE CLEARED BY THE RESET PULSE 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				FAULTY RESET LOGIC ON (EC6). REPLACE THE EC BOARD.

		*****************************************************************
	2909	TEST FOR PERSISTANT ERRORS IN REG-15 (ERR-3)
		*****************************************************************

		2914	TEST-24 TEST FOR PERSISTANT REG-15 BIT-15 ERROR 

		2918	
				TEST DESCRIPTION
				---------------- 
				MASTER RESET, READ AND VERIFY THAT BIT-15 IS NOT
				STUCK ON A ONE. THIS VERIFIES THAT WE DO NOT HAVE A PERSISTANT
				(OFF CYLINDER) ERROR THAT INVALIDATES FURTHER TESTING OF THE
				CONTROL BUSS 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				 1.  CHECK THE LEVEL AT (D02-15), IF IT IS HIGH,
				     THE PROBLEM IS A DCL PROBLEM.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 30            
                                                                                                                           SEQ 0041
		2969	TEST-25 TEST FOR PERSISTANT REG-15 BIT-14 ERROR 

		2973	
				TEST DESCRIPTION
				---------------- 
				MASTER RESET, READ AND VERIFY THAT BIT-14 IS NOT STUCK ON
				A ONE. THIS VERIFIES THAT WE DO NOT HAVE A PERSISTANT (SEEK
				INCOMPLETE) ERROR THAT INVALIDATES FURTHER TESTING OF THE
				CONTROL BUS 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		3025	TEST-26 TEST FOR PERSISTANT REG-15 BIT-06 ERROR 

		3029	
				TEST DESCRIPTION
				---------------- 
				MASTER RESET, READ AND VERIFY THAT BIT-06 IS NOT STUCK ON 
				A ONE. THIS VERIFIES THAT WE DO NOT HAVE A PERSISTANT (DC LOW)
				ERROR THAT INVALIDATES FURTHER TESTING OF THE CONTROL BUS 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		3076	TEST-27 TEST FOR PERSISTANT REG-15 BIT-05 ERROR 

		3080	
				TEST DESCRIPTION
				---------------- 
				MASTER RESET, READ AND VERIFY THAT BIT-05 IS NOT STUCK ON
				A ONE. THIS VERIFIES THAT WE DO NOT HAVE A PERSISTANT (DC-LOW)
				ERROR THAT INVALIDATES FURTHER TESTING OF THE CONTROL BUS 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		3127	TEST-30 TEST FOR PERSISTANT REG-15 BIT-04 ERROR 

		3131	
				TEST DESCRIPTION
				---------------- 
				MASTER RESET, READ AND VERIFY THAT BIT-04 IS NOT STUCK ON A 
				ONE. THIS VERIFIES THAT WE DO NOT HAVE A
				PERSISTANT (35VF) ERROR THAT INVALIDATES FURTHER TESTING
				OF THE CONTROL BUS 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				SOMTHING WRONG WITH 35V REGULATOR

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 31            
                                                                                                                           SEQ 0042
		3182	TEST-31 TEST FOR PERSISTANT REG-15 BIT-01 ERROR 

		3186	
				TEST DESCRIPTION
				---------------- 
				MASTER RESET, READ AND VERIFY THAT BIT-01 IS NOT STUCK ON
				A ONE INDICATING A PERSISTANT "WT-OFS" CONDITION
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		3234	TEST-32 TEST FOR PERSISTANT REG-15 BIT-00 ERROR 

		3238	
				TEST DESCRIPTION
				---------------- 
				MASTER RESET, READ AND VERIFY THAT BIT-00 IS NOT STUCK ON A 
				ONE. THIS VERIFIES THAT WE DO NOT HAVE A PERSISTANT
				(DC UNSAFE) ERROR THAT INVALIDATES FURTHER TESTING
				OF THE CONTROL BUS 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				DC UNSAFE CAN BE CAUSED BY MANY MALFUNCTIONS IN THE
				DRIVE. SUGGEST SCOPING BACK ON THE D02 MODULE
				TO DETERMINE WHICH PARTICULAR PROBLEM EXISTS

		3291	TEST-33 TEST FOR PERSISTANT REG-15 BIT-13 ERROR 

		3295	
				TEST DESCRIPTION
				---------------- 
				MASTER RESET, READ AND VERIFY THAT BIT-13 IS NOT STUCK ON
				A ONE. THIS VERIFIES THAT WE DO NOT HAVE A PERSISTANT
				"OPE" ERROR THAT INVALIDATES FURTHER TESTING
				OF THE CONTROL BUS 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 32            
                                                                                                                           SEQ 0043
		*****************************************************************
	3339	ADDITIONAL MISC. TESTING OF REG-15 (ERR-3)
		*****************************************************************

		3344	TEST-34 TEST THAT REG-15 CAN BE LOADED WITH 1'S 

		3348	
				TEST DESCRIPTION
				---------------- 
				MASTER CLEAR, WRITE 1'S/READ/VERIFY THAT ALL BITS IN THE
				REGISTER ARE SET. THIS MERELY CHECKS FLOPS IN THE REGISTER.
				ALL BITS ARE KNOWN TO CLEAR FROM PREVIOUS TESTS 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		3399	TEST-35 TEST THAT REG-15 CAN BE LOADED WITH 0'S 

		3403	
				TEST DESCRIPTION
				---------------- 
				WRITE 1'S/WRITE 0'S/READ/VERIFY THAT ALL REGISTER BITS ARE
				ZERO. THIS MERELY CHECKS THAT ALL FLOPS IN THE REGISTER
				CAN BE LOADED WITH 0'S. BITS ARE KNOWN TO SET FROM PREVIOUS
				TESTS 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		3461	TEST-36 SINGULARITY OF REG-15 BITS (FLOAT-1'S) 

		3465	
				TEST DESCRIPTION
				---------------- 
				FLOAT A ONE DOWN THE REGISTER TO GUARANTEE THAT NO BITS
				INTERFERE WITH ONE ANOTHER. BEFORE EACH ONE IS LOADED,
				THE REGISTER IS CLEARED 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				TESTS 36 AND 37 WILL FIND CROSS COUPLED DATA PATH BITS ON
				THE CONTROL BUS FOR THE FIRST TIME. IF REPLACING THE EC BOARD
				DOES NOT CURE THE FAULT, YOU WILL HAVE TO SCOPE THE DATA PATH.
				RUNNING TEST 37 MAY BE A BIG HELP AS IT MAY SHOW UP CERTIAN
				CROSS COUPLING CONDITIONS BETTER THAN THIS TEST. 

		3547	TEST-37 SINGULARITY OF REG-15 BITS (FLOAT 0'S) 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 33            
                                                                                                                           SEQ 0044
		3551	
				TEST DESCRIPTION
				---------------- 
				FLOATS A ZERO DOWN THE REGISTER TO GUARANTEE THAT NO BITS
				INTERFERE WITH ONE ANOTHER. BEFORE EACH BIT IS LOADED, THE
				REGISTER IS PRESET TO 1'S 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				IF REPLACING THE EC BOARD DOES NOT FIX THE PROBLEM, YOU
				PROBABLY HAVE A CROSS COUPLING OF CONTROL BUS DATA BITS AND
				WILL HAVE TO SCOPE THE DATA PATH TO FIND THE FAULT 

		3621	TEST-40 REG-15 DIRECT RESET TEST 

		3625	
				TEST DESCRIPTION
				---------------- 
				LOADS THE REGISTER WITH 1'S. MASTER CLEAR THE REGISTER
				(MASSBUS CLEAR) AND VERIFY THAT THE REGISTER IS IN FACT,
				CLEARED. MERELY TEATS ABILITY OF ALL FLOPS TO CLEAR 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		*****************************************************************
	3673	TESTING DRIVES CTRL BUS PARITY GENERATION LOGIC 
		*****************************************************************

		3678	TEST-41 TEST THAT PARITY NET CAN GENERATE A ONE 

		3682	
				TEST DESCRIPTION
				---------------- 
				REG-15 IS CLEARED WITH A MASTER RESET AND THEN READ OVER THE
				CONTROL BUS. THE PARITY BIT SHOULD BE A ONE SINCE THE DATA
				FIELD IS 0'S 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		3730	TEST-42 TEST THAT PARITY NET CAN GENERATE A ZERO 

		3734	
				TEST DESCRIPTION
				---------------- 
				A SINGLE BIT IS WRITTEN TO REG-15 (BIT-00). THE REGISTER
				IS THEN READ BACK OVER THE CONTROL BUS. VERIFY THAT THE
				PARITY BIT IS A ZERO SINCE THE DATA FIELD CONTAINES AN
				ODD NUMBER OF 1'S 
			
				RECOMMENDED DEBUG PROCEDURE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 34            
                                                                                                                           SEQ 0045
				--------------------------- 
				NONE.

		3787	TEST-43 TEST PARITY NET WITH VARIOUS PATTERNS 

		3791	
				TEST DESCRIPTION
				---------------- 
				LOAD AND READ A SERIES OF 7 PATTERNS OVER THE CONTROL
				BUS USING REG-15. THESE PATTERNS HAVE BEEN SELECTED TO 
				GUARANTEE THAT THE PARITY TREES THEMSELVES HAVE NO INTERNAL
				FAILURES THAT WILL CAUSE THEM TO MAKE A WRONG DECISION 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		*****************************************************************
	3857	REGISTER SELECTION TESTS
		*****************************************************************

		3862	TEST-45 RESET/READ/VERIFY C01 REG-2

		3866	
				TEST DESCRIPTION
				---------------- 
				MASTER RESET, READ AND VERIFY THAT THE (ILR) BIT IS NOT STUCK
				ON A 1. IT IS NECESSARY TO HAVE THE (ILR) BIR OPERATIONAL
				FOR FURTHER REGISTER SELECTION TESTS
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
				     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				     (TA0, TB0, TD0, TE0).
				 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
				     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
				     IF THE ATA REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 6.  CHECK THE OUTPUT OF THE C01 BIT AT THE REG-2 MUX (RG2). IF FAULTY,
				     REPLACE THE RG BOARD. RESET MUST NOT BE CLEARING THE FLOP.
				 7.  CHECK THE OUTPUT OF THE C01 BIT AT THE REG-2 MUX (RG2) AGAIN.
				     IF STILL INCORRECT, THERE IS PROBABLY A FAULTY MUX ELSE WHERE
				     FOLLOWING BOARDS ONE AT A TIME. EC,SS,DP.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 35            
                                                                                                                           SEQ 0046
		3939	TEST-46 WRITE/READ/VERIFY A 1 TO C01 REG-02

		3943	
				TEST DESCRIPTION
				---------------- 
				WRITES/READS AND VERIFIES THAT A 1 CAN BE WRITTEN TO THE (ILR)
				FLOP. C01 OF REGISTER 2
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
				     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				     (TA0, TB0, TD0, TE0).
				 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
				     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
				     IF THE ATA REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 6.  REPLACE THE RG BOARD. EITHER REG-2 IS NOT BEING CLOCKED,
				     OR WE HAVE A FAULTY REGISTER FLOP OR ASSOCIATED MUX.

		4012	TEST-47 WRITE A 1/RESET/READ/VERIFY C01 REG-2

		4016	
				TEST DESCRIPTION
				---------------- 
				THIS TEST IS JUST LIKE TEST 45 EXCEPT THT WE GUARANTEE
				THE FLOP IS SET WHEN THE RESET IS APPLIED
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		4066	TEST-50 WRITE A 1/WRITE A 0/READ VERIFY C01 REG-2/

		4070	
				TEST DESCRIPTION
				---------------- 
				THIS TEST INSURES THAT C01 REG-2 CAN BE CLEARED VIA ITS
				DATA INPUT
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 36            
                                                                                                                           SEQ 0047
		4122	TEST-51 SEE THAT READING REG'S 20-37 CAUSE ILR ERRORS

		4126	
				TEST DESCRIPTION
				---------------- 
				THIS TEST CAN NOT BE DONE ON A KS-10 WITH RH11 CONTROLLER
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		4150	TEST-52 SEE THAT READING REG'S 00-17 DOES NOT CAUSE ILR

		4154	
				TEST DESCRIPTION
				---------------- 
				ALTHOUGH ONLY "REG SEL 04" SEEMS IMPORTANT IN DETERMINING WETHER OR
				NOT AN ILLEGAL REGISTER IS SELECTED, TESTING ALL THE LEGAL REGISTERS
				MAY CATCH COUPLING BETWEEN THE REGISTER SELECT BITS.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
				     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				     (TA0, TB0, TD0, TE0).
				 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
				     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
				     IF THE ATA REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.

		4240	TEST-53 VERIFY OPERATION OF REG-00 C03

		4244	
				TEST DESCRIPTION
				---------------- 
				THIS TESTS GETS C03 CHECKED OUT ALONG WITH USING REG-00 FOR
				THE FIRST TIME WHICH WILL CHECK PART OF THE REGISTER SELECT LOGIC.
				FOUR DISCRETE SUBTESTS ARE TRIED.
				A.  WRITE/READ/VERIFY A 1 TO C03
				B.  WRITE A 1/WRITE A 0/READ/VERIFY C03
				C.  WRITE A 0/WRITE A 1/READ/VERIFY C03
				D.  WRITE A 1/RESET/READ/VERIFY THAT C03 DID NOT CLEAR
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 37            
                                                                                                                           SEQ 0048
				 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
				     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				     (TA0, TB0, TD0, TE0).
				 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
				     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
				     IF THE ATA REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 6.  REPLACE THE RG BOARD. THERE IS A FAULTY FLOP OR REG-00
				     MUX.

		4393	TEST-54 RESET/READ/VERIFY A ZERO IN C03 REG-02

		4397	
				TEST DESCRIPTION
				---------------- 
				IT IS NECESSARY TO GET THIS BIT WORKING IN ORDER TO DO SOME LATTER
				REGISTER TESTS. THIS IS A TRICKY BIT TO TEST SINCE IT IS THE
				PARITY ERROR DETECTION BIT AND WE ARE WRITING REGISTERS TO
				TEST THE BIT. THIS RESETS THE BIT AND VERIFIES THAT
				THE FLOP IS NOT STUCK ON A ONE.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				START AT STEP-6 TO SAVE TIME. IF IT PASSES, GO BACK TO STEP-1
				WITHOUT REPLACING ANYTHING.
				 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
				     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				     (TA0, TB0, TD0, TE0).
				 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
				     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
				     IF THE ATA REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 6.  CHECK THAT THE DIRECT SET TO THE PARITY FLOP (RG0) IS HIGH. IF
				     IT IS, REPLACE THE RG BOARD. THERE IS A FAULTY FLOP OR MUX
				     ASSOCIATED WITH THIS BIT.
				 7.  HERE BECAUSE DHE FLOP IS BEING FORCED SET. CHECK THAT SIGNAL

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 38            
                                                                                                                           SEQ 0049
				     "SN4 DATA PAR SET L" COMING ON TO (RG5) IS NOT LOW. IF IT IS,
				     WE HAVE A CONSTANT PARITY CONDITION COMING FROM THE DATA
				     BUS LOGIC. REPLACING THE SN BOARD WILL CURE PROBLEM.
				 8.  CHECK THE SIGNAL "DP4 ODD PARITY L" IS LOW, IF IT IS, REPLACE
				     THE RG BOARD. IT HAS A FAULTY GATE.
				 9.  CHECK THE OUTPUT OF THE MASSBUS RECEIVER CARRYING THE
				     PARITY BIT (TC0 OR TF0). IT SHOULD BE HIGH. IF IT IS NOT
				     REPLACE THE TRANSCEIVER CARD.
				10.  REPLACE THE DP BOARD, A FAULT EXISTS IN THE PARITY
				     CONTROL LOGIC.

		4481	TEST-55 RESET/WRITE 0/VERIFY C03 REG-02

		4485	
				TEST DESCRIPTION
				---------------- 
				WRITING 0'S TO REG-02 AND THEN CHECKING C03 INSURES THAT
				THE DRIVES PARITY DETECTION NETWORK IS NOT DETECTING A PARITY
				ERROR WHEN THE DRIVE RECEIVES A PARITY BIT OF ONE. (NOT YET
				SURE THAT THE PARITY ERROR FLOP CAN EVEN SET BUT IT DOESN'T
				MATTER AT THIS POINT IN THE TEST.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				 1.  CHECK THE OUTPUT OF THE PARITY FLOP C03 REG-02 (RG0). IT
				     SHOULD BE SET, INDICATING THAT THERE IS A PROBLEM WITH THE PARITY
				     DETECTION LOGIC.
				 2.  CHECK THE OUTPUT OF THE MASSBUS RECEIVER CARRYING THE PARITY BIT TO
				     THE DRIVE (TC0 OR TF0). IT SHOULD BE SET IF FAULTY, REPLACE THE
				     TRANSCEIVER MODULE.
				 3.  REPLACE THE DP BOARD. THERE IS A FAULT IN THE PARITY CONTROL
				     LOGIC ON (DP5). SHOULD HAVE CAUGHT THIS LONG AGO.

		4545	TEST-56 RESET/WRITE 1 TO C01 REG 02 /READ/VERIFY C03 REG-02

		4549	
				TEST DESCRIPTION
				---------------- 
				WRITING A SINGLE 1 TO C01 OF REG-02 AND VERIFYING THAT
				(THE PARITY BIT) C03 REG-02 DID NOT SET INSURES THAT THE
				DRIVES PARITY DETECTION NETWORK IS NOT DETECTING A PARITY
				ERROR WHEN THE DRIVE RECEIVES A PARITY BIT OF ZERO.
				(NOT YET SURE THAT THE PARITY FLOP CAN EVEN SET BUT IT DOESN'T
				MATTER AT THIS POINT IN THE TEST.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				 1.  CHECK THE OUTPUT OF THE MASSBUS RECEIVER CARRYING THE PARITY
				     BIT TO THE DRIVE (TC0,TF0) IT SHOULD BE LOW. IFFAULTY,
				     REPLACE THE TRANSCEIVER MODULE.
				 2.  REPLACE THE DP BOARD. THERE IS A FAULT IN THE PARITY
				     DETECTION LOGIC.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 39            
                                                                                                                           SEQ 0050
		4608	TEST-57 RESET/WRITE A 1/READ/VERIFY C03 REG-02

		4612	
				TEST DESCRIPTION
				---------------- 
				HAVE PROVEN THAT WRITING A SINGLE 1 DOES NOT CAUSE A PARITY
				ERROR. NOW RESET AND WRITE A 1 TO C03 REG-02 TO
				INSURE THAT THE FLOP CAN BE SET.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				 1.  CHECK THE OUTPUT OF THE PARITY FLOP. C03 REG-02 (RG0).
				     IT SHOULD BE SET. IF NOT, REPLACE THE RG BOARD. THERE
				     IS A BAD FLOP OR REGISTER MUX FOR C03 REG-02.

		4663	TEST-60 RESET/WRITE A 1/WRITE A 0/READ/VERIFY C03 REG-02

		4667	
				TEST DESCRIPTION
				---------------- 
				THIS TEST INSURES THAT THE C03 REG-02 BIT CAN TRANSITION FROM
				THE 1 TO 0 STATE. (CAN BE CLEARED BY WRITING A ZERO).
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				FAULTY REGISTER OR MUX FOR THIS BIT. REPLACE THE RG BOARD.

		4719	TEST-61 RESET/WRITE A 1/RESET/READ/VERIFY C03 REG-02

		4723	
				TEST DESCRIPTION
				---------------- 
				THIS TEST INSURES THAT THE C03 FLOP CLEARS WITH DIRECT RESET
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				FAULTY REGISTER FLOP OR MUX FOR THIS BIT. REPLACE THE RG BOARD.

		4772	TEST-62 CAUSE A PARITY ERROR. SEE IF IT'S DETECTED

		4776	
				TEST DESCRIPTION
				---------------- 
				THIS TESTS THE PARITY DETECTION LOGIC BY HAVING THE CONTROLLER
				WRITE THE REGISTER WITH INCORRECT PARITY. C03 REG-02 SHOULD
				SET SINCE IT IS THE PARITY ERROR FLOP.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				THERE IS A FAULTY C03 FLOP (RG0) OR PARITY GATING (RG5).
				REPLACE THE RG BOARD.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 40            
                                                                                                                           SEQ 0051
		*****************************************************************
	4826	VERIFY THAT GO BIT IS NOT STUCK ON A 1
		*****************************************************************

		4831	TEST-63 GUARANTEE THAT GO BIT C00 REG-00 NOT STUCK 

		4835	
				TEST DESCRIPTION
				---------------- 
				MASTER RESET,READ,VERIFY THAT THE GO BIT IS NOT STUCK AT 1.
				THIS IS A NECESSARY PREREQUISITE FOR TESTING C03 IN REG-03
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
				     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				     (TA0, TB0, TD0, TE0).
				 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
				     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
				     IF THE ATA REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 6.  FAULTY GO BIT FLOP OR RESET LOGIC. REPLACE THE RG BOARD.

		4898	TEST-64 VERIFY OPERATION OF C00 REG-03

		4902	
				TEST DESCRIPTION
				---------------- 
				TESTING THIS BIT IS A PRE-REQUISITE TEST FOR TESTING C03 REG-03.
				THIS BIT (C00 REG-03) IS THE DIAGNOSTIC MAIN. MODE BIT. IT MUST BE
				OPERATIONAL BEFORE OTHER BITS IN THE MAINT REGISTER CAN BE
				TESTED. A GROUP OF 4 TESTS ARE PERFORMED TO VERIFY OPERATION
				OF THIS BIT.
				A.  WRITE A 1/READ/VERIFY	C00 IS A SET
				B.  WRITE A 1/WRITE A 0/READ/VERIFY  C00 IS CLEAR
				C.  WRITE A 0/WRITE A 1/READ/VERIFY  C00 IS SET
				D.  WRITE A 1/RESET/READ/VERIFY	C00 IS CLEAR  
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				MOST LIKELY THE FAULT IS ON THE RG BOARD SINCE ALL THE LOGIC
				FOR THE C00 REG-03 BIT IS CONTAINED ON (RG6) AND (RG2). IF
				REPLACING THE RG BOARD DOES NOT SOLVE THE PROBLEM, IT
				IS LIKELY THAT A REGISTER SELECT PROBLEM HAS SHOWN UP SINCE
				THIS IS FIRST TIME REG-03 HAS BEEN USED. THE FOLLOWING

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 41            
                                                                                                                           SEQ 0052
				PROCEDURE WILL FIND THE PROBLEM.
				 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
				     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				     (TA0, TB0, TD0, TE0).
				 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
				     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
				     IF THE ATA REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.

		5055	TEST-65 RESET/WRITE 1'S/READ/VERIFY C01-C04

		5059	
				TEST DESCRIPTION
				---------------- 
				THIS TEST WILL CATCH REGISTER SELECT FAILURES BECAUSE WRITING C01-C04
				SHOULD NOT CAUSE ANY BITS TO SET SINCE THE DIAGNOSTIC BIT IS CLEAR.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
				     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				     (TA0, TB0, TD0, TE0).
				 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
				     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
				     IF THE ATA REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 6.  THERE IS A PROBLEM WITH THE REG-03 LOGIC. THE MUX IS BAD
				     OR THE FLOPS ARE IGNORING THE RESET INPUT. REPLACE
				     THE RG BOARD.

		5129	TEST-66 VERIFY COMPLETE OPERATION OF C01-C04 REG-03

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 42            
                                                                                                                           SEQ 0053
		5133	
				TEST DESCRIPTION
				---------------- 
				THE 4 SUBTESTS CHECK COMPLETE OPERATION OF C01-C04 OF REG-03,
				IN CONJUNCTION WITH THE MAINT MODE BIT C00 REG-03.
				A.  SET M-M BIT (M-M = MAINT MODE BIT C00)
				    WRITE 1'S TO C01-C04/READ/VERIFY
				B.  SET M-M BIT
				    WRITE 0'S TO C01-C04/READ/VERIFY
				C.  SET M-M BIT
				    WRITE 0'S/WRITE 1'S/READ/VERIFY C01-C04
				D.  SET M-M BIT
				    WRITE 1'S/RESET/READ/VERIFY C01-C04
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		*****************************************************************
	5271	TEST PARTIAL OPERATION OF C03 REG-05
		*****************************************************************

		5276	TEST-67 PARTIAL TEST OF C03 REG-05

		5280	
				TEST DESCRIPTION
				---------------- 
				THIS TEST IS ESSENTIALLY TO GET C03 REG-05 READABLE AND WRITEABLE
				SO THE BIT CAN BE USED LATER IN REGISTER SELECTION TESTS. THE
				RESET TEST FOR THIS FLOP WILL BE DONE LATER. THIS TEST COULD
				TURN UP REGISTER SELECT PROBLEMS SINCE THIS IS THE FIRST TIME
				WE ARE ADDRESSING REGISTER 05. THIS TEST IS COMPRISED OF THE
				FOLLOWING 3 SUBTESTS.
				A.  WRITE A 1/READ/VERIFY	C03
				B.  WRITE A 1/WRITE A 0/READ/VERIFY	C03
				C.  WRITE A 0/WRITE A 1/READ/VERIFY	C03	
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				START AT STEP-6 TO SAVE TIME. IF IT FAILS, GO BACK TO STEP-1
				WITHOUT REPLACING ANYTHING.
				 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
				     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				     (TA0, TB0, TD0, TE0).
				 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
				     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 43            
                                                                                                                           SEQ 0054
				 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
				     IF THE ATA REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 6.  CHECK THE OUTPUT OF THE C03 FLOP (SS3) IF CORRECT, REPLACE
				     THE SS BOARD. THERE IS A FAULTY MUX (SS6)
				 7.  REPLACE THE SS BOARD. THE FLOP IS BEING HELD. RESET OR IS
				     NOT GETTING CLOCKED.

		*****************************************************************
	5406	TEST PARTIAL OPERATION OF C03 REG-12
		*****************************************************************

		5411	TEST-70 PARTIAL TEST OF C03 REG-12

		5415	
				TEST DESCRIPTION
				---------------- 
				THIS TEST IS TO VERIFY THAT C03 IS READABLE AND WRITEABLE SO THE
				BIT CAN LATER BE USED TO TEST REGISTER SELECTION LOGIC. THIS TEST
				COULD IDENTIFY REGISTER SELECT PROBLEMS SINCE THIS IS THE FIRST TIME
				REGISTER 12 IS ADDRESSED. THE TEST IS COMPRISED OF THE FOLLOWING
				3 SUBTESTS:
				A.  WRITE A 1/READ/VERIFY	C03
				B.  WRITE A 1/WRITE A 0/READ/VERIFY	C03
				C.  WRITE A 0/WRITE A 1/READ/VERIFY	C03	
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				START AT STEP-6 TO SAVE TIME. IF IT FAILS, GO BACK TO STEP-1
				WITHOUT REPLACING ANYTHING.
				 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
				     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				     (TA0, TB0, TD0, TE0).
				 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
				     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
				     IF THE ATA REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 6.  CHECK THE OUTPUT OF THE C03 REG-12 FLOP (SS1). IF CORRECT,
				     REPLACE THE SS BOARD THE MUX ON SS6 MUST BE FAULTY.
				 7.  SIGNAL "SS3 CLR TRK H" OR LOGIC THAT CLOCKS REGISTER-12
				     IS INCORRECT. REPLACE THE SS BOARD.
				 8.  SIGNAL "RG3 READ IN L" IS INCORRECT HOLDING THE FLOP RESET.
				     REPLACE THE RG BOARD
				  9.  BAD C03 REG-12 FLOP. REPLACE THE SS BOARD.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 44            
                                                                                                                           SEQ 0055
		*****************************************************************
	5543	VERIFY OPERATION OF C03 REG-14
		*****************************************************************

		5548	TEST-71 VERIFY THAT C03 REG-14 IS NOT STUCK AT 1

		5552	
				TEST DESCRIPTION
				---------------- 
				ISSUE A RESET AND VERIFY THAT C03 REG-14 IS NOT STUCK IN THE SET
				STATUE OR BEING HELD SET BY A PERSISTANT (CURRENT SWITCH UNSAFE)
				ERROR FROM THE MEMOREX LOGIC.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				 1.  CHECK THE LEVEL AT J1-18 (MB0) IT SHOULD BE HIGH. IF IT IS,
				     THE PROBLEM IS A DCL PROBLEM AND REPLACING EC AND MB
				     BOARDS WILL SOLVE THE PROBLEM.
				 2.  J1-18 BEING LOW INDICATES AN MEMOREX LOGIC FAULT. THE PROBLEM
				     CAN BE TRACED BACKWARDS THRU THE MEMOREX LOGIC USING A SCOPE

		5607	TEST-72 VERIFY COMPLETE OPERATION OF C03 REG-14

		5611	
				TEST DESCRIPTION
				---------------- 
				THIS TEST IS COMPRISED OF A SERIES OF 4 SUBTESTS TO INSURE
				THAT THE BIT IS WORKING PROPERLY AND CAN BE USED
				IN REGISTER SELECT TESTS. THE SUBTESTS ARE:
				A.  WRITE A 1/READ/VERIFY	C03
				B.  WRITE A 1/WRITE A 0/READ/VERIFY	C03
				C.  WRITE A 0/WRITE A 1/READ/VERIFY	C03
				D.  WRITE A 1/RESET/READ/VERIFY	C03	
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

		*****************************************************************
	5733	REGISTER SELECTION TEST
		*****************************************************************

		5738	TEST-73 TEST SELECTION OF DCL WRITEABLE REGISTERS

		5742	
				TEST DESCRIPTION
				---------------- 
				THE OBJECT OF THIS TEST IS TO GUARANTEE THAT NO WRITEABLE
				DCL REGISTER INTERFERES WITH ANY OTHER REGISTER BECAUSE
				OF A REGISTER SELECTION PROBLEM OR A REGISTER SELECT
				DECODING PROBLEM. THE FOLLOWING ALGORITHM IS USED.
				 1.  PICK A WRITEABLE REGISTER (CALL IT X)
				 2.  WRITE A 1 TO C03 OF REG-X
				 3.  PICK ANOTHER REGISTER (CALL IT Y)
				 4.  WRITE A 0 TO C03 OF REG-Y

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 45            
                                                                                                                           SEQ 0056
				 5.  READ REG-X AND INSURE THAT IT DID NOT CHANGE.
				     IF IT DID, A REGISTER ADDRESSING PROBLEM EXISTS
				     BETWEEN X AND Y AND TEST WILL LOOP ON THIS PAIR.
				 6.  DO STEPS 3 THRU 5 LETTING Y VARY 0-37 BUT
				     NEVER EQUAL TO X.
				 7.  DO STEPS 1 THRU 6 FOR ALL WRITEABLE REGISTERS
				     IN THE DCL. 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
				     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
				     (TA0, TB0, TD0, TE0).
				 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
				     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
				     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
				 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
				     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
				     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
				 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
				     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.
				 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
				     IF THE ATA REGISTER IS SELECTED, REPLACE THE
				     DP BOARD.

		*****************************************************************
	5886	TEST DRIVE CLEAR AND MISC CONTROL LOGIC
		*****************************************************************

		5891	TEST-74 VERIFY THAT DRIVE CLEAR WORKS

		5895	
				TEST DESCRIPTION
				---------------- 
				THIS TEST VERIFIES THAT DRIVE CLEAR OPERATES.
				1.  PUT DRIVE IN MAINT MODE (SET DIAGNOSTIC BIT REG-03)
				2.  ISSUE A DRIVE CLEAR WITH THE GO BIT SET.
				3.  READ MAINT REGISTER AND VERIFY THAT THE DRIVE IS
				    NO LONGER IN MAINT MODE.  DRIVE CLEAR SHOULD CAUSE
				    THE M-MODE BIT TO CLEAR.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				LOTS OF THINGS COULD CAUSE THIS TEST TO FAIL BUT FORTUNATELY,
				ALL THE ASSOCIATED LOGIC IS CONFINED TO THE RG BOARD.
				THE FOLLOWING PROBLEMS COULD EXIST.
				1.  STO GO FLOP (RG3) NOT GETTING CLOCKED
				2.  STO GO FLOP HELD RESET BECAUSE OF RESET LOGIC ON (RG3),(RG0)
				3.  STO GO FLOP NOT SETTING BECAUSE OF A D-INPUT LOGIC
				    FAILURE (RG3),(RG5), OR (RG6)
				4.  DRIVE CLEAR COMMAND NOT GETTING DECODED PROPERLY (RG4)
				5.  INPUT GATING TO THE O.S. THAT GENERATES "MAS RES L"

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 46            
                                                                                                                           SEQ 0057
				    IS FAULTY, IGNORING DRIVE CLEAR PULSE.
				6.  THERE IS A VERY SMALL POSSIBILITY THAT HANDSHAKE
				    TIMING LOGIC ON THE DP BOARD IS FAULTY, CAUSING
				    AN ERRONIOUS "RG3 CLEAR STO GO L" ON (RG3)

		5963	TEST-75 VERIFY SOME GO BIT CONTROL LOGIC

		5967	
				TEST DESCRIPTION
				---------------- 
				THIS TESTS SOME OF THE GATING TO THE D-INPUT OF THE
				STO GO FLOP (RG3). IT INSURES THAT ISSUING A DRIVE CLEAR
				COMMAND WITHOUT THE GO BIT DOES NOT CAUSE A DRIVE
				CLEAR.  IT DOES THE FOLLOWING:
				1.  PUTS DRIVE IN MAINT MODE
				2.  ISSUES A DRIVE CLEAR WITHOUT THE GO BIT
				3.  READS THE MAINT REGISTER AND CHECKS THE MAINT MODE BIT
				    IT SHOULD BE SET, INDICATING THAT DRIVE CLEAR DID NOT OCCUR.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		6026	TEST-76 VERIFY ADDITIONAL GO BIT CONTROL LOGIC

		6030	
				TEST DESCRIPTION
				---------------- 
				THIS TESTS THE LOGIC TO INHIBIT EXECUTION OF A COMMAND WHEN
				A PARITY ERROR OCCURS WHILE WRITING THE CONTROL REGISTER.  IT IS
				DONE IN THE FOLLOWING MANNER.
				1.  PUT THE DRIVE IN MAINT MODE
				2.  ISSUE A DRIVE CLEAR WITH THE GO BIT SET, BUT WRITE THE
				    REGISTER WITH INCORRECT PARITY.
				3.  READ THE MAINT REGISTER AND SEE IF DRIVE IS STILL IN
				    MAINT MODE.  IT SHOULD BE, BECAUSE THE PARITY ERROR
				    SHOULD INHIBIT THE DRIVE CLEAR FROM TAKING THE
				    DRIVE OUT OF MAINT MODE
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 47            
                                                                                                                           SEQ 0058
		*****************************************************************
	6087	DRIVE SELECTION TEST
		*****************************************************************

		6092	TEST-77 TEST FOR POSSIBILITY OF MULTI-DRIVE RESPONSE

		6096	
				TEST DESCRIPTION
				---------------- 
				THIS TEST IS EFFECTIVELY THE COMPLIMENT OF TEST-1.  THIS TEST INSURES
				THAT THE DRIVE BEING TESTED RESPONDS TO NO OTHER DRIVES ADDRESS
				BUT ITS OWN.  THE FOLLOWING ALGORITHM IS USED.
				1.  PUT DRIVE BEING TESTED IN MAINT MODE. (CALL THIS DRIVE-X)
				2.  SELECT SOME OTHER DRIVE "WHETHER PRESENT OR NOT)
				    (CALL THIS DRIVE-Y)
				3.  ISSUE A DRIVE CLEAR TO DRIVE-Y
				4.  READ DRIVE-X'S MAINT REGISTER
				5.  INSURE THAT DRIVE-X IS STILL IN MAINT MODE
				6.  IF STEP-5 FAILS, REPORT ERROR AND LOOP ON STEPS 1,3,4, & 5
				7.  IF STEP-5 DOESN'T FAIL REPEAT ALL STEPS LETTING Y RANGE
				    FROM 0 TO 7 BUT NOT EQUAL TO X. 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				THERE IS A FAULT IN THE DRIVE SELECTION LOGIC FOR THIS
				DEVICE.
				1.  SELECTION OR COMPARISON LOGIC FAILURE ON DP BOARD
				2.  INCORRECT OR CROSS COUPLED DEVICE SELECT BITS FROM
				    TRANSCEIVER CARD.

		*****************************************************************
	6192	TEST OPERATION OF READ AND WRITE ERROR BIT.
		*****************************************************************

		6197	TEST-100 INSURE THAT A PERSISTANT (MSE) DOES NOT EXIST

		6201	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0/READ/VERIFY THAT C04 REG-14 (READ AND WRITE) IS
				NOT STUCK AT 1.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				CHECK THE LEVEL OF THE SIGNAL (READ AND WRITE) COMING ONTO
				THE (MB) BOARD. IF IT IS HIGH, THE PROBLEM IS IN THE DCL. EITHER
				THE INTERFACE BUFFER IS BAD OR THE REGISTER (REG-14) OR ITS
				MUX ARE FAULTY. REPLACING THE EC BOARD AND MB BOARD WILL
				CURE THE PROBLEM.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 48            
                                                                                                                           SEQ 0059
		*****************************************************************
	6253	RH11 SUBTESTS
		*****************************************************************

		6259	TEST-101 PERFORM 8 RH11 SUBTESTS

		6263	
				TEST DESCRIPTION
				---------------- 
				THIS IS A TEST WHICH MERELY RUNS THE RH11 SUBTESTS IN ORDER.
				EACH OF THE SUBTESTS IS SELF CONTAINED AND THIS IS MERELY THE
				TEST DISPATCHER. 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

		*****************************************************************
	6302	CHECK FOR PERSISTANT MULTIPLE HEAD SELECT PROBLEM
		*****************************************************************

		6307	TEST-102 VERIFY THAT A MULTIPLE HEAD SELECT PROBLEM DOESN'T EXIST

		6311	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0/READ/VERIFY THAT C10 REG-14 IS NOT A 1.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				1.  OBSERVE THE "MULTIPLE HEAD SELECT" SIGNAL COMING ONTO THE MB
				     BOARD AT J1-5. IF HIGH, THE PROBLEM IS A DCL PROBLEM
				     ON EITHER THE MB BOARD OR EC BOARD. REPLACE THEM.
				2.  IF J1-25 IS LOW, WE HAVE A DRIVE LOGIC FAULT.

		*****************************************************************
	6364	CHECK FOR A PERSISTANT NO HEAD SELECT ERROR
		*****************************************************************

		6369	TEST-103 VERIFY THAT A NO HEAD SELECT PROBLEM DOESN'T EXIST

		6373	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0/READ/VERIFY THAT C10 REG-14 IS NOT A 1
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				1.  OBSERVE THE NO HEAD SELECT SIGNAL AT J1-26 COMING ONTO
				     THE MB BOARD. IF HIGH, THE PROBLEM LIES IN THE DCL ON THE
				     MB OR EC BOARDS. REPLACE THEM.
				2.  IF J1-26 IS LOW WE HAVE A LOGIC FAILURE IN THE DRIVE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 49            
                                                                                                                           SEQ 0060
		*****************************************************************
	6427	CHECK FOR A PERSISTANT PLO UNSAFE CONDITION
		*****************************************************************

		6432	TEST-104 VERIFY THAT A PLO UNSAFE DOESN'T EXIST

		6436	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0/READ/VERIFY THAT C13 REG-14 IS NOT AT 1
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				1.  OBSERVE THE "PLO UNSAFE" SIGNAL AT J1-28 ON THE MB
				     BOARD. IF HIGH, THERE IS A DCL FAULT ON EITHER THE MB BOARD
				     OR EC BOARD. REPLACE THEM.

		*****************************************************************
	6487	CHECK FOR PERSISTANT INDEX ERROR
		*****************************************************************

		6492	TEST-105 VERIFY THAT PERSISTANT INDEX ERROR DOESN'T EXIST

		6496	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0/READ/VERIFY THAT C11 REG-14 IS NOT STUCK AT 1
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				1.  OBSERVE THE INDEX ERROR SIGNAL ON THE MB BOARD AT J1-38
				     IF HIGH, THE PROBLEM IS A DCL FAULT ON THE MB OR EC BOARDS.
				2.  IF HEADS WERE LOADED WHEN THIS ERROR OCCURRED, ANY
				     OF THE MENTIONED MODULES ARE POSSIBLE. IF
				     HEADS WERE UNLOADED WHEN THE TEST WAS RUN,
				     THE PROBLEM IS LOCALIZED TO EC, MB, D02, D04

		*****************************************************************
	6552	CHECK FOR A PERSISTANT WRITE READY UNSAFE
		*****************************************************************

		6557	TEST-106 VERIFY THAT C08 REG-14 "WRTRU" IS NOT STUCK AT 1

		6561	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0/READ/VERIFY C08 REG-14
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 50            
                                                                                                                           SEQ 0061
		*****************************************************************
	6608	CHECK FOR A PERSISTANT TRANSITION DETECTOR FAILURE
		*****************************************************************

		6613	TEST-107 VERIFY THAT C05 REG-14 "TRADF" IS NOT STUCK AT 1

		6617	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0/READ/VERIFY THAT WE DON'T HAVE A PERSISTANT
				TRANSISTION DETECTOR FAILURE
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				1.  OBSERVE THE "TRANSITION DETECTOR FAILURE" SIGNAL COMING ONTO THE
				     MB BOARD AT J1-21 IF IT IS HIGH, THE FAULT IS IN THE
				     DCL ON THE MB OR EC BOARD.

		*****************************************************************
	6665	CHECK FOR PERSISTANT TRANSITIONS UNSAFE FAILURE
		*****************************************************************

		6670	TEST-110 VERIFY THAT C06 REG-14 "TRANSU" IS NOT STUCK AT 1

		6674	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0/READ/VERIFY THAT C06 REG-14 IS NOT AT 1
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				1.  OBSERVE THE "TRANSITIONS UNSAFE" LEVEL COMING ONTO THE
				     MB MODULE AT J1-22. IF HIGH, THERE IS A DCL FAULT ON
				     EITHER THE MB OR EC MODULES.

		*****************************************************************
	6722	CHECK FOR PERSISTANT WRITE SELECT UNSAFE ERROR
		*****************************************************************

		6727	TEST-111 VERIFY THAT C02 REG-14 "WSUNS" IS NOT STUCK AT 1

		6731	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0/READ/VERIFY C02 REG-14
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				1.  OBSERVE THE WRITE SELECT UNSAFE LEVEL ONTO THE MB
				     BOARD AT J1-17, IF HIGH WE HAVE A DCL FAULT ON THE
				     MB OR EC BOARDS.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 51            
                                                                                                                           SEQ 0062
		*****************************************************************
	6783	CHECK FOR PERSISTANT CURRENT SINK FAILURE
		*****************************************************************

		6788	TEST-112 VERIFY THAT C01 REG-14 "CFAIL" IS NOT STUCK AT 1

		6792	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0/READ/VERIFY C01 REG-14
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				1.  OBSERVE THE CURRENT SINK FAILURE LEVEL COMING ONTO THE
				    MB BOARD AT J1-16. IF HIGH, THERE IS A DCL PROBLEM ON
				    EITHER THE MB OR EC BOARD.

		*****************************************************************
	6843	CHECK FOR A PERSISTANT WRITE CURRENT UNSAFE CONDITION
		*****************************************************************

		6848	TESTS-113 VERIFY THAT C00 REG-14 "WCUNS" IS NOT STUCK AT 1

		6852	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0/READ/VERIFY C00 REG-14
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				1.  OBSERVE THE WRITE CURRENT UNSAFE LEVEL COMING ONTO THE
				    MB BOARD AT J1-15. IF HIGH, THERE IS A DCL PROBLEM
				    ON EITHER THE MB OR EC BOARDS.

		*****************************************************************
	6903	CHECK FOR A PERSISTANT ABNORMAL STOP CONDITION
		*****************************************************************

		6908	TEST-114 CHECK THAT C07 REG-14 "ABS" IS NOT STUCK AT 1 

		6912	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0/READ/VERIFY C07 REG-14
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				IF THE "ABS" ERROR PERSISTS, GO TO THE ABNORMAL
				STOP REGISTER ON (XD101) D10 AND FIND OUT
				WHICH CONDITION IS LATCHED. THE PROBLEM CAN BE
				TRACED BACK FROM THAT POINT.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 52            
                                                                                                                           SEQ 0063
		*****************************************************************
	6963	TEST OPERATION OF REGISTER-15 FLOPS AND MUX'S
		*****************************************************************

		6968	TEST-115 VERIFY OPERATION REG-14 AND ITS MUX'S

		6972	
				TEST DESCRIPTION
				---------------- 
				THIS TEST MERELY VERIFIES THAT THE REGISTER FLOPS AND THEIR
				ASSOCIATED MUX'S GO THRU THEIR VARIOUS TRANSITIONS PROPERLY.
				THE FOLLOWING SUBTESTS ARE PERFORMED.
				A.  RESET/WRITE 1'S/READ/VERIFY
				B.  RESET/WRITE 1'S/WRITE 0'S/READ/VERIFY
				C.  RESET/WRITE 0'S/WRITE 1'S/READ/VERIFY
				D.  RESET/WRITE 1'S/RESET/READ/VERIFY
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		*****************************************************************
	7099	ADDITIONAL MISCELLANEOUS TESTS FOR REGISTER-14
		*****************************************************************

		7104	TEST-116 SINGULARITY OF REG-14 BITS (FLOAT 1'S)

		7108	
				TEST DESCRIPTION
				---------------- 
				FLOAT A ONE DOWN THE REGISTER TO GUARANTEE THAT NO BITS INTERFERE
				WITH ONE ANOTHER. BEFORE EACH ONE IS LOADED, THE REGISTER IS CLEARED
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		7168	TEST-117 SINGULARITY OF REG-14 BITS (FLOAT 0'S)

		7172	
				TEST DESCRIPTION
				---------------- 
				FLOATS A ZERO DOWN THE REGISTER TO GAURANTEE THAT NO BITS
				INTERFERE WITH ONE ANOTHER. BEFORE EACH BIT IS LOADED,
				THE REGISTER IS RESET TO ONES.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 53            
                                                                                                                           SEQ 0064
		7238	TEST-120 REG-14/REG-15 MUX TEST

		7242	
				TEST DESCRIPTION
				---------------- 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

		*****************************************************************
	7259	MISC. OFFSET REGISTER TESTS
		*****************************************************************

		7264	TEST-121 DATA TEST THE IMPLEMENTED BITS OF REG-11

		7268	
				TEST DESCRIPTION
				---------------- 
				THE IMPLEMENTED BITS ARE C00-C07 AND C10-C12. ALTHOUGH
				C15 IS ALSO IMPLEMENTED, IT IS READ ONLY AND INDETERMINANT AND
				WILL BE IGNORED DURING THIS SEQUENCE OF TESTS. THE FOLLOWING
				FOUR SUBTESTS ARE USED TO DATA TEST THIS REGISTER.
				A.  RESET/WRITE 1'S/READ/VERIFY
				B.  RESET/WRITE 1'S/WRITE 0'S/READ/VERIFY
				C.  RESET/WRITE 0'S/WRITE 1'S/READ/VERIFY
				D.  RESET/WRITE 1'S/RESET/READ/VERIFY	(C00-C07 ONLY)
				C10-C12 ARE CLEARED BY READIN PRESET AND WILL HAVE TO
				BE TESTED LATER.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		7411	TEST-122 SINGULARITY OF REG-11 (FLOAT 1'S) 

		7415	
				TEST DESCRIPTION
				---------------- 
				FLOAT A ONE DOWN THE IMPLEMENTED BITS OF REG-11 TO GUARANTEE
				THAT NO BITS INTERFERE WITH ONE ANOTHER. BEFORE THE ONES ARE
				LOADED, THE REGISTER IS CLEARED.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		7480	TEST-123 SINGULARITY OF REG-11 (FLOAT 0'S) 

		7484	
				TEST DESCRIPTION
				---------------- 
				FLOATS A ZERO DOWN THE IMPLEMENTED BITS OF REG-11 TO INSURE
				THAT NO BITS INTERFERE WITH ONE ANOTHER. BEFORE EACH FLOATING
				PATTERN IS LOADED, THE REGISTER IS SET TO ONES.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 54            
                                                                                                                           SEQ 0065
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		7550	TEST-124 TEST MUX'S ASSOCIATED WITH REGISTER-11

		7554	
				TEST DESCRIPTION
				---------------- 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

		*****************************************************************
	7570	MISC. TESTING OF REG-12 AND ITS ASSOCIATED LOGIC
		*****************************************************************

		7575	TEST-125 DATA TEST IMPLEMENTED BITS OF REG-12

		7579	
				TEST DESCRIPTION
				---------------- 
				THE FOLLOWING 3 SUBTESTS DO BASIC DATA TESTS OF THE REG-12
				IMPLEMENTED BITS:
				A.  RESET/WRITE 1'S/READ/VERIFY		C00-C09
				B.  RESET/WRITE 1'S/WRITE 0'S/READ/VERIFY	C00-C09
				C.  RESET/WRITE 0'S/WRITE 1'S/READ/VERIFY	C00-C09
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		7681	TEST-126 SINGULARITY OF REG-12 BITS (FLOAT 1'S) 

		7685	
				TEST DESCRIPTION
				---------------- 
				FLOAT A 1 DOWN THE REGISTERS IMPLEMENTED BITS TO GUARANTEE
				THAT NO BITS INTERFERE WITH ONE ANOTHER. BEFORE EACH 1 IS
				LOADED, THE REGISTER IS CLEARED.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		7750	TEST-127 SINGULARITY OF REG-12 BITS (FLOAT 0'S)

		7754	
				TEST DESCRIPTION
				---------------- 
				FLOAT A 0 DOWN THE IMPLEMENTED BITS OF REGISTER-12 TO
				GUARANTEE THAT NO BITS INTERFERE WITH ONE ANOTHER
			

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 55            
                                                                                                                           SEQ 0066
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		7819	TEST-130 A REGISTER-12 MUX TEST 

		7823	
				TEST DESCRIPTION
				---------------- 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

		*****************************************************************
	7840	MISC. DA REGISTER TESTS
		*****************************************************************

		7845	TEST-131 DATA TEST THE IMPLEMENTED BITS OF REG-05

		7849	
				TEST DESCRIPTION
				---------------- 
				THE IMPLEMENTED BITS ARE C00-C04 AND C08-C12. THE FOLLOWING
				SUBTESTS ARE USED TO CHECK THIS REGISTER AND ITS ASSOCIATED
				MUX'S.
				A.  RESET/WRITE 1'S/READ/VERIFY
				B.  RESET/WRITE 1'S/WRITE 0'S/READ/VERIFY
				THE CLEARING AND INCREMENTATION OF THIS REGISTER WILL BE VERIFIED
				IN ANOTHER TEST.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		7961	TEST-132 SINGULARITY OF REG-05 BITS (FLOAT 1'S)

		7965	
				TEST DESCRIPTION
				---------------- 
				FLOAT A 1 DOWN THE IMPLEMENTED BITS OF REG-05 TO GUARANTEE
				THAT NO BITS INTERFERE WITH ONE ANOTHER. BEFORE THE ONES ARE
				LOADED, THE REGISTER IS CLEARED.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		8033	TEST-133 SINGULARITY OF REG-05 BITS (FLOAT 0'S)

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 56            
                                                                                                                           SEQ 0067
		8037	
				TEST DESCRIPTION
				---------------- 
				FLOAT A 0 DOWN THE IMPLEMENTED BITS OF REG-05 TO GUARANTEE
				THAT NO BITS INTERFERE WITH ONE ANOTHER. BEFORE EACH PATTERN
				IS WRITTEN, THE REGISTER IS LOADED WITH ONES.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		8103	TEST-134 TEST MUX'S ASSOCIATED WITH REG-05

		8107	
				TEST DESCRIPTION
				---------------- 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

		*****************************************************************
	8124	TEST FOR PERSISTANT "DCK" ERROR
		*****************************************************************

		8129	TEST-135 VERIFY THAT REG-02 C15 IS NOT STUCK AT 1

		8133	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0'S/READ/VERIFY THAT WE DON'T HAVE A PERSISTANT
				DATA CHECK ERROR
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		*****************************************************************
	8179	TEST FOR A PERSISTANT "UNS" ERROR CONDITION
		*****************************************************************

		8184	TEST-136 VERIFY THAT C14 REG-02 IS NOT STUCK AT 1

		8188	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT UNSAFE CONDITION
				DOES NOT EXIST.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 57            
                                                                                                                           SEQ 0068
		*****************************************************************
	8236	TEST FOR A PERSISTANT "OPI" ERROR CONDITION
		*****************************************************************

		8241	TEST-137 VERIFY THAT C13 REG-02 IS NOT STUCK AT 1

		8245	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT OPI DOES NOT
				EXIST.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		*****************************************************************
	8291	TEST FOR A PERSISTANT "DTE" ERROR
		*****************************************************************

		8296	TEST-140 VERIFY THAT C12 REG-02 IS NOT STUCK AT 1

		8300	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT "DTE" ERROR
				DOES NOT EXIST
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		*****************************************************************
	8346	TEST FOR A PERSISTANT WRITE LOCK ERROR CONDITION
		*****************************************************************

		8351	TEST-141 VERIFY THAT C11 REG-02 IS NOT STUCK AT 1

		8355	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT WLE DOES
				NOT EXIST
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 58            
                                                                                                                           SEQ 0069
		*****************************************************************
	8396	CHECK FOR A PERSISTANT INVALID ADDRESS ERROR
		*****************************************************************

		8401	TEST-142 VERIFY THAT C10 REG-02 IS NOT STUCK AT 1

		8405	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT ERROR DOES NOT EXIST
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		*****************************************************************
	8450	CHECK FOR A PERSISTANT ADDRESS OVERFLOW ERROR
		*****************************************************************

		8455	TEST-143 VERIFY THAT C09 REG-02 IS NOT STUCK AT 1

		8459	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT "AOE" DOESN'T EXIST
				THE DESIRED ADDRESS REGISTERS ARE SET TO 0 IN ORDER TO LOCALIZE
				THE FAILURE TO A SMALLER NUMBER OF MODULES.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		*****************************************************************
	8514	CHECK FOR A PERSISTANT HCRC ERROR
		*****************************************************************

		8519	TEST-144 VERIFY THAT C08 REG-02 IS NOT STUCK AT 1

		8523	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT HCRC ERROR
				DOES NOT EXIST
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 59            
                                                                                                                           SEQ 0070
		*****************************************************************
	8569	CHECK FOR A PERSISTANT HEADER COMPARE ERROR
		*****************************************************************

		8574	TEST-145 VERIFY THAT C07 REG-02 IS NOT STUCK AT 1

		8578	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT HEADER COMPRE
				ERROR DOES NO EXIST.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		*****************************************************************
	8624	CHECK FOR A PERSISTANT ECH ERROR
		*****************************************************************

		8629	TEST-146 VERIFY THAT C06 REG-02 IS NOT STUCK AT 1

		8633	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0/READ/VERIFY THAT A PERSISTANT HARD ECC ERROR
				DOES NOT EXIST
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		*****************************************************************
	8679	VERIFY THAT A PERSISTANT WRITE CLOCK FAIL ERROR DOESN'T EXIST
		*****************************************************************

		8684	TEST-147 VERIFY THAT C05 REG-02 IS NOT STUCK AT 1

		8688	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT WRITE CLOCK FAIL
				ERROR DOES NOT EXIST
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 60            
                                                                                                                           SEQ 0071
		*****************************************************************
	8734	VERIFY THAT A PERSISTANT FORMAT ERROR DOES NOT EXIST
		*****************************************************************

		8739	TEST-150 VERIFY THAT C04 REG-02 IS NOT STUCK AT 1

		8743	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT FORMAT ERROR
				DOES NOT EXIST.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		*****************************************************************
	8789	VERIFY THAT A PERSISTANT REG MOD REFUSED ERROR DOES NOT EXIST
		*****************************************************************

		8794	TEST-151 VERIFY THAT C02 REG-02 IS NOT STUCK AT 1

		8798	
				TEST DESCRIPTION
				---------------- 
				RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT REGISTER MODIFY
				REFUSED ERROR CONDITION DOES NOT EXIST.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		*****************************************************************
	8843	VERIFY THAT A PERSISTANT ILLEGAL FUNCTION CONDITION DOES NOT EXIST
		*****************************************************************

		8848	TEST-152 VERIFY THAT C00 REG-02 IS NOT STUCK AT 1

		8852	
				TEST DESCRIPTION
				---------------- 
				A.  WRITE 0'S TO THE CONTROL REGISTER (A NOP)
				B.  RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT "ILF"
				    CONDITION DOES NOT EXIST.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 61            
                                                                                                                           SEQ 0072
		*****************************************************************
	8900	MISC. DATA TESTS OF REG-02
		*****************************************************************

		8905	TEST-153 DATA TEST FLOPS AND MUX'S OF REG-02

		8909	
				TEST DESCRIPTION
				---------------- 
				THE FLOPS AND MUX'S OF REG-02 ARE DATA TESTED USING THE
				FOLLOWING 4 SUBTESTS:
				A.  RESET/WRITE 1'S/READ/VERIFY
				B.  RESET/WRITE 1'S/WRITE 0'S/READ/VERIFY
				C.  RESET/WRITE 0'S/WRITE 1'S/READ/VERIFY
				D.  RESET/WRITE 1'S/RESET/READ/VERIFY 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		9038	TEST-154 SINGULARITY OF REG-02 BITS (FLOAT 1'S) 

		9042	
				TEST DESCRIPTION
				---------------- 
				FLOAT A 1 DOWN THE REGISTER TO GUARANTEE THAT NO BITS
				INTERFERE WITH ONE ANOTHER. BEFORE EACH ONE IS LOADED, THE
				REGISTER IS CLEARED BY WRITING 0'S INTO IT
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		9103	TEST-155 SINGULARITY OF REG-02 BITS (FLOAT 0'S) 

		9107	
				TEST DESCRIPTION
				---------------- 
				FLOAT A ZERO DOWN THE REGISTER TO GUARANTEE THAT NO BITS
				INTERFERE WITH ONE ANOTHER. BEFORE EACH FLOATING PATTERN IS
				LOADED, THE REGISTER IS PRESET TO 1'S
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 62            
                                                                                                                           SEQ 0073
		*****************************************************************
	9169	REG-02/REG-03 MUX TEST
		*****************************************************************

		9174	TEST-156 A TEST OF THE MUX FOR REGISTER 2 & 3

		9178	
				TEST DESCRIPTION
				---------------- 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

		*****************************************************************
	9195	TEST OPERATION OF COMPOSITE ERROR LOGIC
		*****************************************************************

		9200	TEST-157 TEST THAT A PERSISTANT COMPOSITE ERROR DOESN'T EXIST

		9204	
				TEST DESCRIPTION
				---------------- 
				MASTER RESET THEN READ THE STATUS REGISTER AND INSURE THAT
				COMPOSITE ERROR IS NOT SET.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				AT THIS POINT, THE 3 ERROR REGISTERS HAVE BEEN THROUGHLY TESTED
				AND KNOWN TO WORK CORRECTLY. ONLY STATUS REGISTER LOGIC
				FAULTS OR COMPOSITE ERROR DECODER FAULTS CAN EXIST.
				TWO MODULES ARE INVOLVED THE EC BOARD AND RG BOARD.
				IF PIN CK2 OF THE RG BOARD IS LOW, THE RG BOARD IS AT
				FAULT OTHERWISE THE EC BOARD IS MALFUNCTIONING.

		9295	TEST-160 VERIFY THAT COMPOSITE ERROR CAN BE DECODED

		9299	
				TEST DESCRIPTION
				---------------- 
				THIS TEST VERIFIES THAT COMPOSITE ERROR CAN BE READ BACK
				SUCESSFULLY. IT WILL ACCEPT ANY PATH AT THIS POINT IN TIME.
				RESET/WRITE 1'S TO ER-1,2,3/READ/VERIFY THAT C14 REG-01 IS SET
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				ALL FAULTS WOULD BE FOUND ON THE RG BOARD.

		9358	TEST-161 VERIFY THAT EACH REG-02 BIT CAUSES COMPOSITE ERROR

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 63            
                                                                                                                           SEQ 0074
		9362	
				TEST DESCRIPTION
				---------------- 
				THIS TEST VERIFIES THAT THE SETTING OF EACH BIT IN ERROR
				REG #1 (REG-02) PRODUCES A COMPOSITE ERROR INDICATION IN
				THE STATUS REGISTER (REG-01) 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				ALL FAULTS ARE ISOLATED TO THE RG BOARD

		9438	TEST-162 VERIFY THAT EACH REG-14 BIT CAUSES COMPOSITE ERROR

		9442	
				TEST DESCRIPTION
				---------------- 
				THIS TEST VERIFIES THAT THE SETTING OF EACH BIT IN ERROR REG #2
				(REG-15) CAUSES A COMPOSITE ERROR IN THE STATUS REGISTER (REG-01)
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				FAULTS ARE ISOLATED TO EITHER THE RG OR EC BOARD. THE
				EC BOARD IS THE MOST PROBABLE. ONLY ONE GATE IS INVOLVED
				ON THE RG BOARD.

		9511	TEST-163 VERIFY THAT EACH REG-15 BIT CAUSES COMPOSITE ERROR

		9515	
				TEST DESCRIPTION
				---------------- 
				THIS TEST VERIFIES THAT THE SETTING OF EACH BIT IN ERROR REG #3
				(REG-15) CAUSES A COMPOSITE ERROR IN THE STATUS REGISTER (REG-01)
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		*****************************************************************
	9576	PARTIAL TEST OF DRIVE READY LOGIC
		*****************************************************************

		9581	TEST-164 VERIFY THAT "DRY" IS COMPLEMENT OF THE "GO" BIT

		9585	
				TEST DESCRIPTION
				---------------- 
				THIS TEST INSURES THAT "DRY" AND "GO" ARE COMPLEMENTS WHEN "GO"
				IS RESET. RESET/READ STATUS REG/VERIFY THAT C07 (DRY) IS 1
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 64            
                                                                                                                           SEQ 0075
		*****************************************************************
	9641	TEST FOR PROPER OPERATION OF HEAD LOAD SEQUENCE
		*****************************************************************

		9646	TEST-165 TESTING FOR PROPER HEAD LOAD OPERATION

		9650	
				TEST DESCRIPTION
				---------------- 
				THIS TEST VERIFIES THAT THE HEAD LOAD SEQUENCE COMPLETES
				AND ALSO THAT THE DRIVE STATUS IS CORRECT AT COMPLETION
				OF THE HEAD LOAD SEQUENCE.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				THIS TEST COULD TURN UP ANY ONE OF A LARGE NUMBER OF
				PROBLEMS WITHIN THE MEMOREX LOGIC OPERATION. MODULE CALLOUT IS
				IMPRACTICAL FOR THIS REASON.  KEEPING IN MIND, THE FACT THAT
				ALL OF THE ERROR CONDITIONS ARE GUARANTEED NOT TO BE STUCK
				SET, SINCE THEY ARE CHECKED IN PREVIOUS TESTS, IT IS SAFE TO
				ASSUME THAT THE ERROR CONDITION IS ACTUALLY OCCURRING BECAUSE
				OF SOME MALFUNCTION IN THE LOGIC PERTAINING TO HEAD LOAD
				OPERATIONS (PROBABLY A MEMOREX MODULE FAULT).  THE FOLLOWING PROCEDURE
				IS RECOMMENDED FOR DEBUGGING A PROBLEM OF THIS TYPE.
				THIS TEST, UPON FAILURE, WILL DUMP STATUS
				REGISTER AND 3 ERROR REGISTERS.
				THERE IS A HEAD LOAD SEQUENCE TROUBLESHOOTING
				PROCEDURE IN THE APPENDIX OF THE MEMOREX
				SERVICE MANUAL FOR THIS DEVICE.

		*****************************************************************
	9803	TEST FOR PROPER OPERATION OF THE HEAD UNLOAD SEQUENCE
		*****************************************************************

		9808	TEST-166 TESTING FOR PROPER HEAD UNLOAD OPERATION

		9812	
				TEST DESCRIPTION
				---------------- 
				THIS TEST VERIFIES THAT THE HEAD UNLOAD SEQUENCE WILL OPERATE
				CORRECTLY AND ERROR FREE.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				THIS TEST COULD FAIL FOR ANY ONE OF A NUMBER OF REASONS.
				MODULE CALLOUT IS IMPRACTICAL SINCE SO MANY THINGS COULD CAUSE
				A FAULT IN THE SEQUENCE.
				IF THIS TEST FAILS IT WILL DUMP STATUS AND ERROR
				REGISTERS. THERE IS A TROUBLESHOOTING PROCEDURE FOR
				THIS PROBLEM IN THE APPENDIX OF THE MAINT
				MANUAL FOR THIS DRIVE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 65            
                                                                                                                           SEQ 0076
		*****************************************************************
	9953	TEST OPERATION OF PACK ACKNOWLEDGE AND VOLUME VALID BITS
		*****************************************************************

		9958	TEST-167 VV AND PACK ACK OPERATIONAL TESTS

		9962	
				TEST DESCRIPTION
				---------------- 
				THIS IS A SERIES OF 4 SUBTESTS DESIGNED TO TEST
				THAT THE VOLUME VALID STATUS BIT IS WORKING IN CONJUNCTION
				WITH THE PACK ACKNOWLEDGE COMMAND. THE SUBTESTS ARE:
				A.  ISSUE PACK ACKNOWLEDGE WITH DRIVE CYCLED UP AND
				    INSURE THAT VV GETS SET
				B.  VERIFY THAT ISSUING PACK ACKNOWLEDGE DOES NOT CAUSE
				    ERRORS
				C.  TAKE DRIVE OFF-LINE WITH VV SET AND INSURE THAT
				    IT STAYS SET
				D.  WITH VV SET, CYCLE DRIVE DOWN AND UP AND INSURE THAT
				    VV GETS CLEARED.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		*****************************************************************
	10114	MISC READIN/VV/GO-BIT LOGIC TESTS
		*****************************************************************

		10119	TEST-170 TEST VV/COMP ERR INTERLOCK

		10123	
				TEST DESCRIPTION
				---------------- 
				THIS TEST VERIFIES THAT VV WILL NOT SET IF A COMPOSITE ERROR
				EXISTS WHEN THE COMMAND IS ISSUED. THE FOLLOWING SEQUENCE IS ISSUED.
				A.  CYCLE DRIVE DOWN AND UP TO CLEAR VV.
				B.  WRITE AN ERROR REGISTER TO FORCE COMPOSITE ERROR.
				C.  ISSUE A PACK ACK COMMAND.
				D.  READ STATUS AND CONTROL REGISTER.
				E.  INSURE THAT THE GO BIT IS CLEAR
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		10206	TEST-171 SEE THAT READIN PRESET WILL SET VV

		10210	
				TEST DESCRIPTION
				---------------- 
				THIS INSURES THAT READIN PRESET SETS VV AND DOES NOT
				CAUSE COMPOSITE ERROR IN DOING SO.
			

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 66            
                                                                                                                           SEQ 0077
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		10274	TEST-172 TEST STO-GO RESET LOGIC

		10278	
				TEST DESCRIPTION
				---------------- 
				THIS VERIFIES THAT THE "GO" AND "STO-GO" RESET LOGIC IS
				PARTIALLY OPERATIONAL. THE FOLLOWING SEQUENCE IS USED.
				A. CLEAR PREVIOUS ERRORS
				B. ISSUE PACK ACK TO SET VV
			 	C. ISSUE ANOTHER PACK ACK TO TRANSFER "STO-GO" TO "GO"
				D. READ THE CONTROL REGISTER AND INSURE THAT "GO" IS CLEAR
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				   IF THE FAULT DOES NOT GO AWAY AFTER REPLACING RG
				AND DP BOARDS, WE PROBABLY HAVE MALFUNCTIONING LOGIC ON (RG0)
				AT THE "GO MAS RES ONE SHOT." ONE OF THE INPUTS TO THE
				8 INPUT "OR" GATE IS PROBABLY STUCK LOW KEEPING THE
				ONE SHOT FROM FIRING. FIND OUT WHICH ONE IS STUCK LOW AND
				REPLACE THE DRIVING BOARD OR SCOPE BACK TO FIND THE FAULT

		*****************************************************************
	10338	A BASIC MAINT MODE TEST
		*****************************************************************

		10343	TEST-173 VERIFY THAT M-MODE DISCONNECTS SECTOR CLOCK

		10347	
				TEST DESCRIPTION
				---------------- 
				THIS IS A BASIC TEST TO VERIFY THAT GOING INTO MAINTENANCE
				MODE ACTUALLY DOES SOMETHING EFFECTIVE. THE LOOK AHEAD
				REGISTER IS USED HERE AS A TOOL. THE FOLLOWING METHOD IS USED.
				1. POWER UP THE SPINDLE
				2. GO INTO MAINT MODE
				3. READ LOOK AHEAD REGISTER FOR REFERENCE.
				4. READ LOOK AHEAD REGISTER 20 MORE TIMES TO INSURE
				   THAT IT DOES NOT CHANGE. THIS INSURES THAT WE'VE
				   DISCONNECTED FROM THE DRIVES INDEX AND SECTOR CLOCK.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 67            
                                                                                                                           SEQ 0078
		*****************************************************************
	10410	MISC. SEEK/GO/DRY TESTS
		*****************************************************************

		10415	TEST-174 TEST THAT THE GO BIT CAN BE SET

		10419	
				TEST DESCRIPTION
				---------------- 
				THIS TEST INSURES THAT THE GO-BIT CAN BE SET. THE
				FOLLOWING SEQUENCE IS USED.
				1. ISSUE MASTER RESET
				2. PUT DRIVE IN MAINT MODE	(NO SECTOR CLOCKS CAN OCCUR)
				3. ISSUE A SEEK COMMAND.	(GO SHOULD STAY HUNG BECAUSE
					A SEEK COMMAND CAN'T COMPLETE WITHOUT SECTOR CLOCKS)
				4. READ THE CONTROL REGISTER AND VERIFY THAT GO IS SET
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		10494	TEST-175 CHECK THAT RHCLR WILL CLEAR HUNG GO-BIT

		10498	
				TEST DESCRIPTION
				---------------- 
				A HUNG GO-BIT IS SIMULATED BY ISSUING A SEEK WHILE IN MAINT-MODE.
				THE FOLLOWING SEQUENCE IS USED
				1. ISSUE RHCLR TO CLEAR ERRORS
				2. PUT DRIVE IN MAINT-MODE	(STOPS SECTOR CLOCK FROM COMING)
				3. ISSUE A SEEK			(TO SET THE GO-BIT)
				4. ISSUE ANOTHER RHCLR		(TO RESET THE GO-BIT)
				5. READ CONTROL REGISTER AND VERIFY THAT GO IS CLEAR
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		10558	TEST-176 TEST THAT "GO" AND "DRY" ARE COMPLEMENTS

		10562	
				TEST DESCRIPTION
				---------------- 
				THIS TEST INSURES THAT "GO" AND "DRY" ARE COMPLEMENTS WHEN
				"GO" IS SET. WE SET "GO" BY ISSUING A SEEK WHILE IN
				MAINT MODE.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 68            
                                                                                                                           SEQ 0079
		*****************************************************************
	10630	A MISC TEST OF THE CONTROL REGISTER
		*****************************************************************

		10635	TEST-177 FLOAT A ONE DOWN C01-C05 OF CONTROL REG

		10639	
				TEST DESCRIPTION
				---------------- 
				TEST MERELY VERIFIES THAT ALL BITS CAN BE SET. SOME HAVE
				ALREADY BEEN TESTED
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		*****************************************************************
	10711	PARTIAL TESTING OF THE "PIP" BIT
		*****************************************************************

		10716	TEST-200 TESTING OF "PIP" WITH A SEEK COMMAND

		10720	
				TEST DESCRIPTION
				---------------- 
				THIS TEST IS DESIGNED TO CHECK OPERATION OF "PIP" IN CONJUNCTION
				WITH A SEEK COMMAND ISSUED IN MAINT MODE. THREE SUBTESTS
				ARE REQUIRED.
				A. READ PIP WITH NO COMMAND TO INSURE THAT IT IS NOT STUCK AT 1
				B. ISSUE A MAINT MODE SEEK WITH NO "GO-BIT" AND INSURE "PIP" DOES
				   NOT SET.
				C. ISSUE A MAINT MODE SEEK WITH "GO-BIT" AND INSURE THAT THE
				   "PIP" GETS SET.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		*****************************************************************
	10848	ADDITIONAL OFFSET REGISTER CLEAR TEST
		*****************************************************************

		10853	TEST-201 VERIFY THAT READIN CLEARS OFFSET REGISTER

		10857	
				TEST DESCRIPTION
				---------------- 
				THIS TEST VERIFIES THAT THE READIN PRESET COMMAND CLEARS
				C10-C12 OF THE OFFSET REGISTER.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 69            
                                                                                                                           SEQ 0080
		*****************************************************************
	10905	ADDITIONAL DESIRED CYLINDER ADDRESS REGISTER CLEAR TEST
		*****************************************************************

		10910	TEST-202 VERIFY THAT READIN CLEARS DES. CYL. REGISTER

		10914	
				TEST DESCRIPTION
				---------------- 
				THIS TEST VERIFIES THAT THE READIN PRESET COMMAND CLEARS
				C00-C09 OF THE DESIRED CYLINDER ADDRESS REGISTER
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		*****************************************************************
	10964	ADDITIONAL DESIRED TRACK/SECT REGISTER RESET TEST
		*****************************************************************

		10969	TEST-203 VERIFY THAT READIN WILL CLEAR DESIRED TRK/SECT REG

		10973	
				TEST DESCRIPTION
				---------------- 
				THIS TEST IS TO VERIFY THAT ISSUING A READIN PRESET COMMAND
				WILL CLEAR C00-C04 AND C08-C12 OF THE DESIRED TRACK/SECTOR
				ADDRESS REGISTER
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		*****************************************************************
	11025	ADDITIONAL CONTROL REGISTER TEST
		*****************************************************************

		11030	TEST-204 A TEST OF THE CONTROL REGISTER MUX

		11034	
				TEST DESCRIPTION
				---------------- 
				THIS TEST VERIFIES THAT THE CONTROL REGISTER MUX (RG6) IS ACTUALLY
				RETURNING 0'S IN THE GUARANTEED TO BE 0 BIT POSITIONS WHICH
				ARE C06 AND C08 THRU C10 AND C12 THRU C15
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 70            
                                                                                                                           SEQ 0081
		*****************************************************************
	11081	ILLEGAL FUNCTION TEST
		*****************************************************************

		11086	TEST-205 TEST THAT ILLEGAL COMMANDS CAUSE "ILF" ERROR

		11090	
				TEST DESCRIPTION
				---------------- 
				THIS TEST ISSUES THE ILLEGAL COMMANDS TO GUARANTEE THAT
				THE DRIVE RECOGNIZES "ILF" FOR EACH ONE. THE "GO-BIT" IS TESTED
				AFTER EACH OPERATION ALSO TO INSURE THAT IT GOT RESET.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				ALL FAULTS ARE LOCAL TO THE RG BOARDS. THE FOLLOWING ARE POSSIBLE:
				A. FUNCTION DECODER FAULT (RG3)
				B. "ILF" OR-GATE FAULT (RG4)
				C. DIRECT SET FAULT ON "ILF" FLOP (RG0)
				D. "ILF" INPUT FAULT TO MAS. RES. SINGLE SHOT (RG0)
				E. INSURE THAT NONE OF THE INPUTS TO THE 8 INPUT -OR-
				   GATE (RG0) FOR GO-MAS-RESET ARE NOT AT A CONSTANT
				   ZERO. THIS CONDITION WILL HANG THE GO-BIT. 

		*****************************************************************
	11191	REGISTER-05, REGISTER-07 MUX TESTS
		*****************************************************************

		11196	TEST-206 REG-05 MUX TEST

		11200	
				TEST DESCRIPTION
				---------------- 
				READ REGISTER-05 AND VERIFY THAT THE GUARANTEED 0 BITS
				(C05-C07 AND C13-C15) ARE ZERO'S.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		11246	TEST-207 REG-07 MUX TEST

		11250	
				TEST DESCRIPTION
				---------------- 
				READ REGISTER-07 AND VERIFY THAT THE GUARANTEED 0 BITS
				(C00-C03 AND C11-C15) ARE ZERO.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 71            
                                                                                                                           SEQ 0082
		*****************************************************************
	11292	SOME BASIC DRIVE TYPE REGISTER TESTS
		*****************************************************************

		11297	TEST-210 REG-06 GUARANTEED 0'S TEST

		11301	
				TEST DESCRIPTION
				---------------- 
				READ THE DRIVE TYPE REGISTER AND VERIFY THAT THE
				GUARANTEED 0 BITS ARE CORRECT. THEY ARE: C0,C02-C03,
				C05-C10, C12, C14-C15
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				FAULTS ARE MOST LIKELY ON THE EC BOARD BUT THERE IS
				A REMOTE POSSIBILITY THAT A REGISTER SELECTION PROBLEM
				STILL EXISTS ON RG

		11351	TEST-211 REG-06 GUARANTEED 1'S TEST

		11355	
				TEST DESCRIPTION
				---------------- 
				READ AND VERIFY THAT C01,C04 AND C13 OF REGISTER-06
				ARE 1
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				THE EC BOARD MUX IS THE MOST LIKELY FAULT. THERE IS
				HOWEVER, A REMOTE POSSIBILITY THAT A REGISTER SELECT
				PROBLEM EXISTS ON THE RG BOARD

		*****************************************************************
	11401	DESIRED CYLINDER ADDRESS REGISTER TEST
		*****************************************************************

		11406	TEST-212 REG-12 GUARANTEED 0 TEST

		11410	
				TEST DESCRIPTION
				---------------- 
				READ REG-12 AND VERIFY THAT C10-C15 ARE 0.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				THESE BITS ARE NOT EVEN HOOKED ONTO THE CONTROL BUS. IF
				THIS TEST FAILS, YOU HAVE A MUX FAULT OR REGISTER SELECTION
				FAILURE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 72            
                                                                                                                           SEQ 0083
		*****************************************************************
	11456	A CURRENT CYLINDER ADDRESS REGISTER TEST
		*****************************************************************

		11461	TEST-213 REG-13 GUARANTEED 0 TEST

		11465	
				TEST DESCRIPTION
				---------------- 
				READ REGISTER-13 AND GUARANTEE THAT C10-C15 ARE 0
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				THESE BITS ARE NOT EVEN WIRED TO CONTROL BUS. IF THIS TEST
				FAILS, THERE IS A MUX FAULT OR FAULTY REGISTER SELECT LOGIC

		*****************************************************************
	11510	SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS
		*****************************************************************

		11515	TEST-214 A BASIC RESET TEST

		11519	
				TEST DESCRIPTION
				---------------- 
				A TEST TO VERIFY THAT INDEX WILL CLEAR THE LOW ORDER
				7 FLOPS OF THE EXTENTION COUNTER. THE FOLLOWING SEQUENCE IS USED
				A. PUT IN MAINT MODE (20 SECTOR MODE)
				B. ISSUE INDEX (A GENERAL RESET)
				C. 127. SECTOR CLOCKS TO FILL LOW ORDER 7 BITS
				D. ISSUE INDEX TO TRY AND RESET THE LOW ORDER 7 FLOPS
				E. 127. SECTOR CLOCKS TO XFER LOW ORDER 7 FLOPS TO A READABLE AREA
				F. READ SECTOR COUNTER
				G. VERIFY THAT FRACTION IS 00 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		11587	TEST-215 SECTOR CONTROL TEST

		11591	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE SECTOR COUNTER FLOPS DON'T COUNT TO RAPIDLY
				USING THE FOLLOWING SEQUENCE:
				A. PUT IN MAINT MODE (20 SECTOR MODE)
				B. ISSUE INDEX (TO ZERO THE COUNTER)
				C. 127. SECTOR CLOCKS
				D. READ THE LOOK AHEAD REGISTER
				E. VERIFY THAT WE ARE STILL AT SECTOR-00 EXTENTION-00
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 73            
                                                                                                                           SEQ 0084
				NONE.

		11675	TEST-216 SECTOR COUNTER TEST

		11679	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE SECTOR COUNTER IS NOT COUNTING TO SLOWLY USING
				THE FOLLOWING TEST SEQUENCE:
				A. PUT IN MAINT MODE (20 SECTOR MODE)
				B. ISSUE INDEX (CLEARS COUNTER
				C. 128. SECTOR CLOCKS (NOW INTO 1ST EXTENTION)
				D. READ L.A. REG.
				E. VERIFY THAT WE ARE AT SECTOR-00 EXTENTION-20
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		11737	TEST-217 SECTOR COUNTER TEST

		11741	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT SECTOR COUNTER IS COUNTING PROPERLY USING THE
				FOLLOWING SEQUENCE:
				A. INTO MAINT MODE (20 SECTOR MODE)
				B. INDEX (CLEARS COUNTER)
				C. 255. SECTOR CLOCKS (TO START OF EXT-20)
				D. READ SECTOR COUNTER
				E. VERIFY THAT WE ARE AT SECT-00 EXT-20
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		11799	TEST-220 SECTOR COUNTER TEST

		11803	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT SECTOR COUNTER IS COUNTING PROPERLY USING THE
				FOLLOWING SEQUENCE:
				A. GO INTO MAINT MODE (20-SECTOR MODE)
				B. ISSUE INDEX (CLEAR THE REGISTER)
				C. 256. SECTOR CLOCKS. (TO START OF EXT-40)
				D. READ SECTOR COUNTER REGISTER
				E. VERIFY THAT WE'RE AT SECT-00 EXT-40
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 74            
                                                                                                                           SEQ 0085
		11861	TEST-221 A SECTOR COUNTER TEST

		11865	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE SECTOR COUNTER IS COUNTING CORRECTLY USING THE
				FOLLOWING SEQUENCE:
				A. GO INTO MAINT MODE (20 SECTOR MODE)
				B. ISSUE INDEX (CLEAR REGISTER)
				C. 511. CLOCKS (TO END OF EXT-40)
				D. READ THE LOOK AHEAD REGISTER
				E. VERIFY THAT WE'RE AT SECT-00 EXT-40
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		11923	TEST-222 A SECTOR COUNTER TEST

		11927	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE SECTOR COUNTER IS COUNTING PROPERLY USING
				THE FOLLOWING SEQUENCE:
				A. GO INTO MAINT MODE (20 SECTOR MODE)
				B. ISSUE INDEX
				C. 512. SECTOR CLOCKS (TO START OF EXT-60)
				D. READ THE LOOK AHEAD REGISTER
				E. VERIFY THAT WE ARE AT SECT-00 EXT-60
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		11985	TEST-223 A SECTOR COUNTER TEST

		11989	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE SECTOR COUNTER IS COUNTING CORRECTLY USING
				THE FOLLOWING SEQUENCE:
				A. GO INTO MAINT MODE (22 SECTOR MODE)
				B. ISSUE INDEX (TO CLEAR THE REGISTER)
				C. 608. SECTOR CLOCKS (TO END OF EXT-60)
				D. READ LOOK AHEAD REGISTER
				E. VERIFY THAT WE ARE AT SECT-00 EXT-60
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 75            
                                                                                                                           SEQ 0086
		12047	TEST-224 A SECTOR COUNTER TEST

		12051	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE SECTOR COUNTER COUNTS CORRECTLY USING
				THE FOLLOWING SEQUENCE:
				A. GO INTO MAINT MODE (22 SECTOR MODE)
				B. ISSUE INDEX (CLEAR COUNTER)
				C. 609. CLOCKS (STEPS YOU OUT OF EXT-60)
				D. READ THE SECTOR COUNTER
				E. VERIFY THAT WE ARE AT THE SECT-01 EXT-00
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		12108	TEST-225 A SECTOR COUNTER TEST

		12112	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE SECTOR COUNTER IS COUNTING CORRECTLY USING
				THE FOLLOWING SEQUENCE:
				A. GO INTO MAINT MODE (20 SECTOR MODE)
				B. ISSUE INDEX (TO CLEAR THE COUNTER)
				C. 671. CLOCKS (STEP TO THE END OF EXT-60)
				D. READ THE LOOK AHEAD REGISTER
				E. VERIFY THAT WE ARE AT SECT-00 EXT-60
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		12170	TEST-226 A SECTOR COUNTER TEST

		12174	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE SECTOR COUNTER IS COUNTING CORRECTLY USING
				THE FOLLOWING SEQUENCE:
				A. GO INTO MAINT MODE (20 SECTOR MODE)
				B. ISSUE INDEX (CLEAR COUNTER)
				C. 672. SECTOR CLOCKS (TO START OF SECT-01 EXT-00)
				D. READ LOOK AHEAD REGISTER
				E. VERIFY THAT WE ARE AT SECT-01 EXT-00
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 76            
                                                                                                                           SEQ 0087
		12232	TEST-227 A SECTOR COUNTER TEST

		12236	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE LOW ORDER 9 BITS OF THE SECTOR FRACTION
				COUNTER CAN BE CLEARED WITH INDEX. THIS PARTICULAR SUBTEST
				WILL ONLY TEST THE 128. AND 256. WEIGHTED FLOPS. THE
				FOLLOWING SEQUENCE IS USED:
				A. GO INTO MAINT MODE (20 SECTOR MODE)
				B. ISSUE INDEX (TO CLEAR THE COUNTER)
				C. 511. SECTOR CLOCKS SETS LOW ORDER 9 BITS
				D. ISSUE INDEX (SHOULD CLEAR)
				E. READ THE REGISTER
				F. VERIFY THAT WE ARE AT SECT-00 EXT-00
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		12302	TEST-230 A SECTOR COUNTER TEST

		12306	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE LOW ORDER 9 BITS OF THE SECTOR FRACTION COUNTER
				CAN BE CLEARED BY INDEX. THIS TEST WILL PICK UP THE RESETS
				OF THE 1 THRU 64. WEIGHTED BITS. THE FOLLOWING SEQUENCE IS USED:
				A. GO INTO MAINT MODE (20 SECTOR MODE)
				B. ISSUE INDEX PULSE
				C. 511. SECTOR CLOCKS (SETS LOW ORDER 9 BITS)
				D. ISSUE 2ND INDEX (SHOULD CLEAR)
				E. 127. SECTOR CLOCKS (MOVES INVISIBLE BITS TO WHERE THEY CAN BE SEEN)
				F. READ SECTOR COUNTER
				G. VERIFY THAT IT IS AT SECT-00 EXT-00
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		12375	TEST-231 A SECTOR COUNTER TEST

		12379	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT INDEX CAN CLEAR ALL OF THE LOW ORDER 10 BITS
				OF THE SECTOR FRACTION COUNTER. THIS TEST PICKS UP THE HIGH
				ORDER BIT (512. WEIGHT). THE FOLLOWING SEQUENCE IS USED:
				A. GO INTO MAINT MODE (20 SECTOR MODE)
				B. ISSUE INDEX (CLEARS COUNTER)
				C. 512. CLOCKS (SET HIGH ORDER BIT)
				D. ISSUE INDEX (SHOULD CLEAR)
				E. READ SECTOR COUNTER
				F. VERIFY THAT IT IS ZERO

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 77            
                                                                                                                           SEQ 0088
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		12443	TEST-232 A SECTOR COUNTER TEST

		12447	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE HIGH ORDER 3 STAGES OF THE SECTOR FRACTION COUNTER,
				EDGE LOAD TO ZEROS PROPERLY AT SECTOR PULSE TIME. THE FOLLOWING
				SEQUENCE IS USED:
				A. GO INTO MAINT MODE (20 SECTOR MODE)
				B. ISSUE INDEX (CLEARS SECTOR COUNTER)
				C. 672. CLOCKS (TAKES YOU TO 1ST SECTOR, CAUSING SECTOR PULSE. THE
					FRACTION COUNTER SHOULD HAVE EDGE LOADED WITH 0'S)
				D. READ THE LOOK AHEAD REGISTER.
				E. VERIFY THAT WE ARE AT SECT-01 EXT-00
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		12507	TEST-233 A SECTOR COUNTER TEST

		12511	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE LOW ORDER 7 FLOPS OF THE SECTOR FRACTION
				COUNTER EDGE LOAD TO ZERO'S AT THE OCCURANCE OF SECTOR
				PULSE. THE FOLLOWING SEQUENCE IS USED:
				A. GO INTO MAINT MODE (20 SECTOR MODE)
				B. ISSUE INDEX  (TO CLEAR COUNTER)
				C. 672. CLOCKS (CAUSES SECTOR PULSE WHICH SHOULD EDGE LOAD
				   THE LOW ORDER 7 BITS WITH ZERO'S)
				D. 127. CLOCKS (STEPS THE LOW ORDER 7 BIT MAGNITUDE TO A
				   VISIBLE AREA IN THE REGISTER.)
				E. READ THE LOOK AHEAD REGISTER
				F. VERIFY THAT WE ARE AT SECT-01 EXT-00
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		12573	TEST-234 A SECTOR COUNTER TEST

		12577	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE SECTOR COUNTER AND OVERFLOW DECODE WORK IN
				20 SECTOR MODE. THE FOLLOWING SEQUENCE IS USED:
				A. GO INTO MAINT MODE (20 SECTOR MODE)
				B. ISSUE INDEX

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 78            
                                                                                                                           SEQ 0089
				C. 12767. SECTOR CLOCKS (TO END OF 2ND LAST SECTOR)
				D. READ THE SECTOR COUNTER
				E. VERIFY THAT WE ARE AT SECT-22 EXT-60
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		12636	TEST-235 A SECTOR COUNTER TEST

		12640	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE SECTOR COUNTER AND OVERFLOW DECODE WORK CORRECTLY
				IN 20 SECTOR MODE. THE FOLLOWING SEQUENCE IS USED:
				A. GO INTO MAINT MODE (20 SECTOR MODE)
				B. ISSUE INDEX (CLEARS COUNTER)
				C. 12768. SECTOR CLOCKS (TO START OF LAST SECTOR)
				D. READ THE SECTOR COUNTER
				E. VERIFY THAT WE ARE AT SECT-23 EXT-00
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		12698	TEST-236 A SECTOR COUNTER TEST

		12702	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE SECTOR COUNTER AND OVERFLOW DECODE ARE WORKING
				CORRECTLY IN 20 SECTOR MODE USING THE FOLLOWING SEQUENCE:
				A. GO INTO MAINT MODE (20 SECTOR MODE)
				B. ISSUE INDEX (CLEAR COUNTER)
				C. 13567. (TAKES YOU TO INVALID SECTOR IF DECODE FAILS)
				D. READ THE RSECTOR COUNTER
				E. VERIFY THAT WE ARE AT SECT-23 EXT-00
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		12760	TEST-237 A SECTOR COUNTER TEST

		12764	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE SECTOR COUNTER AND OVERFLOW DECODER WORK PROPERLY
				IN 22 SECTOR MODE USING THE FOLLOWING SEQUENCE:
				A. GO INTO MAINT MODE 22 SECTOR MODE
				B. ISSUE INDEX (ZERO THE COUNTER)
				C. 12788. SECTOR CLOCKS (TO END OF 2ND LAST SECTOR)
				D. READ THE SECTOR COUNTER
				E. VERIFY THAT WE ARE AT SECT-24 EXT-60

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 79            
                                                                                                                           SEQ 0090
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		12823	TEST-240 A SECTOR COUNTER TEST

		12827	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE SECTOR COUNTER AND OVERFLOW DECODE WORK PROPERLY
				IN 22 SECTOR MODE USING THE FOLLOWING SEQUENCE:
				A. GO INTO MAINT MODE (22 SECTOR MODE)
				B. ISSUE INDEX (TO CLEAR COUNTER)
				C. 12789. SECTOR CLOCKS (TO START OF LAST SECTOR)
				D. READ THE SECTOR COUNTER
				E. VERIFY THAT WE ARE AT SECT-25 EXT-00
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		12885	TEST-241 A SECTOR COUNTER TEST

		12889	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE SECTOR COUNTER AND OVERFLOW DECODE FUNCTION
				PROPERLY IN 22 SECTOR MODE USING THE FOLLOWING SEQUENCE:
				A. GO INTO MAINT MODE (22 SECTOR MODE)
				B. ISSUE INDEX (CLEAR THE COUNTER)
				C. 13489. SECTOR CLOCKS (INTO INVALID SECTOR IF OVERFLOW FAILS)
				D. READ THE SECTOR COUNTER
				E. VERIFY THAT WE ARE AT SECT-25 EXT-00
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		12947	TEST-242 A SECTOR COUNTER TEST

		12951	
				TEST DESCRIPTION
				---------------- 
				VERIFIES THAT THE 4 LOW ORDER BITS OF SECTOR FLOPS CLEAR
				WITH INDEX PULSE. THE FOLLOWING SEQUENCE IS USED:
				A. GO INTO MAINT MODE (22 SECTOR MODE)
				B. ISSUE INDEX (CLEAR THE REGISTER)
				C. 9135. CLOCKS (SET LOW ORDER 4 FLOPS IN SECTOR REG)
				D. ISSUE INDEX (SHOULD CLEAR THE REGISTER)
				E. READ THE SECTOR COUNTER
				F. INSURE THAT WE ARE AT SECT-00 EXT-00
			
				RECOMMENDED DEBUG PROCEDURE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 80            
                                                                                                                           SEQ 0091
				--------------------------- 
				NONE.

		13014	TEST-243 A SECTOR COUNTER TEST

		13018	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE HIGH ORDER BIT OF THE SECTOR COUNTER
				WILL CLEAR WITH INDEX. THE FOLLOWING SEQUENCE IS USED:
				A. GO INTO MAINT MODE (22 SECTOR MODE)
				B. ISSUE INDEX (CLEARS COUNTER)
				C. 9744. CLOCKS (SETS HIGH ORDER FLOP)
				D. ISSUE INDEX (SHOULD CLEAR FLOPS)
				E. READ THE SECTOR COUNTER
				F. VERIFY THAT WE ARE AT SECT-00 EXT-00
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		13074	TEST-244 A SECTOR COUNTER MUX TEST

		13078	
				TEST DESCRIPTION
				---------------- 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

		*****************************************************************
	13095	SECTOR CLOCK AND INDEX TEST
		*****************************************************************

		13100	TEST-245 VERIFY THAT SECTOR CLOCKS COME DOWN FROM DRIVE

		13104	
				TEST DESCRIPTION
				---------------- 
				UNDER PROGRAM CONTROL, THE ONLY THING THE DIAGNOSTIC CAN TELL
				YOU ABOUT SECTOR CLOCK IS THAT IT IS PRESENT OR NOT PRESENT.
				THIS TEST CHECKS FOR ITS PRESENCE USING THE FOLLOWING SEQUENCE.
				A.  GO INTO MAINT MODE (STOPS LOOK AHEAD REGISTER)
				B.  ISSUE A DIAG INDEX PULSE (CLEARS THE LOOK AHEAD REGISTER)
				C.  TAKE DRIVE OUT OF MAINT MODE WITH A MASTER CLEAR.
				    THIS ALLOWS SECTOR CLOCK TO INCREMENT THE LOOK AHEAD
				    REGISTER.
				D.  READ THE LOOK AHEAD REGISTER UP TO A MAXIMUM OF 200
				    TIMES (MORE THAN ENOUGH TO SEE IT INCREMENT)
				E.  IF NO CHANGE OCCURS (LOOK AHEAD STILL SECT-00 EXT-00)
				    IT IS SAFE TO ASSUME THAT ITS NOT INCREMENTING
				    BECAUSE EITHER SECTOR CLOCK IS NOT COMING DOWN
				    OR INDEX COMING DOWN FROM THE DRIVE IS STUCK HIGH.
			

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 81            
                                                                                                                           SEQ 0092
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				EXAMINE THE INDEX PULSE AND SECTOR PULSES COMING ON TO
				THE DP BOARD. THIS IS A SIMPLE PROBLEM TO FIX. SCOPE THE
				FAULTY LOGIC BACK FROM THE DP BOARD.

		13181	TEST-246 TEST FOR THE PRESENCE OF INDEX PULSE

		13185	
				TEST DESCRIPTION
				---------------- 
				THIS TEST IS MERELY TO INSURE THAT INDEX PULSE IS COMING DOWN
				FROM THE DRIVE. THE TEST IS BASED ON THE FACT THAT IF INDEX
				PULSE IS MISSING, THE SECTOR COUNTER WILL COUNT UP AND STICK
				AT SECTOR 25 (OCTAL). THIS IS THE MAXIMUM COUNT POSSIBLE IN
				20 SECTOR MODE. THE FOLLOWING SEQUENCE IS USED:
				A.  GO INTO 20. SECTOR MODE
				B.  READ THE LOOK AHEAD REGISTER UP TO 100 TIMES LOOKING FOR
				    A NON SECTOR 25 VALUE INDICATING THAT INDEX PULSE HAS
				    COME.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				THIS IS AN EASY PROBLEM TO SCOPE IF YOU WORK BACKWARDS
				FROM THE DP BOARD (DPG) WHERE THE SIGNAL IS ACTUALLY
				USED.

		*****************************************************************
	13249	COMMAND DECODE AND PIP TEST
		*****************************************************************

		13254	TEST-247 CHECK PIP AND ILF WITH POSITIONING COMMANDS

		13258	
				TEST DESCRIPTION
				---------------- 
				VERIFY THE SEEK,OFFSET,RETURN TO CENTERLINE, RECAL CAUSE
				THE PIP BIT TO SET AND DON'T CAUSE ILF TO BE SET. THE
				FOLLOWING SEQUENCE IS USED:
				A.  GO INTO MAINT MODE
				B.  SET DA=0 AND DCY NOT EQUAL TO CCY
				C.  ISSUE A POSITION COMMAND
				D.  READ THE CONTROL, STATUS, AND ERROR REG-#1
				E.  TEST FOR PRESENCE OF PIP AND THAT ILF IS NOT SET
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				ALL FAULTS WOULD BE ON THE RG BOARD
				A.  WRONG FUNCTION DECODED
				B.  PIP NOT SETTING BECAUSE OF -OR- GATE LOGIC FAULT
				C.  PIP RESETTING TO RAPIDLY

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 82            
                                                                                                                           SEQ 0093
		*****************************************************************
	13398	INVALID ADDRESS LOGIC TESTS
		*****************************************************************

		13403	TEST-250 VERIFY THAT A LEGAL CYL ADDRESS DECODES CORRECTLY

		13407	
				TEST DESCRIPTION
				---------------- 
				THIS TEST IS TO VERIFY THAT WE CAN ISSUE A MAINT MODE
				SEEK TO EVERY LEGAL CYLINDER WITHOUT GETTING ANY INVALID
				ADDRESS ERRORS. THE FOLLOWING SEQUENCE IS USED:
				1.  ISSUE MASTER CLEAR (CLEAR ERRORS)
				2.  GO INTO MAINT MODE
				3.  LOAD DESIRED ADDRESS REGISTER WITH ZEROS
				4.  LOAD THE DESIRED CYLINDER REGISTER WITH CYLINDER NUMBER
				5.  ISSUE A SEEK COMMAND (STROBES THE "IAE" FLOP)
				6.  READ CONTROL, STATUS, ER1 AND DCY
				7.  VERIFY THAT "IAE" IS NOT SET 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				THERE IS EITHER A COMPARITOR FAULT (SS4) OR MUX FAULT (RG2) 

		13479	TEST-251 VERIFY THAT ILLEGAL CYL ADDRESS DECODES CORRECTLY

		13483	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT ISSUING A SEEK TO AN INVALID CYLINDER CAUSES
				AN "IAE" ERROR. THE FOLLOWING SEQUENCE IS USED:
				1.  ISSUE MASTER CLEAR (TO CLEAR ERRORS)
				2.  GO INTO MAINT MODE
				3.  LOAD DA REG WITH ZEROS.
				4.  LOAD DESIRED CYLINDER REGISTER WITH 815. (ILLEGAL ADDRESS)
				5.  ISSUE A SEEK COMMAND (TO STROBE "IAE" FLOP)
				6.  READ ERROR REGISTER #1
				7.  VERIFY THAT "IAE" IS SET
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				POSSIBLE FAULTS
				1.  "IAE" MUX ON (RG2) FAULTY
				2.  "IAE" FLOP, COMPARITOR, ONE SHOT STROBE FAULT (SS4)

		13555	TEST-252 VERIFY THAT A LEGAL TRACK ADDRESS DECODES CORRECTLY

		13559	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT ISSUING SEEKS TO EACH OF THE LEGAL TRACK ADDRESSES
				DOES NOT CAUSE AN "IAE" TO OCCUR. THE FOLLOWING SEQUENCE
				IS USED:
				1.  ISSUE MASTER CLEAR (TO CLEAR ERRORS)

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 83            
                                                                                                                           SEQ 0094
				2.  GO INTO MAINT MODE
				3.  CLEAR DESIRED CYLINDER ADDRESS REGISTER
				4.  LOAD SECTOR=0 AND DESIRED TRACK
				5.  ISSUE A SEEK COMMAND (STROBE THE "IAE" FLOP)
				6.  READ ER1 AND VERIFY THAT "IAE" IS NOT SET.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		13631	TEST-253 VERIFY THAT AN ILLEGAL TRACK ADR CAUSES "IAE"

		13635	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT AN ATTEMPT TO SEEK TO TRACK 19. WILL CAUSE "IAE"
				TO SET. THE FOLLOWING SEQUENCE IS USED:
				1.  MASTER CLEAR (TO CLEAR ERRORS)
				2.  GO INTO MAINT MODE
				3.  WRITE ZEROS TO DESIRED CYLINDER REGISTER
				4.  WRITE ZERO TO DESIRED SECTOR AND SET UP FOR TRACK 19.
				5.  ISSUE A SEEK COMMAND
				6.  READ ER-1
				7.  VERIFY THAT "IAE" IS SET 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		13705	TEST-254 VERIFY THAT LEGAL SECTORS DON'T CAUSE IAE'S 

		13709	
				TEST DESCRIPTION
				---------------- 
				VERIFY (IN 20 SECTOR MODE) THAT ISSUING SEEKS TO THE LEGAL
				SECTORS DOES NOT CAUSE "IAE" TO SET. THE FOLLOWING SEQUENCE
				IS USED:
				1.  MAST  RESET (TO CLEAR ERRORS)
				2.  GO INTO MAINT MODE
				3.  GO INTO 20 SECTOR MODE
				4.  LOAD 0'S TO DESIRED CYLINDER REGISTER
				5.  LOAD DA REG WITH TRACK=0 CURRENT SECTOR
				6.  ISSUE A SEEK COMMAND (STROBE THE "IAE" FLOP)
				7.  READ ER-1
				8.  VERIFY THAT "IAE" IS NOT SET
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 84            
                                                                                                                           SEQ 0095
		13785	TEST-255 VERIFY THAT ILLEGAL SECTOR CAUSES "IAE"

		13789	
				TEST DESCRIPTION
				---------------- 
				VERIFY (IN 20 SECTOR MODE) THAT ISSUING A SEEK TO SECTOR 20.
				CAUSES "IAE" TO BE SET. THE FOLLOWING SEQUENCE IS USED:
				1.  ISSUE MASTER CLEAR (CLEARS ERRORS)
				2.  GO INTO MAINT MODE
				3.  GO INTO 20 SECTOR MODE
				4.  WRITE 0'S TO DESIRED CYLLINDER ADDRESS REGISTER
				5.  WRITE DA REG WITH TRACK=0 AND SECTOR =20.
				6.  ISSUE A SEEK COMMAND (STROBE "IAE" FLOP)
				7.  READ ER-1
				8.  VERIFY THAT "IAE" IS SET
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		13861	TEST-256 VERIFY THAT LEGAL SECTORS DON'T CAUSE "IAE"

		13865	
				TEST DESCRIPTION
				---------------- 
				VERIFY (IN 22 SECTOR MODE) THAT SEEKING TO LEGAL SECTORS
				DOES NOT CAUSE "IAE". THE FOLLOWING SEQUENCE IS USED:
				1.  MASTER CLEAR (CLEAR ERRORS)
				2.  GO INTO 22 SECTOR MODE
				3.  GO INTO MAINT MODE
				4.  WRITE 0'S TO DESIRED CYLINDER REGISTER
				5.  WRITE DA REG WITH TRACK=0 CURRENT SECTOR
				6.  ISSUE A SEEK (STROBE THE "IAE" FLOP)
				7.  READ ER-1
				8.  VERIFY THAT "IAE" IS NOT DETECTED
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		13940	TEST-257 VERIFY THAT ILLEGAL SECTOR CAUSES "IAE"

		13944	
				TEST DESCRIPTION
				---------------- 
				VERIFY (IN 22 SECTOR MODE) THAT ISSUING A SEEK TO SECTOR 22.
				CAUSES "IAE" TO OCCUR. THE FOLLOWING SEQUENCE IS USED:
				1.  ISSUE MASTER RESET (TO CLEAR ERRORS)
				2.  GO INTO 22 SECTOR MODE
				3.  GO INTO MAINT MODE
				4.  WRITE 0'S TO DESIRED CYLINDER ADDRESS REGISTER
				5.  WRITE TRACK=0 AND SECTOR=22. TO DA REGISTER
				6.  ISSUE A SEEK COMMAND. (STROBE THE "IAE" FLOP)
				7.  READ ERROR REG-1

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 85            
                                                                                                                           SEQ 0096
				8.  VERIFY THAT "IAE" IS SET
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		*****************************************************************
	14013	A SEEK CONTROL LOGIC TEST
		*****************************************************************

		14018	TEST-260 SEEK CONTROL WITH "IAE" SELECTED

		14022	
				TEST DESCRIPTION
				---------------- 
				TEST ESSENTIAL VERIFIES A SIGNAL "SS4 BAD ADR L" CAUSES:
				A.  "SEEK GO CLEAR" TO CLEAR THE GO BIT
				B.  INHIBITS THE SETTING OF "SS0 SEEK GO"
				THE FOLLOWING TEST SEQUENCE IS USED:
				1.  ISSUE MASTER CLEAR (TO CLEAR ERRORS)
				2.  GO INTO MAINT MODE AND SET CCY TO ZERO
				3.  LOAD DCY WITH ILLEGAL CYLINDER (815.)
				4.  ISSUE A SEEK
				5.  READ ER-1 AND CONTROL REGISTER
				6.  ISSUE RHCLR
				7.  READ DCY AND CCY
				8.  VERIFY THAT GO IS ZERO AND THAT CCY IS NOT 815.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		*****************************************************************
	14122	A DATA TEST OF THE CURRENT CYLINDER ADDRESS REGISTER
		*****************************************************************

		14127	TEST-261 CURRENT CYLINDER ADDRESS REGISTER TEST

		14131	
				TEST DESCRIPTION
				---------------- 
				DATA TEST THE CURRENT CYLINDER ADDRESS REGISTER BY TRANSFERRING
				VARIOUS PATTERNS INTO IT FROM THE DESIRED ADDRESS REGISTER. THE
				FOLLOWING TEST SEQUENCE IS USED:
				1.  ISSUE MASTER CLEAR (CLEARS ERRORS)
				2.  GO INTO MAINT MODE
				3.  LOAD PATTERN INTO DESIRED CYLINDER ADR REG
				4.  ISSUE A SEEK COMMAND
				5.  ISSUE MASTER CLEAR (TERMINATES SEEK XFERS DCY TO CCY)
				6.  READ CONTROL REG, DCY,CCY
				7.  VERIFY THAT DCY COPIED TO CCY CORRECTLY
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 86            
                                                                                                                           SEQ 0097
				THE FOLLOWING FAULTS COULD CAUSE A FAILURE TO BE DETECTED
				1.  DIFFERENCE COUNTER FAULT INHIBITED XFER (SS2)
				2.  FAULTY CONTROL LOGIC (SS0)
				3.  CCY REG FAULT (SS1)
				4.  CCY MUX FAULT (SS6)
				5.  RESET LOGIC FAULT COMING FROM (RG)
				6.  RESET -OR- GATE FAILURE TO CCY REGISTER (SS1)

		*****************************************************************
	14257	PARTIAL TEST OF THE SUBTRACTOR LOGIC
		*****************************************************************

		14262	TEST-262 VERIFY THAT SUBTRACTOR WORKS CORRECTLY FOR CCY=DCY

		14266	
				TEST DESCRIPTION
				---------------- 
				THIS TEST VERIFIES THAT THE SUBTRACTOR DOES NOT COME UP WITH
				A DIFFERENCE WHEN CCY=DCY (DONE FOR ALL CYLINDERS)
				THE FOLLOWING TEST SEQUENCE IS USED:
				1.  ISSUE MASTER CLEAR
				2.  GO INTO MAINT MODE
				3.  LOAD DCY WITH CYLINDER
				4.  ISSUE A SEEK COMMAND
				5.  ISSUE MSTCLR (TERMINATE SEEK XFER DCY TO CCY)
				6.  BACK INTO MAINT MODE (DCY NOW EQUALS CCY)
				7.  ISSUE A SEEK COMMAND
				8.  READ THE CONTROL REGISTER
				9.  VERIFY THAT THE GO BIT IS CLEAR. IT SHOULD BE CLEAR
				    BECAUSE THE DIFFERENCE SHOULD BE ZERO. ISSUING A SEEK
				    WHEN DCY=CCY SHOULD INHIBIT THE SEEK FROM OCCURING AND
				    AND GENERATE "SS0 SK GO CLR H" (SS0) TO CLEAR GO.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				POSSIBLE FAULTS:
				1.  ANYTHING IN THE SUBTRACTOR LOGIC (SS2)
				2.  SEEK CONTROL LOGIC FAULT (SS0)

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 87            
                                                                                                                           SEQ 0098
		*****************************************************************
	14355	RECALIBRATE TEST
		*****************************************************************

		14360	TEST-264 A FULL SPEED RECAL TEST

		14364	
				TEST DESCRIPTION
				---------------- 
				THIS TEST ISSUES A RECAL, WAITS FOR COMPLETION, TEST FOR
				ERRORS FOLLOWING COMPLETION.
				THE RECAL CAN ONLY BE TESTED AT FULL SPEED (FUNCTIONALLY)
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				THERE ARE 2 FAILURE POSSIBILITIES:
				A.  DEVICE TIMES OUT IN WHICH CASE IT WILL BE USEFUL TO
				    REFER TO THE RECALIBRATE TIMING DIAGRAM
				    IN AN ATTEMPT TO DETERMINE THE FAULTY AREA IN
				    THE RECALIBRATE SEQUENCE.
				B.  THE RECALIBRATE OPERATION HAS CAUSED SOME SORT OF ERROR.
				    RECOMMEND SCOPING BACK FROM THE PARTICULAR ERROR FLOP
				    TO DETERMINE WHAT THE FAULT ACTUALLY IS. TOO MANY
				    MODULES ARE INVOLVED TO EVEN ATTEMPT A GUESS.

		*****************************************************************
	14424	A DCY RESET TEST
		*****************************************************************

		14429	TEST-265 TEST RESET OF CURRENT CYL ADR. REG

		14433	
				TEST DESCRIPTION
				---------------- 
				THIS TEST VERIFIES THAT ALL FLOPS IN THE CCY REGISTER
				WILL RESET WITH A RECAL PULSE.  THE FOLLOWING SEQUENCE IS
				USED: (TWO PATTERNS ARE REQUIRED (377 AND 1400 OCTAL))
				1.  ISSUE MASTER RESET (TO CLEAR ERRORS)
				2.  GO INTO MAINT MODE
				3.  LOAD PATTERN INTO DESIRED CYLINDER ADDRESS REGISTER
				4.  ISSUE A SEEK COMMAND
				5.  ISSUE MASTER CLEAR (TO XFER DCY TO CCY)
				6.  ISSUE A RECAL (SHOULD CLEAR CCY)
				7.  READ CURRENT CYLINDER REGISTER
				8.  IT SHOULD BE ZERO
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				POSSIBLE FAULTS:
				1.  STUCK FLOPS CCY REGISTER (SS)
				2.  NO RECAL PULSE (RG)
				3.  NO MODULE SELECT (SN) 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 88            
                                                                                                                           SEQ 0099
		*****************************************************************
	14512	A TEST OF THE SUBTRACTOR LOGIC
		*****************************************************************

		14517	TEST-266 TEST SUBTRACTOR LOGIC WITH A SERIES OF PATTERNS

		14521	
				TEST DESCRIPTION
				---------------- 
				THIS TEST APPLIES A SET OF PATTERNS TO CCY AND DCY AND
				LOOKS FOR THE FACT THAT A DIFFERENCE WAS DETECTED. THE PATTERNS
				COME FROM A LOOK UP TABLE. THE PATTERNS CHOSEN WILL CATCH
				A VERY HIGH PERCENTAGE OF SUBTRACTOR FAULTS.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		*****************************************************************
	14623	SOME SEEK TESTS
		*****************************************************************

		14628	TEST-267 BASIC SEEK TEST

		14632	
				TEST DESCRIPTION
				---------------- 
				THIS TEST MERELY ISSUES A 1 CYLINDER SEEK AT FULL SPEED
				AND TESTS FOR THE FOLLOWING SITUATIONS:
				1.  DRIVE DOES NOT HANG
				2.  NO ERRORS ARE CAUSED
				3.  THAT DCY=CCY=1
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				MODULE CALLOUT IS TOO DIFFICULT IN A FUNCTIONAL TEST LIKE THIS.
				THIS TEST HAS WORKED PREVIOUSLY IN MAINT MODE. IF A FAILURE
				IS DETECTED BY THIS TEST, IT IS RECOMMENDED THAT YOU USE
				THE SEEK TIMING DIAGRAM
				    IF THE DEVICE TIMES OUT (HANGS), THERE IS PROBABLY
				A BASIC INTERFACE SIGNAL PROBLEM BETWEEN THE DCL AND DRIVE LOGIC.
				    IF AN SKI OR OCYL ERROR CONDITION OCCUR, THERE IS
				PROBABLY A DCL FAULT. CHECK FOR INCORRECT DIFFERENCE BEING
				SENT TO THE DRIVE.
				    IF ANY OTHER ERROR CONDITION OCCURS, IT WOULD BE
				BEST TO TRACE BACK FROM THE ERROR LATCH UNTIL THE CAUSE
				CAN BE DETERMINED.

		14709	TEST-270 TEST OF "SKI" LOGIC

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 89            
                                                                                                                           SEQ 0100
		14713	
				TEST DESCRIPTION
				---------------- 
				THIS TEST VERIFIES THAT THE SEEK INCOMPLETE LOGIC IS CAPABLE
				OF DETECTING SUCH AN ERROR CONDITION. THE FOLLOWING SEQUENCE IS
				USED TO TEST THE "SKI" LOGIC:
				1.  CLEAR ERRORS
				2. RECAL	(POSITIONER TO CYLINDER 0)
				3.  SEEK TO CYLINDER-1	(POSITIONER TO CYLINDER-1)
				4.  LOAD 400 INTO THE CCY (HARDWARE NOW OUT OF SYNCH)
				5.  ISSUE A SEEK TO CYLINDER-375
					THIS SHOULD CAUSE AN "SKI" ERROR. THE POSITIONER IS ALREADY
					OVER CYLINDER-1 BUT IT THINKS A 4-CYL REVERSE SEEK
					MUST BE DONE BECUASE CCY IS SITTING AT 400.
				6.  READ ERROR REGISTER AND CCY REGISTER.
				7.  VERIFY THAT "SKI" HAS OCCURRED.
				8.  VERIFY THAT CCY IS NOW CLEAR. THIS IS TRUE BECAUSE "SKI"
					CAUSES THE DRIVE TO INITIATE AN AUTOMATIC RECAL PULSE
					WHICH CAUSES A "RESET REGS" TO OCCUR
					AND RESET CCY IF THE SEQUENCE WORKS CORRECTLY.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				MODUE CALLOUT AGAIN IS TOO DIFFICULT IN THIS TEST TO BE
				ACCURATE. ALTHOUGH THE REPORTED MODUES ARE POSSIBLY FAULTY,
				IT IS NOT A COMPLETE SET AND SCOPING THE SEQUENCE WILL
				PROBABLY BE NECESSARY.

		14875	TEST-271 A TEST OF SUBTRACTOR DIFFERENCE LOGIC

		14879	
				TEST DESCRIPTION
				---------------- 
				THIS SET OF 2 SUBTESTS CAUSES SEEKS WITH ALL POSSIBLE
				POSITIVE AND NEGATIVE SUBTRACTOR DIFFERENCES.
				PHILOSOPHY:
				THESE ARE FUNCTIONAL TESTS DESIGNED TO DETECT BUT NOT DIAGNOSE
				A CLASS OF SEEK CONTROL LOGIC FAULTS.  SINCE THE OUTPUT OF THE
				DIFFERENCE. LOGIC IS NOT VISIBLE, THIS TEST HAS TO BE VERY
				FUNCTIONAL. IF WE SLIP POSITION DURING THE TEST SEQUENCE,
				THE ERROR WILL ACCUMULATE AND AT SOME POINT IN THE
				SEQUENCE, FORCE THE POSITIONER TO ONE OF THE GUARD
				BANDS CAUSING A "SKI" TO OCCUR. UNFORTUNATELY, THE ONLY
				THING WE CAN SAY ABOUT A FAULT DETECTED IN THIS TEST IS
				THAT "A POSITIONER MALFUNCTION" EXISTS.
				THE FOLLOWING TEST SEQUENCE IS USED:
			
				FOR SUBTEST-#1
				1.  N=1
				2.  RHCLR
				3.  RECAL
				4.  SEEK TO CYL-N AND TEST FOR ERROR
				5.  SEEK TO CYL-0 AND TEST FOR ERROR
				6.  N=N+1

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 90            
                                                                                                                           SEQ 0101
				7.  DONE IF N=814. IF NOT DONE GO TO STEP-4
			
				FOR SUBTEST-#2
				1.  N=813.
				2.  RHCLR
				3.  RECAL
				4.  SEEK TO CYL-814.
				5.  SEEK TO CYL-N AND TEST FOR ERROR
				6.  SEEK TO CYL-814. AND TEST FOR ERROR
				7.  N=N-1
				8.  DONE IF (N .LT. 0) OTHERWISE GO TO STEP-5
			
				DO TO THE WAY IN WHICH THIS TEST COULD FAIL, THE STANDARD
				SCOPE LOOP TECHNIQUE IS NOT USED. UPON DETECTING AN ERROR, THIS
				TEST WILL REPORT, CLEAR AND REMEMBER THE FACT THAT AN ERROR
				WAS COMMITTED. AFTER CYCLING THROUGH THE ENTIRE TEST, IT WILL
				BE REPEATED IF LOOP ON ERROR HAS BEEN SELECTED AND AN ERROR
				WAS DETECTED SOMEWHERE ALONG THE WAY
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				POSITIONER ACCESS TIMES SHOULD BE CHECKED
				ALONG WITH TACHOMETER GAIN ADJUSTMENTS
				NONE

		*****************************************************************
	15078	A "NOP" TEST
		*****************************************************************

		15083	TEST-272 VERIFY THAT A NO-OP COMMAND IS OPERATIONAL

		15087	
				TEST DESCRIPTION
				---------------- 
				ISSUE A NO-OP COMMAND IN MAINT MODE AND INSURE THAT THE
				GO BIT IS NOT SET. THIS GIVES SOME CONFIDENCE THAT THE COMMAND
				WAS NOT DECODED INCORRECTLY
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				1.  LOOK FOR WRONG OR MULTI-COMMANDS DECODED
				2.  LOOK FOR FAULT IN THE RESET-GO PATH

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 91            
                                                                                                                           SEQ 0102
		*****************************************************************
	15148	AN OPI TEST
		*****************************************************************

		15153	TEST-273 VERIFY OPERATION OF "OPI" ERROR LOGIC

		15157	
				TEST DESCRIPTION
				---------------- 
				THE FOLLOWING SEQUENCE IS USED TO VERIFY PART OF THE "OPI"
				ERROR DETECTION LOGIC:
				1.  ISSUE MASTER CLEAR (TO CLEAR ERRORS)
				2.  ISSUE RECAL (SYNCHRONIZE POSITIONER)
				3.  GO INTO MAINT MODE
				4.  ISSUE A SEARCH FOR SURF=0 SECT=0
				5.  ISSUE INDEX
				6.  ISSUE INDEX
				7.  VERIFY THAT "OPI" IS NOT SET TO EARLY
				8.  ISSUE INDEX
				9.  VERIFY THAT "OPI" DID SET 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				POSSIBLE FAULTS:
				A.  OPI FAULT NOT SETTING (RG0)
				B.  OPI SHIFT REG FAULT (SS0)
				C.  CLEAR LOGIC FAULT TO SHIFT REG FOR OPI (SCOPE THE PROBLEM) 

		*****************************************************************
	15245	RMR TESTS
		*****************************************************************

		15250	TEST-274 VERIFY THAT RMR CAN OCCUR

		15254	
				TEST DESCRIPTION
				---------------- 
				CAUSE AN RMR CONDITION AND VERIFY THAT THE DRIVE
				RESPONDS CORRECTLY USING THE FOLLOWING SEQUENCE:
				1.  MASTER CLEAR
				2.  ISSUE A RECAL
				3.  GO INTO MAINT MODE (ALLOWS SEEK TO HANG)
				4.  SEEK TO CYL-1 (SETS GO BIT)
				5.  WRITE 0 TO DCY (SHOULD CAUSE RMR)
				6.  READ R1 AND DCY
				7.  VERIFY THAT RMR OCCURRED
				8.  VERIFY THAT DCY WAS NOT LOADED
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 92            
                                                                                                                           SEQ 0103
		15337	TEST-275 VERIFY THAT WRITING "ATA" DOES NOT CAUSE RMR

		15341	
				TEST DESCRIPTION
				---------------- 
				WRITE THE ATTENTION SUMMARY REGISTER WITH THE GO-BIT SET
				AND VERIFY THAT "RMR" DOES NOT OCCUR.
				1.  MASTER CLEAR
				2.  RECAL
				3.  GO INTO MAINT MODE (ALLOWS SEEK TO HANG)
				4.  SEEK TO CYL-1 (SETS GO-BIT)
				5.  WRITE THE ATA REG WITH ZEROS
				6.  READ ER-1
				7.  VERIFY THAT "RMR" DID NOT SET
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				REMOTE POSSIBILITY OF REGISTER SELECT FAILURE WHILE WRITING ATA

		*****************************************************************
	15406	SEARCH TESTS
		*****************************************************************

		15411	TEST-276 BASIC SEARCH FUNCTION IN MAINT MODE

		15415	
				TEST DESCRIPTION
				---------------- 
				THIS TEST IS A BASIC VERIFICATION OF THE SEARCH COMMAND DECODE.
				THE FOLLOWING TEST SEQUENCE IS USED:
				A.  MASTER CLEAR, (TO CLEAR ERRORS)
				B.  RECAL (CAUSES CCY=0)
				C.  SET DA REG FOR CYL=0, SECT=0
				D.  GO INTO MAINT MODE (NO SECT PULSE FREEZES COMMAND)
				E.  ISSUE A SEARCH
				F.  READ CONTROL, STATUS AND ERROR REGS.
					TEST FOR CORRECT STATUS
					GO BIT=1
					PIP=0
					COMPOSITE ERROR=0 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
			
				FAULT: GO BIT NOT SET
				A.  CHECK FOR WRONG OR MULTI COMMAND DECODE (RG3)
				B.  POSSIBLY GO-BIT RESET IMMEDIATELY BECAUSE OF FAULTY RESET
				    LOGIC "SS0 SEARCH COMP L" (SS0)
				C.  SOME COMPOSITE ERROR CONDITION CAUSED GO-BIT TO CLEAR
				    (RESET GO LOGIC RG0)
				FAULT: PIP GOT SET
				A.  WRONG COMMAND OR MULTI COMMAND DECODED (RG3)
				FAULT: COMPOSITE ERROR CREATED. MUST TRACE PROBLEM
				       BACK FROM APPROPRIATE ERROR FLOP.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 93            
                                                                                                                           SEQ 0104
		15516	TEST-277 OPERATION WHILE SEARCHING FOR ILLEGAL SECTOR

		15520	
				TEST DESCRIPTION
				---------------- 
				THIS TEST ISSUES A SEARCH FOR AN ILLEGAL SECTOR. THE STATUS
				OF THE DRIVE IS THEN CHECKED TO VERIFY THAT PERFORMANCE WAS
				CORRECT UNDER THIS SET OF CONDITIONS. THE SEARCH SHOULD TERMIATE
				IMMEDIATELY BBECAUSE OF "IAE" AND THE GO BIT SHOULD RESET VIA THE
				CLASS-B ERROR RESET CONDITION. THE FOLLOWING TEST SEQUENCE IS USED:
				1.  CLEAR ERRORS
				2.  RECAL (SETS CCY=0)
				3.  SET DCY=0
				4.  SET DA REG TO TRACK=0 SECT=30
				5.  GO INTO MAINT MODE
				6.  ISSUE A SEARCH COMMAND
				7.  READ DEVICE REGISTERS AND VERIFY STATUS
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		15597	TEST-300 SEARCH FOR SECTOR 0

		15601	
				TEST DESCRIPTION
				---------------- 
				THIS IS THE FIRST FULL SPEED SEARCH COMMAND. A FUNCTIONAL SEARCH
				FOR SECTOR=0, CYLINDER=0, SURFACE=0. THE FOLLOWING SEQUENCE IS USED:
				1.  RHCLR
				2.  RECAL
				3.  SET DA=DCY=0
				4.  SEARCH
				5.  WAIT UNTIL DONE
				6.  READ DEVICE REGISTERS
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				THE FOLLOWING FAULTS MAY CAUSE THIS TEST TO MALFUNCTION
				1.  NO SECTOR MATCH BECAUSE OF BAD COMPARITOR ON (SS5)
				2.  SEARCH CONTROL LOGIC FAULT ON (SS0)
				3.  HUNG BECAUSE SEARCH COMPLETE NOT RESETTING THE GO-BIT (RG0)

		15668	TEST-301 SEARCH COMBINED WITH IMPLIED SEEK

		15672	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT SEARCH CAUSES IMPLIED SEEK BY LOOKING AT
				THE CURRENT CYLINDER ADR REG WHEN COMPLETED. EXCEPT
				FOR THE IMPLIED SEEK TO CYLINDER #1, THIS TEST IS IDENTICAL
				TO THE PREVIOUS TEST.
			
				RECOMMENDED DEBUG PROCEDURE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 94            
                                                                                                                           SEQ 0105
				--------------------------- 
				NONE

		15741	TEST-302 VERIFY OPERATION OF THE SECTOR COMPARITOR

		15745	
				TEST DESCRIPTION
				---------------- 
				THIS TEST CANNOT RUN IN USER MODE BECAUSE SYSTEM SCHEDULING
				WILL CAUSE IT TO FAIL. SEARCH FOR ALL POSSIBLE SECTORS IN
				22 SECTOR MODE. THIS TEST SEARCHES FOR ALL SECTORS FROM
				EVERY OTHER SECTOR ON THE DISK. THE FOLLOWING ALGORITHM IS USED:
				1.  RHCLR
				2.  RECAL
				3.  SYNCH=0 (A SYNCH POINT TO START SEARCH FROM)
				4.  .SECT=0 (SECTOR=0 TRACK=0)
				5.  RHCLR (CLEAR ERRORS)
				6.  DCY=0 (CLEAR DESIRED CYL ADR)
				7.  DA REG LOADED WITH .SECT
				8.  KEEP READING LOOK AHEAD REG UNTIL WE FIND SECT (SYNCH)
				9.  NOW IN SYNCH. ISSUE A SEARCH COMMAND
				10. WAIT UNTIL DONE. THEN READ THE LOOK AHEAD REG
				    IF ERROR: REPORT AND LOOP TO STEP-5
				11. VERIFY THAT THE LOOK AHEAD REGISTER=.SECT
				    IF ERROR: REPORT AND LOOP TO STEP-5
				12. .SECT=.SECT+1
				    IF .SECT .LE. 22., GO TO STEP-5
				13. SYNCH=SYNCH+1 ADVANCE TO NEXT SYNCH POINT
				    IF SYNCH .LE. 22. GO TO STEP-4 (NEXT PERMUTATION)
				14. DONE WITH TEST (APPROX. 484 SEARCHES). 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		*****************************************************************
	15916	WRITE LOCK SWITCH TEST
		*****************************************************************

		15921	TEST-303 TEST OPERATION OF WRITE LOCK SWITCH

		15925	
				TEST DESCRIPTION
				---------------- 
				VERIFY WITH THE STATUS REGISTER AND OPERATOR INTERVENTION THAT
				THE WRITE LOCK SWITCH WORKS CORRECTLY.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				POSSIBLE FAULTS:
				A.  A FAULTY WRITE LOCK SWITCH
				B.  FAULTY MUX FOR "WRL" BIT (RG2)
				C.  MDLI INTERFACE FALT (MB0,A05) "WRL LINE"
				D.  FAULTY "WRL" LATCHES (B12)

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 95            
                                                                                                                           SEQ 0106
				E.  FAULTY MODULE SELECT LOGIC (B07,B05)
				F.  NO MODULE SELECT COMING OVER FROM DCL (MA0)

		*****************************************************************
	16027	UNLOAD/STANBY TEST
		*****************************************************************

		16032	TEST-304 TEST OPERATION OF UNLOAD/STAND-BY 

		16036	
				TEST DESCRIPTION
				---------------- 
				VERIFY THROUGH OPERATOR INTERVENTION AND STATUS INFORMATION
				THAT THE UNLOAD COMMAND WORKS CORRECTLY.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				THIS IS AN EASY FAILURE TO TROUBLESHOOT USING THE UNLOAD
				TIMING DIAGRAM.  THERE IS ONE POSSIBILITY OF
				HANGING THE DEVICE. A FAULTY SWITCH COULD HANG THE
				DEVICE IN STAND-BY AND THE ONLY WAY TO GET IT OUT
				WOULD BE TO POWER THE DRIVE DOWN AND UP. IF THE
				CONDITION EVER OCCURS WHERE EVEN POWERING THE DRIVE DOWN
				AND UP WON'T TAKE YOU OUT OF STAND-BY, REPLACE D02.

		*****************************************************************
	16185	OPERATION OF THE OFFSET COMMAND
		*****************************************************************

		16190	TEST-305 ISSUE A 0 MICRO-INCH OFFSET

		16194	
				TEST DESCRIPTION
				---------------- 
				A FULL SPEED OFFSET OPERATION TO TEST FOR A HUNG DEVICE
				OR A COMPOSITE ERROR CAUSED BY OFFSETTING. THE TEST SEQUENCE:
				1.  MASTER CLEAR
				2.  RECAL
				3.  DCY=0
				4.  DA=0
				5.  OFFSET=0
				6.  ISSUE AN OFFSET COMMAND
				7.  WAIT UNTIL DONE AND TEST FOR ERRORS 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				    AN AIDE TO DEBUG WOULD BE THE OFFSET TIMING DIAGRAM
				    POSSIBLE FAULTS THAT COULD CAUSE DEVICE TO HANG:
				    OFFSET CONTROL LOGIC (RG5)
				    OFFSET RESET LOGIC (RG5)
				    MDLI INTERFACE MODULES (D01, D02, MA, MB)
				    MEMOREX OFFSET CONTROL LOGIC (D01,D02,D03)
			
				    IF A COMPOSITE ERROR OCCURS. SCOPE BACK FROM THE ERROR FLOP

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 96            
                                                                                                                           SEQ 0107
				    THAT INDICATES THE PROBLEM.

		*****************************************************************
	16269	RETURN TO CENTERLINE TEST
		*****************************************************************

		16274	TEST-306 FULL SPEED RETURN TO CENTERLINE TEST

		16278	
				TEST DESCRIPTION
				---------------- 
				TEST TO VERIFY THAT THE RETURN TO CENTERLINE COMMAND DOES
				NOT CAUSE A COMPOSITE ERROR OR HUNG DEVICE. THE SEQUENCE:
				1.  MASTER CLEAR
				2.  RECAL
				3.  DCY=DA=OFSET=0
				4.  ISSUE (TWO) RETURN TO CENTERLINE COMMANDS
				    THE FIRST WILL TAKE DRIVE OUT OF OFSET MODE IF NECESSARY
				5.  WAIT UNTIL DONE AND VERIFY THAT DEVICE DID NOT HANG
				    AND COMPOSITE ERROR DID NOT SET
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				AN AIDE TO DEBUG WOULD BE THE RTNCTL TIMING DIAGRAM
			
				IF A COMPOSITE ERROR CONDITION OCCURS, SCOPE BACK FROM ERROR FLOP

		*****************************************************************
	16346	FUNCTIONAL OPERATION OF OFFSET LOGIC
		*****************************************************************

		16351	TEST-307 ISSUE THE POSSIBLE OFFSETS

		16355	
				TEST DESCRIPTION
				---------------- 
				ISSUE THE POSSIBLE OFFSETS AND RTN TO CTR LINE COMMANDS
				AT FULL SPEED TO CHECK FOR HUNG DEVICE OR COMPOSITE ERROR.
				THE TEST SEQUENCE:
				1.  MASTER CLEAR
				2.  RECAL
				3.  DCY=DA=0
				4.  LOAD OFFSET REGISTER WITH A VALUE
				5.  ISSUE AN OFFSET COMMAND
				6.  VERIFY THAT NO ERROR OCCURRED
					IF ERROR: LOOP BACK TO STEP#1 AFTER REPORTING
				7.  ISSUE A RTN TO CTR LINE COMMAND
				8.  VERIFY THAT NO ERROR OCCURRED
					IF ERROR: LOOP BACK TO STEP#[1 AFTER REPORTING
				9.  UPDATE OFFSET VALUE FROM TABLE. IF NOT FINISHED
				    GO BACK TO STEP#1 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 97            
                                                                                                                           SEQ 0108
				DONT KNOW WHAT PROBLEMS THIS TEST COULD UNCOVER, BOTH
				THE OFFSET AND RTN TO CTL COMMANDS HAVE EXECUTED
				CORRECTLY IN PREVIOUS TESTS. THE ONLY VARIATION IS THAT
				DIFFERENT OFFSETS ARE REQUESTED IN THIS TEST. IF COMPOSITE
				ERROR OCCURS, I SUGGEST SCOPING BACK FROM THE ERROR FLOP
				TO FIND THE CAUSE.

		*****************************************************************
	16465	SEEK WHILE IN OFFSET MODE
		*****************************************************************

		16470	TEST-310 ISSUING A SEEK WHILE IN OFFSET MODE

		16474	
				TEST DESCRIPTION
				---------------- 
				IF THE DRIVE IS IN OFFSET MODE WHEN A SEEK IS REQUESTED, IT
				IS SUPPOSED TO POSTPONE THE SEEK AND ISSUE AN AUTO RTN TO
				CENTERLINE AND THE PROCEED WITH THE SEEK. THE LOGIC TO
				DO THIS IS ON (SS0). THERE IS NO WAY TO GUARANTEE
				THAT THIS OPERATION WORKS CORRECTLY BUT THIS TEST DOES
				THE OPERATION LOOKING FOR HUNG DEVICES OR COMPOSITE
				ERROR BEING CAUSED BY THIS OPERATION. THE FOLLOWING
				TEST SEQUENCE IS USED:
				1.  MASTER CLEAR
				2.  RECAL
				3.  DCY=0=DA
				4.  OFFSET=600 U-INCHES
				5.  ISSUE AN OFFSET COMMAND
				6.  SEEK TO CYLINDER #1
				7.  WAIT UNTIL DONE
				8.  READ DEVICE REGISTERS
				9.  VERIFY THAT
					A.  DEVICE DID NOT HANG
					B.  COMPOSITE ERROR DID NOT SET
					C.  SEEK TOOK PLACE (CCY=1) 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				SINCE ALL PARTS OF THIS SEQUENCE HAVE WORKED INDIVIDUALLY
				IT IS MOST LIKELY THAT THE CONTROL LOGIC ON SS0 IS FAULTY 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 98            
                                                                                                                           SEQ 0109
		*****************************************************************
	16558	ATTENTION LOGIC TESTS
		*****************************************************************

		16563	TEST-311 VERIFY THAT ATA IS NOT STUCK SET

		16567	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE "ATA" FLOP IS NOT STUCK AT 1. THE FOLLOWING
				TEST SEQUENCE IS USED:
				1. ISSUE MASTER CLEAR (SHOULD RESET ATA)
				2. WRITE ATA REG WITH 377 (SHOULD RESET ATA)
				3. READ THE STATUS REGISTER
				4. VERIFY THAT ATA IS CLEAR.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				IF REPLACING THE MODULES WILL NOT CLEAR UP THE PROBLEM, SCOPE
				BACK ON THE RG BOARD TO FIND OUT WHAT CONDITION IS FORCING
				ATA TO SET.

		16624	TEST-312 VERIFY THAT ATA CAN BE SET

		16628	
				TEST DESCRIPTION
				---------------- 
				THE FOLLOWING TEST SEQUENCE IS USED:
				1. ISSUE MASTER CLEAR
				2. WRITE THE ATA REG WITH (377)
				3. ISSUE RECAL (CAUSES ATA)
				4. READ THE STATUS REG
				5. VERIFY THAT ATA IS SET
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		16685	TEST-313 VERIFY THAT RHCLR WILL RESET ATA

		16689	
				TEST DESCRIPTION
				---------------- 
				1. ISSUE MASTER CLEAR (CLEAR ATA)
				2. WRITE THE ATA REG WITH (377) (CLEAR ATA)
				3. ISSUE RECAL (SETS ATA)
				4. ISSUE MSTCLR (RHCLR TO CLEAR ATA)
				5. READ STATUS REGISTER
				6. VERIFY THAT ATA IS CLEAR
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 99            
                                                                                                                           SEQ 0110
		16748	TEST-314 VERIFY RESITTING OF "ATA" BY WRITING REG-04

		16752	
				TEST DESCRIPTION
				---------------- 
				THE FOLLOWING TEST SEQUENCE IS USED:
				1. MASTER CLEAR (CLEARS ATA)
				2. ISSUE RECAL TO SET ATA
				3. WRITE ATA WITH PROPER BIT FOR DRIVE BEING TESTED
				4. READ THE STATUS REGISTER
				5. VERIFY THAT ATA IS CLEAR
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		16807	TEST-315 VERIFY OPERATION OF PSEUDO ATA POSITION

		16811	
				TEST DESCRIPTION
				---------------- 
				ALREADY KNOW THAT WRITING ATA REG WITH 377 WILL RESET
				THE ATA FLOP. THIS IS A TEST TO VERIFY THE POSITION DECODE.
				THE IDEA IS TO CAUSE AN ATTENTION AND THEN WRITE ALL
				BITS OF THE ATA REG "BUT" THE DRIVE ASSERTING ATTENTION.
				IF POSITION DECODER IS WORKING, ATA WILL STILL BE SET.
				THE FOLLOWING SEQUENCE IS USED:
				1. MASTER CLEAR
				2. RECAL (CAUSES ATA)
				3. WRITE ATA BITS FOR DRIVES "NOT" UNDER TEST
				4. READ STATUS REG FOR DRIVE BEING TESTED
				5. VERIFY THAT "ATA" HAS NOT CLEARED.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		16887	TEST-316 BASIC ATA REG READ CYCLE

		16891	
				TEST DESCRIPTION
				---------------- 
				THE FOLLOWING SEQUENCE IS USED:
				1. MASTER CLEAR
				2. WRITE ATA WITH 377 (CLEARS ALL ATA'S IN ALL DRIVES)
				3. READ THE STATUS REGISTERS FOR ALL DRIVES INTO CORES
				4. READ ATA SUMMARY REG
				5. VERIFY THAT ATA SUMMARY REG IS ZERO
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				IF THIS TEST FAILS THERE ARE POSSIBILITIES
				1. DRIVE UNDER TEST HAS A READ PATH PROBLEM
				2. SOME DRIVE OTHER THAN THE ONE UNDER TEST HAS AN ATA

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 100           
                                                                                                                           SEQ 0111
				   PROBLEM
			
				TO DEBUG:
				A. IF THE STATUS REGISTER FOR ONE OTHER DRIVES IS INDICATES
				   THAT ATA IS SET, THAT DRIVE HAS FAULTY ATA LOGIC
				   AND SHOULD BE INCLUDED IN THE TEST.
			
				B. IF NO DRIVES STATUS REG INDICATES ATA IS SET, BUT,
				   ATA SUMMARY REGISTER INDICATES THAT A DRIVE IS
				   ASSERTING ATA, SHUT DRIVES ON THE BUSS DOWN, ONE
				   AT A TIME UNTIL THE ATA CONDITION GOES AWAY, THIS
				   WILL IDENTIFY THE DRIVE WITH THE FAULTY ATA LOGIC.

		17009	TEST-317 TEST FOR PROPER PSEUDO ATA POSITION

		17013	
				TEST DESCRIPTION
				---------------- 
				THIS TEST VERIFIES THAT WHEN THE TEST DRIVE ASSERTS ATA,
				IT COMES BACK IN ONE AND ONLY ONE POSITION IN THE
				ATA REGISTER AND ALSO THAT THE POSITION IS CORRECT.
				THE FOLLOWING TEST SEQUENCE IS USED:
				1. MASTER RESET
				2. RECAL (TO SET ATA)
				3. READ ATA REG
				4. VERIFY THAT IT IS CORRECT
					A. ATA IS ASSERTED FOR THIS DRIVE IN PROPER POSITION
					B. NO OTHER ATA'S ASSERTED (MULTIPLE POSITION DECODE)
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		17078	TEST-320 VERIFY THAT "SK GO CLR" SETS ATA

		17082	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE COMPLETION OF A SEEK SETS ATA. THE
				FOLLOWING SEQUENCE IS USED:
				1. MASTER RESET (CLEARS ERRORS)
				2. RECAL
				3. MASTER RESET (RESETS ATA)
				4. SEEK TO CYL-0 (CAUSES ATA)
				5. READ STATUS REG
				6. VERIFY THAT ATA IS SET
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 101           
                                                                                                                           SEQ 0112
		17142	TEST-321 VERIFY THAT "SRCH COMPL" WILL SET ATA

		17146	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE COMPLETION OF A SEARCH WILL SET ATA USING
				THE FOLLOWING SEQUENCE:
				1. MASTER RESET (CLEAR ERRORS)
				2. RECAL
				3. MASTER RESET (CLEARS ATA)
				4. ISSUE A SEARCH FOR CYL = 0 SECT = 0 SURF = 0
				5. READ STATUS REG
				6. VERIFY THAT ATA IS SET
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		17207	TEST-322 VERIFY THAT SETTING GO WHILE "ERR", CAUSES ATA

		17211	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT ATTEMPTING TO SET THE GO BIT WHILE THE DRIVE
				HAS A COMPOSITE ERROR, CAUSES ATA TO BE SET. THE FOLLOWING
				SEQUENCE IS USED:
				1. MASTER RESET (CLEARS ERRORS)
				2. RECAL
				3. WRITE A "DCK" ERROR INTO ER1
				4. WRITE 377 TO ATA REG TO CLEAR ATA
				5. ISSUE A NO-OP WITH THE GO BIT SET (SHOULD SET ATA)
				6. READ STATUS REG AND VERIFY THAT ATA WAS SET.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		17278	TEST-323 VERIFY THAT ATA CAN BE CLEARED WHILE ERROR PERSISTS

		17282	
				TEST DESCRIPTION
				---------------- 
				THE FOLLOWING TEST SEQUENCE IS USED:
				1. MASTER RESET (CLEARS ERRORS)
				2. RECAL (SETS ATA)
				3. WRITE A DCK ERROR TO ER1
				4. WRITE THE ATA REG TO RESET ATA FLOP
				5. READ STATUS REG
				6. VERIFY THAT ATA IS CLEARED
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 102           
                                                                                                                           SEQ 0113
		*****************************************************************
	17340	DATA TRANSFER TESTS
		*****************************************************************

		17345	TEST-325 DATA TRANSFER COMMAND DECODE CHECKS

		17349	
				TEST DESCRIPTION
				---------------- 
				THIS TEST IS DESIGNED TO VERIFY THAT THE DATA TRANSFER COMMANDS
				ARE DECODED REASONABLY IN THE DRIVE. THIS TEST SEQUENCE IS
				USED FOR EACH FOR THE 6 DATA TRANSFER COMMANDS AVAILABLE:
			
				A. RHCLR (TO CLEAR ERRORS)
				B. RECALIBRATE
				C. DA = DCY = 0 (A VALID ADDR)
				D. GO INTO MAINT MODE (20 SECTOR MODE)
				E. ISSUE A DATA XFER COMMAND
				F. SNAPSHOT APPROPRIATE DRIVE REGISTERS
				G. ABORT THE TRANSFER
				H. RHCLR
				I. VERIFY THAT GO=1 PIP=0 ILF=0
				J. REPEAT TEST FOR ALL DATA XFER COMMANDS
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		17468	TEST-326 TEST OF DATA BUS CONTROL SIGNALS

		17472	
				TEST DESCRIPTION
				---------------- 
				THIS TEST ISSUES A CONTROLLED SEQUENCE OF EVENTS TO CHECK
				A. OPI LOGIC
				B. RUN LINE AND COMMAND DECODE FOR WRITE HEADER AND DATA
				C. EXCEPTION LOGIC
				D. EBL LOGIC
			
				THE TEST IS GENERALLY STRUCTURED AS FOLLOWS (10 SUB-TESTS)
				A. START A MAINT MODE WRITE DATA COMMAND
				B. ISSUE INDEX PULSES TO VERIFY "OPI" LOGIC. WHEN OPI WORKS
				   CORRECTLY, THE COMMAND IS DECODED CORRECTLY AND RUN
				   MUST HAVE BEEN ASSERTED BY THE CONTROLLER.
				C. WHEN THE "OPI" CONDITION OCCURS, A CLASS-B ERROR IS
				   CAUSED WHICH WILL FORCE THE XFER TO SHUT DOWN.  BY
				   OBSERVING THE STATES OF THE DA REGISTER, DONE, AND
				   EXCEPTION, THE DIAGNOSTIC IS ABLE TO ISOLATE CONTROL
				   LINE FAULTS TO THE PROPER MODULES
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 103           
                                                                                                                           SEQ 0114
		*****************************************************************
	17652	BASIC FORMAT AND "WRITE" DATA PATH TESTS
		*****************************************************************

		17657	TEST-327 VERIFY OPERATION OF WRT HD+DAT UP TO DATA FIELD

		17661	
				TEST DESCRIPTION
				---------------- 
				THIS IS A SERIES OF 8 SUBTESTS THAT VERIFY OPERATION OF THE
				WRITE HEADER AND DATA COMMAND FROM THE PRE HEADER GAP TO
				THE START OF THE DATA FIELD. THE TEST COMPLETES AT THE START
				OF THE DATA FIELD IN ORDER TO MINIMIZE THE SIZE OF THE SCOPE LOOP.
				THE SUBTESTS CONSIST OF:
				A. CHECK 39 BYTES OF ZEROS IN THE SECTOR GAP
				B. CHECK FOR PROPER SYNC BYTE
				C. CHECK THAT THE 8 BYTES OF HEADER AND KEY WORDS ARE
				   ZERO SINCE THE TRANSFER IS TO CYL=0 SURF=0 SECT=0
				D. CHECK THAT HEADER CRC BYTES ARE CORRECT=0
				E. CHECK THAT THE 11 BYTES OF ZEROS IN THE HEAD GAP ARE CORRECT.
				F. CHECK THAT THE POST HEADER SYNCH BYTE IS CORRECT.
				G. VERIFY THAT THE DATA ENVELOPE IS NOT UP TO SOON
				H. VERIFY THAT THE DATA ENVELOPE IS UP ON TIME
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				REF: WRITE HEADER AND DATA TIMING DIAGRAM RP04-0-24

		*****************************************************************
	17942	WRITE DATA PATH TEST
		*****************************************************************

		17947	TEST-330 CHECK FOR STUCK 1'S AND 0'S ON DATA BUSS

		17951	
				TEST DESCRIPTION
				---------------- 
				ISSUE A MAINT MODE WRITE HEADER AND DATA COMMAND AND
				CHECK THAT THE DATA BITS ON THE MASS BUS GOING
				FROM CONTROLLER TO DRIVE ARE NOT STUCK AT ONES OR
				ZEROS.
				1.  START THE TRANSFER
				2.  ISSUE 496 SHIFT CLOCKS TO STEP TO DATA AREA
				3.  CLOCK 1ST 18 BITS OUT AND VERIFY THAT THEY
				    ARE ZERO.
				4.  CLOCK 2ND 18 BITS OUT AND VERIFY THAT THEY
				    ARE ONES. 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				LOOK FOR FAULTY INTERFACE, DATA PATH AND SHIFT REG PROBS

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 104           
                                                                                                                           SEQ 0115
		18070	TEST-331 CHECK OF WRITE DATA PATH USING FLOATING PATTERNS

		18074	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THERE ARE NO BITS CROSS COUPLED ON WRITE DATA
				BUSS BY TESTING DATA INTEGRITY WITH FLOATING PATTERNS
				1.  START A MAINT MODE XFER OF 1 SECTOR
				2.  ISSUE 496 CLOCKS TO STEP TO DATA AREA
				3.  ISSUE 36 CLOCKS TO STEP OVER 1ST PDP-10 WORD
				4.  START CLOCKING PDP-10 HALF WORDS OUT OF MEMORY (FLOATING
				    PATTERNS), EACH TIME VERIFYING THAT DATA WAS CORRECT
				5.  REPEAT STEP-4 UNTIL 18 PDP-10 WORDS HAVE BEEN TESTED.
				6.  ABORT THE TRANSFER 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		*****************************************************************
	18190	PARITY NETWORK TESTS DURING A WRITE
		*****************************************************************

		18195	TEST-332 TRANSFER STANDARD DATA PATTERNS CHECKING FOR PARITY

		18199	
				TEST DESCRIPTION
				---------------- 
				THIS TEST PASSES 52 (18-BIT) DATA PATTERNS ACROSS THE MASSBUS
				AND CHECKS FOR PARITY ERRORS AFTER EACH TRANSFER.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				THE ERROR REPORT CONTAINS:
				A.  # OF 18-BIT XFER THAT FAILED
				B.  DATA THAT WAS SENT OVER THE MASSBUS
				C.  DATA THAT WAS READ OUT OF THE MAINT REG.

		18298	TEST-333 VERIFY THAT DRIVE CAN DETECT INCORRECT PARITY 

		18302	
				TEST DESCRIPTION
				---------------- 
				THIS TEST IMPOSSIBLE ON KS-10/RH11
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 105           
                                                                                                                           SEQ 0116
		18323	TEST-334 VERIFY SECTOR TIMING OF DATA ENV, ECC ENV, EBL

		18327	
				TEST DESCRIPTION
				---------------- 
				TEST CLOCKS THROUGH AN ENTIRE SECTOR IN MAINT MODE TO VERIFY
				THAT THE ABOVE MENTIONED SIGNALS TRANSITION AT EXACTLY THE
				RIGHT TIME. 8 SUBTESTS DO THE JOB AS FOLLOWS:
				  CLOCKS	DATA ENV	ECC ENV		DONE
				  ------	---- ---	--- ---		----
				A.  495.	    0		   0		  0
				B.    1.	    1		   0		  0
				C. 4607.	    1		   0		  0
				D.    1.	    0		   1		  0
				E.   31.	    0		   1		  0
				F.    1.	    0		   0		  0
				G.   15.	    0		   0		  0
				H.    1.	    0		   0		  1
			
				TESTING AROUND TRANSITION POINTS OPTIMIZES TEST EXECUTION TIME
				BUT THE DIAGNOSTIC CAN NOT TELL EXACTLY HOW MUCH TIMING IS
				INCORRECT. THIS WOULD MAKE THE TEST UNREASONABLY LONG 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		*****************************************************************
	18587	TEST "DTE" ERROR LOGIC
		*****************************************************************

		18592	TEST-335 CAUSES A DRIVE TIMING ERROR "DTE"

		18596	
				TEST DESCRIPTION
				---------------- 
			
				VERIFIES THAT THE DRIVE CAN DETECT A DRIVE TIMING
				ERROR. THE ERROR IS FORCED IN THE FOLLOWING WAY.
				A. START A 1 SECTOR MAINT MODE WRITE HEADER AND DATA CMD
				B. CAUSE A SECTOR PULSE
				   (WHICH CAUSES A DRIVE TIMING ERROR)
				C. READ ER1 AND VERIFY THAT "DTE" IS SET
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 106           
                                                                                                                           SEQ 0117
		*****************************************************************
	18670	MAINT MODE READ TESTS TO VERIFY OPERATION OF HEADER LOGIC
		*****************************************************************

		18675	TEST-336 CHECK HEADER LOGIC WHILE SUPPLYING CORRECT DATA

		18679	
				TEST DESCRIPTION
				---------------- 
				START A 1 SECTOR MAINT MODE READ HEADER AND DATA OPERATION.
				CLOCK THROUGH THE HEADER AREA SUPPLYING CORRECT DATA AND
				VERIFY THAT:
				A. DATA ENVELOPE IS UP
				B. NO HCE, HCRC OR FMT ERRORS WERE DETECTED
				C. HEADER DATA INTEGRITY IS IGNORED AT THIS TIME
				TEST OUTLINE:
				1. SUPPLY 312 ZEROS FOR PRE-HEADER GAP
				2. SUPPLY 8 BIT SYNCH CHAR 31 (OCTAL)
				3. SUPPLY 80 ZEROS FOR HEADER FIELD
				4. SUPPLY 88 ZEROS FOR POST HEAD GAP
				5. SUPPLY 8 BIT SYNCH CHAR 31 (OCTAL)
				6. VERIFY THAT HARDWARE STATUS IS CORRECT
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		18783	TEST-337 TEST HEADER CRC LOGIC

		18787	
				TEST DESCRIPTION
				---------------- 
				ISSUES A MAINT MODE READ OPERATION AND SUPPLY WRONG
				CRC DATA. THIS SHOULD CAUSE HCRC TO BE DETECTED.
				A. SEND 312 ZEROS FOR HEADER GAP
				B. SEND 8 BIT SYNC BYTE
				C. SEND 64 ZEROS FOR HEADER + KEY WORDS
				D. SEND 8 ZEROS FOR FIRST HALF OF HEADER CRC
				E. SEND 8 ONE BITS (WRONG DATA) FOR REST OF HEADER CRC
				F. SEND 8 ZEROS TO MOVE SLIGHTLY INTO GAP
				G. READ STATUS AND VERIFY THAT HCRC IS SET
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		18894	TEST-340 TEST HEADER COMPARE LOGIC

		18898	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT THE DRIVE CAN DETECT HEADER DATA ERRORS.
				THIS IS DONE BY SUPPLYING THE HEADER DATA IN A M-MODE
				READ HEADER AND DATA OPERATION. THE DIAGNOSTIC SUPPLIES

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 107           
                                                                                                                           SEQ 0118
				THE WRONG CYLINDER INFORMATION. THIS WILL RESULT IN
				A "HCE" AND A "HCRC" ERROR. HERE IS THE TEST OUTLINE:
				A. SEND 312 ZEROS FOR PRE-HEADER GAP
				B. SEND 8 BIT SYNCH BYTE
				C. SEND 8 BITS OF ONES FOR WRONG CYLINDER INFORMATION
				D. SEND 72 BITS OF ZEROS FOR REST OF HEADER DATA AND
				   HEADER CRC WORD.
				E. VERIFY THAT "HCE" WAS DETECTED. THE "HCRC" ERROR
				   IS INCIDENTAL TO THIS TEST
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		19006	TEST-341 TEST OF "FER" ERROR DETECTION LOGIC

		19010	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT A FORMAT ERROR CAN BE DETECTED. START
				A MAINT MODE READ HEADER AND DATA OPERATION IN 18 BIT
				MODE, THEN SUPPLY THE HEADER DATA WITH THE 16 BIT FMT
				BIT SET. THIS SHOULD CAUSE A FORMAT ERROR ("FER"). "HCRC"
				AND "HCE" ARE INCIDENTAL TO THIS TEST. TEST OUTLINE:
				A.  SEND 312 ZEROS FOR PRE HEADER GAP
				B.  SEND 8 BIT SYNCH BYTE
				C.  CAUSE ERROR IN NEXT 2 BYTES
				    1.  12 BITS OF ZEROS
				    2.  1 BIT OF 1 FOR 11-FORMAT
				    3.  3 BITS OF ZEROS TO FILL OUT LAST BYTE
				D.  SEND 64 BITS OF ZEROS TO COMPLETE HEADER AREA
				E.  VERIFY THAT "FER" HAS OCCURRED. "HCE" AND "HCRC" MAY
				    ALSO APPEAR BUT ARE INSIGNIFICANT IN THIS TEST.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

		19118	TEST-342 TEST OPERATION OF "HCI" LOGIC

		19122	
				TEST DESCRIPTION
				---------------- 
				TEST INITIATES A READ HEADER AND DATA COMMAND IN
				MAINT MODE (20 SECTOR MODE). WITH THE HEADER COMPARE
				INHIBIT BIT ("HCI") SET. THE DATA SUPPLIED BY THE
				DIAGNOSTIC SUPPLIES INCORRECT HEADER, FORMAT, CRC INFORMATION.
				AFTER COMPLETING TRANSFER THROUGH THE HEADER AREA, STATUS
				IS CHECKED. HCE, FER, HCRC SHOULD ALL BE ZERO.
				THE TEST OUTLINE:
				A.  SEND 312 ZEROS FOR PRE-HEADER AREA
				B.  SEND 8 BIT SYNCH BYTE
				C.  SEND 8 BIT BYTE WITH WRONG CYL (BINARY=00000001)
				D.  SEND 8 BIT BYTE WITH WRONG FMT (BINARY=00010000)

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 108           
                                                                                                                           SEQ 0119
				E.  SEND 64 ZEROS WHICH COMPLTES HEADER AREA WITH WRONG CRC
				F.  VERIFY THAT HCE=FER=HCRC=0
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		19227	TEST-343 VERIFY THAT SYNCH DETECTOR NOT STUCK HIGH

		19231	
				TEST DESCRIPTION
				---------------- 
				START A MAINT MODE READ HEADER AND DATA OPERATION.
				THE DIAGNOSTIC SUPPLIES ALL ZEROS FOR DATA AREA. AFTER
				512 CLOCKS (DATA OF 0'S) THE DATA ENV BIT IS EXAMINED.
				IT SHOULD BE AT ZERO. IF IT IS AT A "1", THE SYNCH
				BYTE DETECTOR HAS ERRORIOUSLS DETECTED A SYNCH BYTE.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		*****************************************************************
	19302	VERIFY READ DATA PATH OVER THE DATA BUS
		*****************************************************************

		19307	TEST-344 VERIFY THE "READ" DATA PATH INTEGRITY

		19311	
				TEST DESCRIPTION
				---------------- 
				SUPPLY NECESSARY DATA PATTERNS VIA A MAINT MODE READ
				HEADER AND DATA OPERATION AND CHECK DATA THAT APPEARS
				IN THE RH BUFFER REGISTER AGAINST THE EXPECTED
				DATA (18 BITS AT A TIME). DATA CHECKING IS NOT
				PERFORMED UNTIL WE STEP TO THE DATA FIELD.
				ONCE AT THE DATA FIELD, 4 SUBTESTS ARE PERFORMED:
				A.  1 MASSBUS XFER OF ZEROS
				B.  1 MASSBUS XFER OF ONES
				C.  36 MASSBUS XFERS OF FLOATING PATTERNS
				D.  8 MASSBUS XFERS OF ZEROS AND PARITY PATTERNS
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 109           
                                                                                                                           SEQ 0120
		*****************************************************************
	19523	READ DATA PATH PARITY NETWORK TEST
		*****************************************************************

		19528	TEST-345 CHECK DRIVE PARITY NETWORK

		19532	
				TEST DESCRIPTION
				---------------- 
				SEND VARIOUS DATA PATTERNS FROM DRIVE TO CONTROLLER
				OVER THE MASSBUS DATA PATH USING A MAINT MODE
				READ HEADER AND DATA OPERATION. THERE ARE ACTUALLY
				2 SUBTESTS:
				A.  SENDS ONES AND ZEROS. POSSIBLE FAULTS INCLUDE
				    PARITY NETWORK AND PARITY XMIT FAULTS
				B.  SUPPLY OTHER DATA PATTERNS TO VERIFY PARITY GENERATION
				    LOGIC IN DRIVE. FAULTS ONLY INCLUDE PARITY GENERATOR
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		*****************************************************************
	19695	ADDITIONAL ATTENTION LOGIC TESTS
		*****************************************************************

		19700	TEST-346 TEST ATA XMTR FOR STUCK AT A 1

		19704	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT NO DRIVE ON THE BUS HAS AN ATTENTION
				TRANSMITTER STUCK AT ONE. (CONSTANTLY ASSERTING ATA).
				A.  ISSUE RHCLR
				B.  WRITE ATA REG WITH 377 TO CLEAR ATA FLOPS
				C.  VERIFY THAT ATA IS NOT ASSERTED
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				THE DEBUG PROCEDURE FOR THIS FAULT WOULD BE TO SHUT
				DRIVES ON THE BUS, ONE AT A TIME UNTIL PROBLEM DISAPPEARS

		19755	TEST-347 TEST THAT DRIVE SENDS "ATA" LINE TO RH

		19759	
				TEST DESCRIPTION
				---------------- 
				ISSUE A RECAL AND VERIFY THAT "ATA" IS ASSERTED.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 110           
                                                                                                                           SEQ 0121
		*****************************************************************
	19807	CHECK THE GENERATION OF THE ECC FIELD
		*****************************************************************

		19812	TEST-350 VERIFY THAT ECC GENERATION WORKS CORRECTLY

		19816	
				TEST DESCRIPTION
				---------------- 
				IN 18 BIT MODE, ISSUE A WRITE HEADER AND DATA COMMAND, ISSUE
				ENOUGH CLOCKS TO STEP UP TO THE ECC FIELD, CLOCK OUT AND
				READ THE NEXT 32 BITS OF ECC DATA AND VERIFY THAT IT
				IS CORRECT 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE 

		19914	TEST-351 FULL SPEED WRITE HEADER AND DATA TEST IN 18 BIT MODE

		19918	
				TEST DESCRIPTION
				---------------- 
				THIS IS A FULL SPEED WRITE HEADER AND DATA  OPERATION
				TO CYL-0 SURF-0 SECT-0. THIS TRANSFER HAS WORKED PREVIOUSLY 
				IN MAINT MODE. THIS TEST USES DISK CLOCKING AND THE MDLI
				INTERFACE LOGIC FOR THE FIRST TIME. BECAUSE OF THE VARIETY
				OF FAULTS THAT COULD TURN UP IN THIS TEST, MODULE CALLOUT
				MAY NOT BE OPTIMUM. 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				SUGGEST LOOPING ON THE TEST AND SCOPING AROUND TO IDENTIFY
				THE PROBLEM BEFORE REPLACING MODULES. 

		*****************************************************************
	20056	HEAD SELECTION TEST
		*****************************************************************

		20061	TEST-352 VERIFY THAT EACH HEAD CAN BE SELECTED

		20065	
				TEST DESCRIPTION
				---------------- 
				ISSUE A FULL SPEED WRITE HEADER AND DATA TO THE FIRST
				SECTOR (SECT-0) ON EVERY SURFACE OF CYLINDER ZERO. THIS IS
				THE FIRST TIME ANY HEAD OTHER THAN ZERO HAS BEEN
				SELECTED AND THE HOPE IS THAT HEAD RELATED PROBLEMS
				ONLY SHOW UP. (NHS,MHS,WCU,ETC). "OPI" ERRORS COULD
				POSSIBLY COME UP DURING THIS TEST ALSO. THIS WOULD BE
				AN INDICATION OF A FAULTY TRACK COMPARITOR ON SS5
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 111           
                                                                                                                           SEQ 0122
				NONE

		*****************************************************************
	20175	DISK ADDRESS LOGIC TESTS
		*****************************************************************

		20180	TEST-353 DISK ADDRESS LOGIC (INCREMENTATION) TEST

		20184	
				TEST DESCRIPTION
				---------------- 
				USING FULL SPEED WRITE HEADER AND DATA TESTS, VERIFY
				THAT THE VARIOUS DISK ADDRESS REGISTERS CAN INCREMENT
				PROPERLY.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				COMPOSITE ERRORS OTHER THAN ADDRESS FAULTS WILL BE
				REPORTED BUT MODULE CALLOUT IS IMPOSSIBLE.

		20359	TEST-354 VERIFY THAT "LBT" DETECTOR WORKS

		20363	
				TEST DESCRIPTION
				---------------- 
				DO A 1 SECTOR WRITE HEADER AND DATA TO THE LAST
				BLOCK ON THE DISK. CYL=814. SURF=18. SECT=19.
				AT THE END OF THE XFER, VERIFY THAT "LBT" HAS
				SET AND THAT DA=0 AND DCY=815. 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				COMPOSITE ERRORS WILL BE REPORTED BUT NO MODULE
				CALLOUT IS POSSIBLE.

		20471	TEST-355 VERIFY THAT "AOE" CAN BE DETECTED

		20475	
				TEST DESCRIPTION
				---------------- 
				DO A FULL SPEED WRITE HEADER AND DATA OPERATION TO
				THE LAST DISK SECTOR (SECT-23 SURF-20 CYL-1456). THE
				XFER WILL BE 2 SECTORS LONG WHICH WILL OVERFLOW
				THE DISK AND CAUSE "AOE" 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				IF "AOE" DOES NOT SET THERE MAY ALSO BE A LOGIC
				FAULT IN THE LOGIC WHICH ALLOWS TRANSFERING MULTIPLE
				SECTORS. (EXAMINES RUN LINE AT EBL TIME) 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 112           
                                                                                                                           SEQ 0123
		*****************************************************************
	20566	FULL SPEED READ HEADER AND DATA
		*****************************************************************

		20571	TEST-356 WRITE/READ HEADERS AT FULL SPEED

		20575	
				TEST DESCRIPTION
				---------------- 
				WRITE THEN READ HEADERS AND DATA AT FULL SPEED
				USING CYL=0 SURF=0 SECT=0. THIS IS A FUNCTIONAL TEST
				SO MODULE CALLOUT WILL BE IMPOSSIBLE. THIS IS THE FIRST
				TIME WE'VE READ HEADERS AND DATA AT FULL SPEED.
				THE OPERATION HAS WORKED PREVIOUSLY IN MAINT MODE
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		20681	TEST-357 WRITE THEN READ HEADERS FROM VARIOUS ADDRESSES

		20685	
				TEST DESCRIPTION
				---------------- 
				WRITE THEN READ/VERIFY HEADERS FROM VARIOUS DISK AREAS.
				DURING THE READ, "HCI" IS SET TO ALLOW HEADER RECOVERY
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		20857	TEST-360 WRITE THEN READ HEADERS FROM VARIOUS ADDRESSES,

		20861	
				TEST DESCRIPTION
				---------------- 
				THIS TEST AFTER WRITING HEADERS READS THEM WITH HCI=0,
				THE PREVIOUS TEST HAS JUST CHECKED TO SEE THAT WE
				WROTE AND READ HEADERS CORRECTLY. THIS TEST WILL LOOK
				FOR HEADER ERRORS HCE,FER. EITHER OF THESE WOULD
				BE AN INDICATION THAT COMPARITOR LOGIC ON THE SS BOARD
				IS FAULTY AND CAN NOT MATCH HEADERS AND/OR FORMATS
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 113           
                                                                                                                           SEQ 0124
		*****************************************************************
	21006	FULL SPEED WRITE READ TEST
		*****************************************************************

		21011	TEST-361 FUNCTIONAL READ WRITE TEST

		21015	
				TEST DESCRIPTION
				---------------- 
				FULL SPEED EXERCISE AT FIRST DISK ADDRESS
				A. WRITE HEADERS AND DATA
				B. READ DATA	
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				IF FAILURES OCCUR DURING THE READ/WRITE, ESPECIALLY
				OPI'S OR TIMEOUTS, THE PROBLEM IS MOST LIKELY RELATED
				TO RG OR SN BOARDS.

		21149	TEST-362 VERIFY SECTOR TIMING OF DATA ENV, ECC ENV, EBL

		21153	
				TEST DESCRIPTION
				---------------- 
				TEST CLOCKS THROUGH AN ENTIRE SECTOR IN MAINT MODE (16-BIT) TO VERIFY
				THAT THE ABOVE MENTIONED SIGNALS TRANSITION AT EXACTLY THE
				RIGHT TIME. 8 SUBTESTS DO THE JOB AS FOLLOWS:
				  CLOCKS	DATA ENV	ECC ENV		DONE
				  ------	---- ---	--- ---		----
				A.  495.	    0		   0		  0
				B.    1.	    1		   0		  0
				C. 4095.	    1		   0		  0
				D.    1.	    0		   1		  0
				E.   31.	    0		   1		  0
				F.    1.	    0		   0		  0
				G.   15.	    0		   0		  0
				H.    1.	    0		   0		  1
			
				TESTING AROUND TRANSITION POINTS OPTIMIZES TEST EXECUTION TIME
				BUT THE DIAGNOSTIC CAN NOT TELL EXACTLY HOW MUCH TIMING IS
				INCORRECT. THIS WOULD MAKE THE TEST UNREASONABLY LONG 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 114           
                                                                                                                           SEQ 0125
		*****************************************************************
	21345	OPERATOR TEST OF LOGICAL ADDR PLUG FUNCTION
		*****************************************************************

		21350	TEST-363 LOGICAL ADDRESS PLUG TEST

		21354	
				TEST DESCRIPTION
				---------------- 
				THIS TEST CHECKS FOR THE PROPER DRIVE RESPONSE WHEN THE LOGICAL
				ADDRESS PLUG IS REMOVED AND RE-INSERTED. THE EXPECTED RESPONSE IS:
			
				WITH PLUG REMOVED:
				1. HANDSHAKE FAILS. CAN NO LONGER ACCESS THE DRIVE
			
				WITH PLUG RE-INSERTED:
				1. ATA=1
				2. MOL=1
				3. OPE=1
				4. VV=0 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		*****************************************************************
	21511	DUAL PORT SUBTESTS
		*****************************************************************

		21516	DUAL1 - VERIFY THAT PROGRAMMABLE MODE OPERATES CORRECTLY

		21520	
				TEST DESCRIPTION
				---------------- 
				READ AND VERIFY THAT BOTH PORTS STATUS REGISTERS YIELD
				PROGRAMMABLE BIT.  THIS TEST ALSO FAILS IF READING THE
				STATUS REGISTER HAPPENS TO CAPTURE THE PORT.  IT SHOULD
				NOT DO SO.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		21589	DUAL2 - TEST OPERATION OF CAPTURE AND RELEASE ON PORT-A

		21593	
				TEST DESCRIPTION
				---------------- 
				THE TEST IS DESIGNED TO DO THE FOLLOWING
				A.  GET INTO NEUTRAL
				B.  SEIZE PORT-A WITH READ OF CONTROL REGISTER
					VERIFY WITH A READ OF PORT-B STATUS
				C.  WAIT APPROX. 1/2 SEC. AND VERIFY (BY READING PORT-B STATUS)
					THAT DRIVE HAS NOT YET DROPPED INTO NEUTRAL BECAUSE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 115           
                                                                                                                           SEQ 0126
					OF A ONE SHOT FAULT.
				D.  WAIT APPROX. 1 SEC. MORE AND VERIFY THAT THE DRIVE HAS
					GONE INTO NEUTRAL (THE ONE SHOT DID TIME OUT) CAUSING
					AUTOMATIC RELEASE.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE 

		21682	DUAL3 - TEST OPERATION OF CAPTURE AND RELEASE ON PORT-B

		21686	
				TEST DESCRIPTION
				---------------- 
				THIS TEST IS DESIGNED TO DO THE FOLLOWING:
				A.  GO INTO NEUTRAL
				B.  SEIZE PORT-B WITH READ OF CONTROL REGISTER
					VERIFY WITH A READ OF PORT-A STATUS
				C.  WAIT APPROX. 1.5 SECOND AND VERIFY THAT THE DRIVE
					HAS GONE INTO NEUTRAL (THE ONE SHOT DID TIME OUT) CAUSING
					AUTOMATIC RELEASE. 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		21755	DUAL4 - VERIFY ABILITY TO HOLD PORT-A INDEFINITELY

		21759	
				TEST DESCRIPTION
				---------------- 
				1. REPEATEDLY CAPTURE PORT-A FOR SOME PERIOD OF TIME GREATER
				   THAN 1.5 SECOND AND VERIFY THAT THE PORT STAYS CAPTURED
				FOR THE ENTIRE TIME. THE FOLLOWING SEQUENCE IS USED:
				A. GO INTO NEUTRAL.
				B. CAPTURE PORT-A BY READING THE CONTROL REGISTER
				C. READ PORT-B STATUS AND VERIFY THAT DRIVE HAS PORT-A
				   CAPTURED
				D. REPEAT STEPS B AND C FOR A PERIOD OF TIME LONGER THAN
				   THE ONE SHOT TIME (APPROX 2 SECOND) 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				THIS TEST IS ESSENTIALLY TESTING THE ABILITY OF THE ONE SHOT
				TO BE RE-TRIGGERED BY THE PORT-A CAPTURE

		21821	DUAL5 - VERIFY ABILITY TO HOLD PORT-B INDEFINITELY

		21825	
				TEST DESCRIPTION
				---------------- 
				1. REPEATEDLY CAPTURE PORT-B FOR SOME PERIOD OF TIME GREATER
				   THAN 1.5 SECONDS AND VERIFY THAT THE PORT STAYS CAPTURED
				   FOR THE ENTIRE PERIOD OF TIME.  THE FOLLOWING SEQUENCE IS USED:

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 116           
                                                                                                                           SEQ 0127
				A. GO INTO NEUTRAL
				B. CAPTURE PORT-B BY READING THE CONTROL REGISTER
				C. READ PORT-A STATUS AND VERIFY THAT PORT-B HAS
				   BEEN CAPTURED.
				D. REPEAT STEPS B AND C FOR A PERIOD OF TIME LONGER THAN
				   THE ONE SLOT TIME (APPROX 2 SECONDS)
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				THIS TEST IS ESSENTIALLY TESTING THE ABILITY OF THE ONE SLOT
				TO BE RE-TRIGGERED BY THE PORT-B CAPTURE

		21887	DUAL6 - VERIFY THAT READING REG-00 ONLY, CAUSES PORT-A CAPTURE

		21891	
				TEST DESCRIPTION
				---------------- 
				1. GO INTO NEUTRAL
				2. READ EACH OF THE MASS BUS REGISTERS (EXCLUDING CONTROL REG)
				   AND AFTER EACH READ, VERIFY THAT PORT-A HAS NOT BEEN
				   CAPTURED BY CHECKING STATUS ON PORT-B
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				THIS TEST IS NECESSARY BECAUSE THERE IS SPECIAL CONTROL REGISTER
				SELECT DECODING DONE ON THE DP BOARD FOR DUAL PORT
				OPERATION.

		21959	DUAL7 - VERIFY THAT READING REG-00 ONLY, CAUSES PORT-B CAPTURE 

		21963	
				TEST DESCRIPTION
				---------------- 
				1. GO INTO NEUTRAL
				2. READ EACH OF THE MASS BUS REGISTERS (EXCLUDING CONTROL REG)
				   AND AFTER EACH READ, VERIFY THAT PORT-B HAS NOT BEEN
				   CAPTURED BY CHECKING THE STATUS ON PORT-A
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				THIS TEST IS NECESSARY BECAUSE THERE IS SPECIAL REGISTER
				SELECT DECODING DONE ON THE DP BOARD FOR DUAL PORT
				OPERATION.

		22023	DUAL10-VERIFY THAT WRITE TO OTHER ATA'S DOES NOT CAPTURE PORT

		22027	
				TEST DESCRIPTION
				---------------- 
				WRITE ATA REGISTERS FOR ALL DRIVES BUT THE ONE UNDER
				TEST AND VERIFY NO PORT HAS BEEN CAPTURED.  
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 117           
                                                                                                                           SEQ 0128
				THIS IS NECESSARY BECAUSE OF SPECIAL ATA DECODE LOGIC
				ON THE DUAL PORT BOARD 

		22091	DUAL11-CAPTURE PORT-A BY WRITING ITS CONTROL REGISTER 

		22095	
				TEST DESCRIPTION
				---------------- 
				WRITING ANY REGISTER WILL CAPTURE A PORT IF DRIVE IS IN
				NEUTRAL, THE SELECTION OF THE CONTROL REGISTER IS ARBITRARY
				A.  GET INTO NEUTRAL
				B.  WRITE CONTROL REGISTER ON PORT-A
				C.  READ STATUS FROM-B AND VERIFY THAT PORT-A WAS CAPTURED 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE 

		22146	DUAL12-CAPTURE PORT-B BY WRITING ITS CONTROL REGISTER 

		22150	
				TEST DESCRIPTION
				---------------- 
				WRITING ANY REGISTER WILL CAPTURE THE PORT IF DRIVE IS IN NEUTRAL,
				THE SELECTION OF THE CONTROL REGISTER IS ARBITRARY.
				A.  GET INTO NEUTRAL
				B.  WRITE THE CONTROL REGISTER ON PORT-B
				C.  READ STATUS FROM PORT-A AND VERIFY THAT PORT-B WAS
				    CAPTURED 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		22202	DUAL13-VERIFY THAT RELEASE FROM PORT-A DOES NOT SET ATA

		22206	
				TEST DESCRIPTION
				---------------- 
				WITH NO REQUEST ON PORT-B, A RELEASE FROM PORT-A SHOULD NOT SET
				THE ATA FLOP ON PORT-B.
				A. GET INTO NEUTRAL WITH ATA'S FOR BOTH PORTS CLEAR
				B. READ CONTROL REGISTER FOR PORT-A TO CAPTURE
				C. WAIT UNTIL WE FLIP BACK INTO NEUTRAL
				D. VERIFY THAT ATA HAS NOT BEEN SET FOR PORT-B
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 118           
                                                                                                                           SEQ 0129
		22264	DUAL14-VERIFY THAT RELEASE FROM PORT-B DOES NOT SET ATA

		22268	
				TEST DESCRIPTION
				---------------- 
				WITH NO REQUEST ON PORT-A, A RELEASE FROM PORT-B SHOULD NOT SET
				THE ATA FLOP ON PORT-A.
				A. GET INTO NEUTRAL WITH ATA'S FOR BOTH PORTS CLEAR
				B. READ CONTROL REGISTER FOR PORT-B TO CAPTURE
				C. WAIT UNTIL WE FLIP BACK INTO NEUTRAL
				D. VERIFY THAT ATA HAS NOT BEEN SET FOR PORT-A
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE

		22330	DUAL15-RELEASE, WITH RELEASE COMMAND, FROM PORT-A 

		22334	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT WE CAN RELEASE FROM PORT-A WITH A RELEASE
				COMMAND AND THAT ISSUING THE RELEASE COMMAND DOES NOT
				CAUSE COMPOSITE ERROR.
				A.  GO INTO NEUTRAL
				B.  READ CONTROL REGISTER ON PORT-A TO CAPTURE IT
				C.  ISSUE A RELEASE COMMAND
				D.  READ STATUS REGISTER ON PORT-B AND VERIFY THAT
				    RELEASE WORKED CORRECTLY AND DID NOT CAUSE
				    COMPOSITE ERROR 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE 

		22407	DUAL16-RELEASE, WITH RELEASE COMMAND, FROM PORT-B 

		22411	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT WE CAN RELEASE FROM PORT-B WITH A RELEASE
				COMMAND AND THAT ISSUING THE RELEASE COMMAND DOES
				NOT CAUSE COMPOSITE ERROR.
				A.  GO INTO NEUTRAL
				B.  READ CONTROL REGISTER FROM PORT-B TO CAPTURE THE PORT
				C.  ISSUE A RELEASE COMMAND
				D.  READ STATUS REGISTER ON PORT-B AND VERIFY THAT
				    RELEASE COMMAND WORKED CORRECTLY AND DID NOT CAUSE
				    COMPOSITE ERROR 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 119           
                                                                                                                           SEQ 0130
		22489	DUAL17-1ST TEST TO VERIFY REQUEST HOLD LOGIC 

		22493	
				TEST DESCRIPTION
				---------------- 
				1.  GO INTO NEUTRAL AND RESET ALL ATA'S
				2.  CAPTURE PORT-B BY READING PORT-B CONTROL REG
				3.  REQUEST PORT-A BY WRITING PORT-A CONTROL REG
				4.  READ PORT-A STATUS AND VERIFY THAT IT IS NOT CAPTURED,
				    PORT-B SHOULD BE IN POSESSION FOR 1 SEC.
				5.  WAIT FOR GREATER THAN A SECOND TO GIVE AUTO-RELEASE
				    FROM PORT-B A CHANCE TO HAPPEN
				6.  READ STATUS FROM PORT-A AND VERIFY THAT "ATA"
				    HAS SET (BECAUSE OF THE REQUEST FROM STEP-3) 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE 

		22576	DUAL20-2ND TEST TO VERIFY REQUEST HOLD LOGIC 

		22580	
				TEST DESCRIPTION
				---------------- 
				1.  GO INTO NEUTRAL AND RESET ALL ATA'S
				2.  CAPTURE PORT-A BY READING PORT-A CONTROL REG
				3.  REQUEST PORT-B BY WRITING PORT-B CONTROL REG
				4.  READ PORT-B STATUS AND VERIFY THAT IT IS NOT CAPTURED,
				    PORT-A SHOULD BE IN POSESSION FOR 1 SEC
				5.  WAIT FOR GREATER THAN A SECOND TO GIVE AUTO-RELEASE
				    FROM PORT-A A CHANCE TO HAPPEN
				6.  READ STATUS FROM PORT-B AND VERIFY THAT "ATA" HAS SET
				    (BECAUSE OF THE REQUEST FROM STEP-3 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE 

		22663	DUAL21-CHECK "AUTO UNLOCK" FEATURE FROM PORT-B 

		22667	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT WE DON'T HANG ON A PORT IF IT IS REQUESTED
				BUT NOT USED.
				A.  CLEAR ALL ATA'S AND GO INTO NEUTRAL
				B.  CAPTURE PORT-A BY READING THE CONTROL REGISTER
				C.  REQUEST PORT-B BY READING ITS CONTROL REGISTER
				D.  WAIT APPROX 3 SEC.  DRIVE SHOULD TIME OUT ON PORT-A,
				    FLIP TO PORT-B BECAUSE OF THE REQUEST, TIMEOUT ON PORT-B
				    AND FLIP BACK TO NEUTRAL
				E.  READ STATUS AND VERIFY THAT WE ARE NOT HUNG
				    ON ONE OF THE PORTS. 
			

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 120           
                                                                                                                           SEQ 0131
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE 

		22759	DUAL22-CHECK "AUTO UNLOCK" FEATURE FROM PORT-A 

		22763	
				TEST DESCRIPTION
				---------------- 
				VERIFY THAT WE DON'T HANG ON A PORT IF IT IS REQUESTED
				BUT NOT USED.
				A.  CLEAR ALL ATA'S AND GO INTO NEUTRAL
				B.  CAPTURE PORT-B BY READING THE CONTROL REGISTER
				C.  REQUEST PORT-A BY READING ITS CONTROL REGISTER
				D.  WAIT APPROX 3 SEC.  DRIVE SHOULD TIME OUT ON PORT-B
				    FLIP TO PORT-A BECAUSE OF THE REQUEST, TIMEOUT ON
				    PORT-A AND FLIP BACK TO NEUTRAL
				E.  READ STATUS AND VERIFY THAT WE ARE NOT HUNG ON
				    ONE OF THE PORTS 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE 

		22837	DUAL23-VERIFY THAT RHCLR WILL NOT RESET ATA IN NEURTAL 

		22841	
				TEST DESCRIPTION
				---------------- 
				1.  CAUSE ATA ON PORT-A  (RECAL)  
				2.  CAUSE ATA ON PORT-B  (RECAL)
				3.  ISSUE RHCLR
				4.  READ STATUS FROM BOTH PORTS AND VERIFY THAT
				    NEITHER ATA BIT HAS BEEN RESET 
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				NONE 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 121           
                                                                                                                           SEQ 0132
		*****************************************************************
	22899	RH11 SUBTESTS
		*****************************************************************

		22904	RH11 TEST 1 -- FLOAT 1'S AND 0'S TO C00-C15 OF RHWC

		22908	
				TEST DESCRIPTION
				---------------- 
				THIS TEST GUARANTEES THAT THERE IS NO CROSS COUPLING BETWEEN
				ANY OF THE BITS C00-C15 IN RHWC
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

		22967	RH11 TEST 2 -- FLOAT 1'S AND 0'S TO C00-C15 OF RHBA

		22971	
				TEST DESCRIPTION
				---------------- 
				THIS TEST GUARANTEES THAT THERE IS NO CROSS COUPLING BETWEEN
				ANY OF THE BITS C00-C15 IN RHBA
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

		23032	RH11 TEST 3 -- FLOAT 1'S AND 0'S TO C00-C15 OF RHDB

		23036	
				TEST DESCRIPTION
				---------------- 
				THIS TEST GUARANTEES THAT THERE IS NO CROSS COUPLING BETWEEN
				ANY OF THE BITS C00-C15 IN RHDB
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

		23096	RH11 TEST 4 -- SILO TEST 1

		23100	
				TEST DESCRIPTION
				---------------- 
			 	TEST THE SILO BUFFER IN THE RH11 CONTROLLER.
				A READ IS ATTEMPTED FROM AN EMPTY SILO, DATA LATE,
				TRANSFER ERROR AND SPECIAL CONDITION SHOULD SET.
				THEN LOADING A 1 INTO TRE SHOULD CLEAR DLT, TRE & SC.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 122           
                                                                                                                           SEQ 0133
		23224	RH11 TEST 5 -- SILO TEST 2

		23228	
				TEST DESCRIPTION
				---------------- 
			 	TEST THE 'IR' AND 'OR' BITS OF RHCS2.
				AT THE BEGINNING 'IR' SHOULD BE SET AND 'OR' RESET.
				FIRST AN ALL ZEROES WORD IS LOADED INTO THE SILO VIA RHDB, AND
				THEN AN ALL 1'S WORD IS LOADED INTO THE SILO, 'OR' SHOULD
				BECOME SET IN 30 MICROSECONDS, AGAIN THE TIME IS NOT CHECKED
				BUT 'OR' SHOULD BE SET. THE OUTPUT FROM THE SILO SHOULD BE AN
				ALL 0 WORD AND THEN AN ALL 1 WORD.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

		23346	RH11 TEST 6 -- SILO TEST 3

		23350	
				TEST DESCRIPTION
				---------------- 
			 	TEST THE SILO BUFFER BY FILLING IT WITH A COUNT OF 0 TO 65
				AND THEN CHECKING IF 'IR' IS DOWN AND 'OR' IS HIGH AND 
				READING AND VERIFING THE SILO OUTPUT.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

		23430	RH11 TEST 7 -- SILO TEST 4

		23434	
				TEST DESCRIPTION
				---------------- 
			 	67 WORDS ARE NOW WRITTEN INTO THE SILO AND THIS SHOULD CAUSE
				A DATA LATE CONDITION.  EVEN AFER THE 67TH WORD INPUT THE OUTPUT
				FIRST WORD SHOULD NOT CHANGE.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

		23506	RH11 TEST 10 -- SILO TEST 5

		23510	
				TEST DESCRIPTION
				---------------- 
			 	THE SILO IS LOADED WITH 0,1,2,3 THEN AFTER 'OR' IS SET A CLEAR
				TO RHCS2 IS DONE, THEN 4 IS LOADED INTO THE SILO.  AFTER 'OR'
				IS SET 2 READS FROM THE SILO ARE DONE, ON THE LAST 'DLT' IN
				RHCS2 SHOULD BE SET.
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 123           
                                                                                                                           SEQ 0134
		*****************************************************************
	23608	RP06 HEAD ALIGNMENT VERIFICATION TEST
		*****************************************************************

		23613	ALIGN -- HEAD ALIGNMENT VERIFICATION TEST

		23617	
				TEST DESCRIPTION
				---------------- 
				THIS TEST WILL OPERATE ON ALL DRIVES UNDER TEST
			
				THE OVERALL HEAD ALIGNMENT FOR A DRIVE IS VERIFIED
				IN THE FOLLOWING MANNER.
				 1. RECALIBRATE THE POSITIONER
				 2. SEEK TO CYLINDER 496.
				 3. VERIFY ALIGNMENT OF HEADS 0 THRU 18.
				 4. SEEK TO CYLINDER 8
				 5. VERIFY THE ALIGNMENT OF HEADS 0,1 AND 17.,18.
				 6. SEEK TO CYLINDER 800.
				 7. VERIFY THE ALIGNMENT OF HEADS 0,1 AND 17.,18.
				 8. SEEK TO CYLINDER 496.
				 9. RE-VERIFY ALIGNMENT OF HEADS 0 THRU 18.
			
				THE FOLLOWING ALGORITHM IS USED TO VERIFY THE ALIGNMENT
				OF A PARTICULAR HEAD:
				 1. OFFSET THE POSITIONER TO +600 MICRO-INCHES
				 2. RECORD THE VALUE OF THE SIGN BIT
				 3. MOVE THE POSITIONER TOWARDS THE TRACK CENTER LINE IN
				    25 MICRO-INCH INCREMENTS UNTIL THE SIGN BIT CHANGES.
				    UPON DETECTING A SIGN CHANGE, RECORD THE OFFSET VALUE.
				 4. OFFSET THE POSITIONER TO -600 MICRO-INCHES AND REPEAT
				    STEPS 2 AND 3 ABOVE.
				 5. AVERAGE THE 2 VALUES OF OFFSET AND CONSIDER THE HEAD
				    TO BE OUT OF ALIGNMENT IF THE AVERAGE OFFSET HAS TURNED
				    OUT TO BE IN EXCESS OF 75 MICRO-INCHES (ABSOLUTE VALUE)
				    ON CYLINDER 496, 150 MICRO-INCHES ON CYLINDERS 8 AND 800.
			
				NOTES:
				 1. POSITIVE OFFSETS INDICATE A HEAD POSITION TOWARDS THE
				    SPINDLE SIDE OF THE ACTUAL TRACK CENTER LINE.
				 2. BY DEFAULT, NORMAL PRINTOUT MODE (SW-10 RESET), THE
				    PROGRAM WILL PRINT A COMPLETE TABLE OF OFFSETS FOR
				    ALL HEADS. IN SHORT PRINTOUT MODE (SW-10 SET), INFORMATION
				    WILL BE PRINTED FOR ONLY THOSE HEADS WHICH ARE OUT OF
				    ALIGNMENT.
				 3. THE OFF-LINE TESTER MUST BE INTERFACED
				 4. AN INDUSTRY STANDARD ALIGNMENT PACK IF REQUIRED.
				 5. THE TEST HAS 2 PARTS. ADJUST MODE AND VERIFY MODE
				    IF THE QUESTION (ADJUST OR VERIFY) IS ANSWERED WITH
				    ADJUST, NO HEAD ALIGNMENT TESTING IS PERFORMED BY THE
				    PROGRAM, THE PROGRAM MERELY FURNISHES A METHOD
				    (SELF DOCUMENTING) OF POSITIONING BACK AND FOURTH
				    BETWEEN CYLINDER 496. AND 0.    CYLINDER 496. BEING USED
				    TO SCOPE THE DIE BITS AND CYLINDER 0 TO  ADJUST THE HEAD.

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 124           
                                                                                                                           SEQ 0135
			
				SET UP PROCEDURES:
				1. INSTALL A CE PACK WITH DRIVE WRITE PROTECTED
				2. SLIDE THE LOGIC ASSY FORWARD
				3. REMOVE DRIVE D.C. POWER
				4. CONNECT THE HEAD ALIGNMENT UNIT (PN-211292) INTERFACE
				   CABLE OR TESTERS HEAD ALIGNMENT CABLE TO THE B04 SLOT OF THE
				   LOGIC ASSY
				5. TURN DRIVE D.C. POWER BACK ON AND LOAD HEADS
				6. PRESS THE CALIBRATE SWITCH ON THE HEAD ALIGNMENT UNIT OR THE
				   TESTERS CONTROL PANEL
				7. VERIFY THAT THE TESTERS "ALIGN INVALID" LAMP IS ILLUMINATED.
				   IF THE SETUP DOES NOT WORK, REFER TO THE APPENDIX OF THE
				   MAINT MANUAL FOR POSSIBLE FAULTS AND SOLUTIONS.
				8. TO PREVENT INDEX ERROR, PLACE A JUMPER BETWEEN
				   D04-R19 AND D04-R39. THIS WILL PREVENT INDEX ERRORS.
				   THE JUMPER IS TO BE REMOVED WHEN THE HEAD ALIGNMENT TEST
				   IS COMPLETE.
			
			
				THERMAL EQUILLIBRIUM REQUIREMENTS (MINIMUM):
				1. WITH THE WIND TUNNEL IN THE CLOSED POSITION, THE DRIVE MUST
				   OPERATE IN TRACK FOLLOWING OR SEEK MODE FOR 20 MINUTES. ANY
				   PACK MAY BE USED FOR THE FIRST 15 MINUTES BUT THE C.E. PACK
				   MUST BE MOUNTED FOR THE LAST 5 MINUTES.
			
				2. THE C.E. PACK MUST REACH EQUILLIBRIUM BY BEING IN THE COMPUTER
				   ROOM FOR 1 HOUR, OR BY BEING USED FOR THE ENTIRE 20 MINUTE
				   CYCLE DESCRIBED IN THE FIRST STEP
			
				RECOMMENDED DEBUG PROCEDURE
				--------------------------- 
				ADJUST HEADS THAT ARE OUT OF SPEC.

		*****************************************************************
	24207	SOME STATUS CHECK ROUTINES
		*****************************************************************

		24212	ONCK -- SEE IF DRIVE IS ON LINE

		24216	
				THIS ROUTINE WILL SEE IF MOL IS SET. IF NOT, IT ASKS TO CYCLE
				UP THE DRIVE.  RETURN IS TAKEN WHEN THE DRIVE IS CYCLED UP
				CALLING SEQ:
				GO	ONCK		;SEE IF DRIVE IS ON LINE
				RTN			;DRIVE IS ON LINE 

		24255	ONCHK -- SEE IF DRIVE IS ON LINE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 125           
                                                                                                                           SEQ 0136
		24259	
				ROUTINE CHECKS TO SEE IF "MOL" IS SET. IF NOT, IT ASKS TO
				CYCLE UP THE DRIVE. IT DIFFERS FROM "ONCK" IN THAT IT ISSUES
				A PACK ACKNOWLEDGE COMMAND BEFORE RETURNING (IF NECESSARY).
				CALLING SEQ:
				GO	ONCHK		;SEE IF ON-LINE
				RTN			;ON-LINE WITH VOLUME VALID 

		24287	OFFCK -- ROUTINE TO SEE IF DRIVE IS OFF-LINE

		24291	
				THIS ROUTINE WILL SEE IF MOL IS CLEAR. IF NOT, IT REQUESTS
				OPERATOR TO CYCLE THE PACK DOWN AND HIT RETURN WHEN
				READY.
				CALLING SEQ:
				GO	OFFCK		;CALL THE ROUTINE
				RTN			;DRIVE IS OFF-LINE 

		24332	OFFCHK -- ROUTINE TO SEE IF DRIVE IS OFF-LINE

		24336	
				THIS ROUTINE WILL SEE IF "MOL" IS CLEAR. IF NOT, IT WILL
				ISSUE AN UNLOAD COMMAND AND RETURN WHEN THE DRIVE
				HAS CYCLED DOWN.
				CALLING SEQ:
				GO	OFFCHK		;SEE IF DRIVE IS OFF-LINE
				RTN			;DRIVE IS OFF-LINE 

		24371	WRTENB -- VERIFY THAT DRIVE IS READY AND WRITE ENABLED

		24375	
				THIS ROUTINE FIRST CALLS "ONCHK" TO INSURE THAT THE DEVICE IS
				ON-LINE AND READY WITH "VV" SET. IT THEN CHECKS THE STATUS
				REGISTER TO INSURE THAT THE DRIVE IS WRITE ENABLED. IF NOT,
				THE OPERATOR IS ASKED TO WRITE ENABLE THE DRIVE.
			
				CALLING SEQUENCE:
				GO	WRTENB		;CALL THE ROUTINE
				RETURN			;DRIVE READY AND WRITE ENABLED

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 126           
                                                                                                                           SEQ 0137
		*****************************************************************
	24408	MAINTENANCE MODE ROUTINES
		*****************************************************************

		24417	MMODE - - ROUTINE TO PUT DRIVE IN MAINT MODE

		24421	
				THIS ROUTINE MERELY WRITES A ONE TO THE MAINT MODE BIT OF REG-03
				CALLING SEQ:
					GO	MMODE	;CALL THE ROUTINE
					RTN		;RETURNS HERE 

		24440	MMODE1 - - ALTERNATE METHOD OF PUTTING DRIVE IN MAINT MODE 

		24444	
				ROUTINE IS SIMILAR TO MMODE EXCEPT THAT IT GUARANTEES THAT
				SECTOR PULSE WILL HAVE GONE THRU A COMPLETE PULSE CYCLE
				BEFORE IT EXITS. THIS IS NESSARY FOR THE MAINT MODE DATA
				TRANSFER OPERATIONS.
				CALLING SEQ:
				GO	MMODE1		;CALL THE ROUTINE
				RTN			;RETURNS HERE 

		24468	INDEX -- ROUTINE TO ISSUE DIAGNOSTIC INDEX PULSE

		24472	
				THE DRIVE SHOULD BE IN MAINT MODE PRIOR TO THIS CALL
				THIS ROUTINE ISSUES SECTOR CLOCK OVERLAPPING INDEX, JUST
				AS THE DEVICE DOES
				CALLING SEQUENCE:
				GO	INDEX		;CALL THE ROUTINE
				RETURN			;RETURN	

		24509	INDX -- ALTERNATE INDEX PULSE ROUTINE

		24513	
				THIS ROUTINE ISSUES INDEX PULSE THROUGH THE MAINT REG. UNLIKE
				"INDEX", IT DOES NOT OVERLAP SECTOR CLOCK. THE DRIVE MUST BE
				IN MAINT MODE WHEN THIS ROUTINE IS CALLED.
				CALLING SEQ:
				GO	INDX		;CALL THE ROUTINE
				RTN			;RETURN 

		24539	SECTCK -- ROUTINE TO ISSUE SECTOR CLOCKS

		24543	
				THIS ROUTINE ISSUES A VARIABLE NUMBER OF SECTOR CLOCKS
				AS SPECIFIED BY AC1 ON THE CALL.
				CALLING SEQUENCE:
				MOVEI	1,NUM		;SPECIFY THE NUMBER
				GO	SECTCK		;CALL THE ROUTINE
				RETURN			;RETURN	

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 127           
                                                                                                                           SEQ 0138
		24588	SECPLS -- CAUSE A SECTOR PULSE AT SECTOR ZERO

		24592	
				THIS ROUTINE CAUSES THE NECESSARY SECTOR PULSE AT SECTOR ZERO
				TO START A MAINT MODE DATA TRANSFER OPERATION.
				CALLING SEQ:
				GO	SECPLS		;CALL THE ROUTINE
				RTN			;RETURNS HERE 

		*****************************************************************
	24609	OPERATION CONTROL ROUTINES
		*****************************************************************

		24614	MODE20 -- ROUTINE TO GO INTO 20 SECTOR MODE

		24618	
				MERELY READ AND REWRITE THE OFFSET REGISTER WITH THE
				FORMAT BIT CLEAR.
				CALLING SEQUENCE:
				GO	MODE20		;CALL THE ROUTINE
				RETURN			;RETURN	

		24649	MODE22 -- ROUTINE TO GO INTO 22 SECTOR MODE

		24653	
				MERELY READ AND REWRITE THE OFFSET REGISTER WITH THE
				FORMAT BIT SET.
				CALLING SEQUENCE:
				GO	MODE22		;CALL THE ROUTINE
				RTN			;RETURN	

		24683	.RECAL -- ROUTINE TO ISSUE A RECAL

		24687	
				ISSUES A RECAL TO THE SELECTED DRIVE. THIS ROUTINE SUPPLIES
				AN ERROR RETURN FOR MAINLINE. BRANCHING. WHEN THE
				ERROR RETURN IS TAKEN, "ERFLG" IS SET. IF A COMPOSITE
				ERROR IS, DETECTED, THE FOLLOWING REGISTERS GET Q'D FOR ANALYSIS
				CR,SR,ER1,ER2,ER3
				CALLING SEQ:
				GO	.RECAL		;CALL THE ROUTINE
				RTN-1			;COMPOSITE ERROR OR TIMEOUT
				RTN-2			;NORMAL	

		24732	.SEEK -- ROUTINE TO ISSUE A SEEK

		24736	
				ISSUES A SEEK TO THE CYLINDER SPECIFIED BY AC1 ON
				THE CALL. THE ROUTINE SUPPLIES AN ERROR RETURN FOR MAINLINE
				BRANCHING. WHEN THE ERROR RETURN IS TAKEN "ERFLG" IS SET.
				WHEN A COMPOSITE ERROR IS CAUSED BY A SEEK COMMAND, THE FOLLOWING
				REGISTERS ARE Q'D FOR ANALYSIS: CR,SR,ER1,ER2,ER3,DCA,CCA
				CALLING SEQ:
				MOVE	1,ARG		;CYLINDER TO AC1

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 128           
                                                                                                                           SEQ 0139
				GO	.SEEK		;ISSUE THE SEEK
				RTN-1			;TIMEOUT OR COMPOSITE ERROR
				RTN-2			;NORMAL	

		24784	.OFSET -- ROUTINE TO ISSUE AN OFFSET COMMAND

		24788	
				ISSUE AN OFFSET COMMAND TO THE SELECTED DRIVE. THE
				OFFSET IS SPECIFIED IN AC1 AT CALL TIME. THE LOW ORDER
				8 BITS OF AC1 ARE THE ONLY ONES USED. THE OFFSET
				REGISTER IS READ/MODIFIED/WRITTEN WITH NEW OFFSET DATA
				ONLY AND THEN THE OFFSET COMMAND IS ISSUED. AN ERROR
				RETURN IS SUPPLIED FOR MAINLINE BRANCHING. WHEN AN OFFSET
				COMMAND CAUSES A COMPOSITE ERROR THE FOLLOWING REGISTERS ARE
				Q'D FOR ANALYSIS: CR,SR,ER1,ER2,ER3,DCY,CCY,OF.
				CALLING SEQ:
				MOVE	1,ARG		;SPECIFY THE OFFSET DESIRED
				GO	.OFSET		;CALL THE OFFSET DESIRED
				RTN-1			;TIMEOUT OR DEVICE ERROR
				RTN-2			;NORMAL	

		24848	.SRCH -- ROUTINE TO ISSUE A SEARCH COMMAND

		24852	
				ISSUE A SEARCH COMMAND TO THE SELECTED DRIVE. THE SEARCH
				ADDRESS IS PASSED IN ACCUMULATOR AT THE CALL. AN ERROR
				RETURN IS PROVIDED FOR MAINLINE BRANCHING. WHEN THE ERROR
				RETURN IS TAKEN, "ERFLG" IS SET. IF A COMPOSITE ERROR IS
				CAUSED BY THE SEARCH COMMAND, THE FOLLOWING REGISTERS ARE
				Q'D FOR ANALYSIS: CR,SR,ER1,ER2,ER3,DA,DC4,CCY
				CALLING SEQUENCE:
				MOVE	1,ARG1		;AC1 CONTAINS CYLINDER
				MOVE	2,ARG2		;AC2 CONTAINS SURF,,SECTOR
				GO	.SRCH		;CALL THE SEARCH ROUTINE
				RTN-1			;ERROR TIMEOUT
				RTN-2			;NORMAL	

		24912	RTNCTL -- ROUTINE TO ISSUE RETURN TO CENTER LINE

		24916	
				ISSUE A RETURN TO CENTER LINE TO THE SELECTED DRIVE. THE
				ROUTINE WILL SUPPLY AN ERRROR RETURN FOR MAINLINE BRANCHING.
				WHEN THE ERROR RETURN IS TAKEN, "ERFLG" IS SET. IF THE RETURN
				TO CENTERLINE COMMAND CAUSES A COMPOSITE ERROR, THE FOLLOWING
				REGISTERS WILL BE Q'D FOR ANALYSIS: CR,CR,ER1,ER2,ER3,DCY,CCY
				CALLING SEQUENCE:
				GO	RTNCTL		;CALL THE ROUTINE
				RTN-1			;ERROR OR HUNG DEVICE
				RTN-2			;NO ERROR	

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 129           
                                                                                                                           SEQ 0140
		24959	XFSTRT -- ROUTINE TO INITIATE A DATA TRANSFER

		24963	
				THIS ROUTINE IS USED TO LOAD DCY, DA, AND RH CONTROL
				REGISTERS.
				THE ROUTINE HAS A NORMAL AND AN ERROR RETURN.
			
				WHEN TAKING THE ERROR RETURN (RTN-1) AC1 WILL BE ZERO.
				AN ERROR RETURN IS TAKEN IF A CBTO OCCURED WHEN LOADING
				ONE OF THE DRIVE REGISTERS.
			
				CALLING SEQUENCE:
				MOVE	AC1,ARG1	;FUNCTION CODE & MISC. CR BITS
				MOVE	AC2,ARG2	;VALUES FOR DCY,,DA
				MOVE	AC3,ARG2	;VALUES FOR +WC,,CORE ADR
				GO	XFSTRT		;CALL THE ROUTINE
				RTN-1			;ERROR RETURN
				RTN-2			;NORMAL RETURN 

		25049	XFSTOP -- ROUTINE TO TERMINATE A DATA TRANSFER

		25053	
				THIS ROUTINE WHEN CALLED DOES A CONTROLLER MASTER RESET
				TO FORCE THE TRANSFER TO BE COMPLETELY TERMINATED.
			
				CALLING SEQUENCE:
				GO	XFSTOP		;CALL THE ROUTINE
				RTN			;RETURNS HERE 

		25074	SNABRT -- ROUTINE TO SNAPSHOT REGISTERS AND ABORT TRANSFER

		25078	
				THIS ROUTINE SNAPSHOTS ALL CONTROLLER AND DRIVE REGISTERS INTO
				CORE AND THEN SHUTS DOWN THE SYSTEM BY STOPPING THE CHANNELS
				AND ISSUING RHCLR. IN EXEC MODE, THE TRANSFER IS NOT STOPPED 
				IF PROCEEDING ON ERROR
			
				CALLING SEQ:
				GO	SNABRT		;CALL THE ROUTINE
				RTN			;RETURNS +1

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 130           
                                                                                                                           SEQ 0141
		*****************************************************************
	25102	DEVICE I/O WAIT ROUTINE
		*****************************************************************

		25107	WAITGO -- ROUTINE TO WAIT FOR GO TO RESET

		25111	
				THIS IS A GROSS TIMER FOR HUNG DEVICES. IT WILL LOOK
				FOR A CLEAR "GO" BIT FOR AT LEAST 520 MS BY CONTINUALLY
				READING THE CONTROL REGISTER. IT PROVIDES A TIMEOUT RETURN
				FOR MAINLINE BRANCHING. WHEN IT DOES TIME OUT, IT TELLS
				YOU WHICH DEVICE IS HUNG, AND WITH WHICH COMMAND, ALONG
				WITH WHERE THE WAIT IS OCCURING.
				A FLAG CALLED "HNGDEV" IS ALSO SET TO -1 WHEN A
				HUNG DEVICE CONDITION OCCURS. (DEVICE TIMEOUT).
			
				CALLING SEQUENCE:
				GO	WAITGO		;CALL THE ROUTINE
				RTN-1			;HUNG DEVICE RETURN
				RTN-2			;GO BIT IS CLEAR

		*****************************************************************
	25168	UTILITIES TO AID IN MAINT MODE TESTING
		*****************************************************************

		25173	SETB1 -- BUILD A WRITE BUFFER FROM STD PATTERNS

		25177	
				TRANSFERS THE STANDARD DATA PATTERNS TO THE FIRST
				28. WORDS OF "BUF1" AND ZERO'S THE NEXT 102. WORDS
				TO FILL OUT THE REST OF THE SECTOR DATA.
			
				CALLING SEQ:
				GO	SETB1		;SET UP THE BUFFER
				RTN			;RETURNS HERE 

		25204	FETWD -- FETCH AN 18 BIT BYTE FROM WRITE BUFFER

		25208	
				FETCH FROM THE WRITE BUFFER "BUF1", THE SPECIFIED 18
				BIT DATA BYTE. THE FIRST 2 WORDS IN THE BUFFER ARE
				ASSUMED TO BE HEADER WORDS. BUFFER IS LAID OUT LIKE THIS:
				BYTE1,,BYTE2
				BYTE3,,BYTE4 ETC.
			
				CALLING SEQUENCE:
				MOVEI	1,N		;GET BYTE NUMBER.
				GO	FETWD		;CALL THE ROUTINE
				RTN			;RETURNS WITH DATA IN R(AC1) 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 131           
                                                                                                                           SEQ 0142
		25245	FETMC3 -- FETCH AN 18 BIT BYTE FROM READ BUFFER

		25249	
				FETCH FROM THE READ BUFFER "BUF2", THE SPECIFIED 18
				BIT DATA BYTE. THE FIRST 2 WORDS IN THE BUFFER ARE
				ASSUMED TO BE HEADER WORDS. BUFFER IS LAID OUT LIKE THIS:
				BYTE1,,BYTE2
				BYTE3,,BYTE4 ETC.
			
				CALLING SEQUENCE:
				MOVEI	1,N		;GET BYTE NUMBER.
				GO	FETMC3		;CALL THE ROUTINE
				RTN			;RETURNS WITH DATA IN R(AC1) 

		25289	UCBUF2 -- UNCACHE BUF2 "THE READ BUFFER"

		25293	
				SETS UP THE READ BUFFER TO BE UNCACHED SO THAT THE "MCLK3"
				ROUTINE CAN PROPERLY RETRIEVE THE READ DATA.
			
				CALLED IMMEDIATELY AFTER "PGMINT" TO UNCACHE THE PROPER PAGE.

		25326	MCLK1 -- A MAINT-MODE CLOCK ROUTINE

		25330	
				THIS ROUTINE ISSUES THE SPECIFIED NUMBER OF MAINT CLOCKS
				AND THEN RETURNS. THE MAINT DATA BITS ARE HELD AT 0.
			
				CALLING SEQ:
				MOVEI	1,N		;NUMBER OF CLOCKS DESIRED
				GO	MCLK1		;CALL THE ROUTINE
				RTN			;RETURNS HERE

		25362	MCLK2 -- A MAINT MODE CLOCKING ROUTINE

		25366	
				THIS ROUTINE ISSUES THE NUMBER OF MAINT CLOCKS SPECIFIED
				AND RETURNS THE EQUIVALENT NUMBER OF DATA BITS
				FOR THOSE CLOCKS, AS READ FROM THE MAINT REGISTER
				BIT-30. DATA IS RIGHT JUSTIFIED IN AC1 ON RETURN
			
				CALLING SEQUENCE:
				MOVEI	1,N		;# OF CLOCKS
				GO	MCLK2		;CALL THE ROUTINE
				RTN			;DATA IN AC1, RIGHT JUSTIFIED
			
				NOTE:	IF THE NUMBER OF CLOCKS IS MORE THAN 36.,
					THE LAST 36 BITS WILL BE RETURNED 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 132           
                                                                                                                           SEQ 0143
		25423	MCLK3 -- A MAINT MODE CLOCKING ROUTINE

		25427	
				THIS ROUTINE SUPPLIES 18 BITS OF DATA SPECIFIED BY AC1, TO
				THE DRIVE (THROUGH BIT-C04 OF THE MAINT REG). AFTER CLOCKING
				18 BITS OF DATA TO THE DRIVE, THE APPROPRIATE 18 BITS ARE
				RETRIEVED FROM MEMORY (RESULTING MASS BUS DATA). THIS 18-BITS
				OF DATA IS RETURNED IN AC1.
			
				CALLING SEQ:
				MOVE	1,DATA		;18 BITS RIGHT ADJUSTED
				GO	MCLK3		;CALL THE ROUTINE
				RTN			;18-BITS OF RESULTANT MASSBUS
							;DATA RETURNED IN AC1

		25481	MCLK4 -- A MAINT MODE CLOCK ROUTINE

		25485	
				THIS ROUTINE RECEIVES A CLOCK COUNT AND DATA BYTE AND
				ACCORDING TO HOW THESE ARE SPECIFIED, SENDS A VARIABLE NUMBER
				OF DATA BITS TO THE DRIVE.
			
				CALLING SEQ:
				MOVE	2,N		;NUMBER OF DATA BITS IN AC1
				MOVE	1,DATA		;DATA TO GO TO MAINT REG (RIGHT JUST)
				GO	MCLK4		;CALL THE ROUTINE
				RTN			;ALL BITS WRITTEN

		*****************************************************************
	25527	DUAL PORT TEST UTILITY ROUTINES
		*****************************************************************

		25532	RDCRA-RDCRB-RDSRA-RDSRB PORT SNAPSHOT ROUTINES

		25536	
				RDCRA - READS CONTROL REGISTER FROM PORT-A INTO "CRA"
				RDCRB - READS CONTROL REGISTER FROM PORT-B INTO "CRB"
				RDSRA - READS STATUS REGISTER FROM PORT-A INTO "SRA"
				RDSRB - READS STATUS REGISTER FROM PORT-B INTO "SRB"
				CALLING SEQ:
				GO	RDXXX		;XXX=CRA OR CRB OR SRA OR SRB
				RTN			;RETURN	

		25601	PCRA-PCRB-PSRA-PSRB	PRINT STATUS AND CONTROL REGISTERS

		25605	
				PCRA - PRINTS CONTROL REGISTER FROM "CRA"
				PCRB - PRINTS CONTROL REGISTER FROM "CRB"
				PSRA - PRINTS STATUS REGISTER FROM "SRA"
				PSRB - PRINTS STATUS REGISTER FROM "SRB"
				THE ASSOCIATED PORT IS ALSO IDENTIFIED
				CALLING SEQ:
				GO	PXXX		;XXX=CRA OR CRB OR SRA OR SRB
				RTN			;RETURNS HERE	

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 133           
                                                                                                                           SEQ 0144
		25646	NEUTRL -- ROUTINE TO WAIT TILL PORT IS IN NEUTRAL

		25650	
				READS STATUS FROM EACH PORT UNTIL BOTH RETURN NON-ZERO
				VALUES, THIS IS THE DEFINITION OF NEUTRAL.
				CALLING SEQ:
				GO	NEUTRL		;CALL THE ROUTINE
				RTN			;DRIVE IS IN NEUTRAL

		25728	CLRATA - - CLEAR ATA FLOPS ON BOTH PORTS

		25732	
				THIS ROUTINE CLEARS THE FLOPS ON EACH PORT BY FIRST CAPTURING
				THE PORT WITH A CONTROL REG READ AND THEN ISSUING A
				MASS BUS INIT WITH AN RHCLR COMMAND. THE DRIVE IS IN NEUTRAL
				WHEN THIS ROUTINE EXITS.
				CALLING SEQ:
				GO	CLRATA		;CALL THE ROUTINE
				RTN			;ATA'S CLEARED 

		25785	CALIBR - - ROUTINE TO CALIBRATE A 1 SECOND TIMER

		25789	
				THIS ROUTINE CALIBRATES AN APPROX 1 SECOND TIMER FOR DUAL
				PORT TESTS. IT SETS UP A LOCATION CALLED "RRPS" WHICH CONTAINS
				THE NUMBER OF RREGISTER READS TO USE UP APPROX 1 SECOND OF TIME.
				THE LOOP IS CALIBRATED BY READING THE LOOK AHEAD REGISTER FOR 60
				REVOLUTIONS OF THE DISK.
				CALLING SEQ:
				GO	CALIBR		;CALL THE ROUTINE
				RRETURN			;IT RETURNS HERE 

		25867	GNLWT - - A GENERAL PURPOSE WAIT ROUTINE

		25871	
				PERFORM THE # OF REGISTER READS SPECIFIED BY AC1
				CALLING SEQ:
				MOVEI	1,N		;GET THE DESIRED NUMBER
				GO	GNLWT		;CALL THE ROUTINE
				RETURN			;EXIT 

		25909	WAIT.5 - WAIT1 - WAIT2 - - STALL ROUTINES 

		25913	
				WAIT.5	RETURNS IN APPROX 1/2 SEC
				WAIT1	RETURNS IN APPROX 1 SEC
				WAIT2	RETURNS IN APPROX 2 SEC
				CALLING SEQ:
				GO	XXXX		;WHERE XXXX DEFINES THE PROPER ROUTINE
				RETURN			;RETURNS AFTER APPROXIMATE TIME 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 134           
                                                                                                                           SEQ 0145
		*****************************************************************
	25945	REGISTER SNAPSHOT AND DUMP ROUTINES
		*****************************************************************

		25950	SNAPSHOT ROUTINES

		25954	
				ROUTINE TO SNAPSHOT RH11 AND DEVICE REGISTERS INTO CORE
			
				CALLING SEQ:
				GO	SNAPS		;CALL ROUTINE
				RTN			;RTN +1 ALWAYS	

		25994	DUMP ROUTINE

		25998	
				ROUTINE	TO PRINT CONTENTS OF PREVIOUSLY SNAPSHOT REGISTERS
			
				RHDB IS NOT PRINTED
				CALLING SEQ:
				GO	DUMPS		;CALL THE ROUTINE
				RTN			;RTN+1 ALWAYS	

		26081	RH11 & DEVICE LOAD ROUTINES

		26085	
			SPECIFICATION:
			
			DEVICE REGISTERS ARE LOADED BY SETTING UP AC1 WITH SOME
			APPROPRIATE ARGUMENT AND THEN CALLING THE CORRECT
			ROUTINE WITH A PUSHJ.
			
			AC1:
			SPECIFY REGISTER DATA IN BITS 20-35
			
			SPECIFY SOFTWARE OPTION BITS 13-14
				BIT 13=0	CLEAR RAE'S
				BIT 13=1	DON'T CLEAR RAE'S
				BIT 14=0	REPORT RAE'S
				BIT 14=1	DON'T REPORT RAE'S
			
			
				THERE ARE 2 RETURN SEQUENCES:
				1. GO LDXXXX		;SEE NOTE-1
				   RTN1			;RTN (NED)
				   RTN2			;NORMAL RTN
			
				2. GO LDXXXX		;SEE NOTE-1
				   RTN1			;NORMAL RTN
			
			
				NOTE1:	DRIVE REGS AND RHCS1 ROUTINES HAVE 2 RETURNS
					AND THE REST HAVE ONLY 1 RETURN.
			

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 135           
                                                                                                                           SEQ 0146
				THE LOAD ROUTINES SUPPLY STATUS INFORMATION IN THE
				LEFT SIDE FOR THE MAINLINE.
			
					BITS	0-5	UNIBUS ADDRESS
					BIT	6=1	REGISTER LOAD
					BIT	7=0	NO NED OCCURED
						7=1	GOT NED
					BIT    10=0	REG. WAS DEVICE REG. OR RHCS1
					BIT    10=1	REG. WAS AN RH11 REGISTER
					BITS  15-17	WILL HOLD DRIVE NUMBER
			
			
			THE ROUTINE EXPECTS THE AC "MBCN" TO CONTAIN THE BASE 
			ADDRESS OF THE UNIBUS ADDRESS BLOCK ASSIGNED TO THE RH11
			BEING REFERENCED . ALSO THAT THE AC "DRIVE" CONTAIN
			THE SELECTED DRIVE # IN BITS 33-35 

		26302	RH11 AND DEVICE REGISTER READ ROUTINES

		26306	
			SPECIFICATION:
			THE RH11 AND MASSBUS REGISTERS ARE READ BY SETTING UP AC1
			WITH THE APPROPRIATE ARGUMENTS AND CALLING THE ROUTINE
			WITH A PUSHJ. THE LEFT SIDE OF AC1 WILL CONTAIN THE REGISTER
			NUMBER AND DRIVE NUMBER FOR THE MASSBUS REGISTER READ. 
			IF A REGISTER ACCESS ERROR IS DETECTED BIT 7 WILL BE SET TO 
			INDICATE A NED ERROR  AND BIT 8 INDICATING A MCPE. INTERNAL
			RH11 REGISTERS READ WILL RETURN THE REGISTER NUMBER ONLY.
			
			EXAMPLE OF READING A MASSBUS DEVICE REG (AND RHCS1 IN THE RH11)
			CALLING	SEQ:
			SETZM	1			;SETUP CALLING ARG
			GO	RDXXXX			;READ THE SPECIFIED REG
				RTN1			;NED ERROR DETECTED
				RTN2			;MCPE ERROR DETECTED
				RTN3			;NORMAL RETURN
			
			EXAMPLE OF READING A RH11 REG (OTHER THAN RHCS1)
			CALLING	SEQ:
			SETZM	1
			GO	RDXXXX			;READ THE REG
			RTN1				;RETURNS HERE ALWAYS
			
			NOTE !!! THERE IS A SPECIAL REGISTER TO BE AWARE OF,
			THE RHCS1 REG IS SHARED BY THE CONTROLLER AND DRIVE.
			FOR THIS REASON, RHCS1 IS ALWAYS TREATED
			AS A DEVICE REGISTER.
			
			AC1:
			SPECIFY THE SOFTWARE OPTION BITS IN BITS 13-14
				BIT 14 = 0  REPORT REG ACCESS ERRORS
				BIT 14 = 1  DONT REPORT REG ACCESS ERRORS
				BIT 13 = 0  CLEAR REG ACCESS ERRORS
				BIT 13 = 1  DONT CLEAR REG ACCESS ERRORS

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 136           
                                                                                                                           SEQ 0147
			
			THE ROUTINE EXPECTS THE AC "MBCN" TO CONTAIN THE BASE 
			ADDRESS OF THE UNIBUS ADDRESS BLOCK ASSIGNED TO THE RH11
			BEING REFERENCED.  ALSO THAT THE AC "DRIVE" CONTAIN
			THE SELECTED DRIVE # IN BITS 33-35 

		*****************************************************************
	26531	USER MODE UUO SUPPORT ROUTINES
		*****************************************************************

		26536	SETTRP - - PATCHES "UUOTST" INTO SUBR PKG UUO HANDLER

		26540	
				THIS ROUTINE DOES NOTHING IN EXEC MODE. IN USER MODE IT MODIFIES
				THE SUBROUTINE PKGES UUO HANDLER TO EXECUTE A ROUTINE CALLED
				"UUOTST" EACH TIME THE PGM EXECUTES A UUO AND THEN PASSES
				CONTROL TO THE SUBROUTINE PACKAGE FOR NORMAL UUO PROCESSING.
					EG.	GO	SETTRP	;PATCH IN
						RTN	;RETURNS CONTROL HERE 

		26568	UUOTST - - ROUTINE TO RELEASE THE RH BEFORE PRINTING

		26572	
				THIS ROUTINE IS EXECUTED IN USER MODE ONLY.BEFORE ATTEMPTING
				TO PRINT OR EXECUTE SOME OTHER TIME CONSUMING SUBROUTINE
				PACKAGE UUO, IT IS GOOD FORM TO RETURN THE RH TO THE SYSTEM
				RESOURCES SO THAT BOTH THE MONITOR AND DIAGNOSTIC USE THE
				DEVICE EFFICIENTLY. THIS ROUTINE IS RUN EACH TIME A UUO IS
				EXECUTED IN USER MODE, PROVIDED "SETTRP" WAS PREVIOUSLY
				CALLED. (AFTER PGMINT). 

		*****************************************************************
	26593	CPU BAD MEMORY DATA (BMD) ERROR SERVICE
		*****************************************************************

		26598	PARITY-- ROUTINE TO HANDLE CPU DETECTED BAD MEMORY DATA ERRORS

		26602	
			THIS ROUTINE WILL ATTEMPT TO REPORT WHERE THE BAD MEMORY DATA
			OCCURRED AND ATTEMPT TO CONTINUE IF POSSIBLE.
			KS10 TYPE CPU'S:
			THE MEMORY CONTROLLER ERROR ADDRESS REG WILL BE READ 
			AND DETERMINED IF THE THE ADDRESS IS IN THE PROGRAM AREA OR NOT.
			BAD MEMORY DATA ERROR IN PROGRAM AREA - FATAL ERROR HALT
			BAD MEMORY DATA ERROR NOT IN PROGRAM AREA -ATTEMPT TO CONTINUE.

		26622	HERE FOR KS10 BAD MEMORY DATA ERRORS

		26677	IOPGFT -- ROUTINE TO TEST FOR AND REPORT IO PAGE FAIL TRAPS

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 137           
                                                                                                                           SEQ 0148
		*****************************************************************
	26746	KS10/RH11 RP05/06/RM03 CONFIGURATOR
		*****************************************************************

		26751	CONFIG -- MASSBUS CONFIGURATION ROUTINE

		26755	
			THIS ROUTINE WILL ATTEMPT TO IDENTIFY THE RH11 CONNECTED
			TO THE KS10 THAT HAS MASSBUS DISK DRIVES ATTACHED TO IT.
			
			THIS ROUTINE ALSO CALLS A ROUTINE TO SET UP THE PROPER
			DIAGNOSTIC MONITOR CALL VIA A UUO OR JSYS BASED ON MONITOR TYPE.
			
			THE ROUTINE WILL TEST THAT THE UBA AND RH11 CAN BE ACCESSED
			AND TEST THAT NONE OF THE ERROR STATUS BITS ARE STUCK ON ,
			ONCE THIS HAS BEEN SUCCESSFULLY COMPLETED THE ROUTINE WILL
			POLL THE DEVICES CONNECTED TO THE RH11.
			
				THE CONFIGURATOR FUNCTIONS AS FOLLOWS:
			
				A.
			
					1.ISSUE UBA INIT
					2. SET DISABLE XFR BIT 28 IN UBA
					3.VERIFY IT SET - IF NOT FATAL 
					4.VERIFY PI CHANS CLEARED
				B.
			
					1.ISSUE UBA INIT
					2.WRITE RHCS2 -  SET DRIVE # TO 7
					3.VERIFY IT SET - IF NOT FATAL 
			
				C.
			
					1.ISSUE UBA INIT
					2.VERIFY RHCS2 IS CLEARED - IF NOT FATAL
					3.VERIFY UBA STATUS REG IS CLEARED - IF NOT FATAL
			
				D.	1.POLL THE DRIVES CONNECTED TO THE RH11
			

		26806	SET UBA DISABLE XFR

		26849	ISSUE UBA INIT AGAIN TEST FOR STUCK STATUS

		26889	MUBADR -- ROUTINE TO MODIFY THE RH11 ADDRESS FOR THE DISK CONTROLLER

		26946	CONDRV - - SCANS FOR AVAILABLE DRIVES

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 138           
                                                                                                                           SEQ 0149
		26950	
				THIS ROUTINE DETERMINES WHICH RP'S ARE ON THE AVAILABLE
				RH'S AND SETS UP "DEVTBL" ACCORDINGLY. 
				IT IS POSSIBLE TO DETECT DRIVES ONLY ON CONTROLLERS
				THAT HAVE BEEN PREVIOUSLY DETECTED. A DRIVE WILL BE 
				REPORTED ONLY IF THE PROGRAM CAN SUCCESSFULLY
				READ THE DRIVES "DRIVE TYPE" REGISTER AND IF THE
				TYPE IS ONE OF THE VALID DEVICE DRIVE TYPES. 

		27014	TELL - - CONFIGURATION REPORTER

		27018	
				THIS ROUTINE SCANS RHTBL & DEVTBL TELLING WHICH DRIVES
				AND CONTROLLERS ARE AVAILABLE. 

		27071	ASKDR - - INPUTS DRIVES TO BE TESTED

		27075	
				INPUTS A STRING OF DRIVE NUMBERS SEPARATED BY COMMMAS
				OR WILL ALSO ACCEPT THE CHARACTER "A" FOR ALL DRIVES
				THAT ARE AVAILABLE. "A" IS ILLEGAL IN USER MODE.  

		27154	CONSTANTS AND VARIABLES FOR CONFIGURATION MODULE

		27158	
				BIT MEANINGS FOR DEVTBL
					BIT 16 = 0  DRIVE WILL NOT BE TESTED
					BIT 16 = 1  DRIVE WILL BE TESTED
					BIT 17 = 0  DRIVE DOES NOT APPEAR TO EXIST ON RH
					BIT 17 = 1  DRIVE WAS DETECTED ON THE RH  

		*****************************************************************
	27174	DEVICE SELECTION AND PROGRAM TRACE ROUTINES
		*****************************************************************

		27179	DEVSEL - - DEVICE SELECTION ROUTINE #1

		27183	
				THIS ROUTINE WILL ALLOW FOR THE SELECTION OF THE
				NEXT AVAILABLE DRIVE TO BE TESTED. ITS
				DECISIONS ARE BASED ON THE CURRENT STATE OF DRIVE
				ALONG WITH INFORMATION FROM BIT 16 FROM THE APP-
				ROPRIATE "DEVTBL" ENTRY.
				THIS ROUTINE IS INITIALIZED AUTOMATICALLY BY TRACE.
				THIS ROUTINE DOES THE INITIALIZATION FOR SCOPE, ALONG
				WITH SETTING THE PRINTOUT MODE TO NORMAL. (SHMODE=0).
			
				CALLING SEQ:
					GO	DEVSEL	;SELECT NEXT DEV FOR TEST
					RTN1		;TRIED ALL. FIRST RE-SELECTED
					RTN2		;NEXT IS SELECTED. 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 139           
                                                                                                                           SEQ 0150
		27241	CHKALT - - THE PROGRAM ALTMODE CHECK ROUTINE

		27245	
				THIS ROUTINE GIVES THE USER THE CAPABILITY TO  CHECK FOR
				A TYPED "ALTMODE" OR OTHER CHAR FOR CONTROL ACTION.
				ALTMODE - TRANSFER TO DDT - RESTART WITH 'CONT ALTMODE G'
				T - FOR REPORTING WHICH TEST IS BEING EXECUTED
				Q - RESTART PROGRAM "QUIT"
				H - HELP

		27316	TRACE - - THE PROGRAM TRACE ROUTINE

		27320	
				THIS ROUTINE GIVES THE USER THE CAPABILITY TO MONITOR THE 
				PROGRESS OF A DIAGNOSTIC AS IT EXECUTES. THE TRACE OPTION IS
				INVOKED BY SETTING CONSOLE SWITCH 18. EACH TIME THE
				PROGRAM ENTERS A NEW TEST, THE TRACE ROUTINE WILL OUTPUT THE
				TEST NUMBER AND THE TEST PC (WHERE THE TEST STARTS). THIS
				ROUTINE WILL SET UP "TSTNUM" AND "TESTPC" FOR THE PURPOSE OF
				ERROR REPORTING DURING THE TEST. (ALL PRINTOUTS ARE FORCED)
				THIS ROUTINE ALSO DOES INITILIZATION FOR DEVSEL.
			
				CALL SEQ FOR NUMERICALLY NUMBERED TEST
					MOVE	1,YNNNNN	;TEST OPTION & TEST NUMBER
					GO	TRACE	;CALL THE ROUTINE
					RETURN	
			
				Y = REPRESENTS A TEST OPTION
					Y = 0, TEST IS NEVER OMITTED
					Y = 1, TEST OMITTED IN USER MODE
					Y = 2, TEST OMITTED IF NOT "OPRSEL"
			
				AN ALTERNATE CALLING SEQUENCE IS USED IF THE TEST HAS
				A SIXBIT NAME RATHER THAN A NUMBER.
					MOVE	1,[SIXBIT/NAME/] ;GET THE NAME
					GO	TRACE	;CALL THE ROUTINE
					RETURN		;AND THE RETURN IS HERE
			
				THE NAME IS NOW IN "TSTNUM" 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 140           
                                                                                                                           SEQ 0151
		*****************************************************************
	27415	CONTROLLER INITIALIZATION ROUTINE
		*****************************************************************

		27420	MSTCLR - - RH MASTER CLEAR ROUTINE

		27424	
				THIS ROUTINE DOES THE FOLLOWING:
				1. CLEAR UNIBUS ADAPTER
				2. CLEARS ALL POSSIBLE ERRORS (ISSUES AN RHCLR)
				3. SELECTS DRIVE IN RPCS2
			
				CALLING SEQ:
					GO	MSTCLR	;CALL THE CLEAR ROUTINE
					RETURN		;RETURNS HERE ALWAYS  

		*****************************************************************
	27446	CONTROL BUS TIMEOUT ERROR HANDLER
		*****************************************************************

		27451	CBTOER - - ROUTINE TO FIELD UNEXPECTED CBTO'S

		27455	
				THIS ROUTINE IS USED TO FIELD AND REPORT UNEXPECTED CONTROL
				BUS TIMEOUTS WHEN LOADING OR READING DEVICE REGISTERS. A
				CBTO IS UNEXPECTED AFTER THE DEMAND-TRANSFER LOGIC HAS
				BEEN TESTED. THIS ROUTINES ONLY OPTION IS TO REPORT
				THE FACT THAT THE ERROR OCCURED AND SET A FLAG SO THE NEXT
				CALL TO THE SCOPE UUO WILL FORCE THE TEST TO LOOP. THIS
				ROUTINE MUST ALSO PUT IN A DEVICE REQUEST SINCE THE RH 
				MAY HAVE BEEN GIVEN UP FOR ERROR REPORTING.
			
				CALL SEQ:
					GO	CBTOER	;CALL THE ROUTINE
					RETURN		;RETURNS HERE 

		27497	CPARER - - FIELD AND REPORT UNEXPECTED CTRL BUS P.E.'S

		27501	
				THIS ROUTINE IS USED TO FIELD AND REPORT CONTROL BUS PARITY
				ERRORS THAT HAPPEN TO OCCUR AFTER THE CONTROL BUS PARITY
				LOGIC HAS BEEN TESTED AND ASSUMED OPERATIONAL. THE ONLY
				OPTION OF THIS ROUTINE IS TO REPORT THE FACT THAT THE
				PARITY ERROR OCCURED, AND SET A FLAG SO THAT THE NEXT CALL TO
				THE SCOPE UUO WILL CAUSE THE TEST TO LOOP. THE ROUTINE WILL
				ALSO HAVE TO DO A DEVICE REQUEST SINCE THE RH WAS GIVEN UP
				TO REPORT THE ERROR.
			
				CALLING SEQ:
					GO	CPARER	;CALL THE ROUTINE
					RETURN		;RETURNS HERE 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 141           
                                                                                                                           SEQ 0152
		*****************************************************************
	27539	TEST DISPATCH ROUTINE
		*****************************************************************

		27544	DISPAT -- ROUTINE TO DISPATCH TO THE PROPER TEST

		27548	
				THE FOLLOWING ALGORITHIM IS USED:
				A.  READ CURRENT VALUE OF THE CONSOLE SWITCHES
				B.  IF SW-25 IS SET GO BACK TO STEP-A (PAUSE)
				C.  IF SW-21 IS SET, RUN DUAL PORT TEST. THEN BACK TO STEP-A
				D.  IF SW-22 IS SET, RUN HEAD ALIGNMENT TEST. THEN BACK TO STEP-A
				E.  IF SW-14 IS SET, SET A FLAG TO RUN TESTS REQUIRING
				    OPERATOR INTERUENTION
				F.  IF SWITCH 26 IS SET, RUN TEST SPECIFIED BY SWITCHES
				    27-35. THEN GO BACK TO STEP-A.
				G.  IF SWITCH 26 IS RESET, RUN THE NEXT SEQUENTIAL TEST
				    FROM THE DISPATCH LIST. THEN GO TO STEP-A.
			
				CALLING SEQUENCE:
					GO	DISPAT	;CALL THE DISPATCH ROUTINE
					RTN		;RETURN AT END OF PASS

		*****************************************************************
	27657	DUAL PORT CONTROLLER DISPATCHER
		*****************************************************************

		27662	DPDISP - - DUAL PORT CONTROL AND DISPATCH ROUTINE

		27666	
				HANDLES DISPATCHING AND CONTROL FOR RUNNING THE DUAL PORT
				TESTS. THIS ROUTINE IS CALLED FROM THE MAIN PROGRAM DISPATCH
				ROUTINE IF OPERATOR SELECTS DUAL PORT OPTIONAL TESTS FROM
				THE SWITCHES.
				CALLING SEQ:
				GO	DPDISP		;CALL THE ROUTINE
				RETURN			;TESTS RAN ON ALL DRIVES 

		*****************************************************************
	27861	SOME TTY INPUT UTILITY ROUTINES
		*****************************************************************

		27866	QSTN - - ROUTINE TO INPUT ANSWERS (Y OR N) AND BRANCH

		27870	
				THIS ROUTINE AUTOMATICALLY OUTPUTS THE "Y OR N" PROMT MSG.
				CALLING SEQUENCE:
					GO	QSTN	;CALL THE ROUTINE
					RTN-1		;TIMEOUT
					RTN-2		;ANSWER WAS A NO
					RTN-3		;ANSWER WAS A YES 

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 142           
                                                                                                                           SEQ 0153
		27897	CHARIN - - ROUTINE TO INPUT A SPECIFIC CHAR FROM THE TTY

		27901	
				CALLING SEQ:
				MOVEI	0,CHAR		;SPECIFY THE CHARACTER YOU WANT
				GO	CHARIN		;GO AND DO INPUT
				RTN-1			;NO RESPONSE. TIMEOUT
				RTN-2			;WRONG CHARACTER (AC0 HOLDS CHAR)
				RTN-3			;CORRECT CHAR (AC0 HOLDS CHAR) 

		27927	NUMIN - - INPUT AND RANGE TEST A CONVERTABLE NUMBER 

		27931	
				THE LIMITS ARE INCLUSIVE AND ARE SPECIFIED BY AC0 OF THE CALL.
				MULTIPLE RETURNS ARE SUPPLIED FOR BRANCHING.
			
				CALLING SEQ:
				MOVE	0,[LIM1,,LIM2]	;SPECIFY THE LIMITS
				GO	NUMIN		;CALL THE ROUTINE
				RTN-1			;TIMEOUT. NO RESPONSE (AC0 UNCHANGED)
				RTN-2			;ILLEGAL OR OUT OF RANGE (AC0 UNCHANGED)
				RTN-3			;NORMAL. (36 BIT NUM IN AC0) 

		*****************************************************************
	27975	GENERAL PRINT UTILITIES
		*****************************************************************

		27980	TELWHO -- PRINTS CURRENT DRIVE NUMBER

		27984	
				THIS ROUTINE PRINTS "DRIVE-X" WITHOUT ANY LINE CONTROL,
				THIS ROUTINE IS PRIMARILY USED TO IDENTIFY THE
				DEVICE IN THE OPERATOR INTERVENTION MESSAGES.
				CALLING SEQ:
				GO	TELDEV		;CALL THE ROUTINE
				RTN			;THE RETURN	

		28007	TELTST - - IDENTIFY TEST REQUIRING OPER INTERVENTION

		28011	
				THE NAME COMES FROM TSTNUM.  THE FOLLOWING MSG IS PRINTED:
				"OPR ACTION REQ'D IN TEST - XXXX"
			
				CALLING SEQ:
				GO	TELTST		;CALL THE ROUTINE
				RTN			;RETURN  

		28039	SUMARY -- IDENTIFY DRIVES UNDER TEST

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 143           
                                                                                                                           SEQ 0154
		28043	
				AT THE END OF THE 1ST AND EVERY 10 PASSES THEREAFTER
				THIS ROUTINE WILL IDENTIFY THE DRIVE CONTROLLER TYPES
				BEING TESTED. THEY ARE IDENTIFIED BY DRIVE TYPE, DEVICE CODE,
				AND SERIAL NUMBER. SETTING TEXT INHIBIT WILL STOP THIS
				ROUTINE FROM PRINTING.
				CALL SEQ:
				GO	SUMARY		;CALL THE ROUTINE
				RTN			;RETURN	

		28114	SWOP -- ROUTNE TO TYPE SENSE SWITCH OPTIONS

		28118	
				THIS ROUTINE ASKS THE USER IF HE WANTS A LIST OF THE PROGRAMS
				SWITCH OPTIONS AND THEN REACTS ACCORDINGLY 

		28253	ER23CK - - ERROR REG'S 2 & 3 CHECK ROUTINE

		28257	
				THIS ROUTINE WHEN CALLED,WILL EXAMINE THE DATA FOR ERROR REG'S
				2 & 3 AND TRANSLATE THE ERROR BITS THAT ARE SET TO POSSIBLE
				FAULTY MODULES (UNLESS TXTINH IS SET SW-10). DATA IS 
				ASSUMED TO HAVE BEEN ALREADY SNAPSHOT INTO CORE. ERRORS DETECTED
				BY THIS ROUTINE ARE GENERALLY UNEXPECTED AND THIS ROUTINE IS
				MERELY A SAFEGUARD TO KEEP THESE ERRORS FROM SLIPPING THRU
				THE DIAGNOSTIC UNDETECTED.
			
				CALLING SEQUENCE:
				GO	ER23CK		;CALL THE ROUTINE
				RTN			;RETURNS HERE 

		*****************************************************************
	28367	SCOPE LOOPING AND ERROR REPORTING ROUTINE
		*****************************************************************

		28372	SCOPE - - ERROR REPORTER AND SCOPE LOOP CONTROLLER

		28376	
				THIS ROUTINE IS RESPONSIBLE FOR ERROR REPORTING AND
				SCOPE LOOPING WITHIN THIS DIAGNOSTIC. THE ERROR
				LOOPING AND PRINT OPTIONS ARE CONTROLLED BY SWITCHES.
			
				SWITCH OPTIONS:
				---------------
			
				SW5=0	NO BELL ON ERROR
				SW5=1	RING BELL ON ERROR (FORCED)
			
				SW6=0	PROCEED ON ERROR
				SW6=1	LOOP ON FIRST OCCURANCE OF AN ERROR
			
				SW7=0	DON'T HALT ON ERROR
				SW7=1	HALT ON ERROR (EXEC MODE ONLY)
			

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 144           
                                                                                                                           SEQ 0155
				SW8=0	PRINT ERROR DATA ON FIRST OCCURANCE OF ERROR ONLY
				SW8=1	PRINT ERROR DATA FOR ALL REPETITIVE ERRORS
			
				SW19=0	DO SHORT MODULE CALLOUTS (HI PROBABILITY ONLY)
				SW19=1	DO EXPANDED MODULE CALLOUTS (ALL MODULES)
			
			
				THE FOLLOWING TWO LOCATIONS SHOULD BE INITIALIZED BY THE
				MAINLINE TO 0 AT THE START OF EACH TEST.
				ERFLG	ERROR/NO-ERROR FLAG
				ERCNT	A LOCAL ERROR COUNTER
			
			
				TWO ADDITIONAL FLAGS ARE AVAILABLE TO SOFTWARE FROM SCOPE.
				"ERYET" & "ERYETU" THEY PROVIDE A WAY FOR THE DIAGNOSTIC
				TO DETERMINE IF IT HAS JUST PROCEEDED ON ERROR FROM THE
				PREVIOUS SCOPE CALL. THIS IS A MEANINGFUL DECISION SINCE
				THERE ARE OCCASIONS IN BOTH USER AND/OR EXEC MODE WHEN
				PROCEED ON ERROR IS NOT THE MOST APPROPRIATE ACTION.
				THESE FLAGS NEED NOT BE INITIALIZED:
			
				ERYET=0		(EXEC OR USER) NO ERROR ON LAST SCOPE CALL
				ERYET=-1	(EXEC OR USER) ERROR ON LAST SCOPE CALL
			
				ERYETU=0	GUARANTEED TO BE ZERO IN EXEC MODE
				ERYETU=0	(USER MODE) NO ERROR ON LAST SCOPE CALL
				ERYETU=-1	(USER MODE) ERROR ON LAST SCOPE CALL
			
			
				THE SCOPE/ERROR HANDLER IS CALLED BY EXECUTING A UUO WHOSE
				E-FIELD IS A POINTER TO ADDITIONAL ERROR INFORMATION.
				THE UUO HAS A SKIP AND NON-SKIP RETURN TO PROVIDE THE NECESSARY
				LOOPING CAPABILITIES. THE NON-SKIP RETURN IS THE LOOP ON ERROR
				RETURN AND THE SKIP RETURN IS THE CONTINUE TEST (OR NO ERROR)
				RETURN. PGM BRANCHING IS ACCOMPLISHED BY PLACING APPROPRIATE
				JRSTS IN THE RETURN LOCATIONS.
			
				A TYPICAL USE WOULD BE AS FOLLOWS:
				----------------------------------
			
					CONSZ   DEV,ARG	;TEST INSTRUCTION
					SETOM	ERFLG	;DETECTED AN ERROR
					SCOPE	TAG	;CALL THE ROUTINE VIA UUO
					JRST	ERADR	;LOOP RETURN
					JRST	OKADR	;CONTINUE RETURN
			
				TAG:	ADR1,,ADR2	;POINTERS TO ADDITIONAL CODE
					CONTROL BITS,,[ASCIZ/MSG1/] ;VARIABLE # OF MESSAGES
					CONTROL BITS,,[ASCIZ/MSG2/]
					Z		;END OF LIST MARKER
			
				THE FIRST WORD OF THE TABLE POINTS TO 2 ADDITIONAL ROUTINES.
				IF EITHER IS ZERO IT WILL BE IGNORED.
			

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 145           
                                                                                                                           SEQ 0156
				ADR1-POINTER TO ADDITIONAL I/O ROUTINE. NOTE: THIS ROUTINE IS
				EXECUTED EACH TIME THE THE SCOPE ROUTINE IS ABOUT TO TAKE
				THE LOOP RETURN, AND EACH TIME SCOPE IS ENTERED WITH
				THE ERROR FLAG SET.
			
				ADR2-POINTER TO ADDITIONAL PRINT ROUTINE
			
				THE SECOND THRU (N OR N-1) WORDS IN THE TABLE, SPECIFY VARIOUS
				ASCIZ MESSAGES THAT WILL BE PRINTED WHEN AN ERROR OCCURS,
				BRANCH WORDS WHOSE RIGHT HAND SIDE SPECIFY WHERE
				FOLLOWING DATA IN THE TABLE IS LOCATED, OR SUBROUTINE
				CALL SPECIFIERS WHOSE RIGHT HAND SIDE IS THE ADDR OF
				A NON-I/O SUBROUTINE TO BE EXECUTED.
				MESSAGES MAY BE OF ANY TYPE. THE ROUTINE WILL AUTOMATICALLY
				GIVE A FREE CRLF AT THE END OF EACH. THE RIGHT HALF OF EACH
				WORD IS A POINTER TO THE START OF THE ASCIZ MESSAGE AND THE
				LEFT HALF OF THE WORD IS USED TO FURNISH MESSAGE CONTROL
				INFORMATION TO THE SCOPE UUO. SCOPE LOOKS AT THE FOLLOWING
				CONTROL BITS FROM THE LEFT SIDE:
			
				BIT0=0	MESSAGE IS NOT A MODULE CALLOUT MESSAGE
				BIT0=1	MESSAGE IS A MODULE CALLOUT MESSAGE
			
				BIT1=0	THIS IS A HIGH PROBABILITY MODULE
				BIT1=1	THIS IS A LOW PROBABILITY MODULE
			
				BIT2=0	MESSAGE IS NOT PRINTED IF TXTINH (SW10) IS SET
				BIT2=1	MESSAGE IS PRINTED REGUARDLESS OF THE STATE OF TXTINH
			
				BIT3=0	THIS IS NOT A BRANCH WORD
				BIT3=1	THIS IS A BRANCH WORD AND ITS RIGHT HAND SIDE SPECIFIES
					WHERE THE NEXT TABLE DATA IS FOUND.
			
				BIT4=0	THIS IS NOT THE LAST TABLE ENTRY IF C(RIGHT) NON-0
				BIT4=1	THIS ENTRY IS THE LAST ONE IN THE TABLE
			
				BIT5=0	THIS WORD DOES NOT DEFINE A SUBROUTINE CALL
				BIT5=1 	THIS WORD DEFINES A SUBROUTINE CALL. EXECUTE
					THE SUBROUTINE WHOSE ADDR IS SPECIFIED BY
					THE RIGHT HALF OF THE WORD. THESE ROUTINES ARE ONLY
					EXECUTED WHEN SCOPE PRINTS ERROR INFORMATION
			
			
				THE END OF THE TABLE IS ASSUMED WHEN EITHER A ZERO WORD IS
				ENCOUNTERED IN THE 2ND THRU N WORDS OR A 1 IS FOUND IN SOME
				WORDS CONTROL BIT POSITION 4
			
				THE ABOVE MENTIONED CONTROLS GIVE THE USER A WAY TO FURNISH
				LONG AND SHORT PRINT MODES, BRANCHING, AND ESTABLISH A 2 LEVEL
				MODULE CALLOUT PRIORITY. LOW PROBABILITY MODULES ARE NOT PRINTED
				UNLESS SWITCH-19 IS SET (EXPANDED CALLOUT OPTION)
			
				THE FOLLOWING PRINTOUT IS THE STANDARD PRINTOUT IN THE
				NORMAL PRINTOUT MODE: ......

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 146           
                                                                                                                           SEQ 0157
			
				ERROR: TEST-XXX RH-XXX DRIVE-X
				SCOPE PC = XXXXXX   TEST PC = XXXXXX
				DATA SWITCHES = XXXXXX XXXXXX
			
				           ADDITIONAL PRINTING DONE BY THE           
				           OPTIONAL PRINT ROUTINE                    
			
				ALL MESSAGES FROM THE TABLE
			
				----------------------------------------
			
				THE FOLLOWING PRINTOUT IS THE STANDARD PRINTOUT IN THE
				SHORT PRINTOUT MODE (TEXT INHIBIT IS SET):       
			
				ERROR: SCOPE PC-XXXXXX TST-XXX DEV-XXX-X SW-XXXXXX XXXXXX
			
				           ADDITIONAL PRINT ROUTINE     
			
			        MESSAGES FROM TABLE WHOSE LEFT HALF PTR IS -1
			
				---------------------------------------- 

		*****************************************************************
	28766	MASSBUS CONTROLLER UTILITY PKG
		*****************************************************************

		28772	UBA PAGING RAM LOAD ROUTINE

		28776	
				THE UNIBUS ADAPTER PAGING RAM IS LOADED BY SETTING UP
			AC1 WITH THE APPROPRIATE ARGUMENTS AND CALLING THE
			ROUTINE WITH A PUSHJ. THE ROUTINE RETURNS TO CALL +1.
			
				CALLING	SEQ:
				MOVE	1,ARG		;SETUP CALLING ARG
				GO	LDRAM		;CALL THE ROUTINE
				RTN			;RETURNS HERE ALWAYS
			
				AC1:
				SPECIFY THE FOLLOWING:
				BITS 0 - 5  SPECIFY THE RAM LOC TO LOAD 00 THRU 77
				BIT 18 = 1  ENABLE KS10 BUS RD-PSE-WRT CYLES FOR ODD/EVEN ADDR
				BIT 19 = 1  ENABLE 16 BIT XFR'S TO UNIBUS (ENABLE PARITY CHK)
				BIT 20 = 1  ENABLE 36 BIT XFR'S TO KS10 BUS (FAST TRANSFERS)
				BIT 21 = 1  SET RAM LOCATION'S "VALID" BIT
				BIT 25 - 35 SPECIFY KS10 MEMORY PAGE ADDRESS
			

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 147           
                                                                                                                           SEQ 0158
		28817	UBA PAGING RAM READ ROUTINE

		28821	
			THE UNIBUS PAGING RAM IS READ BY SETTING UP AC1 WITH
			THE APPROPRIATE ARGUMENTS AND CALLING THE ROUTINE WITH 
			A PUSHJ. THE ROUTINE RETURNS TO CALL +1 ALWAYS. ON RETURN
			AC1 WILL CONTAIN THE RAM DATA AS READ ALONG WITH THE LEAST
			TWO SIGNIFICANT BITS OF THE ADDRESS BEING READ SET INTO BITS 
			10 THRU 15.
			
				CALLING SEQ:
				MOVE	1,ARG		;SETUP CALLING ARG
				GO	RDRAM		;CALL THE ROUTINE    
				RTN		:RETURN HERE ALWAYS
			
				AC1:
				SPECIFY IN BITS 10-15 THE RAM LOCATION TO BE READ
				LOCATIONS 00 THRU 77 ARE VALID.

		*****************************************************************
	28858	UNIBUS ADAPTER STATUS REG ROUTINES
		*****************************************************************

		28863	UBA STATUS REGISTER LOAD ROUTINE

		28867	
			THE UNIBUS ADAPTER STATUS REGISTER IS WRITTEN BY SETTING
			UP AC1 WITH THE APPROPRIATE ARGUMENTS AND CALLING THE ROUTINE
			WITH A PUSHJ. THE ROUTINE RETURNS TO CALL +1 ALWAYS
			
				CALLING SEQ:
				MOVE	1,ARG		;SETUP CALLING ARG
				GO	LDUBAS		;CALL THE ROUTINE
				RTN			;RETURN HERE
			
				AC1:
				SPECIFY DATA TO BE WRITTEN. THE BITS ARE DEFINED EXACTLY
				ACCORDING TO BUS.TXT SPEC.

		28903	UBA STATUS READ ROUTINE

		28907	
			THE UNIBUS STATUS REGISTER IS READ BY CALLING THE ROUTINE
			WITH A PUSHJ. THE ROUTINE WILL RETURN THE REGISTER DATA
			IN AC1 EXACTLY AS READ.
			
				CALLING	SEQ:
				GO	RDUBAS		;CALL THE ROUTINE
				RTN			;RETURNS HERE WITH DATA IN AC1
			

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 148           
                                                                                                                           SEQ 0159
		*****************************************************************
	28929	UNIBUS ADAPTER STATUS REG + RAM PRINT ROUTINES
		*****************************************************************

		28934	UBA STATUS PRINT ROUTINE

		28938	
			THERE ARE TWO MODES OF PROGRAM PRINTOUT: NORMAL (LONG) AND SHORT
			(TEXT INHIBIT SWITCH SET). THE NORMAL MODE PRINTS THE REGISTER DATA
			IN ENGLISH (SIXBIT FORMAT) WHILE THE SHORT PRINTOUT MODE PRINTS THE
			REGISTER DATA IN HALFWORD OCTAL.
			
				CALLING SEQ:
				MOVE	1,ARG		;GET REGISTER DATA
				GO	UBASPT		;PRINT IT
				RTN			;RETURN HERE ALWAYS

		28990	UBA RAM PRINT ROUTINE

		28994	
			THERE ARE TWO MODES OF PRINTOUT WITH THIS ROUTINE, NORMAL
			(LONG)	AND SHORT (TEXT INHIBIT SWITCH SET). THE NORMAL
			MODE PRINTS THE DATA IN ENGLISH (SIXBIT FORMAT) ALONG
			WITH PRINTING THE KS10 PAGE ADDRESS IN OCTAL. THE SHORT
			PRINTOUT WILL PRINT THE RAM LOCATION DATA IN HALF WORD
			OCTAL MODE.
			
				CALLING	SEQ:
				MOVE	1,ARG		;SETUP RAM DATA
				GO	RAMPT		;CALL THE ROUTINE
				RTN			;RETURN HERE ALWAYS

		*****************************************************************
	29062	REGISTER PRINT ROUTINES
		*****************************************************************

		29067	REGISTER BIT PRINT ROUTINE

		29071	
			THERE ARE TWO MODES OF PROGRAM PRINTOUT: NORMAL (LONG)
			AND SHORT (TEXT INHIBIT SWITCH IS SET). THE NORMAL MODE
			INTERPRETS THE REGISTER BITS IN ENGLISH (SIXBIT FORMAT)
			WHILE THE SHORT PRINTOUT MODE PRINTS REGISTER DATA
			AS SIX OCTAL DIGITS.
			
				TO USE THE REGISTER PRINTER:
					MOVE	AC1,ARG	;36 BIT WORD
					GO	REGPNT	;PRINT IT
					RETURN
			
				THE REGISTER PRINTER GETS THE REGISTER NUMBER AND DRIVE
				NUMBER FROM THE LEFT HALF OF THE WORD (AC1) RETURNED BY
				THE READ REGISTER ROUTINE (RDREG).

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 149           
                                                                                                                           SEQ 0160
		29090	ACCUMULATORS USED BY REGPNT . . 
			AC	FUNCTION
			--	--------
			0	USED FOR PRINTING
			1	HOLDS 36 BIT REGISTER DATA WORD
			2	HOLDS REGISTER NUMBER (BITS 0-5)/2

		29097	3	HOLDS VARIOUS TABLE POINTERS
			4	SCRATCH AC

		29138	REGISTER SIXBIT NAME & DEVICE CODE PRINTER

		29150	PRINT DRIVE NUMBER IF EXTERNAL REGISTER

		29163	PRINT LEFT SIDE OF EXTERNAL REGISTERS

		29173	PRINTS RIGHT SIDE OF REGISTERS

		29183	DISPATCHES OFF TO THE PROPER BYTE SERVICE 

		29191	THIS ROUTINE WILL TEST THE REG# CONTAINED IN AC2 TO
			SEE IF AN INTERNAL OR EXTERNAL REGISTER IS SPECIFIED
			THE ROUTINE WILL RETURN +1 FOR INTERNAL REGS AND +2
			FOR EXTERNAL

		*****************************************************************
	29206	REG PRINTER LOOKUP TABLES
		*****************************************************************

		29211	VARIOUS TABLES NEEDED BY PRINT ROUTINES

		29215	
			THERE ARE SEVERAL TYPE TABLES HERE AND MOST ARE SELF
			EXPLANITORY. THERE IS ONE TYPE THAT NEEDS CLARIFICATION.
			SOME OF THE SIXBIT TABLES HAVE OCTAL WORDS AS THEIR FIRST
			TWO ENTRIES FOLLOWED BY THE NORMAL LIST OF SIXBIT NAMES.
			THESE TABLES ARE SET UP FOR USE WITH THE "TYPBIT" SUBROUTINE
			AND THE FIRST TWO OCTAL WORDS ARE MASKS FOR "TYPBIT".
			WORD 1: HAS A ONE IN EACH OF THE 36 BIT POSITIONS FOR WHICH
				THERE IS A CORRESPONDING SIXBIT NAME.
			WORD 2: HAS A ONE IN EACH BIT POSITION THAT SHOULD NEVER
				BE NON-ZERO.

		29230	HERE ARE THE SIXBIT NAME TABLES FOR THE RH11/MASSBUS REGISTERS
			THAT CAN BE INDEXED INTO BY THE REG # RETURNED IN BITS 0-5
			OF AC1 BY THE READ REGISTER ROUTINE (RDREG).

		29255	HERE IS THE REGISTER POINTER TABLE
			THIS CAN BE INDEXED INTO BY BITS 0-5 OF THE 
			WORD (AC1) RETURNED BY THE READ REGISTER ROUTINE

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 150           
                                                                                                                           SEQ 0161
		29259	TABLE CONTENTS:
			  POINTER TO BYTE PRINT ROUTINE,,POINTER TO APPROPRIATE BIT TABLE

		29285	LEFT SIDE BIT TABLE FOR EXTERNAL (DEVICE) REGISTERS
			THESE BITS ARE SOFTWARE BITS RETURNED IN THE LEFT SIDE
			OF AC1 WHEN AN REGISTER ACCESS ERROR HAS BEEN DETECTED BY
			THE READ REGISTER ROUTINE RDREG.

		29297	HERE ARE THE BIT PRINTER TABLES FOR RH11 AND MASSBUS REGS

		*****************************************************************
	29468	REGISTER BYTE INFORMATION PRINTERS
		*****************************************************************

		29473	REGISTER BYTE PRINT ROUTINES

		29477	
			THESE ARE THE ROUTINES THAT PRINT THE DATA FROM
			VARIOUS REGISTERS WHEN THE DATA IS ORGANIZED IN
			BYTES.

		29500	HERE'S THE CONTROL REG FUNCTION TABLE
			WITHOUT THE GO BIT

		29670	TYPBIT - - TABLE BIT PRINTER

		29674	
			THIS ROUTINE IS USED TO TRANSLATE ONES IN A 36 BIT
			DATA WORD TO A SERIES OF EQUIV. SIXBIT MESSAGES TAKEN
			FROM A TABLE. THE DESCRIPTION OF THE TABLE LAYOUT IS FOUND 
			AT THE START OF THE TABLE SECTION. THIS ROUTINE MERELY
			TRANSLATES ONE TO SIXBIT MESSAGES AND ALSO TYPES ERROR
			MESSAGES IF IT FINDS ONES IN BIT POSITIONS WHERE THEY ARE 
			NOT EXPECTED.
			
				EG.	MOVE 	AC1,ARG1	;36 BITS OF DATA
					MOVE	AC2,ARG2	;POINTER TO DESCRIPTOR TABLE
					GO	TYPBIT	;CALL THE ROUTINE
					RETURN		;RETURNS +1 ALWAYS

		29692	FUNCTIONS OF AC'S FOR THIS ROUTINE
			AC	FUNCTION
			--	----------
			0	USED FOR PRINTING
			1	HOLDS 36 BIT DATA WORD
			2	HOLDS UPDATED TABLE POINTER
			3	HOLDS MASK 1 (EXPECTED 1'S)
			4	HOLDS MASK 2 (EXPECTED 0'S)
			5	A SINGLE BIT MASK (SHIFTS TO RIGHT)
			6	A SCRATCH AC FOR A JFFO

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 151           
                                                                                                                           SEQ 0162
		29717	GET THE AC'S READY TO GO

		29745	HERE ARE THE 2 MESSAGE SUBROUTINES

		*****************************************************************
	29760	ADDITIONAL PRINT UTILITIES
		*****************************************************************

		29765	SOME ADDITIONAL PRINT UTILITIES

		29769	
			ROUTINES WHOSE NAMES ARE PROCEEDED WITH A PERIOD
			PRINT ONLY SINGLE CHARACTERS. THOSE PROCEEDED WITH AN
			"M" PRINT MULTIPLE TIMES. THE NUMBER OF TIMES IS
			SPECIFIED BY AC0 IN THE SUBROUTINE CALL. 
			
				THE FOLLOWING ARE AVAIL:
				GO	.CRLF	PRINTS A CRLF (TYPICAL CALL)
				GO	.SPACE
				GO	.TAB
				GO	.DASH
				GO	.PERIOD
				GO	.QUEST
				GO	MZERO
				GO	.EQUAL
				GO	.MINUS

		29789	HERE ARE THE SINGLE CHARACTER PRINTERS

		29815	HERE ARE THE MULTIPLE CHARACTER OUTPUT ROUTINES.
			# OF REPEATS IS SPECIFIED BY AC0 ON THE CALL.

		29832	HERE ARE THE CRLF ROUTINES

		29844	PSDN - - PRINTS SIGNED DECIMAL NUMBERS

		29848	
			PSDN PRINTS THE CONTENTS OF AC0 AS A SIGNED DECIMAL 
			NUMBER FOLLOWED BY A PERIOD. LEADING ZEROS ARE
			SURPRESSED.

		29870	POCT - - OCTAL NUMBER PRINTER

		29874	
			POCT PRINTS THE CONTENTS OF AC0 AS AN OCTAL NUMBER. 
			LEADING ZEROS ARE SURPRESSED.
			
				FUNCTIONS OF AC'S FOR THE ROUTINE:
			
				AC	FUNCTION
				--	--------
				0	HOLDS PRINT CHAR
				1	DIGIT COUNTER
				2	A FLAG

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 152           
                                                                                                                           SEQ 0163
				3	OCTAL DIGIT BYTE POINTER  

		29917	HERE ARE 2 TEXT UUO UTILITIES

		29921	
			THESE UUO'S USE THE UUO E-FIELD AS A POINTER TO TEXT
			IN ASCIZ FORMAT. THEY MERELY PRINT THE TEXT IN THE
			NORMAL OR FORCED PRINTOUT MODE.
			
				THE UUO'S MUST BE DEFINED IN THE PROGRAMS TITLE FILE.
			
				EG.	OPDEF	TEXT	[30B8]	;PRINT NORMAL
					OPDEF	TEXTF	[31B8]	;PRINT FORCED
			
					LUUO30=	TEXT.
					LUUO31=	TEXTF.	;SERVICE ROUTINE

		*****************************************************************
	29951	*STOR* RESERVED STORAGE, MARCH 1978
		*****************************************************************

		*****************************************************************
	29969	PROGRAM STORE FILE
		*****************************************************************

		29974	SOME DUMMY STORAGE

		29978	

		*****************************************************************
	29985	 FLOATING PATTERNS FOR CONTROL BUS TESTING
		*****************************************************************

		29991	ONES,ZEROS,FLOATING PATTERNS THAT ARE 16 BITS WIDE

		29995	
				PATTERNS ARE STORED 2 PER WORD AND THERE ARE 34 OF THEM

		30025	THE TEST DISPATCH TABLE

		30029	
			THIS AREA DEFINES THE TEST ADDRESSES. THEY ARE PACKED 2 PER WORD.
			DECISION OF WHETHER OR NOT TO EXECUTE THE TEST IS MADE AT THE TEST.

		30164	INDEXABLE REGISTER READ/WRITE LIST

		30168	

DSRPA DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^          DECDOC VER  00.24   16-MAR-79 13:30:33   PAGE 153           
                                                                                                                           SEQ 0164
		*****************************************************************
	30207	MISC. STORAGE AREA
		*****************************************************************

		30212	BUFFER AREA FOR REGISTER STORAGE

		30216	
				HERE IS WHERE THE REGISTER DATA IS SAVED WHEN REGISTERS
				ARE READ INTO CORE COLLECTIVELY OR SEPARATELY 

		30247	RH-11 CONSTANTS

		*****************************************************************
	30254	MODULE CALLOUT MESSAGES
		*****************************************************************

		30259	HERE ARE THE MODULE CALLOUT MESSAGES

		30263	
				THESE ASCIZ MESSAGES ARE REFERENCED IN THE TABLE THAT THE
				SCOPE UUO USES. THEY ARE POINTED TO BY THE SCOPE UUO FOR THE
				PURPOSE OF DIAGNOSTIC MODULE CALLOUTS 

		*****************************************************************
	30495	THE STANDARD MAINT MODE WRITE BUFFER DATA
		*****************************************************************

		30500	MMBUF -- DESCRIPTION OF STANDARD M-MODE BUFFER

		30504	
				DATA TESTING IS ACCOMPLISHED WITH ONLY ONE BUFFER CONTAINING
				THE NECESSARY DATA PATTERNS STORED 2 PER WORD

		*****************************************************************
	30540	BUFFER AREA
		*****************************************************************

		30545	HERE IS THE PROGRAM STORAGE AREA

		30549	
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1
DSRPAT	MAC	14-Feb-79 19:23		CONSOLE DATA SWITCH ASSIGNMENTS, MARCH 1978                                        SEQ 0165

     1					;*MAINDEC-10-DSRPA
     2
     3			000000			MCNVER==0
     4			000003			DECVER==3
     5
     6
     7						XLIST
     8						LIST
     9
    10					TITLE	DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3^
    11
    12					;*COPYRIGHT (C) 1978,1979
    13
    14					;*DIGITAL EQUIPMENT CORPORATION, MARLBORO MASS.
    15
    16					;*AUTHOR:		JOHN R. KIRCHOFF
    17					;*MAINTAINER:	PDP-10 DIAGNOSTIC ENGINEERING
    18
    19					;*ASSEMBLE AS FOLLOWS:
    20					;*DSRPAT.MAC,PARAM.KSM,FIXED.KSM,DSRPA1.MAC,DSRPA2.MAC,DSRPA3.MAC,
    21					;*DSRPA4.MAC,DSRPA5.MAC,DSRPA6.MAC,STOR.KSM,DSRPA7.MAC
    22
    23	000137					LOC	137
    24	000137	000000	000003		MCNVER,,DECVER
    25
    26						SEARCH  MONSYM,MACSYM,UUOSYM
    27						NOSYM
    28					IF2,<PRINTX	[STARTING PASS 2]>
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 2
DSRPAT	MAC	14-Feb-79 19:23		PROGRAM PARAMETERS                                                                 SEQ 0166

    29					SUBTTL	PROGRAM PARAMETERS
    30
    31					DEFINE S <;*******************************************************************>
    32
    33					S^;*******************************************************************^
    34					;*DEVICE RELATED ASSEMBLY SWITCHES
    35					S^;*******************************************************************^
    36
    37			000000		RP04==0				;ASS RP04 CODE
    38			000000		RP05==0				;ASS RP05 CODE
    39			000001		RP06==1				;ASS RP06 CODE
    40			000000		RS04==0				;ASS RS04 CODE
    41			000000		TU16==0				;ASS TU16 CODE
    42
    43					S^;*******************************************************************^
    44					;*SUBROUTINE PACKAGE ASSEMBLY SWITCHES
    45					S^;*******************************************************************^
    46
    47			000001		$LPAPER=1			;CONSERVE LPT PAPER
    48			000001		EXCASB==1			;ASSEMBLE FOR EXEC MODE
    49			000000		ITERAT==0			;# OF PROGRAM ITERATIONS
    50			000001		MEMMAP==1			;ASSEMBLE THE MEMORY MAPPER 
    51			000200		DEBUG==200			;A 200 LOCATION PATCH AREA
    52			000001		EROLD==1			;NO SUBROUTINE ERROR REPORTER
    53
    54					; *****************************************************************
    55					;*FATAL BLOCK PRINTER
    56					; *****************************************************************
    57
    58						DEFINE	FATL <						LALL
    59					; ***********************************************
    60					;	FFFFF	  A 	TTTTT	  A	L	!
    61					;	F	 A A	  T	 A A	L	!
    62					;	F	AA AA	  T	AA AA	L	!
    63					;	FFF	AAAAA	  T	AAAAA	L	!
    64					;	F	A   A	  T	A   A	L	!
    65					;	F	A   A	  T	A   A	L	!
    66					;	F	A   A	  T	A   A	LLLLL	!
    67					; ***********************************************
    68					
    69						EOPUUO			;RETURN TO DIAGNOSTIC MONITOR
    70					 	SALL>
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 3
DSRPAT	MAC	14-Feb-79 19:23		PROGRAM PARAMETERS                                                                 SEQ 0167

    71					S^;*******************************************************************^
    72					;*SOME PROGRAM ADDRESS OPTIONS AND PARAMETERS
    73					S^;*******************************************************************^
    74
    75			030664		SADR1=	G			;SPECIAL FEATURE START
    76			030000		SADR2=	BEGIN			;POWER FAIL RESTART
    77			030000		SADR3=	BEGIN			;REENTER STARTING ADDRESS
    78			030007		SADR4=	SRTDDT			;DDT START
    79			030061		SADR5=	$BEND2			;CONTROL C TRANSFER ADDRESS
    80			030007		SADR6=	SRTDDT			;ALTMODE TRANSFER ADDRESS
    81		254200	030000		SADR7=	HALT BEGIN
    82		254200	030000		SADR8=	HALT BEGIN
    83		254200	030000		SADR9=	HALT BEGIN
    84		254200	030000		SADR10= HALT BEGIN
    85		254200	030000		SADR11=	HALT BEGIN
    86
    87		123456	701234		PAREA1=	123456,,701234		;RANDOM BASE
    88			000000		PAREA2=	0			;SYSTEM EXERCISER SWITCHES
    89		446362	604100		PAREA3=	SIXBIT /DSRPA/		;USER MODE OUTPUT FILE NAME
    90		605664	000000		PAREA4= SIXBIT /PNT/		;USER MODE OUTPUT FILE EXT
    91			000000		PAREA5=	0
    92			000000		PAREA6=0
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 4
DSRPAT	MAC	14-Feb-79 19:23		ACCUMULATOR AND UUO DEFINITIONS                                                    SEQ 0168

    93					SUBTTL ACCUMULATOR AND UUO DEFINITIONS
    94
    95					S^;*******************************************************************^
    96					;*SOME ACCUMULATOR DEFINITIONS
    97					S^;*******************************************************************^
    98
    99			000017		P=17				;THE PUSHDOWN POINTER
   100			000014		DRIVE=14			;HOLDS THE CURRENT DRIVE NUMBER
   101			000013		MBCN=13				;HOLDS THE CURRENT CONTROLLER NUMBER
   102			000012		DSBP=12				;POINTER TO DEVICE STATUS BLOCK
   103			000011		CSBP=11				;POINTER TO CONTROLLER STATUS BLOCK
   104			000010		ERFLG=10			;PROGRAMS ERROR FLAG
   105			000007		RGLIST=7			;AC FOR QUEING REGISTERS
   106			000003		AC3==3
   107			000002		AC2==2
   108			000001		AC1==1
   109			000000		AC0==0
   110
   111					S^;*******************************************************************^
   112					;* SYMBOLS TO BE KNOWN TO DDT AFTER XPUNGE COMMAND
   113					S^;*******************************************************************^
   114
   115					INTERN P,PATCH,MBCN,DRIVE,RGLIST,START,STARTA,G,SG
   116					INTERN ERFLG,ERYET,ERYETU,SCOPE.,BUF1,BUF2
   117					INTERN POCT,C,ERCNT,WAITGO,PSDN,REGPNT,CONSW
   118					INTERN SNAPA,DUMPA,DUMPDR,DUMPRH
   119					INTERN SWOP,XFSTRT,XFSTOP,CBTOER,CPARER
   120					INTERN MMODE,MMODE1,MSTCLR,DEVSEL,TRACE,SNABRT,TSTNUM,FREE
   121					INTERN MCLK1,MCLK2,MCLK3,MCLK4,MODE20,MODE22,.SEEK,.RECAL
   122					INTERN CONFIG,ASKDR,TELL,DPD8,DPD9,DPDISP
   123
   124					S^;*******************************************************************^
   125					;*HERE ARE THE PROGRAM UUO DEFINITIONS
   126					S^;*******************************************************************^
   127
   128		367640	000000		OPDEF	REPTLP	[SOJG REPT,]	;REPEAT LOOP COUNTER
   129		027000	000000		OPDEF	SCOPE	[27B8]	 	;SCOPE LOOPER AND ERROR HANDLER
   130		030000	000000		OPDEF	TEXT	[30B8]		;PRINTS ASCIZ NOT FORCED
   131		031000	000000		OPDEF	TEXTF	[31B8]		;PRINTS ASCIZ FORCED
   132
   133			061747			LUUO27=	SCOPE.
   134			063516			LUUO30=	TEXT.
   135			063523			LUUO31=	TEXTF.
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 5
DSRPAT	MAC	14-Feb-79 19:23		PROGRAM MACRO DEFINITIONS                                                          SEQ 0169

   136					SUBTTL PROGRAM MACRO DEFINITIONS
   137
   138					S^;*******************************************************************^
   139					;*MACRO DEFINITIONS
   140					S^;*******************************************************************^
   141
   142					COMMENT $
   143					THE BOX MACRO IS USED IN THE SOURCE CODE TO FACILITATE
   144					DOCUMENTATION OF GENERAL PURPOSE SUBROUTINES USED IN
   145					THE PROGRAM. IT TAKES 2 TEXT ARGUMENTS. ITS USE: .....
   146					 	XLIST
   147					BOX	<THIS TEXT GOES BETWEEN THE STARS>,<
   148					THIS TEXT IS PUT IN AS COMMENTS AND IS USED TO DESCRIBE THE
   149					SUBROUTINE FUNCTIONS, CALLS, ETC. >
   150						$
   151
   152						DEFINE BOX (TEXTA,TEXTB)<
   153					 	LALL
   154					 	LIST
   155						PAGE
   156					S
   157					;*TEXTA
   158					S
   159					
   160					COMMENT $
   161					TEXTB
   162						$
   163						XLIST
   164						XALL
   165					 	LIST>
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 6
DSRPAT	MAC	14-Feb-79 19:23		PROGRAM MACRO DEFINITIONS                                                          SEQ 0170

   166					S^;*******************************************************************^
   167
   168					COMMENT $
   169						THE NEWTST MACRO IS USED IN THE SOURCE CODE
   170						TO DOCUMENT THE ACTUAL MAINLINE DIAGNOSTIC TEXT. IT TAKES
   171						3 TEXT ARGUMENTS. ITS USE: ......
   172
   173					 	XLIST
   174						NEWTST	<THIS TEXT GOES BETWEEN THE STARS>,<
   175						THIS TEXT BECOMES THE TEST DESCRIPTION >,<
   176						THIS TEXT PROVIDES ADDITIONAL TROUBLESHOOTING AIDS. >
   177						$
   178
   179						DEFINE	NEWTST	(PA,PB,PC) <
   180					 	LALL
   181					 	LIST
   182						PAGE
   183					S
   184					;*PA
   185					S
   186					
   187					COMMENT	$
   188					
   189						TEST DESCRIPTION
   190						---------------- PB
   191					
   192						RECOMMENDED DEBUG PROCEDURE
   193						--------------------------- PC
   194						$
   195					 	SALL
   196					 	LIST>
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 7
DSRPAT	MAC	14-Feb-79 19:23		DESCRIPTION OF SENSE SWITCH OPTIONS                                                SEQ 0171

   197					SUBTTL DESCRIPTION OF SENSE SWITCH OPTIONS
   198					 	XLIST
   199					 	LIST
   200						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 7-1
DSRPAT	MAC	14-Feb-79 19:23		DESCRIPTION OF SENSE SWITCH OPTIONS                                                SEQ 0172

   201					S^;*******************************************************************^
   202					;*SW00-SW17 OPERATIONAL DESCRIPTION
   203					S^;*******************************************************************^
   204
   205					COMMENT $
   206
   207					THESE SWITCHES, IF USED BY THE PROGRAM, PERFORM
   208					THE FOLLOWING FUNCTIONS:
   209
   210						400000	IF SET: ABORT PGM AT THE END OF THIS PASS
   211						200000	NOT USED
   212						100000	NOT USED
   213
   214						040000	INHIBIT ALL BUT FORCED PRINTOUTS
   215						020000	OUTPUT TO LPT (OR LOGICAL DEVICE IN USER MODE)
   216						010000	RING THE BELL ON ERROR (THIS IS FORCED)
   217
   218						004000	IF SET: LOOP ON FIRST OCCURANCE OF ERROR
   219						002000	HALT ON ERROR (SWITCH IGNORED IF IN USER MODE)
   220						001000	IF SET: PRINT ALL REPETITIONS OF AN ERROR.
   221							IF RESET: PRINT ONLY FIRST OCCURANCE.
   222
   223						000400	IF SET: RUN FULL DIAG. (ELSE:- DO QUICK VERIFY)
   224						000200	IF SET: USE ABBREVIATED PRINTOUTS WHERE POSSIBLE
   225						000100	NOT USED
   226
   227						000040	IF SET: REQUEST UNIBUS AND RH-11 PARAMETERS
   228						000020	IF SET: INHIBIT OPERATION OF THE CACHE (* SEE NOTE *)
   229						000010	OPERATOR SELECTED TESTS
   230
   231						000004	IF SET: SELECT CHAIN MODE FOR DIAGNOSTIC MONITORS.
   232						000002	NOT USED
   233						000001	NOT USED  
   234
   235						*NOTE*
   236						EXAMINATION OF THIS SWITCH TAKES PLACE ONLY ONCE. IMMEDIATELY
   237						FOLLOWING THE INITIAL LOAD OF THE DIAGNOSTIC INTO CORE FROM
   238						ITS STORAGE MEDIA. THE CACHE OPTION IS SELECTED ONLY DURING
   239						THE VERY FIRST PROGRAM INITIALIZATION CYCLE. ATTEMPTING TO
   240						ALTER THE STATE OF THE SWITCH FROM THAT POINT ON WILL HAVE 
   241						NO EFFECT
   242						$
   243						XLIST
   244					 	LIST^
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 8
DSRPAT	MAC	14-Feb-79 19:23		DESCRIPTION OF SENSE SWITCH OPTIONS                                                SEQ 0173

   245					 	XLIST
   246					 	LIST
   247						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 8-1
DSRPAT	MAC	14-Feb-79 19:23		DESCRIPTION OF SENSE SWITCH OPTIONS                                                SEQ 0174

   248					S^;*******************************************************************^
   249					;*SW18-SW35 OPERATIONAL DESCRIPTION
   250					S^;*******************************************************************^
   251
   252					COMMENT $
   253
   254					IN THIS DIAGNOSTIC, THE RIGHT HAND SWITCHES PERFORM
   255					THE FOLLOWING FUNCTIONS:
   256
   257						400000	TRACE PGM PROGRESS (TEST BY TEST USING FORCED PRINTOUTS)
   258						200000	DO EXPANDED MODULE CALLOUTS IF NOT IN TXTINH MODE
   259						100000	NOT USED
   260
   261						040000	RUN THE DUAL PORT TEST
   262						020000	RUN THE HEAD ALIGNMENT TEST
   263						010000	NOT USED
   264
   265						004000	NOT USED
   266						002000	PAUSE UNTIL THIS SWITCH IS RESET
   267						001000	RUN THE TEST SPECIFIED IN SWITCHES 27-35
   268
   269						SWITCHES 27-35 SPECIFY THE TEST # FOR LOOPING WHEN SWITCH
   270							26 IS SET.
   271						$
   272						XLIST
   273					 	LIST^
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 9
DSRPAT	MAC	14-Feb-79 19:23		DESCRIPTION OF SENSE SWITCH OPTIONS                                                SEQ 0175

   274
   275					; *******************************************************************
   276					;*TABLE CONTROL BIT DEFINITIONS FOR THE SCOPE UUO
   277					; *******************************************************************
   278
   279		400000	000000		MODULE= 1B0			;1 IN BIT 0 MEANS MODULE CALLOUT MESSAGE
   280
   281		400000	000000		HIPROB= 1B0!0B1			;0 IN BIT 1 MEANS HIGH PROBABILITY
   282		600000	000000		LOPROB= 1B0!1B1			;1 IN BIT 1 MEANS LOW PROBABILITY
   283		010000	000000		SUBRTN=	1B5			;1 IN BIT 5 DEFINES A SUBROUTINE CALL
   284
   285		100000	000000		NOINH= 1B2			;PRINT MSG EVEN IF TXTINH IS SET (SW10)
   286
   287		040000	000000		GOTO=  1B3			;TAKE RIGHT SIDE OF THIS WORD AS NEW TBL ADR (BRANCH)
   288
   289		020000	000000		LAST=  1B4			;THIS IS THE LAST TABLE ENTRY
   290					 	LALL
   291					SUBTTL	CONSOLE DATA SWITCH ASSIGNMENTS, MARCH 1978
   292
   293					DEFINE	S,<;*********************************************************************>
   294
   295					S^;*********************************************************************^
   296					;*DATA SWITCHES
   297					;*LEFT HALF SWITCHES ARE PRE-ASSIGNED FOR SUBROUTINE PACKAGE USE
   298					;*AND CONTROL LOOPING, PRINTING (TTY OR OTHER DEVICE) AND MISC. FUNCTIONS
   299					S^;*********************************************************************^
   300
   301			400000		ABORT==	400000			;ABORT PROGRAM ON PASS COMPLETION
   302			200000		RSTART==200000			;RESTART TEST, PRINT TOTALS
   303			100000		TOTALS==100000			;PRINT TOTALS, CONTINUE
   304
   305			040000		NOPNT==	040000			;INHIBIT ALL PRINT/TYPE OUT (EXCEPT FORCED)
   306			020000		PNTLPT==020000			;PRINT ALL DATA ON LPT (LOGICAL DEVICE, USER MODE)
   307			010000		DING==	010000			;RING BELL ON ERROR
   308
   309			004000		LOOPER==004000			;ENTER EXERCISE/CHECK LOOP ON ERROR
   310			002000		ERSTOP==002000			;HALT ON TEST ERROR
   311			001000		PALERS==001000			;PRINT ALL ERRORS
   312
   313			000400		RELIAB==000400			;RELIABILITY MODE
   314			000200		TXTINH==000200			;INHIBIT ERROR TEXT
   315			000100		INHPAG==000100			;INHIBIT PAGING
   316
   317			000040		MODDVC==000040			;MODIFY DEVICE CODE
   318			000020		INHCSH==000020			;INHIBIT CACHE
   319			000010		OPRSEL==000010			;OPERATOR SELECTION
   320
   321			000004		CHAIN==	000004			;CHAIN CONTROL SWITCH
   322
   323									;SWITCH 16 RESERVED
   324
   325									;SWITCH 17 RESERVED !!!
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 2
PARAM	KSM	28-Mar-78 11:27		PROGRAM/SUBROUTINE PARAMETERS                                                      SEQ 0176

   326					SUBTTL	PROGRAM/SUBROUTINE PARAMETERS
   327
   328					S^;*********************************************************************^
   329					;*SPECIAL SUBPROGRAM LINKAGES
   330					S^;*********************************************************************^
   331
   332			027772		FSELNK=	27772	;FILE SELECT LINK
   333			027773		FRDLNK=	27773	;FILE READ LINK
   334			027774		LDLNK=	27774	;LOAD LINKAGE ADDRESS
   335			027775		DDTLNK=	27775	;DDT LINKAGE ADDRESS
   336			027776		MODLNK=	27776	;OPERATIONAL MODE CHECK LINKAGE ADDRESS
   337			027777		SUBLNK=	27777	;SUBROUTINE LINKAGE ADDRESS
   338
   339					S^;*********************************************************************^
   340					;*SPECIAL SUBROUTINE FATAL HALTS
   341					;*USED TO REPORT ERRORS THAT CAUSE THE SUBROUTINES TO BE UNUSABLE
   342					S^;*********************************************************************^
   343
   344					;ADDRESS   TAG	REASON
   345					;---------------------
   346
   347					; 1010 	NOEXEC	;PROGRAM NOT CODED FOR EXEC MODE OPERATION
   348					; 1011  PLERR	;FATAL PUSH LIST POINTER ERROR
   349					; 1012  PLERR1	;INITIAL PUSH LIST POINTER ERROR
   350					; 1013  MUOERR	;MUUO WITH LUUO HANDLER WIPED OUT
   351					; 1014  SMBER	;KS-10 INTERRUPT WITHOUT DOORBELL
   352					; 1015  SMCER	;KS-10 CLOCK INTERRUPT WITHOUT FLAG SET
   353					; 1016  CPIERR	;CPU INITIALIZATION ERROR
   354					; 1017  EOPERR	;END OF PROGRAM ERROR
   355					; 1020  LUOERR	;INTERRUPT WITH LUUO HANDLER WIPED OUT
   356
   357					S^;*********************************************************************^
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 3
PARAM	KSM	28-Mar-78 11:27		PROGRAM/SUBROUTINE PARAMETERS                                                      SEQ 0177

   358					S^;*********************************************************************^
   359					;OPERATOR DEFINITIONS (NON-UUO'S)
   360					S^;*********************************************************************^
   361
   362		260740	000000		OPDEF	GO	[PUSHJ	P,]	;SUBROUTINE CALL
   363		263740	000000		OPDEF	RTN	[POPJ	P,]	;SUBROUTINE RETURN 
   364		261740	000000		OPDEF	PUT	[PUSH	P,]	;PUT DATA ON PUSH LIST
   365		262740	000000		OPDEF	GET	[POP	P,]	;GET DATA FROM PUSH LIST 
   366		254000	000000		OPDEF	PJRST	[JRST	]	;JRST TO ROUTINE THAT RTN'S
   367		254200	000000		OPDEF	HALT	[JRST	4,]	;DEFINITION FOR DDT
   368		254100	000000		OPDEF	JRSTF	[JRST	2,]	;DEFINITION FOR DDT
   369		254500	000000		OPDEF	JEN	[JRST	12,]	;DEFINITION FOR DDT
   370
   371					S^;*********************************************************************^
   372					;*SUBROUTINE INITIALIZATION CALL
   373					S^;*********************************************************************^
   374
   375		265000	030011		OPDEF	PGMINT	[JSP	0,SBINIT]	;SUBROUTINE INITIALIZATION
   376
   377					S^;*********************************************************************^
   378					;*HALTING UUO'S (A MORE GRACEFUL HALT THAN SIMPLY USING THE HALT INSTRUCTION).
   379					S^;*********************************************************************^
   380
   381		037640	000004		OPDEF	FATAL	[37B8!15B12!4]	;FATAL PROGRAMMING HALT
   382		037600	000004		OPDEF	ERRHLT	[37B8!14B12!4]	;PROGRAM ERROR HALT
   383
   384					S^;*********************************************************************^
   385					;*TERMINAL INPUT UUO'S
   386					;*ALWAYS COME FROM THE CONSOLE TERMINAL IN EXEC MODE OR THE
   387					;*CONTROLLING TERMINAL (REAL TERMINAL OR PTY) IN USER MODE.
   388					S^;*********************************************************************^
   389
   390		037000	000003		OPDEF	TTICHR 	[37B8!0B12!3]	;TTY, INPUT ANY CHARACTER
   391		037040	000003		OPDEF	TTIYES	[37B8!1B12!3]	;TTY, NORMAL RETURN Y
   392		037100	000003		OPDEF	TTINO	[37B8!2B12!3]	;TTY, NORMAL RETURN N
   393		037140	000003		OPDEF	TTIOCT	[37B8!3B12!3]	;TTY, INPUT OCTAL WORD
   394		037200	000003		OPDEF	TTIDEC	[37B8!4B12!3]	;TTY, INPUT DECIMAL WORD
   395		037240	000003		OPDEF	TTICNV	[37B8!5B12!3]	;TTY, INPUT CONVERTABLE WORD
   396		037300	000003		OPDEF	TTLOOK	[37B8!6B12!3]	;TTY, KEYBOARD CHECK
   397		037340	000003		OPDEF	TTALTM	[37B8!7B12!3]	;TTY, ALT-MODE CHECK
   398		037400	000003		OPDEF	TTSIXB	[37B8!10B12!3]	;TTY, INPUT SIXBIT WORD
   399		037440	000003		OPDEF	TTYINP	[37B8!11B12!3]	;TTY, IMAGE MODE INPUT
   400		037500	000003		OPDEF	TTICLR	[37B8!12B12!3]	;TTY, CLEAR INPUT
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 4
PARAM	KSM	28-Mar-78 11:27		PROGRAM/SUBROUTINE PARAMETERS                                                      SEQ 0178

   401					;*TERMINAL OUTPUT UUO'S.
   402
   403		037000	000000		OPDEF	PNTA	[37B8!0B12!0]	;PRINT ASCII WORD
   404		037000	000001		OPDEF	PNTAF	[37B8!0B12!1]	;PRINT ASCII WORD FORCED
   405		037740	000000		OPDEF	PNTAL	[37B8!17B12!0]	;PRINT ASCIZ LINE
   406		037740	000001		OPDEF	PNTALF	[37B8!17B12!1]	;PRINT ASCIZ LINE FORCED
   407		037600	000003		OPDEF	PSIXL	[37B8!14B12!3]	;PRINT SIXBIT'Z LINE
   408		037640	000003		OPDEF	PSIXLF	[37B8!15B12!3]	;PRINT SIXBIT'Z LINE FORCED
   409		037000	000000		OPDEF	PNTMSG	[37B8!0B12!0]	;PRINT MESSAGE IMMEDIATE
   410		037040	000000		OPDEF	PNTMSF	[37B8!1B12!0]	;PRINT MESSAGE IMMEDIATE FORCED
   411		037100	000000		OPDEF	PSIXM	[37B8!2B12!0]	;PRINT SIXBIT'Z MSG IMMEDIATE
   412		037200	000000		OPDEF	PSIXMF	[37B8!4B12!0]	;PRINT SIXBIT'Z MSG IMM FORCED
   413		037000	000000		OPDEF	PNTCI	[37B8!0B12!0]	;PRINT CHARACTER IMMEDIATE
   414		037040	000000		OPDEF	PNTCIF	[37B8!1B12!0]	;PRINT CHARACTER IMMEDIATE FORCED
   415		037500	000000		OPDEF	PNTCHR	[37B8!12B12!0]	;PRINT CHARACTER
   416		037500	000001		OPDEF	PNTCHF	[37B8!12B12!1]	;PRINT CHARACTER FORCED
   417		037040	000000		OPDEF	PNT1	[37B8!1B12!0]	;PRINT ONE OCTAL DIGIT
   418		037040	000001		OPDEF	PNT1F	[37B8!1B12!1]	;PRINT 1 OCTAL DIGIT FORCED	
   419		037100	000000		OPDEF	PNT2	[37B8!2B12!0]	;PRINT TWO OCTAL DIGITS
   420		037100	000001		OPDEF	PNT2F	[37B8!2B12!1]	;PRINT 2 OCTAL DIGITS FORCED	
   421		037140	000000		OPDEF	PNT3	[37B8!3B12!0]	;PRINT THREE OCTAL DIGITS
   422		037140	000001		OPDEF	PNT3F	[37B8!3B12!1]	;PRINT THREE OCTAL DIGITS FORCED	
   423		037200	000000		OPDEF	PNT4	[37B8!4B12!0]	;PRINT FOUR OCTAL DIGITS
   424		037200	000001		OPDEF	PNT4F	[37B8!4B12!1]	;PRINT FOUR OCTAL DIGITS FORCED
   425		037240	000000		OPDEF	PNT5	[37B8!5B12!0]	;PRINT FIVE OCTAL DIGITS
   426		037240	000001		OPDEF	PNT5F	[37B8!5B12!1]	;PRINT FIVE OCTAL DIGITS FORCED
   427		037300	000000		OPDEF	PNT6	[37B8!6B12!0]	;PRINT SIX OCTAL DIGITS
   428		037300	000001		OPDEF	PNT6F	[37B8!6B12!1]	;PRINT SIX OCTAL DIGITS FORCED
   429		037340	000000		OPDEF	PNT7	[37B8!7B12!0]	;PRINT 7 OCTAL DIGITS
   430		037340	000001		OPDEF	PNT7F	[37B8!7B12!1]	;PRINT 7 OCTAL DIGITS FORCED
   431		037440	000000		OPDEF	PNT11	[37B8!11B12!0]	;PRINT 11 OCTAL DIGITS
   432		037440	000001		OPDEF	PNT11F	[37B8!11B12!1]	;PRINT 11 OCTAL DIGITS FORCED.
   433		037400	000000		OPDEF	PNTADR	[37B8!10B12!0]	;PRINT PHYSICAL ADDRESS
   434		037400	000001		OPDEF	PNTADF	[37B8!10B12!1]	;PRINT PHYSICAL ADDRESS FORCED
   435		037600	000000		OPDEF	PNTOCT  [37B8!14B12!0]	;PRINT FULL WORD OCTAL
   436		037600	000001		OPDEF	PNTOTF	[37B8!14B12!1]	;PRINT FULL WORD OCTAL FORCED
   437		037540	000000		OPDEF	PNTHW	[37B8!13B12!0]	;PRINT OCTAL HALF WORDS, 6 SP 6
   438		037540	000001		OPDEF	PNTHWF	[37B8!13B12!1]	;PRINT OCTAL HALF WORDS, 6 SP 6 FORCED
   439		037700	000003		OPDEF	PNTOCS	[37B8!16B12!3]	;PRINT OCTAL, SUPPRESS LEADING 0'S
   440		037740	000003		OPDEF	PNTOCF	[37B8!17B12!3]	;PRINT OCTAL, SUPPRESS LEADING 0'S FORCED
   441		037640	000000		OPDEF	PNTDEC	[37B8!15B12!0]	;PRINT DECIMAL, SUPRESS LEADING 0'S
   442		037640	000001		OPDEF	PNTDCF	[37B8!15B12!1]	;PRINT DECIMAL, SUPRESS LEADING 0'S FORCED
   443		037700	000000		OPDEF	PNTDS	[37B8!16B12!0]	;PRINT DECIMAL, SPACES FOR LD 0'S
   444		037700	000001		OPDEF	PNTDSF	[37B8!16B12!1]	;PRINT DECIMAL, SPACES FOR LD 0'S FORCED
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 5
PARAM	KSM	28-Mar-78 11:27		PROGRAM/SUBROUTINE PARAMETERS                                                      SEQ 0179

   445		037200	000002		OPDEF	PNTNM	[37B8!4B12!2]	;PRINT PROGRAM NAME
   446		037000	000002		OPDEF	PNTSIX	[37B8!0B12!2]	;PRINT SIXBIT WORD
   447		037040	000002		OPDEF	PNTSXF	[37B8!1B12!2]	;PRINT SIXBIT WORD FORCED
   448		037240	000002		OPDEF	DROPDV	[37B8!5B12!2]	;CLOSE LOGICAL FILE, USER MODE
   449		037100	000002		OPDEF	PNTCW	[37B8!2B12!2]	;PRINT DF10 CONTROL WORD
   450		037140	000002		OPDEF	PNTCWF	[37B8!3B12!2]	;PRINT DF10 CONTROL WORD FORCED
   451		037000	030242		OPDEF	PCRL	[37B8!0B12!CRLF] ;PRINT CARRIAGE RETURN/LINE FEED
   452		037040	030242		OPDEF	PCRLF	[37B8!1B12!CRLF] ;PRINT CARRIAGE RETURN/LINE FEED FORCED
   453		037000	000040		OPDEF	PSP	[37B8!0B12!40]	;PRINT SPACE
   454		037040	000040		OPDEF	PSPF	[37B8!1B12!40]	;PRINT SPACE FORCED
   455		037000	030243		OPDEF	PCRL2	[37B8!0B12!CRLF2] ;PRINT CARRIAGE RETURN/LINE FEED (TWICE)
   456		037040	030243		OPDEF	PCRL2F	[37B8!1B12!CRLF2] ;PRINT CARRIAGE RETURN/LINE FEED (TWICE) FORCED
   457		037040	000007		OPDEF	PBELL	[37B8!1B12!7]	;PRINT TTY BELL
   458
   459		037040	000026		OPDEF	PFORCE	[37B8!1B12!26]	;PRINT FORCE, CONTROL O OVERRIDE
   460
   461					DEFINE	PMSG	(ARG),<
   462						PSIXM	[SIXBIT\ARG'_\]>
   463
   464					DEFINE	PMSGF	(ARG),<
   465						PSIXMF	[SIXBIT\ARG'_\]>
   466
   467					;*SIXBTZ -- MACRO TO GENERATE SIXBIT DATA FOR PRINTING
   468					;*	CONSERVES CORE OVER ASCIZ
   469
   470					DEFINE	SIXBTZ	(ARG),<	[SIXBIT\ARG'_\]>
   471
   472					;*CONSOLE SWITCH INPUT UUO.
   473					;*READS CONSOLE SWITCHES IF IN EXEC MODE OR ASKS FOR THEM IF
   474					;* USER MODE.
   475
   476		037400	000002		OPDEF	SWITCH	[37B8!10B12!2]	;INPUT CONSOLE SWITCHES
   477
   478					;*CLOCK INITIALIZATION UUO - TO SET DESIRED CLOCK OPERATION
   479					;*EITHER IGNORE CLOCK, ONLY LET IT TICK OR CAUSE INTERRUPT TO OCCUR.
   480
   481		037540	000004		OPDEF	CLOKOP	[37B8!13B12!4]	;CLOCK OPERATION UUO - CLOCK
   482		037200	000004		OPDEF	MTROP	[37B8!4B12!4]	;CLOCK OPERATION UUO - METER
   483
   484					;*KS-10 CACHE OPERATION UUO'S
   485
   486		037040	000004		OPDEF	CINVAL	[37B8!1B12!4]	;CACHE INVALIDATE
   487		037100	000004		OPDEF	CFLUSH	[37B8!2B12!4]	;CACHE FLUSH
   488		037140	000004		OPDEF	CWRTBI	[37B8!3B12!4]	;CACHE WRITE-BACK & INVALIDATE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 6
PARAM	KSM	28-Mar-78 11:27		PROGRAM/SUBROUTINE PARAMETERS                                                      SEQ 0180

   489					;*END OF PASS/PROGRAM UUOS
   490
   491					;PERFORMS THE END OF PASS FUNCTIONS. INCREMENT PASS COUNT,
   492					;*DECREMENT ITERATION COUNT, CHECK IF FINISHED WITH THIS PROGRAM ETC.
   493
   494		037500	000004		OPDEF	ENDUUO	[37B8!12B12!4]	;UUO TO DISPLAY LIGHTS
   495		037700	000004		OPDEF	EOPUUO	[37B8!16B12!4]	;END OF PROGRAM UUO
   496
   497					;*MEMORY MANAGEMENT UUO'S
   498					;*UUO'S TO PERFORM VARIOUS MEMORY FUNCTIONS. MAPPING, ZEROING, PAGING,
   499					;*ADDRESS CONVERSION, ETC...
   500
   501		037000	000004		OPDEF	MAPMEM	[37B8!0B12!4]	;MAP MEMORY
   502		037500	000002		OPDEF	MEMZRO	[37B8!12B12!2]	;ZERO MEMORY
   503		037440	000002		OPDEF	MEMSEG	[37B8!11B12!2]	;SETUP MEMORY SEGMENT
   504		037540	000002		OPDEF	MAPADR	[37B8!13B12!2]	;VIRTUAL TO PHYSICAL ADR CONVERT
   505		037640	000002		OPDEF	MAPCNK	[37B8!15B12!2]	;MAP MEMORY CHUNK
   506		037600	000002		OPDEF	MAPSET	[37B8!14B12!2]	;SET KI10 EXEC PAGE MAP
   507		037740	000002		OPDEF	MAPPNT	[37B8!17B12!2]	;PRINT MEMORY MAP
   508
   509					;*DEVICE CODE MODIFICATION UUO
   510					;*ALLOWS THE MODIFICATION OF IOT'S TO ONE DEVICE TO BE CHANGED TO
   511					;*IOT'S TO A DIFFERENT DEVICE CODE.
   512
   513		037340	000002		OPDEF	MODPCU	[37B8!7B12!2]	;MODIFY PERHIPERAL CODE, USER
   514		037300	000002		OPDEF	MODPCP	[37B8!6B12!2]	;MODIFY PERHIPERAL CODE, PROGRAM
   515
   516			030000			IFNDEF	MODDVL,<MODDVL==BEGIN>
   517			030000			IFNDEF	MODDVU,<MODDVU==BEGIN>
   518
   519					;*"DIAMON" FILE SELECTION AND READ UUOS
   520
   521		037240	000004		OPDEF	FSELECT	[37B8!5B12!4]	;FILE SELECTION
   522		037300	000004		OPDEF	FREAD	[37B8!6B12!4]	;FILE READ - ASCII DATA
   523		037340	000004		OPDEF	FRD36	[37B8!7B12!4]	;FILE READ - 36 BIT DATA
   524		037400	000004		OPDEF	FRD8	[37B8!10B12!4]	;FILE READ - 8 BIT DATA
   525
   526						XLIST
   527						LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1
FIXED	KSM	28-Mar-78 11:28		*FIXED* FIXED CONTROL AND DISPATCH STORAGE, MARCH 1978                             SEQ 0181

   528					SUBTTL	*FIXED* FIXED CONTROL AND DISPATCH STORAGE, MARCH 1978
   529
   530	030000					LOC	30000
   531
   532					S^;*********************************************************************^
   533					;*PROGRAM STARTING ADDRESSES
   534					;*THESE ADDRESSES CALL VARIOUS SPECIAL START ROUTINES AND OR OPTIONS
   535					;*NORMAL START ADDRESS IS 30000 ALL OTHERS ARE SPECIAL. INVOKED BECAUSE
   536					;*OF END OF PASS, POWER FAILURE, DDT START, RE-ENTERING(TYPICALLY USER
   537					;*MODE), OR ANY NUMBER OF SPECIAL FEATURE TESTS.
   538					S^;*********************************************************************^
   539
   540	030000	254 00 1 00 027776 	BEGIN:	JRST	@MODLNK		;STAND-ALONE START
   541	030001	254 00 0 00 030636 	$START:	JRST	START		;MODE CHECK STARTING ADDRESS
   542
   543	030002	254 00 1 00 027774 	DIAGMN:	JRST	@LDLNK		;DIAGNOSTIC MONITOR START
   544
   545	030003	254 00 1 00 027774 	SYSEXR:	JRST	@LDLNK		;SYSTEM EXERCISER START
   546
   547	030004	254 00 0 00 030664 	SFSTRT:	JRST	SADR1		;SPECIAL FEATURE START
   548
   549	030005	254 00 0 00 030000 	PFSTRT:	JRST	SADR2		;POWER FAIL RESTART
   550
   551	030006	254 00 0 00 030000 	REENTR:	JRST	SADR3		;REENTER START(USUALLY USER MODE ONLY)
   552
   553	030007				SRTDDT:				;COMMONLY MISTAKEN NAME FOR "DDTSRT"
   554	030007	254 00 1 00 027775 	DDTSRT:	JRST	@DDTLNK		;DDT START
   555
   556	030010	254 00 0 00 030675 	BEGIN1:	JRST	STARTA		;LOOP START(END OF PASS COMES HERE)
   557	030011	254 00 1 00 027777 	SBINIT:	JRST	@SUBLNK		;PMGINT LINKAGE
   558	030012	000000	000000		RETURN:	0			;RETURN ADDRESS STORAGE
   559
   560	030013	254200	030000		START1:	SADR7			;OPTIONAL STARTING ADR/INSTRUCTIONS
   561	030014	254200	030000		START2:	SADR8			; "
   562	030015	254200	030000		START3:	SADR9			; "
   563	030016	254200	030000		START4:	SADR10			; "
   564	030017	254200	030000		START5:	SADR11			; "
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 2
FIXED	KSM	28-Mar-78 11:28		*FIXED* FIXED CONTROL AND DISPATCH STORAGE, MARCH 1978                             SEQ 0182

   565					S^;*********************************************************************^
   566					;*PROGRAM FIXED PARAMETER AREA
   567					S^;*********************************************************************^
   568
   569	030020	446362	604100		PNTNAM:	PAREA3		;SIXBIT PROGRAM NAME
   570	030021	605664	000000		PNTEXT:	PAREA4		;SIXBIT PROGRAM EXTENSION
   571	030022	123456	701234		RANDBS:	PAREA1		;RANDOM BASE NUMBER
   572	030023	000000	000000		SWTEXR:	PAREA2		;SYSTEM EXERCISER SWITCHES
   573	030024	000000	000000		ITRCNT:	ITERAT		;PROGRAM ITERATIONS
   574	030025	000000	030600		$PNAME:	PGMNAM		;POINTER TO PROGRAMS NAME
   575	030026	000000	000003		$PVER:	MCNVER,,DECVER	;MCN & DEC VERSION LEVEL
   576	030027	000000	030000		$MODVL:	MODDVL		;DEVICE CODE CHANGE LOWER LIMIT
   577	030030	000000	030000		$MODVU:	MODDVU		;DEVICE CODE CHANGE UPPER LIMIT
   578	030031	777777	777777		$EMODE:	IFNDEF EXCASB,<0> IFDEF EXCASB,<-1>	;EXEC ALLOWED
   579	030032	000000	000000		$UMODE:	IFNDEF USRASB,<0> IFDEF USRASB,<-1>	;USER ALLOWED
   580	030033	000000	000000		$DSKUP:	IFNDEF DSKUPD,<0> IFDEF DSKUPD,<-1>	;DISK UPDATE MODE
   581	030034	777777	777777		$MMAP:	IFNDEF MEMMAP,<0> IFDEF MEMMAP,<-1>	;ALLOW MEMORY RTNS
   582	030035	000000	000000		PAREA7:	PAREA5		;OPTIONAL PARAMETER
   583	030036	000000	000000		PAREA8:	PAREA6		;OPTIONAL PARAMETER
   584
   585					S^;*********************************************************************^
   586					;*PROGRAM VARIABLE PARAMETER AREA
   587					S^;*********************************************************************^
   588
   589	030037	000000	000000		USER:	0		; 0 = EXEC, -1 = USER MODE FLAG
   590	030040	000000	000000		KAIFLG:	0		;PROCESSOR TYPE, 0 = KA10, -1 = KI10
   591	030041	000000	000000		KLFLG:	0		;PROCESSOR TYPE, 0 = KA/KI, -1 = KL10
   592	030042	777777	777777		MONFLG:	-1		;DIAG MONITOR SPECIAL USER FLAG
   593	030043	000000	000000		MONCTL:	0		;DIAG MON/SYS EXR FLAG
   594	030044	000000	000000		MONTEN:	0		;-1= LOADED BY 10
   595	030045	000000	000000		CLOCKF:	0		;CLOCK TICKED FLAG
   596	030046	000000	000000		CONSW:	0		;CONSOLE SWITCH SETTINGS
   597	030047	000000	000000		PASCNT:	0		;PROGRAM PASS COUNT
   598	030050	000000	000000		RUNFLG:	0		;PROGRAM RUN FLAG
   599	030051	000000	000000		TESTPC:	0		;SUBTEST PC
   600	030052	000000	000000		ERRPC:	0		;ERROR PC
   601	030053	000000	000000		ERRTLS:	0		;ERROR TOTALS
   602	030054	000000	000000		TICKS:	0		;PROGRAM RUNNING TIME
   603	030055	000000	000000		MARGIN:	0		;KI10 MARGIN WORD VALUE
   604	030056	000000	000000		$ONETM:	0		;SUBROUTINE INITIALIZATION FLAG
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 3
FIXED	KSM	28-Mar-78 11:28		*FIXED* FIXED CONTROL AND DISPATCH STORAGE, MARCH 1978                             SEQ 0183

   605					S^;*********************************************************************^
   606					;*SPECIAL PROGRAM DISPATCH ADDRESSES
   607					S^;*********************************************************************^
   608
   609	030057	037 12 0 00 000004 	BEGEND:	ENDUUO		;END OF PASS
   610	030060	254 00 0 00 030010 	$BEND1:	JRST	BEGIN1	;KEEP RUNNING PROGRAM
   611	030061	037 16 0 00 000004 	$BEND2:	EOPUUO		;END OF PROGRAM - NO RETURN
   612	030062	000000	030061		CNTLC:	SADR5		;CONTROL C XFER ADDRESS
   613	030063	000000	030007		ALTMGO:	SADR6		;ALTMODE XFER ADDRESS
   614	030064				CPOPJ1:			;SKIP RETURN
   615	030064	350 00 0 17 000000 	UUOSKP:	AOS	(P)	;SKIP RETURN FROM UUO
   616	030065				CPOPJ:			;NON-SKIP REGULAR RETURN
   617	030065	263 17 0 00 000000 	UUOEXT:	RTN		;UUO RETURN
   618	030066	255 00 0 00 000000 	UUORTN:	JFCL		;ADDITIONAL USERS UUO ROUTINE
   619	030067	255 00 0 00 000000 	$UORTX:	JFCL		;ADDITIONAL UUO LINKAGE
   620	030070	255 00 0 00 000000 	$UUOER:	JFCL		;INITED AS (JRST $UOERX)
   621	030071	255 00 0 00 000000 	$ITRHL:	JFCL		;ADDITIONAL INTERRUPT LINKAGE
   622	030072	255 00 0 00 000000 	$ITRX1:	JFCL		; "
   623	030073	255 00 0 00 000000 	$USRHL:	JFCL		; "
   624	030074	255 00 0 00 000000 	$RSRTX:	JFCL		;ADDITIONAL POWER FAIL LINKAGE
   625	030075	255 00 0 00 000000 	$RSRTY:	JFCL		; "
   626	030076	255 00 0 00 000000 	RESRT1:	JFCL		; INITED AS (JRST RESRTX)
   627	030077	255 00 0 00 000000 	RESRT2:	JFCL		; "
   628	030100	255 00 0 00 000000 	$PARER:	JFCL		;ADDITIONAL PARITY ERROR LINKAGE
   629	030101	255 00 0 00 000000 	ERMORE:	JFCL		;ADDITIONAL ERROR HANDLER LINKAGE
   630	030102	254 04 0 00 030102 		HALT	.	;IMPROPER TRANSFER HALT
   631
   632	030103	000000	000000		$PSHER:	0		;INITED AS (JRST PSHERR)
   633	030104	000000	000000		ITRCH1:	0		;PC & FLAGS OF CURRENT INTERRUPT
   634	030105	000000	000000			0		;INITED AS (JRST $ITRC1)
   635
   636					S^;*********************************************************************^
   637					;*PROCESSOR CONTROL STORAGE
   638					S^;*********************************************************************^
   639
   640	030106	000000	000000		$ACC0:	0		;INTERRUPT SAVED AC0
   641	030107	000000	000000		$SVPI:	0		;INTERRUPT SAVED PI
   642	030110	000000	000000		$SVAPR:	0		;INTERRUPT SAVED APR
   643	030111	000000	000000		$SVPAG:	0		;INTERRUPT SAVED PAG (DATAI)
   644	030112	000000	000000		$SPAG1:	0		;INTERRUPT SAVED PAG (CONI)
   645
   646	030113	000000	000000		$SVUUO:	0		;CURRENT USERS UUO
   647	030114	000000	000000		$SVUPC:	0		;PC OF CURRENT USERS UUO
   648
   649	030115	000000	000000		REPTU:	0		;REPEAT UUO ITERATIONS
   650	030116	000000	000000		SCOPE:	0		;ERROR HANDLER SCOPE LOOP FLAG
   651	030117	000000	000000		%CORFLG:0		; " CORRECT FLAG
   652	030120	000000	000000		%COREC:	0		; " CORRECT DATA
   653	030121	000000	000000		%ACTFL:	0		; " ACTUAL FLAG
   654	030122	000000	000000		%ACTUL:	0		; " ACTUAL DATA
   655	030123	000000	000000		%DISCR:	0		; " DISCREPENCY DATA
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 4
FIXED	KSM	28-Mar-78 11:28		*FIXED* FIXED CONTROL AND DISPATCH STORAGE, MARCH 1978                             SEQ 0184

   656					S^;*********************************************************************^
   657					;*UUO DISPATCH TABLE
   658					S^;*********************************************************************^
   659						XLIST
   660						LIST
   661	030124	030070	030070		UUODIS:	LUUO1,,$UUOER
   662	030125	030070	030070			LUUO3,,LUUO2
   663	030126	030070	030070			LUUO5,,LUUO4
   664	030127	030070	030070			LUUO7,,LUUO6
   665	030130	030070	030070			LUUO11,,LUUO10
   666	030131	030070	030070			LUUO13,,LUUO12
   667	030132	030070	030070			LUUO15,,LUUO14
   668	030133	030070	030070			LUUO17,,LUUO16
   669	030134	030070	030070			LUUO21,,LUUO20
   670	030135	030070	030070			LUUO23,,LUUO22
   671	030136	030070	030070			LUUO25,,LUUO24
   672	030137	061747	030070			LUUO27,,LUUO26
   673	030140	063523	063516			LUUO31,,LUUO30
   674	030141	030070	030070			LUUO33,,LUUO32
   675
   676					S^;*********************************************************************^
   677					;*MEMORY MANAGMENT STORAGE
   678					S^;*********************************************************************^
   679
   680	030142	000000	000000		DF22F:	0		;DF10 CONTROL FLAG, 0 = 18, -1 = 22 BIT
   681	030143	000000	000000		MAPNEW:	0		;MEMORY MAPPING CONTROL FLAG, -1 = 4096K MAPPING
   682	030144	000000	000000		MEMTOT:	0		;TOTAL MEMORY SIZE IN K (1024.)
   683	030145	000000	000000		MEMLOW:	0		;LOWEST USABLE MEMORY
   684	030146				MEMSIZ:	BLOCK ^D41	;MEMORY SEGMENT POINTER TABLE
   685
   686					S^;*********************************************************************^
   687					;*PRINT CONTROL STORAGE
   688					S^;*********************************************************************^
   689
   690	030217	000000	000000		PNTFLG:	0		;PRINT FLAG, -1 WHILE IN PRINT ROUTINE
   691	030220	000000	000000		PNTENB:	0		;PRINT ENABLE
   692	030221	000000	000000		PDISF:	0		;PRINT DISABLED FLAG
   693	030222	000000	000000		PNTINH:	0		;INHIBIT PRINT INPUT CHECKS
   694	030223	000000	000000		PNTSPC:	0		;PRINT SPACE CONTROL
   695	030224	000000	000000		OPTIME:	0		;TYPE-IN WAIT TIME
   696	030225	000000	000000		$TWCNT:	0		;TIME WAITED
   697	030226	000000	000000		$DVOFF:	0		;LOGICAL DEVICE INITED FLAG
   698	030227	000000	000000		TTYFIL:	0		;TTY EXEC FILLERS FLAG
   699	030230	000000	000000		TTYSPD:	0		;TTY EXEC BAUD RATE
   700	030231	000000	000000		$TTCHR:	0		;ACTUAL TYPED IN CHAR
   701	030232	000000	000000		$CHRIN:	0		;UPPER CASED & PARITY STRIPPED CHAR
   702	030233	000000	000000		$TYPNB:	0		;TYPED IN NUMBER
   703	030234	000000	000000		$CRLF:	0		;FREE CR/LF FLAG
   704	030235	000000	000000		$TABF:	0		;TAB CONVERSION FLAG
   705	030236	000000	000000		$FFF:	0		;FORM FEED CONVERSION FLAG
   706	030237	000000	000000		$VTF:	0		;VERTICAL TAB CONVERSION FLAG
   707	030240	000000	000000		USRLFF:	0		;USER LF FILLERS
   708	030241	000000	000000		USRCRF:	0		;USER CR FILLERS
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 5
FIXED	KSM	28-Mar-78 11:28		*FIXED* FIXED CONTROL AND DISPATCH STORAGE, MARCH 1978                             SEQ 0185

   709					S^;*********************************************************************^
   710					;*THE FOLLOWING MISCELLANEOUS PRINT CHARACTERS ARE INCLUDED
   711					;*TO FACILITATE PRINTING AND ARE CALLED AS FOLLOWS:
   712					;*	MOVEI	NAME
   713					;*	PNTA		;OR PNTAF
   714					S^;*********************************************************************^
   715
   716	030242				CRLF:	ASCII/
   717	030242	015 012 000 000 000 	/
   718	030243				CRLF2:	ASCII/
   719
   720	030243	015 012 015 012 000 	/
   721	030244	054 000 000 000 000 	COMMA:	ASCII/,/
   722	030245	056 000 000 000 000 	PERIOD:	ASCII/./
   723	030246	040 000 000 000 000 	SPACE:	ASCII/ /
   724	030247	011 000 000 000 000 	TAB:	ASCII/	/
   725	030250				MINUS:
   726	030250	055 000 000 000 000 	HYPEN:	ASCII/-/
   727	030251	053 000 000 000 000 	PLUS:	ASCII/+/
   728	030252	052 000 000 000 000 	AST:	ASCII/*/
   729	030253	100 000 000 000 000 	ATSIN:	ASCII/@/
   730	030254	050 000 000 000 000 	LFP:	ASCII/(/
   731	030255	051 000 000 000 000 	RTP:	ASCII/)/
   732	030256	007 0000000000 		BELL:	BYTE (7) 007
   733	030257	077 000 000 000 000 	QUEST:	ASCII/?/
   734	030260	057 000 000 000 000 	SLASH:	ASCII!/!
   735	030261	044 000 000 000 000 	DOLLAR:	ASCII/$/
   736	030262	000000	000012		RADIX:	^D10			;DECIMAL PRINT RADIX
   737	030263	000000	000040		RADLSP:	40			;DECIMAL PRINT LEADING CHAR
   738	030264	000000	000012		RADLSC:	^D10			;DECIMAL PRINT LEADING CHAR COUNT
   739
   740					S^;*********************************************************************^
   741					;*USER MODE OUTPUT FILE INFORMATION
   742					S^;*********************************************************************^
   743
   744	030265				$OBUF:	BLOCK	3		;LOGICAL FILE OUTPUT BUFFER HEADER
   745	030270	60 62 51 56 64 00 	$OUTNM:	SIXBIT	/PRINT/		;FILE NAME
   746	030271	60 56 64 00 00 00 	$OUTEX:	SIXBIT	/PNT/		;FILE NAME EXTENSION
   747	030272					BLOCK	2
   748
   749					S^;*********************************************************************^
   750					;*DISK UPDATE MODE FILE INFORMATION
   751					S^;*********************************************************************^
   752
   753	030274				$IBUF:	BLOCK	3
   754	030277	60 62 51 56 64 00 	$INNM:	SIXBIT	/PRINT/
   755	030300	60 56 64 00 00 00 	$INEXT:	SIXBIT	/PNT/
   756	030301					BLOCK	2
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 6
FIXED	KSM	28-Mar-78 11:28		*FIXED* FIXED CONTROL AND DISPATCH STORAGE, MARCH 1978                             SEQ 0186

   757					S^;*********************************************************************^
   758					;*PUSHDOWN LIST CONTROL INFORMATION
   759					S^;*********************************************************************^
   760
   761	030303	777577	030303		PLIST:	PLIST-PLISTE,,PLIST
   762	030304				PLISTS:	BLOCK	200
   763	030504	000000	000000		PLISTE:	0		;END OF PUSHDOWN LIST
   764
   765					S^;*********************************************************************^
   766					;*POWER LINE CLOCK FREQUENCY FLAG
   767					S^;*********************************************************************^
   768
   769	030505	000000	000000		CYCL60:	0	;0 = 60, -1 = 50 CYCLE
   770
   771					S^;*********************************************************************^
   772					;*KL10 CACHE CONTROL FLAGS
   773					S^;*********************************************************************^
   774
   775	030506	000000	000000		CSHFLG:	0	;ALLOW CACHE IF 0
   776	030507	000000	000000		CSHMEM:	0	;CACHE MEMORY SEGMENTS IF 0
   777
   778					S^;*********************************************************************^
   779					;*NUMBER INPUT DIGIT FLAG
   780					S^;*********************************************************************^
   781
   782	030510	000000	000000		TTNBRF:	0	;-1 IF ANY DIGIT TYPED
   783
   784					S^;*********************************************************************^
   785					;*KL10 & KI10 "INHPAG" SWITCH PAGING PREVENTION
   786					S^;*********************************************************************^
   787
   788	030511	000000	000000		PVPAGI:	0	;IF NON-ZERO, OVERRIDE "INHPAG" SWITCH ACTION
   789
   790					S^;*********************************************************************^
   791					;*ERROR REPORTING ROUTINE ADDITIONAL USERS CONTROL INSTRUCTIONS
   792					S^;*********************************************************************^
   793
   794	030512	000000	000000		%ERHI1:	0	;IF NON-ZERO, XCT'D AT START OF %ERUUO
   795	030513	000000	000000		%ERHI2:	0	;IF NON-ZERO, XCT'D AT END OF %ERUUO
   796	030514	000000	000000		%ERHI3:	0	;IF NON-ZERO, XCT'D AFTER "PC" OF %ERUUO
   797
   798					S^;*********************************************************************^
   799					;*SPECIAL USERS UUO INTERCEPT INSTRUCTION
   800					S^;*********************************************************************^
   801
   802	030515	000000	000000		$$UUO:	0	;IF NON-ZERO, XCT'D AT START OF $UORTN
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 7
FIXED	KSM	28-Mar-78 11:28		*FIXED* FIXED CONTROL AND DISPATCH STORAGE, MARCH 1978                             SEQ 0187

   803					S^;*********************************************************************^
   804					;*USER MODE MONITOR TYPE FLAG
   805					S^;*********************************************************************^
   806
   807	030516	000000	000000		MONTYP:	0	;0 = TOPS10, -1 = TOPS20
   808
   809					S^;*********************************************************************^
   810					;*SPECIAL USERS MUUO INTERCEPT INSTRUCTION
   811					S^;*********************************************************************^
   812
   813	030517	000000	000000		$$MUUO:	0	;IF NON-ZERO, XCT'D AT START OF MUUOER
   814
   815					S^;*********************************************************************^
   816					;*SPECIAL USERS USER MODE OUTPUT ERROR INTERCEPT INSTUCTION
   817					S^;*********************************************************************^
   818
   819	030520	000000	000000		$$OUTER:0	;IF NON-ZERO, XCT'D AT END OF USER MODE ERROR
   820
   821					S^;*********************************************************************^
   822					;*"SWITCH" CALL USAGE CONTROL
   823					S^;*********************************************************************^
   824
   825	030521	000000	000000		$$TOGGLE:0	;IF NON-ZERO, USE C(CONSW) FOR SWITCHES
   826
   827					S^;*********************************************************************^
   828					;*SPECIAL USERS ALTMODE SWITCH CALL INTERCEPT INSTRUCTIONS
   829					S^;*********************************************************************^
   830
   831	030522	000000	000000		$$TAX1:	0	;IF NON-ZERO, XCT'D AT START OF ALTMODE SWITCH CALL
   832	030523	000000	000000		$$TAX2:	0	;IF NON-ZERO, XCT'D AT END OF ALTMODE SWITCH CALL
   833
   834					S^;*********************************************************************^
   835					;*SM10 (KS-10) PROCESSOR TYPE FLAG
   836					S^;*********************************************************************^
   837
   838	030524	000000	000000		SM10:	0	;IF -1 THIS IS AN KS-10
   839
   840					S^;*********************************************************************^
   841					;*RIGHT HALF SWITCHES PROMPT TABLE ADDRESS
   842					S^;*********************************************************************^
   843
   844	030525	000000	000000		SWPTAB:	0	;0 = NO PROMPT, ADR = ADR OF SIXBIT PROMPT TABLE
   845
   846					S^;*********************************************************************^
   847					;*SPECIAL FUTURE EXPANSION ROOM
   848					S^;*********************************************************************^
   849
   850					S^;*********************************************************************^
   851					;*END OF FIXED STORAGE
   852					S^;*********************************************************************^
   853
   854	030577					LOC	30577
   855	030577	000000	000000		ENDFIX:	0		;END OF FIXED STORAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1
DSRPA1	MAC	15-Feb-79 15:45		KS10-RH11/MASSBUS DEVICE BIT ASSIGNMENTS                                           SEQ 0188

   856					SUBTTL	KS10-RH11/MASSBUS DEVICE BIT ASSIGNMENTS
   857
   858					S^;*********************************************************************^
   859					;*RH11/MASSBUSS DEVICE REGISTER BIT ASSIGNMENTS 
   860					S^;*********************************************************************^
   861
   862			000000		RHCS1=	 0B5			;RH11 CONTROL/STATUS REG ONE
   863		020000	000000		RHWC=	 2B5			;RH11 WORD COUNT REG
   864		040000	000000		RHBA=	 4B5			;RH11 BUS ADDRESS REG
   865		060000	000000		DRDA=	 6B5			;DRIVE DESIRED ADDRESS REG
   866		100000	000000		RHCS2=	10B5			;RH11 CONTROL/STATUS REG TWO
   867		120000	000000		DRSR=	12B5			;DRIVE STATUS REG
   868		140000	000000		DRER1=	14B5			;DRIVE ERROR REG ONE
   869		160000	000000		DRAS=	16B5			;DRIVE ATTN SUMMARY REG
   870		200000	000000		DRLA=	20B5			;DRIVE LOOK AHEAD REG
   871		220000	000000		RHDB=	22B5			;RH11 DATA BUFFER REG
   872		240000	000000		DRMR1=	24B5			;DRIVE MAINTENANCE REG ONE
   873		260000	000000		DRDT=	26B5			;DRIVE TYPE REG
   874		300000	000000		DRSN=	30B5			;DRIVE SERIAL # REG
   875		320000	000000		DROF=	32B5			;DRIVE OFFSET REG
   876		340000	000000		DRDC=	34B5			;DRIVE DESIRED CYL REG
   877		360000	000000		DRHLD=	36B5			;RM03 HOLD REG
   878		360000	000000		DRCC=	36B5			;DRIVE CURRENT CYL REG (RP0X)
   879		400000	000000		DRER2=	40B5			;DRIVE  ERROR REG TWO(RP04/05/06'S)
   880
   881		400000	000000		DRMR2=	40B5			;DRIVE MAINT REG TWO (RM03)
   882		420000	000000		DRER3=	42B5			;DRIVE ERROR REG THREE (RP0X)
   883		420000	000000		RMER2=	42B5			;DRIVE ERROR REG 2 (RM03)
   884		440000	000000		DREC1=	44B5			;DRIVE ECC REG ONE (POSITION)
   885		460000	000000		DREC2=	46B5			;DRIVE ECC REG TWO (PATTERN)
   886
   887					S^;*********************************************************************^
   888					;*MASSBUSS DEVICE CONTROL REGISTER BIT ASSIGNMENTS (RHCS1 REG-00)
   889					S^;*********************************************************************^
   890
   891			177777		RDAT=	177777			;MASSBUS REGISTER DATA FIELD
   892
   893			100000		SC=	1B20			;SPECICAL CONDITIONS STATUS BIT
   894			040000		TRECLR=	1B21			;TRANSFER ERROR CLEAR BIT
   895			040000		TRE=	1B21			;TRANSFER ERROR
   896			020000		MCPE=	1B22			;MASSBUS CONTROL BUS PARITY ERROR
   897			004000		DVA=	1B24			;DRIVE AVAILABLE IN DUAL-PORT OPERATIONS
   898			002000		PSEL=	1B25			;UNIBUS PORT SEL BIT
   899
   900			001000		A17=	1B26			;UNIBUS ADDRESS BIT 17
   901			000400		A16=	1B27			;UNIBUS ADDRESS BIT 16
   902			000200		RDY=	1B28			;CONROLLER READY
   903			000100		IE=	1B29			;INTERRUPT ENABLE BIT
   904			000076		FNCTN=	37B34			;THE FIVE FUNCTION BITS
   905			000001		RHGO=	1B35			;THE GO BITS
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 2
DSRPA1	MAC	15-Feb-79 15:45		KS10-RH11/MASSBUS DEVICE BIT ASSIGNMENTS                                           SEQ 0189

   906					S^;*********************************************************************^
   907					;*MOVING HEAD DISK FUNCTION SET
   908					;*(FUNCTIONS INCLUDE THE "GO" BIT AND INTR ENABLE BIT IN RHCS1)
   909					S^;*********************************************************************^
   910
   911			000001		NOOP=	1			;A NO-OP
   912			000003		UNLOAD=	3			;HEAD UNLOAD
   913			000005		SEEK=	5			;SEEK TO CYLINDER
   914			000007		RECAL=	7			;RECALIBRATE THE POSITIONER
   915			000011		CLEAR=	11			;DRIVE CLEAR
   916			000013		RELSE=	13			;RELEASE FROM PRESENT PORT
   917			000015		OFFSET=	15			;OFFSET HEADS FROM TRACK CENTERLINE
   918			000017		RTNCTR=	17			;RETURN TO CENTERLINE
   919			000021		READIN=	21			;READIN PRESET COMMAND
   920			000023		PAKACK=	23			;PACK ACKNOWLEDGE COMMAND
   921			000031		SEARCH=	31			;DO A BLOCK SEARCH
   922			000051		WTCHD=	51			;WRITE CHECK DATA
   923			000053		WTCHHD=	53			;WRITE CHECK HEADER AND DATA
   924			000061		WTD=	61			;WRITE DATA
   925			000063		WTHD=	63			;WRITE HEADER AND DATA
   926			000071		RDD=	71			;READ DATA
   927			000073		RDHD=	73			;READ HEADER AND DATA
   928
   929					S^;*********************************************************************^
   930					;*RH11 CONTROL STATUS REG TWO (RHCS2)
   931					S^;*********************************************************************^
   932
   933			100000		DLT=	1B20			;DATA LATE ERROR
   934			040000		WCE=	1B21			;WRITE CHECK ERROR
   935			020000		UPE=	1B22			;UNIBUS PARITY ERROR(UNUSED IN RH11)
   936			010000		NED=	1B23			;NON-EXISTANT DRIVE
   937			004000		NEM=	1B24			;NONEX MEMORY
   938			002000		PGE=	1B25			;PROGRAM ERROR DUMMY
   939			001000		MXF=	1B26			;MISSED TRANSFER ERROT (DATA BUS TIMEOUT)
   940			000400		MDPE=	1B27			;MASSBUS DATA BUS PARITY ERROR
   941			000200		OR=	1B28			;DATA RDY IN DB REG FROM SILO
   942			000100		IR=	1B29			;DATA RDY TO BE LOADED INTO DB REG
   943			000040		RHCLR=	1B30			;CONTROLLER CLEAR
   944			000020		PAT=	1B31			;INVERT MASSBUS PARITY ENABLE (CONTROL + DATA BUS)
   945			000010		BAI=	1B32			;INHIBIT UNIBUS ADDRESS INCREMENT
   946			000007		UNIT=	7B35			;SELECTED DRIVE NUMBER
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 3
DSRPA1	MAC	15-Feb-79 15:45		KS10-RH11/MASSBUS DEVICE BIT ASSIGNMENTS                                           SEQ 0190

   947					S^;*********************************************************************^
   948					;*MASSBUSS DEVICE STATUS REGISTER BIT ASSIGNMENTS (DRSR REG-01)
   949					S^;*********************************************************************^
   950
   951			100000		ATA=	1B20			;ATTENTION ACTIVE (CAUSES ATTN SUMMARY)
   952			040000		CERR=	1B21			;COMPOSITE ERROR (MUST CHECK ERROR REGS)
   953			020000		PIP=	1B22			;POSITIONING IS IN PROGRES
   954			010000		MOL=	1B23			;MEDIUM IS ON LINE
   955			004000		WRTLOK=	1B24			;DRIVE HAS BEEN MANUALLY WRITE PROTECTED
   956			002000		LBT=	1B25			;LAST BLOCK TRANSFERRED
   957			001000		PGM=	1B26			;DRIVE NOT BUSY ON EITHER PORT
   958			000400		DPR=	1B27			;DRIVE PRESENT (ALWAYS=1 IF SINGLE PORT)
   959			000200		DRY=	1B28			;DRIVE READY TO ACCEPT ANOTHER COMMAND
   960			000100		VV=	1B29			;VALID VOLUME
   961
   962									;THIS BIT BIT PERTAINS TO THE RM03 ONLY
   963			000001		OFMD=	1B35			;OFFSET MODE ENABLED STATUS BIT
   964
   965					S^;*********************************************************************^
   966					;*BIT ASSIGNMENTS FOR MASSBUSS DEVICE ERROR REGISTER #1 (DRER1 REG-02)
   967					S^;*********************************************************************^
   968
   969			100000		DCK=	1B20			;CRC ERROR -DATA CHECK-
   970			040000		UNSF=	1B21			;DRIVE UNSAFE FOR OPERATION
   971			020000		OPI=	1B22			;ATTEMPTED OPERATION INCOMPLETE
   972			010000		DTE=	1B23			;DRIVE TIMING ERROR
   973			004000		WLE=	1B24			;TRIED TO WRITE A WRITE-LOCKED MEDIUM
   974			002000		IAE=	1B25			;ATTEMPT TO ACCESS NON-EXISTANT TRACK/SECTOR
   975			001000		AOE=	1B26			;ATTEMT TO ACCESS NON-EXISTANT CYLINDER
   976			000400		HCRCER=	1B27			;HEADER CRC ERROR DETECTED
   977			000200		HCE=	1B28			;HEADER COMPARE ERROR
   978			000100		ECHARD=	1B29			;ERROR UNCORRECTABLE BY ECC LOGIC
   979			000040		WCLKF=	1B30			;WRITE CLOCK STOPPED COMMING FROM CONTROLLER
   980			000020		FMTER=	1B31			;READIN PACK IN WRONG FORMAT
   981			000010		PE=	1B32			;SYNCHRONOUS. DATA BUSS PARITY ERROR
   982			000004		RMR=	1B33			;REG MODIFICATION HAS BEEN REFUSED
   983			000002		ILR=	1B34			;TRIED TO ACCESS A NON-IMPLEMENTED REG
   984			000001		ILF=	1B35			;TRIED TO ISSUE A NON IMPLEMENTED FUNCTION
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 4
DSRPA1	MAC	15-Feb-79 15:45		KS10-RH11/MASSBUS DEVICE BIT ASSIGNMENTS                                           SEQ 0191

   985					S^;*********************************************************************^
   986					;*BIT ASSIGNMENTS FOR MASSBUSS DEVICE ATTENTION SUMMARY REGISTER (DRAS REG-04)
   987					S^;*********************************************************************^
   988
   989			000200		DR0AT=	1B28			;DRIVE-0 NEEDS ATTENTION
   990			000100		DR1AT=	1B29			;DRIVE-1 NEEDS ATTENTION
   991			000040		DR2AT=	1B30			;DRIVE-2 NEEDS ATTENTION
   992			000020		DR3AT=	1B31			;DRIVE-3 NEEDS ATTENTION
   993			000010		DR4AT=	1B32			;DRIVE-4 NEEDS ATTENTION
   994			000004		DR5AT=	1B33			;DRIVE-5 NEEDS ATTENTION
   995			000002		DR6AT=	1B34			;DRIVE-6 NEEDS ATTENTION
   996			000001		DR7AT=	1B35			;DRIVE-7 NEEDS ATTENTION
   997
   998					S^;*********************************************************************^
   999					;*BIT ASSIGNMENTS FOR MASSBUSS DEVICES DESIRED TRACK SECTOR REGISTER (DRDTS REG-05)
  1000					S^;*********************************************************************^
  1001
  1002			017400		RPDTF=	37B27			;DESIRED TRACK FIELD
  1003			000037		RPDSF=	37B35			;DESIRED SECTOR FIELD
  1004
  1005					S^;*********************************************************************^
  1006					;*BIT ASSIGNMENTS FOR MASSBUSS DEVICE DRIVE TYPE REGISTER (DRDT REG-06)
  1007					S^;*********************************************************************^
  1008
  1009			100000		DTNBA=	1B20			;NOT BLOCK ADDRESSED BIT
  1010			040000		DTTAPE=	1B21			;TAPE DRIVE BIT
  1011			020000		DTMOVH=	1B22			;MOVING HEAD DEVICE
  1012			010000		DT7TRK=	1B23			;7 TRACK DRIVE
  1013			004000		DTDRR=	1B24			;DUAL PORT DEVICE
  1014			002000		DTSLVP=	1B25			;SLAVE PRESENT
  1015
  1016			000002		RS04N=	2B35			;RS04 NON-INTERLEAVED
  1017			000003		RS04I=	3B35			;RS04 INTERLEAVED
  1018
  1019			020020		RP04SP=	20020			;RP04 SINGLE PORT
  1020			024020		RP04DP=	24020			;RP04 DUAL PORTED
  1021			020021		RP05SP= 20021			;SINGLE PORT RP05
  1022			024021		RP05DP= 24021			;DUAL PORT RP05
  1023			020022		RP06SP= 20022			;SINGLE PORT RP06
  1024			024022		RP06DP= 24022			;DUAL PORT RP06
  1025			020024		RM03SP= 20024			;SINGLE PORT RM03
  1026			024024		RM03DP= 24024			;DUAL PORT RM03
  1027
  1028			000011		TU16D=	11B35			;ITS A TU16
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 5
DSRPA1	MAC	15-Feb-79 15:45		KS10-RH11/MASSBUS DEVICE BIT ASSIGNMENTS                                           SEQ 0192

  1029					S^;*********************************************************************^
  1030					;*BIT ASSIGNMENTS FOR MASSBUSS DEVICES TRACK/SECT LOOK AHEAD REGISTER (DRLA REG-07)
  1031					S^;*********************************************************************^
  1032
  1033					;LOOK AHEAD BITS
  1034
  1035			003700		RPPSF=	37B29			;PRESENT SECTOR FIELD
  1036
  1037									;THIS FIELD IS PRESENT IN RP05/06'S ONLY
  1038			000037		RPPSFF=	37B35			;PRESENT SECTOR FRACTION FIELD
  1039
  1040					S^;*********************************************************************^
  1041					;*BIT ASSIGNMENTS FOR MASSBUSS DEVICE SERIAL NUMBER REGISTER (DRSN REG-10)
  1042					S^;*********************************************************************^
  1043
  1044					; THE REGISTER STORES EACH DIGIT AS A "BCD" NUMBER
  1045
  1046			170000		DIGI1=	17B23			;THOUSANDS DIGIT
  1047			007400		DIGI2=	17B27			;HUNDREDS DIGIT
  1048			000360		DIGI3=	17B31			;TENS DIGIT
  1049			000017		DIGI4=	17B35			;UNITS DIGIT
  1050	
  1051					S^;*********************************************************************^
  1052					;*BIT ASSIGNMENTS FOR THE MASSBUSS DEVICE DRIVE OFFSET REGISTER (DROF REG-11)
  1053					S^;*********************************************************************^
  1054
  1055			010000		FMT22=	1B23			;PLACE DRIVE IN 22 SECTOR MODE
  1056			004000		ECI=	1B24			;INHIBIT HARDWARE ERROR CORRECTION
  1057			002000		HCI=	1B25			;INHIBIT HEADER COMPARE
  1058			100000		SGNCHG=	1B20			;SIGN CHANGE BIT(RP04 ONLY)
  1059
  1060			000377		OFSMSK=	377B35			;MASK FOR OFFSET INFORMATION BITS
  1061			000001		OF25M=	1B35			;OFFSET 25 MICRO-INCHES
  1062			004000		OF50M=	1B24			;OFFSET 50 MICRO-INCHES
  1063			000004		OF100M=	1B33			;OFFSET 100 MICRO-INCHES
  1064			000010		OF200M=	1B32			;OFFSET 200 MICRO-INCHES
  1065			000020		OF400M=	1B31			;OFFSET 400 MICRO-INCHES
  1066			000040		OF800M=	1B30			;OFFSET 800 MICRO-INCHES
  1067			000200		OFDIR=	1B28			;REVERSE DIRECTION OF OFFSET
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 6
DSRPA1	MAC	15-Feb-79 15:45		KS10-RH11/MASSBUS DEVICE BIT ASSIGNMENTS                                           SEQ 0193

  1068					S^;*********************************************************************^
  1069					;*BIT ASSIGNMENTS FOR THE MASSBUSS DEVICE DESIRED CYLINDER REGISTER (DRDCY REG-12)
  1070					S^;*********************************************************************^
  1071
  1072			001777		CYLADR1=	1777B35		;CYLINDER FIELD OF REGISTER
  1073
  1074					S^;*********************************************************************^
  1075					;*BIT ASSIGNMENTS FOR THE MASSBUSS DEVICE CURRENT CYLINDER REGISTER (DRCCY REG-13)
  1076					S^;*********************************************************************^
  1077
  1078			001777		CYLADR1=	1777B35		;CYLINDER FIELD
  1079
  1080					S^;*********************************************************************^
  1081					;*BIT ASSIGNMENTS FOR MASSBUSS DEVICE ERROR REGISTER #2 (DRER2 REG-14)
  1082					S^;*********************************************************************^
  1083
  1084					;THE FOLLOWING BITS PERTAIN TO RP05/06'S ONLY
  1085
  1086			020000		PLU=	1B22			;PHASE LOCK LOOP DETECTED UNSAFE
  1087			004000		IXE=	1B24			;DETECTED EXTRA OR MISSING INDEX PULSE
  1088			002000		NHS=	1B25			;HEAD SELECTION DID NOT OCCUR
  1089			001000		MHS=	1B26			;MULTIPLE HEADS SELECTED SIMULTANEOUSLY
  1090			000400		WRU=	1B27			;TRIED TO WRITE WHEN NOT ON A CYLINDER
  1091			000200		ABS=	1B28			;ABNORMAL STOP CONDITION
  1092			000100		TUF=	1B29			;DRIVE HAS DETECTED LOSS OF WRITE TRANSITIONS
  1093			000040		TDF=	1B30			;DRIVE DETECTS WRITE TRANSITIONS WITH NO WRITE
  1094			000020		RAW=	1B31			;READ AND WRITE DETECTED
  1095			000010		CSU=	1B32			;CURRENT SWITCH IS UNSAFE
  1096			000004		WSU=	1B33			;WRITE SELECT IS UNSAFE
  1097			000002		CSF=	1B34			;CURRENT SINK FAILURE HAS BEEN DETECTED
  1098			000001		WCU=	1B35			;DETECTED WRITE CURRENT WITH NO WRITE COMMAND
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 7
DSRPA1	MAC	15-Feb-79 15:45		KS10-RH11/MASSBUS DEVICE BIT ASSIGNMENTS                                           SEQ 0194

  1099					S^;*********************************************************************^
  1100					;*BIT ASSIGNMENTS FOR MASSBUSS DEVICES ERROR REGISTER #3 (DRER3 REG-15)
  1101					S^;*********************************************************************^
  1102
  1103					;THE FOLLOWING BITS PERTAIN TO RP05/06'S ONLY
  1104
  1105			100000		OCYL=	1B20			;INVALID "OFF CYLINDER" CONDITION EXISTS
  1106			040000		SKI=	1B21			;SEEK DID NOT COMPLETE WITHIN 85 MS
  1107			020000		OPE=	1B22			;OPERATOR PLUG ERROR
  1108			000100		ACL=	1B29			;AC LOW
  1109			000040		DCL=	1B30			;DC LOW
  1110			000020		VRF35=	1B31			;35 VOLT REGULATOR FAILURE
  1111			000002		WAO=	1B34			;WRITE AND OFFSET DETECTED
  1112			000001		DCU=	1B35			;DC UNSAFE
  1113
  1114					S^;*********************************************************************^
  1115					;*BIT ASSIGNMENTS FOR ERROR REG 2 IN THE RMO3 (RMER2)
  1116					S^;*********************************************************************^
  1117
  1118			040000		SKI=	1B21			;SEEK INCOMPLETE ERROR
  1119			020000		OPE=	1B22			;OPERATOR PLUG ERROR
  1120			010000		IVC=	1B23			;INVALID COMMAND
  1121			004000		LSC=	1B24			;LOSS OF SYSTEM CLOCK
  1122			002000		LBC=	1B25			;LOSS OF BIT CLOCK
  1123
  1124			000200		DVC=	1B28			;DEVICE CHECK
  1125			000010		MDPE=	1B32			;MASSBUS DATA PARITY ERROR
  1126
  1127					S^;*********************************************************************^
  1128					;*BIT ASSIGNMENTS FOR MASSBUSS DEVICE ECC POSITION REGISTER (DREC1 REG-16)
  1129					S^;*********************************************************************^
  1130
  1131					S^;*********************************************************************^
  1132					;*BIT ASSIGNMENTS FOR MASSBUSS DEVICE ECC PATTERN REG (DREC2 REG-17)
  1133					S^;*********************************************************************^
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 8
DSRPA1	MAC	15-Feb-79 15:45		UNIBUS ADAPTER BIT ASSIGNMENTS                                                     SEQ 0195

  1134					SUBTTL	UNIBUS ADAPTER BIT ASSIGNMENTS
  1135
  1136					S^;*********************************************************************^
  1137					;*BIT ASSIGNMENTS FOR THE UBA STATUS REG
  1138					S^;*********************************************************************^
  1139
  1140			400000		TIMOT=	1B18			;TIMOUT DETECTED ON NPR TRANSFER
  1141			200000		BMD=	1B19			;UNCORRECTABLE MEMORY DATA REC
  1142			100000		SMPE=	1B20			;SM10 BUS PARITY ERROR DETECTED BY UBA
  1143			040000		IOTOUT=	1B21			;IO INSTRUCTION TIMOUT DETECTED BY UBA
  1144			004000		HIREQ=	1B24			;HI PRIORTY CHAN INTERRUPT REQ
  1145			002000		LOREQ=	1B25			;LO PRIORTY CHAN INTERRUPT REQ
  1146			001000		ACDCL=	1B26			;AC/DC LOW DETECTED BY UBA
  1147			000200		DISXFR=	1B28			;DISABLE NPR XFR WHEN BMD ERROR DETECTED
  1148			000100		UBINIT=	1B29			;GENERATE UNIBUS INIT
  1149			000070		HIPIA=	7B32			;HI PRIORTY INTERRUPT CHANS
  1150			000007		LOPIA=	7B35			;LO PRIORTY INTERRUPT CHANS
  1151
  1152					S^;*********************************************************************^
  1153					;*BIT ASSIGNMENTS FOR THE UBA PAGING RAM-WRITE OPERATION
  1154					S^;*********************************************************************^
  1155
  1156			400000		LMRPW=	1B18			;ENAB RD-PSE-WRT CYCLES FOR ODD/EVEN WORDS
  1157			200000		LXFR16=	1B19			;ENAB 16 BIT XFRS(ENAB UNIBUS PAR CHK)
  1158			100000		LXFR36=	1B20			;ENAB 36 BIT XFR TO SM10 MEM FROM UBA
  1159			040000		LVALID=	1B21			;RAM LOCATION VALID DATA BIT
  1160			003777		LPADDR=	3777B35			;SM10 MEMORY PAGE ADDR FIELD
  1161
  1162					S^;*********************************************************************^
  1163					;*BIT ASSIGNMENTS FOR THE UBA PAGING RAM-READ OPERATION
  1164					S^;*********************************************************************^
  1165
  1166		020000	000000		RPAR=	1B4			;RAM LOC PARITY BIT
  1167		010000	000000		MRPW=	1B5			;RD-PSE-WRT CYCLES FOR ODD/EVEN WORDS ENAB
  1168		004000	000000		XFR16=	1B6			; 16 BIT XFRS ENAB(UNIBUS PARITY ENABLED)
  1169		002000	000000		XFR36=	1B7			;36 BIT XFR TO SM10 MEM FROM UBA ENABLED
  1170		001000	000000		VALID=	1B8			;RAM LOCATION VALID DATA BIT
  1171		000400	000000		EVPAR=	1B9			;RAM LOC COMPUTED PARITY (EVEN)
  1172		000003	777000		PADDR=	3777B26			;SM10 MEMORY PAGE ADDR FIELD
  1173
  1174					S^;*********************************************************************^
  1175					;*BIT ASSIGNMENTS FOR UBA MAINT REG
  1176					S^;*********************************************************************^
  1177
  1178			000002		ENPRW=	1B34			;ENABLE NPR WRAP AROUND
  1179			000001		CNPRG=	1B35			;CHANGE NPR REG
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1
DSRPA2	MAC	 2-Mar-79 10:47		UNIBUS ADAPTER BIT ASSIGNMENTS                                                     SEQ 0196

  1180						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-1
DSRPA2	MAC	 2-Mar-79 10:47		MAINLINE CODE                                                                      SEQ 0197

  1181					SUBTTL	 MAINLINE CODE
  1182
  1183			000000			TT==0
  1184					;	OPDEF	FTL	[FATAL]	;DEFINES SUBR PKG FATAL
  1185					;	OPDEF	FATAL	[GO FFF]	;REDEFINE FATAL FOR THIS PGM
  1186
  1187					; ***************************************************************
  1188					;*THE PROGRAM TITLE MESSAGE
  1189					; ***************************************************************
  1190
  1191	030600				PGMNAM:	ASCIZ/
  1192	030600	015 012 104 105 103 	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC [DSRPA]
  1193	030601	123 131 123 124 105 
  1194	030602	115 040 062 060 062 
  1195	030603	060 040 122 120 060 
  1196	030604	066 055 122 110 061 
  1197	030605	061 040 102 101 123 
  1198	030606	111 103 040 104 122 
  1199	030607	111 126 105 040 104 
  1200	030610	111 101 107 116 117 
  1201	030611	123 124 111 103 040 
  1202	030612	133 104 123 122 120 
  1203	030613	101 135 015 012 000 	/
  1204	030614	64 62 41 43 45 00 	SWP:	SIXBIT/TRACE/
  1205	030615	55 43 41 54 54 57 		SIXBIT/MCALLO/
  1206	030616	000000	000000			0
  1207	030617	44 65 41 54 60 00 		SIXBIT/DUALP/
  1208	030620	41 54 51 47 56 00 		SIXBIT/ALIGN/
  1209	030621	000000	000000			0
  1210	030622	000000	000000			0
  1211	030623	60 41 65 63 45 00 		SIXBIT/PAUSE/
  1212	030624	63 67 43 57 56 00 		SIXBIT/SWCON/
  1213	030625	000000	000000			0
  1214	030626	000000	000000			0
  1215	030627	000000	000000			0
  1216	030630	000000	000000			0
  1217	030631	000000	000000			0
  1218	030632	000000	000000			0
  1219	030633	000000	000000			0
  1220	030634	000000	000000			0
  1221	030635	000000	000000			0
  1222
  1223					; **************************************************************
  1224					;*PROGRAM START AND RESTART CODE
  1225					; ***************************************************************
  1226		
  1227					; THIS IS THE FULL START UP CODE.  DOES EVERYTHING.
  1228
  1229	030636				SG:
  1230	030636	336 00 0 00 030056 	START:	SKIPN	$ONETM		;FIRST TIME START ?
  1231	030637	402 00 0 00 077311 		SETZM	ONETIM#		;YES
  1232	030640	476 00 0 00 030511 		SETOM	PVPAGI		;PAGING CAN'T BE INHIBITED NOW
  1233	030641	476 00 0 00 030143 		SETOM	MAPNEW
  1234	030642	201 00 0 00 030614 		MOVEI	SWP
  1235	030643	202 00 0 00 030525 		MOVEM	SWPTAB		;SETUP RH SWITCH PROMPT
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-2
DSRPA2	MAC	 2-Mar-79 10:47		MAINLINE CODE                                                                      SEQ 0198

  1236	030644	265 00 0 00 030011 		PGMINT			;INITIALIZE THE SUBROUTINE PKG
  1237	030645	260 17 0 00 056565 		GO	UCBUF2		;UNCACHE BUF2
  1238
  1239	030646	202 17 0 00 077321 		MOVEM	P,SAVP#		;SAVE PUSHDOWN LIST
  1240	030647	402 00 0 00 030047 		SETZM	PASCNT		;INITS THE COUNTER
  1241
  1242	030650	260 17 0 00 060003 		GO	SETTRP		;SET UUO TRAP
  1243	030651	200 01 0 00 063530 		MOVE	1,[JRST PARITY] ;ADDITIONAL PARITY ERROR SERVICE
  1244	030652	202 01 0 00 030072 		MOVEM	1,$ITRX1	;MAKE KNOWN TO SUBRTN PKG
  1245
  1246	030653	332 00 0 00 077311 		SKIPE	ONETIM
  1247	030654	254 00 0 00 030661 		JRST	STARTX		;BYPASS MESSAGE PRINTOUT
  1248
  1249						TEXTF	[ASCIZ/**********
  1250					CAUTION - - MOUNT SCRATCH PACK(S) BEFORE RUNNING.
  1251					THIS DIAG. WRITES THE PACK. IF AN 11-FMT SCRATCH PACK IS USED,
  1252					IT WILL HAVE TO BE REFORMATED AFTER RUNNING THIS DIAG.
  1253					**********
  1254	030655	031 00 0 00 063531 	/]
  1255						TEXTF	[ASCIZ/
  1256					HEAD ALIGNMENT AND DUAL PORT TESTS DO NOT WRITE THE PACK
  1257	030656	031 00 0 00 063601 	/]
  1258	030657	260 17 0 00 061461 		GO	SWOP		;TYPE SWITCH OPTIONS IF DESIRED
  1259
  1260						TEXTF	[ASCIZ/
  1261					ALL DRIVES BEING TESTED SHOULD BE LOCKED ON PROPER PORT
  1262					WITH DEVICE SELECT PLUG INSTALLED
  1263					UNLESS INSTRUCTED OTHERWISE ...
  1264	030660	031 00 0 00 063616 	/]
  1265	030661	476 00 0 00 077311 	STARTX:	SETOM	ONETIM
  1266	030662	260 17 0 00 060153 		GO	CONFIG		;DO A CONFIGURATION
  1267	030663	254 00 0 00 030675 		JRST	STARTA
  1268
  1269					; ***************************************************************
  1270					;*RESTART WITH THE OPTION TO RECONFIGURE.
  1271					; ***************************************************************
  1272
  1273	030664	200 17 0 00 077321 	G:	MOVE	P,SAVP		;INIT THE STACK
  1274	030665	402 00 0 00 030047 		SETZM	PASCNT		;INIT PASS COUNTER
  1275
  1276						TEXTF	[ASCIZ/
  1277	030666	031 00 0 00 063650 	RECONFIGURE ?   /]
  1278	030667	260 17 0 00 061312 		GO	QSTN		;ASK THE ABOVE QUESTION
  1279	030670	255 00 0 00 000000 		JFCL			;TIMEOUT ASSUMES NO.
  1280	030671	334 00 0 00 000000 		SKIPA			;ANSWER IS NO
  1281	030672	260 17 0 00 060153 		GO	CONFIG		;ANSWER IS YES. DO IT.
  1282	030673	037 01 0 00 030242 		PCRLF
  1283	030674	254 00 0 00 030675 		JRST	STARTA		;RDY TO GO
  1284
  1285					; ***************************************************************
  1286					;*THIS IS A RESTART OR CONTINUE WITH NO RE-CONFIGURATION OPTION.
  1287					; ***************************************************************
  1288
  1289	030675				C:
  1290	030675	336 00 0 00 030056 	STARTA:	SKIPN	$ONETM		;HAVE WE DONE ONCE CODE YET ?
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-3
DSRPA2	MAC	 2-Mar-79 10:47		MAINLINE CODE                                                                      SEQ 0199

  1291	030676	254 00 0 00 030636 		JRST	START		;NO. GO DO IT
  1292	030677	200 17 0 00 077321 		MOVE	P,SAVP		;INIT STACK POINTER
  1293
  1294	030700	200 00 0 00 000502 		MOVE	LPGFTR		;GET SUBRTN PAGE FAL TRAP HANDLER
  1295	030701	202 00 0 00 077340 		MOVEM	SVPGFT#		;SAVE IT
  1296	030702	201 00 0 00 060106 		MOVEI	IOPGFT		;SETUP FOR I/O PAGE FAILS
  1297	030703	202 00 0 00 000502 		MOVEM	LPGFTR
  1298
  1299	030704	200 01 0 00 063654 		MOVE	1,[400000,,1]	;A LARGE NEG NUMBER
  1300	030705	202 01 0 00 030220 		MOVEM	1,PNTENB	;CANT EXCEED PRINT LIMIT NOW
  1301
  1302	030706	260 17 0 00 060772 		GO	DISPAT		;DO THE TEST DISPATCHING
  1303
  1304	030707	260 17 0 00 061406 		GO	SUMARY		;SUMARIZES DEVICES BEING TESTED
  1305									;AFTER 1ST PASS AND EVERY 10 PASSES
  1306
  1307	030710	254 00 0 00 030057 		JRST	BEGEND		;END OF PASS
  1308
  1309					SUBTTL DRIVE SELECTION TESTS
  1310						XLIST
  1311					 	LIST
  1312						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-4
DSRPA2	MAC	 2-Mar-79 10:47		DRIVE SELECTION TESTS                                                              SEQ 0200

  1313					S^;*********************************************************************^
  1314					;*TEST-1 DUAL DRIVE SELECTION
  1315					S^;*********************************************************************^
  1316
  1317					COMMENT	$
  1318
  1319						TEST DESCRIPTION
  1320						---------------- 
  1321					ALL DRIVES ON THE BUS ARE POWERED UP BUT THE DRIVE
  1322					BEING TESTED.  THE DIAGNOSTIC WILL DO A BLIND READ OF
  1323					DRIVE REGISTER #6 (THE DRIVE TYPE REGISTER) TO GUARANTEE
  1324					THAT NO OTHER DRIVE ON THE MASSBUS RESPONDS TO THIS DRIVES
  1325					DEVICE NUMBER. IF THE TEST IS UNSUCCESSFUL, THE
  1326					DRIVE TYPE AND SERIAL NUMBER REGISTERS OF THE RESPONDING
  1327					DEVICE ON THE BUS WILL BE PRINTED IN ORDER TO AID IN THE
  1328					DEVICE ISOLATION.
  1329
  1330						RECOMMENDED DEBUG PROCEDURE
  1331						--------------------------- 
  1332					IN THIS PARTICULAR TEST, THE DRIVE BEING TESTED IS NOT
  1333					THE FAULTY ONE AND IT IS NECESSARY TO DETERMINE WHICH DRIVE
  1334					ON THE MASSBUS IS INCORRECTLY RESPONDING. BY SHUTTING THE 
  1335					DRIVES OFF ONE AT A TIME UNTIL THE PROBLEM GOES AWAY. THAT
  1336					ONE IS THE CULPRET AND IT IS HIS MODULES THAT NEED TO BE 
  1337					REPLACED (PROVIDED IT IS AN RP06). IF THE DEVICE IS NOT AN RP06,
  1338					IT IS SUGGESTED THAT YOU RUN THE DIAGNOSTIC FOR THAT DEVICE.
  1339					THERE IS SOMTHING WRONG WITH THE DEVICE SELECTION LOGIC IN THAT 
  1340					DRIVE. EITHER THE DEVICE SELECTION BITS ARE COMMING OVER ,OR
  1341					(GETTING MODIFIED), INCORRECTLY OR THE LOGIC THAT LOOKS FOR 
  1342					A MATCH BETWEEN DEVICE SELECTION BITS AND THE SELECTION SWITCH
  1343					IS MALFUNCTIONING. ANOTHER REMOTE POSSIBILITY IS THAT THERE ARE
  1344					TWO DRIVES ON THIS MASSBUS WITH THE SAME DRIVE NUMBER.  
  1345						$
  1346					 	SALL
  1347					^
  1348
  1349	030711	201 01 0 00 200001 	TST1:	MOVEI	1,200001	;GETS THE TEST #
  1350	030712	260 17 0 00 060630 		GO	TRACE		;TRACE OPTION
  1351
  1352	030713	336 00 0 00 077255 		SKIPN	ATEND#		;IS RUN OPERATOR ATTENDED ?
  1353	030714	263 17 0 00 000000 		RTN			;NO. THEN DON'T DO THE TEST
  1354
  1355	030715	260 17 0 00 060522 	T1SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  1356	030716	254 00 0 00 030757 		JRST	TST1X		;ALL TESTED
  1357	030717	476 00 0 00 077330 	 	SETOM	SHMODE		;NEXT SELECTED. SET PRINTOUT MODE
  1358
  1359					;SOME OPERATOR ACTION MESSAGES
  1360
  1361	030720	260 17 0 00 061373 		GO	TELTST		;TELL WHICH TEST
  1362						TEXTF	[ASCIZ/
  1363					USING THE MAIN CKT. BREAKER INSIDE THE FRONT OF THE DRIVE,
  1364	030721	031 00 0 00 063655 	POWER DOWN DRIVE /]
  1365	030722	200 00 0 00 000014 		MOVE	0,DRIVE		;GET THE DRIVE NUMBER
  1366	030723	037 01 0 00 000001 		PNT1F			;PRINT IT
  1367	030724	031 00 0 00 063675 		TEXTF	[ASCIZ/ON UBA-/]
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-5
DSRPA2	MAC	 2-Mar-79 10:47		DRIVE SELECTION TESTS                                                              SEQ 0201

  1368	030725	135 00 0 00 063677 		LDB	0,[POINT 4,MBCN,17] ;GET DEVICE CODE
  1369	030726	037 17 0 00 000003 		PNTOCF			;PRINT IT
  1370						TEXTF	[ASCIZ/
  1371	030727	031 00 0 00 063700 	HIT <CR> WHEN READY  /]
  1372	030730	201 00 0 00 000015 		MOVEI	0,15		;A CR CODE
  1373	030731	260 17 0 00 061324 		GO	CHARIN		;WAIT FOR THE CHARACTER
  1374	030732	254 00 0 00 030730 		JRST	.-2		;TIMEOUT
  1375	030733	254 00 0 00 030730 		JRST	.-3		;WRONG CHARACTER
  1376	030734	255 00 0 00 000000 		JFCL			;NORMAL
  1377
  1378					;START THE TEST
  1379
  1380	030735	260 17 0 00 077352 	TL1:	GO	DEVREQ		;REQUEST THE DEVICE
  1381
  1382	030736	260 17 0 00 060723 		GO	MSTCLR		;MASTER RESET TO CLEAR ERRORS
  1383
  1384	030737	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE FAILURES
  1385	030740	260 17 0 00 057620 		GO	RRPDT		;READ THE DRIVE TYPE REG
  1386	030741	254 00 0 00 030747 		JRST	NOER1		;EXPECT THIS TRA FAILURE
  1387	030742	476 00 0 00 000010 		SETOM	ERFLG		;SOME DRIVE RESPONDED
  1388	030743	476 00 0 00 000010 		SETOM	ERFLG		;SOME DRIVE RESPONDED
  1389
  1390	030744	027 00 0 00 030751 		SCOPE	TBL1		;CALL THE SCOPE ROUTINE
  1391	030745	254 00 0 00 030735 		JRST	TL1		;LOOP ADDRESS
  1392	030746	255 00 0 00 000000 		JFCL			;CONTINUE. NO ERROR
  1393					NOER1:	TEXTF	[ASCIZ/POWER THE DRIVE UP AND LOAD HEADS IF POSSIBLE
  1394	030747	031 00 0 00 063705 	/]
  1395	030750	254 00 0 00 030715 		JRST	T1SEL		;GO ON TO THE NEXT DRIVE
  1396
  1397					;SCOPE TABLE
  1398
  1399	030751	000000	062461		TBL1:	0,,REGPNT
  1400	030752	100000	063717			NOINH![ASCIZ/DRIVE SELECTION PROBLEM EXISTS/]
  1401	030753	100000	063726			NOINH![ASCIZ/REFER TO LISTING BEFORE REPLACING ANYTHING/]
  1402	030754	400000	077721			HIPROB!TC
  1403	030755	400000	077771			HIPROB!DP
  1404	030756	420000	077775			LAST!HIPROB!RG
  1405
  1406	030757				TST1X:	TEXTF	[ASCIZ/
  1407	030757	031 00 0 00 063737 	HIT RETURN WHEN READY  /]
  1408	030760	037 00 0 00 000003 		TTICHR			;WAIT FOR A KEYSTROKE
  1409	030761	254 00 0 00 030760 		JRST	.-1
  1410	030762	037 01 0 00 030242 		PCRLF
  1411	030763	263 17 0 00 000000 		RTN			;NOW EXIT THE TEST
  1412
  1413					SUBTTL BASIC CONTROL BUS CONFIDENCE TESTS
  1414						XLIST
  1415					 	LIST
  1416						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-6
DSRPA2	MAC	 2-Mar-79 10:47		BASIC CONTROL BUS CONFIDENCE TESTS                                                 SEQ 0202

  1417					S^;*********************************************************************^
  1418					;*TEST-2 DEMAND/TRANSFER TEST
  1419					S^;*********************************************************************^
  1420
  1421					COMMENT	$
  1422
  1423						TEST DESCRIPTION
  1424						---------------- 
  1425					THE DRIVE BEING TESTED IS NOW POWERED UP. THE DIAGNOSTIC
  1426					DOES A BLIND READ OF REGISTER #6 IN THE DRIVE (DRIVE TYPE)
  1427					LOOKING ONLY FOR PROPER OPERATION OF DEMAND AND TRANSFER
  1428					OVER THE MASSBUS. IMPROPER OPERATION WOULD RESULT IN A
  1429					CONTROL BUS TIMEOUT. DATA AND PARITY ERRORS ARE IGNORED AT 
  1430					THIS POINT IN THE TESTING.
  1431
  1432						RECOMMENDED DEBUG PROCEDURE
  1433						--------------------------- 
  1434					1. DEMAND NOT GETTING OVER THE MASSBUS TO THE DRIVE (DP5).
  1435					   POSSIBLY A FAULTY TRANSCEIVER (TC0,TF0) OR CABLE PROBLEM.
  1436					2. HANDSHAKE TIMING CLOCK MALFUNCTIONING (DP3).
  1437					3. MACHINE NOT GETTING SELECTED BECAUSE:
  1438					   A. SELECT LINES NOT GETTING TO DRIVE PROPERLY (DP2). 
  1439					      CHECK FOR TRANSCEIVER FAILURES (TC0,TF0) OR FAULTY
  1440					      CABLING OR CONNECTOR PROBLEMS.
  1441					   B. ADDRESS COMPARE LOGIC MALFUNCTION. CHECK LOGIC THAT
  1442					      COMPARES THE DEVICE SELECTION BITS TO THE DEVICE
  1443					      SELECTION SWITCH (DP2).
  1444					   C. FAULTY PLUG ENABLE ON DP2
  1445					4. HANDSHAKE LOGIC IS MALFUNCTIONING (DP3). TRANSFER IS NOT
  1446					   BEING GENERATED IN THE DRIVE.
  1447					5. TRANSFER IS NOT GETTING BACK OVER THE MASSBUS. LOOK
  1448					   FOR FAULTY TRANSCEIVER MODULES (TC0,TF0) OR CABLE OR CONNECTOR
  1449					   PROBLEMS.
  1450					6. THE POWER MONITOR SIGNAL AT THE INPUT TO THE TRANSCEIVER
  1451					   (TC0,TF0) CARRYING TRANSFER IS INCORRECT AND DISABELING THE TRANSCEIVER.
  1452					   THIS WOULD INVOLVE CHECKING POWER SUPPLIES ETC. 
  1453						$
  1454					 	SALL
  1455
  1456
  1457	030764	201 01 0 00 000002 	TST2:	MOVEI	1,2		;GET THE TEST NUMBER
  1458	030765	260 17 0 00 060630 		GO	TRACE		;CALL TRACE OPTION
  1459
  1460	030766	260 17 0 00 060522 	T2SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  1461	030767	263 17 0 00 000000 		RTN			;ALL DONE
  1462	030770	476 00 0 00 077330 		SETOM	SHMODE		;NEXT READY. SET PRINTOUT MODE
  1463
  1464	030771	260 17 0 00 077352 	T2L:	GO	DEVREQ		;REQUEST THE DEVICE
  1465
  1466	030772	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ALL PREVIOUS ERRORS
  1467
  1468	030773	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T REPORT OR CLEAR RAE'S
  1469	030774	260 17 0 00 057620 		GO	RRPDT		;READ THE DRIVE TYPE REGISTER
  1470	030775	476 00 0 00 000010 		SETOM	ERFLG		;DON'T EXPECT A TRA FAILURE
  1471	030776	255 00 0 00 000000 		JFCL			;I'LL ALLOW PARITY ERRORS NOW
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-7
DSRPA2	MAC	 2-Mar-79 10:47		BASIC CONTROL BUS CONFIDENCE TESTS                                                 SEQ 0203

  1472	030777	027 00 0 00 031002 		SCOPE	TBL2		;CALL THE SCOPE ROUTINE
  1473	031000	254 00 0 00 030771 		JRST	T2L		;LOOP
  1474	031001	254 00 0 00 030766 		JRST	T2SEL		;CONTINUE
  1475
  1476					;SCOPE TABLE
  1477
  1478	031002	000000	062461		TBL2:	0,,REGPNT
  1479	031003	100000	063745			NOINH![ASCIZ/DEMAND-TRANSFER HANDSHAKE FAILURE/]
  1480	031004	400000	077771			HIPROB!DP
  1481	031005	400000	077721			HIPROB!TC
  1482	031006	400000	077747			HIPROB!MB
  1483	031007	400000	100071			HIPROB!D10
  1484	031010	400000	100046			HIPROB!D02
  1485	031011	420000	063754			LAST!HIPROB![ASCIZ/CHECK FOR FAULTY SELECT PLUG OR SWITCH/]
  1486
  1487						XLIST
  1488					 	LIST
  1489						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-8
DSRPA2	MAC	 2-Mar-79 10:47		BASIC CONTROL BUS CONFIDENCE TESTS                                                 SEQ 0204

  1490					S^;*********************************************************************^
  1491					;*TEST-3 TEST FOR CONTROL BUS BITS STUCK ON ONE 
  1492					S^;*********************************************************************^
  1493
  1494					COMMENT	$
  1495
  1496						TEST DESCRIPTION
  1497						---------------- 
  1498
  1499						RECOMMENDED DEBUG PROCEDURE
  1500						--------------------------- 
  1501						$
  1502					 	SALL
  1503
  1504
  1505	031012	201 01 0 00 000003 	TST3:	MOVEI	1,3
  1506	031013	260 17 0 00 060630 		GO	TRACE
  1507	031014	263 17 0 00 000000 		RTN			;SORRY, CAN'T DO ON RH11
  1508
  1509						XLIST
  1510						LIST
  1511
  1512					 	XLIST
  1513					 	LIST
  1514						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-9
DSRPA2	MAC	 2-Mar-79 10:47		BASIC CONTROL BUS CONFIDENCE TESTS                                                 SEQ 0205

  1515					S^;*********************************************************************^
  1516					;*TEST-4 TRANSCEIVER ENABLE TEST
  1517					S^;*********************************************************************^
  1518
  1519					COMMENT	$
  1520
  1521						TEST DESCRIPTION
  1522						---------------- 
  1523						THIS TEST READS THE DRIVE TYPE REGISTER LOOKING FOR A LEGAL
  1524						RP06 DEVICE TYPE. IT IS THE FIRST TIME 1'S & 0'S ARE READ.
  1525						THIS TEST IS ACTUALLY TO GUARANTEE THAT THE TRANSCEIVERS
  1526						ARE ENABLED DURING A CONTROL BUS READ CYCLE AND THAT THE
  1527						CTOD (DIRECTION OF TRANSFER SIGNAL) IS NOT INCORRECT
  1528						DURING THE CONTROL BUS READ CYCLE ALSO. IN GETTING THIS
  1529						TEST OPERATIONAL, DRIVE TYPE REGISTER PROBLEMS ARE
  1530						DEBUGGED AS A BY PRODUCT. THE PROGRAM READS THE DRIVE TYPE
  1531						REGISTER. SUCCESSFUL OPERATION INDICATES THAT THE ENTIRE
  1532						CONTROL BUS READ CYCLE IS OPERATIONAL. 
  1533
  1534						RECOMMENDED DEBUG PROCEDURE
  1535						--------------------------- 
  1536						EITHER A REGISTER SELECT PROBLEM OR A DATA PATH PROBLEM
  1537						EXIST. POSSIBILITIES:
  1538						1. REGISTER SELECT BITS NOT GETTING OVER MASSBUS TO THE
  1539						   REGISTER SELECT INPUT MUX (DP5). REPLACE TRANSCEIVER
  1540						   ACCORDING TO WHICH OF THE SELECT BITS ARE AT FAULT
  1541						   AND WHICH PORT THE DRIVE IS ATTACHED TO.
  1542						2. REGISTER SELECT INPUT MUX (DP4,DP5) PICKING/DROPPING BITS,
  1543						   OR, PORT SELECTION LOGIC FAILURE. REPLACE THE DP BOARD.
  1544						3. MALFUNCTION OF THE REGISTER DECODER (RG5) OR ITS CONTROL
  1545						   LOGIC. LOOK FOR EITHER THE WRONG REGISTER BEING SELECTED
  1546						   OR MULTIPLE REGISTER BEING SELECTED. REPLACE THE RG BOARD.
  1547						4. MALFUNCTION OF THE DRIVE TYPE REGISTER MUX (EC8). SENDING
  1548						   THE WRONG DATA TO THE ASSY REGISTER. REPLACE ECC BOARD.
  1549						5. ASSY REGISTER INPUT STILL INCORRECT AFTER REPLACING THE
  1550						   ECC BOARD IS AN INDICATION THAT SOME OTHER REGISTERS MUX
  1551						   IS PUTTING DATA ON THE WIRED OR BUS. REPLACE ONE AT A
  1552						   TIME UNTIL THE PROBLEM GOES AWAY. RG,DP,SS BOARDS.
  1553						6. OUTPUT OF THE ASSEMBLY REGISTER IS INCORRECT AT THE WIRED-OR
  1554						   BUS. SEVERAL TYPES OF FAILURES COULD EXIST.
  1555						   A. HANDSHAKE TIMING IS INCORRECT (RG5). REPLACE THE RG BOARD.
  1556						   B. THE ASSY REG (DP4) ENABLE CONDITIONS ARE INCORRECT. 
  1557						      REPLACE THE DP BOARD TO ELIMINATE PORT SELECT PROBLEMS.
  1558						      REPLACE TA0-PORT-A OR TD0-PORT-B TRANSCEIVER MODULE IF
  1559						      CTOD IS INDICATING THE WRONG DIRECTION OF TRANSFER
  1560						      BETWEEN THE CONTROLLER AND THE DRIVE.
  1561						   C. ASSY REGISTER IS MALFUNCTIONING. REPLACE DP BOARD. 
  1562						$
  1563					 	SALL
  1564
  1565
  1566	031015	201 01 0 00 000004 	TST4:	MOVEI	1,4		;GET THE TEST NUMBER
  1567	031016	260 17 0 00 060630 		GO 	TRACE		;CALL TRACE OPTION
  1568
  1569	031017	260 17 0 00 060522 	T4SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TESTING
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-10
DSRPA2	MAC	 2-Mar-79 10:47		BASIC CONTROL BUS CONFIDENCE TESTS                                                 SEQ 0206

  1570	031020	263 17 0 00 000000 		RTN			;ALL TESTED
  1571	031021	476 00 0 00 077330 		SETOM	SHMODE		;NXT READY. SET PRINTOUT MODE
  1572
  1573
  1574	031022	260 17 0 00 077352 	T4L:	GO	DEVREQ		;REQUEST A DEVICE
  1575
  1576	031023	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ALL ERRORS
  1577
  1578	031024	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T REPORT OR CLEAR RAE'S
  1579	031025	260 17 0 00 057620 		GO	RRPDT		;READ THE DRIVE TYPE REGISTER
  1580	031026	260 17 0 00 060733 		GO	CBTOER		;TRANSFER FAILED
  1581	031027	255 00 0 00 000000 		JFCL			;IGNORE PARITY FOR NOW
  1582
  1583	031030	135 00 0 00 063764 		LDB	0,[POINT 16,1,35] ;GET THE REGISTERS DATA BITS
  1584	031031	306 00 0 00 020022 		CAIN	0,20022		;SKIP IF NOT RP06 TYPE
  1585	031032	254 00 0 00 031035 		JRST	.+3		;FOUND A VALID TYPE
  1586	031033	302 00 0 00 024022 		CAIE	0,24022		;SKIP IF IT IS AN RP06
  1587	031034	476 00 0 00 000010 		SETOM	ERFLG		;NOT AN RP06 ?
  1588	031035	027 00 0 00 031040 		SCOPE	TBL4		;CALL THE SCOPE ROUTINE
  1589	031036	254 00 0 00 031022 		JRST	T4L		;LOOP
  1590	031037	254 00 0 00 031017 		JRST	T4SEL		;CONTINUE
  1591
  1592					;SCOPE TABLE
  1593
  1594	031040	000000	062461		TBL4:	0,,REGPNT
  1595	031041	100000	063765			NOINH![ASCIZ/DRIVE TYPE REGISTER (REG-06) FAILURE/]
  1596	031042	100000	063775			NOINH![ASCIZ/ TYPES 20022 & 24022 ARE ACCEPTABLE/]
  1597	031043	400000	100001			HIPROB!TRMES
  1598	031044	400000	077771			HIPROB!DP
  1599	031045	400000	077661			HIPROB!TA
  1600	031046	400000	077701			HIPROB!TB
  1601	031047	600000	077775			LOPROB!RG
  1602	031050	600000	077721			LOPROB!TC
  1603	031051	620000	077765			LAST!LOPROB!SS
  1604
  1605					SUBTTL TEST FOR PROPER OPERATION OF CTRL BUS BITS C00-C06
  1606					 	XLIST
  1607					 	LIST
  1608						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-11
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C00-C06                                 SEQ 0207

  1609					S^;*********************************************************************^
  1610					;*TEST-5 RESET/WRITE/READ 1'S TO REG-11 
  1611					S^;*********************************************************************^
  1612
  1613					COMMENT	$
  1614
  1615						TEST DESCRIPTION
  1616						---------------- 
  1617						MASTER RESET, THEN WRITE/READ/VERIFY 1'S FROM THE LOW ORDER
  1618						7 BITS OF THE OFFSET REGISTER. THIS VERIFIES THAT THE RECEIVERS
  1619						PASS 1'S. NOT YET SURE HOW THE 1'S GOT THERE, HOPEFULLY IT
  1620						WAS BECAUSE OF THE WRITE 
  1621
  1622						RECOMMENDED DEBUG PROCEDURE
  1623						--------------------------- 
  1624						START AT STEP-10 TO SAVE TIME. IF IT FAILS, GO BACK TO
  1625						STEP-1 WITHOUT REPLACING ANYTHING.
  1626						1. CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  1627						   SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE TRAN-
  1628						   CEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  1629						   (TA0,TB0,TD0,TE0).
  1630						2. CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  1631						   SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  1632						   A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  1633						3. CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  1634						   INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  1635						   BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  1636						4. CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC ON
  1637						   (DP4). IF CONTROL REG IS SELECTED, REPLACE THE RG-BOARD.
  1638						5. CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC ON (DP2). IF
  1639						   THE ATA REGISTER IS SELECTED, REPLACE THE DP BOARD.
  1640						6. CHECK THE DATA AT THE OUTPUT OF THE RECEIVER FOR
  1641						   THE FAILING BIT OR BITS. (C00-C05 ARE ON TA0 & TD0. C06
  1642						   IS ON TB0 & TE0) IF FAULTY, REPLACE APPROPRIATE MODULE.
  1643						7. CHECK THE DATA AT THE INPUT TO REG-11 (RG1). IF FAULTY,
  1644						   REPLACE THE DP BOARD. SOMTHING IS WRONG WITH THE INPUT
  1645						   DATA SELECT MUX LOGIC.
  1646						8. CHECK THAT REG-11 IS BEING CLOCKED (RG1). SEVERAL THINGS
  1647						   COULD CAUSE CLOCK FAILURE. REPLACE THE RG BOARD. THIS WILL
  1648						   CATCH THEM ALL.
  1649						9. CHECK THAT THE RESET LINE TO REG-11 (RG1) IS NOT STUCK
  1650						   AND KEEPING THE FLOPS FROM BEING SET. IF FAULTY, REPLACE
  1651						   THE RG BOARD. IF THE PROBLEM PERSISTS, REPLACE THE TRANS-
  1652						   CEIVER CARD CARRYING MASS INIT (TA0 & TD0).
  1653						10.CHECK THE OUTPUT OF THE REG-15 MUX (RG1). IF
  1654						   FAULTY, REPLACE THE RG BOARD.
  1655						11.CHECK THE OUTPUT OF THE ASSY REGISTER (DP4). IF FAULTY,
  1656						   REPLACE THE DP BOARD.
  1657						12.REPLACE THE TRANSMITTER CARRYING THE FAULTY BIT BACK OVER
  1658						   THE MASSBUS. (C00-C05 ARE ON TA0 & TD0. C06 IS ON TB0
  1659						   & TE0)  
  1660						$
  1661					 	SALL
  1662
  1663	031052	201 01 0 00 000005 	TST5:	MOVEI	1,5		;GET THE TEST NUMBER
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-12
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C00-C06                                 SEQ 0208

  1664	031053	260 17 0 00 060630 		GO	TRACE		;CALL TRACE
  1665
  1666	031054	260 17 0 00 060522 	T5SEL:	GO	DEVSEL		;GO SELECT A DEVICE FOR TEST
  1667	031055	263 17 0 00 000000 		RTN			;TRIED THEM ALL
  1668	031056	476 00 0 00 077330 		SETOM	SHMODE		;NEXT IS READY. SET PRINTOUT MODE
  1669
  1670	031057	260 17 0 00 077352 	T5L:	GO	DEVREQ		;REQUEST DEVICE
  1671
  1672	031060	260 17 0 00 060723 		GO	MSTCLR		;CLEAR PREVIOUS ERRORS
  1673
  1674	031061	200 01 0 00 064005 		MOVE	1,[1B14!177]	;DATA IS ALL 1'S TO C00-C06
  1675	031062	260 17 0 00 057435 		GO	LRPOF		;LOAD REGISTER 11 (OFFSET)
  1676	031063	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
  1677
  1678	031064	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  1679	031065	260 17 0 00 057631 		GO	RRPOF		;READ REGISTER 11 NOW
  1680	031066	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  1681	031067	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  1682
  1683	031070	460 00 0 00 000001 		SETCM	0,1		;GET COMP REGISTER DATA TO AC0
  1684	031071	602 00 0 00 000177 		TRNE	0,177		;SEE IF WE DROPPED ANY 1'S
  1685	031072	476 00 0 00 000010 		SETOM	ERFLG		;ERROR. DROPPED SOME ONES
  1686	031073	027 00 0 00 031076 		SCOPE	TBL5		;CALL SCOPE ROUTINE
  1687	031074	254 00 0 00 031057 		JRST	T5L		;LOOP
  1688	031075	254 00 0 00 031054 		JRST	T5SEL		;CONTINUE
  1689
  1690					;SCOPE	TABLE
  1691
  1692	031076	000000	062461		TBL5:	0,,REGPNT
  1693	031077	100000	064006			NOINH![ASCIZ/FAILURE TO WRITE OR READ ONES C00-C06 REG-11/]
  1694	031100	400000	100001			HIPROB!TRMES
  1695	031101	400000	077661			HIPROB!TA
  1696	031102	400000	077701			HIPROB!TB
  1697	031103	400000	077771			HIPROB!DP
  1698	031104	620000	077775			LAST!LOPROB!RG
  1699
  1700					 	XLIST
  1701					 	LIST
  1702						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-13
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C00-C06                                 SEQ 0209

  1703					S^;*********************************************************************^
  1704					;*TEST-6 RESET/WRITE/READ 0'S TO REG-11 
  1705					S^;*********************************************************************^
  1706
  1707					COMMENT	$
  1708
  1709						TEST DESCRIPTION
  1710						---------------- 
  1711						WRITE 1'S IN BITS 0-6 OF REGISTER-11. THIS IS KNOWN TO WORK
  1712						FROM TEST-5. RESET/WRITE 0'S/READ/VERIFY THAT BITS 0-6 HAVE
  1713						GONE TO ZERO. WE ARE NOT SURE WETHER THE RESET OR THE WRITE
  1714						CAUSED THE BITS TO GO TO ZERO BUT DO NOT CARE AT THIS POINT
  1715						IN TIME 
  1716
  1717						RECOMMENDED DEBUG PROCEDURE
  1718						--------------------------- 
  1719						START AT STEP-11 TO SAVE TIME. IF IT FAILS, GO TO STEP-1
  1720						WITHOUT REPLACING ANYTHING.
  1721						1. CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  1722						   SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE TRAN-
  1723						   CEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  1724						   (TA0,TB0,TD0,TE0).
  1725						2. CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  1726						   SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  1727						   A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  1728						3. CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  1729						   INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  1730						   BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  1731						4. CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC ON
  1732						   (DP4). IF CONTROL REG IS SELECTED, REPLACE THE RG-BOARD.
  1733						5. CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC ON (DP2). IF
  1734						   THE ATA REGISTER IS SELECTED, REPLACE THE DP BOARD.
  1735						6. CHECK THE DATA AT THE RECEIVER OUTPUT FOR THE FAILING
  1736						   BIT OR BITS. (C00-C05 ARE ON TA0 & TD0. C06 IS ON 
  1737						   TB0 & TE0). IF FAULTY, REPLACE THE APPROPRIATE TRAN-
  1738						   CEIVER MODULE.
  1739						7. CHECK THE DATA AT THE INPUTS TO THE RG-11 FLOPS (RG1).
  1740						   IF FAULTY, REPLACE THE DP BOARD. THERE IS A PORT PROBLEM
  1741						   OR AN INPUT MUX PROBLEM.
  1742						8. CHECK THAT REG-11 (RG1) IS BEING CLOCKED. IF NOT, REPLACE
  1743						   THE RG BOARD. THIS COVERS THE REASONS CLOCK WOULD FAIL.
  1744						9. CHECK THAT RESET IS GETTING TO THE CLEAR INPUT OF THE FAILING
  1745						   FLOP OF REG-11 (RG1). IF IT IS, GO TO STEP-11.
  1746						10.CHECK THAT MASS INIT IS GETTING THROUGH ITS MASSBUS
  1747						   RECEIVER. IF NOT, REPLACE THE REVEIVER. (TA0 & TD0).
  1748						11.CHECK DATA AT THE OUTPUT OF REG-11 MUX (RG1). IF FAULTY,
  1749						   REPLACE THE DP BOARD.
  1750						12.CHECK ONCE AGAIN, THE DATA AT THE OUTPUT OF THE REG-11
  1751						   MUX (RG1). IF IT IS STILL INCORRECT, THERE IS MOST LIKELY
  1752						   A FAULTY REGISTER MUX ELSEWHERE IN THE DCL. REPLACE
  1753						   THE FOLLOWING BOARDS ONE AT A TIME. EC,SS,DP BOARDS.
  1754						13.CHECK THE OUTPUT AT THE ASSY REGISTER (DP4). IF INCORRECT,
  1755						   REPLACE THE DP BOARD.
  1756						14.REPLACE THE TRANSCEIVER CARRYING THE FAULTY BIT BACK
  1757						   OVER THE MASSBUS. (C00-05 ARE ON TA0 & TD0. C06 IS ON 
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-14
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C00-C06                                 SEQ 0210

  1758						   TB0 & TE0) 
  1759						$
  1760					 	SALL
  1761
  1762	031105	201 01 0 00 000006 	TST6:	MOVEI	1,6		;GET THE TEST NUMBER
  1763	031106	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE OPTION
  1764
  1765	031107	260 17 0 00 060522 	T6SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  1766	031110	263 17 0 00 000000 		RTN			;ALL TESTED
  1767	031111	476 00 0 00 077330 		SETOM	SHMODE		;NXT READY. SET PRINTOUT MODE
  1768
  1769	031112	260 17 0 00 077352 	T6L:	GO	DEVREQ		;REQUEST A DEVICE
  1770
  1771	031113	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ALL PREVIOUS ERRORS
  1772
  1773	031114	200 01 0 00 064017 		MOVE	1,[1B13!1B14!177] ;WITE 1'S TO C00-C06
  1774	031115	260 17 0 00 057435 		GO	LRPOF		;LOAD REGISTER 11
  1775	031116	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  1776	031117	200 01 0 00 064020 		MOVE	1,[1B14!0] 	;WANT TO WRITE 0'S TO C00-C06
  1777	031120	260 17 0 00 057435 		GO	LRPOF		;LOAD REG-11 SHOULD ZERO THE REGISTER
  1778	031121	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  1779
  1780	031122	260 17 0 00 060723 		GO	MSTCLR		;THIS SHOULD CLEAR IT ALSO
  1781
  1782	031123	205 01 0 00 000030 		MOVSI	1,(1B13!1B14) ;DON'T REPORT OR CLEAR RAE'S
  1783	031124	260 17 0 00 057631 		GO	RRPOF		;NOW READ REGISTER 11
  1784	031125	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  1785	031126	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  1786
  1787	031127	602 01 0 00 000177 		TRNE	1,177		;SEE IF ANY 1'S WERE PICKED UP
  1788	031130	476 00 0 00 000010 		SETOM	ERFLG		;ALL BITS DIDN'T WORK
  1789	031131	027 00 0 00 031134 		SCOPE	TBL6		;CALL THE SCOPE ROUTINE
  1790	031132	254 00 0 00 031112 		JRST	T6L		;LOOP
  1791	031133	254 00 0 00 031107 		JRST	T6SEL		;CONTINUE
  1792
  1793					;SCOPE TABLE
  1794
  1795	031134	000000	062461		TBL6:	0,,REGPNT
  1796	031135	100000	064021			NOINH![ASCIZ/FAILURE TO READ OR WRITE 0'S TO C00-C06 REG-11/]
  1797	031136	400000	100001			HIPROB!TRMES
  1798	031137	400000	077661			HIPROB!TA
  1799	031140	400000	077701			HIPROB!TB
  1800	031141	600000	077771			LOPROB!DP
  1801	031142	600000	077775			LOPROB!RG
  1802	031143	600000	077755			LOPROB!EC
  1803	031144	620000	077765			LAST!LOPROB!SS
  1804
  1805					 	XLIST
  1806					 	LIST
  1807						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-15
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C00-C06                                 SEQ 0211

  1808					S^;*********************************************************************^
  1809					;*TEST-7 RESET/WRITE 0'S/WRITE 1'S/READ/VERIFY REG-11 
  1810					S^;*********************************************************************^
  1811
  1812					COMMENT	$
  1813
  1814						TEST DESCRIPTION
  1815						---------------- 
  1816						THIS TEST IS JUST LIKE TEST-5 EXCEPT AT THIS POINT IN TIME WE
  1817						ARE WRITING 1'S TO FLOPS THAT ARE GUARANTEED TO CONTAIN 0'S,
  1818						THUS VERIFYING THAT TRANSMITTERS PASS 1'S, RESET NOT STUCK IN
  1819						CLEAR DIRECTION, FLOPS ARE GETTING LOADED. 
  1820
  1821						RECOMMENDED DEBUG PROCEDURE
  1822						--------------------------- 
  1823						1. CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  1824						   SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE TRAN-
  1825						   CEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  1826						   (TA0,TB0,TD0,TE0).
  1827						2. CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  1828						   SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  1829						   A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  1830						3. CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  1831						   INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  1832						   BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  1833						4. CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC ON
  1834						   (DP4). IF CONTROL REG IS SELECTED, REPLACE THE RG-BOARD.
  1835						5. CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC ON (DP2). IF
  1836						   THE ATA REGISTER IS SELECTED, REPLACE THE DP BOARD.
  1837						6. CHECK THE DATA AT THE RECEIVER OUTPUT FOR THE FAULTY
  1838						   BIT OR BITS. (C00-C05 ARE ON TA0 & TD0. C06 IS IN
  1839						   TB0 & TE0). IF FAULTY, REPLACE APPROPRIATE TRANSCEIVER
  1840						   MODULE.
  1841						7. CHECK THE DATA AT THE INPUTS TO REG-11 FLOPS (RG1). IF
  1842						   FAULTY, REPLACE THE DP BOARD. THERE IS A DUAL PORT 
  1843						   PROBLEM OR AN INPUT MUX PROBLEM.
  1844						8. CHECK THAT REG-11 IS GETTING CLOCKED. IF NOT, REPLACE
  1845						   THE RG BOARD. THIS WILL COVER THE MANY FAULTS THAT COULD
  1846						   CAUSE THE CLOCK TO MALFUNCTION.
  1847						9. CHECK THAT THE RESET LINE TO RG-11 FLOPS (RG1) IS NOT STUCK
  1848						   ANG KEEPING THE FLOPS FROM BEING SET. REPLACE THE
  1849						   RG BOARD IF FAULTY.
  1850						10.REPLACE THE RG BOARD. SOMTHING IS WRONG WITH REG-11 OR ITS
  1851						   ASSOCIATED MUX LOGIC 
  1852						$
  1853					 	SALL
  1854
  1855	031145	201 01 0 00 000007 	TST7:	MOVEI	1,7		;GET THE TEST NUMBER
  1856	031146	260 17 0 00 060630 		GO	TRACE		;DO A TRACE
  1857
  1858	031147	260 17 0 00 060522 	T7SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  1859	031150	263 17 0 00 000000 		RTN			;TRIED ALL
  1860	031151	476 00 0 00 077330 		SETOM	SHMODE		;NXT READY. SET PRINTOUT MODE
  1861
  1862	031152	260 17 0 00 077352 	T7L:	GO	DEVREQ		;REQUEST THE DEVICE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-16
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C00-C06                                 SEQ 0212

  1863
  1864	031153	260 17 0 00 060723 		GO	MSTCLR		;CLEAR PREVIOUS ERRORS
  1865
  1866	031154	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T CLEAR RAE'S
  1867	031155	260 17 0 00 057435 		GO	LRPOF		;LOADS REG-11 C00-C06 WITH 0'S
  1868	031156	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  1869
  1870	031157	200 01 0 00 064005 		MOVE	1,[1B14!177]	;WANT TO WRITE 1'S TO C00-C06 NOW
  1871	031160	260 17 0 00 057435 		GO	LRPOF		;LOAD REGISTER 11
  1872	031161	260 17 0 00 060733 		GO	CBTOER		;HANDSKAKE FAILURE
  1873
  1874	031162	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T REPORT OR CLEAR RAE'S
  1875	031163	260 17 0 00 057631 		GO	RRPOF		;READ REGISTER 11
  1876	031164	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  1877	031165	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  1878
  1879	031166	460 00 0 00 000001 		SETCM	0,1		;GET COMP DATA TO AC0
  1880	031167	602 00 0 00 000177 		TRNE	0,177		;SEE IF ANY BITS WERE LOST
  1881	031170	476 00 0 00 000010 		SETOM	ERFLG		;YES THERE WERE
  1882	031171	027 00 0 00 031174 		SCOPE	TBL7		;CALL SCOPE ROUTINE
  1883	031172	254 00 0 00 031152 		JRST	T7L		;LOOP
  1884	031173	254 00 0 00 031147 		JRST	T7SEL		;CONTINUE
  1885
  1886					;SCOPE TABLE
  1887
  1888	031174	000000	062461		TBL7:	0,,REGPNT
  1889	031175	100000	064033			NOINH![ASCIZ/FAILURE TO WRITE ONES IN C00-C06 REG-11/]
  1890	031176	400000	100001			HIPROB!TRMES
  1891	031177	400000	077661			HIPROB!TA
  1892	031200	400000	077701			HIPROB!TB
  1893	031201	400000	077771			HIPROB!DP
  1894	031202	620000	077775			LAST!LOPROB!RG
  1895
  1896					 	XLIST
  1897					 	LIST
  1898						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-17
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C00-C06                                 SEQ 0213

  1899					S^;*********************************************************************^
  1900					;*TEST-10 WRITE 1'S/WRITE 0'S/READ/VERIFY REG-11 
  1901					S^;*********************************************************************^
  1902
  1903					COMMENT	$
  1904
  1905						TEST DESCRIPTION
  1906						---------------- 
  1907						THIS TEST IS JUST LIKE TEST-6 EXCEPT AT THIS POINT IN TIME
  1908						WE ARE GUARANTEED THAT THE FLOPS ARE ONE BEFORE WE WRITE
  1909						THE 0'S, THUS VERIFYING THAT THE TRANSMITTERS PASS
  1910						0'S TO THE FLOPS AND THE FLOPS ARE CLEARING VIA THE DATA
  1911						INPUTS 
  1912
  1913						RECOMMENDED DEBUG PROCEDURE
  1914						--------------------------- 
  1915						1. CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  1916						   SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE TRAN-
  1917						   CEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  1918						   (TA0,TB0,TD0,TE0).
  1919						2. CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  1920						   SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  1921						   A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  1922						3. CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  1923						   INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  1924						   BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  1925						4. CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC ON
  1926						   (DP4). IF CONTROL REG IS SELECTED, REPLACE THE RG-BOARD.
  1927						5. CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC ON (DP2). IF
  1928						   THE ATA REGISTER IS SELECTED, REPLACE THE DP BOARD.
  1929						6. CHECK THE DATA AT THE RECEIVER OUTPUT FOR THE FAILING BIT
  1930						   OR BITS. (C00-C05 ARE ON TA0 & TD0. C06 IS ON TB0 & TE0)
  1931						   IF FAULTY, REPLACE THE FAULTY TRANSCEIVER MODULE.
  1932						7. CHECK THE DATA AT THE INPUTS TO  RG-11 FLOPS (RG1). IF
  1933						   INCORRECT, REPLACE THE DP BOARD. THERE IS A PORT
  1934						   SELECT PROBLEM OR AN INPUT MUX LOGIC PROBLEM
  1935						8. REPLACE THE RG BOARD. SOMTHING WRONG WITH REG-11 OR ITS
  1936					 	   ASSOCIATED MUX. 
  1937						$
  1938					 	SALL
  1939
  1940	031203	201 01 0 00 000010 	TST10:	MOVEI	1,10		;GET THE TEST NUMBER
  1941	031204	260 17 0 00 060630 		GO	TRACE		;CALL TRACE OPTION
  1942
  1943	031205	260 17 0 00 060522 	T10SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  1944	031206	263 17 0 00 000000 		RTN			;ALL TESTED
  1945	031207	476 00 0 00 077330 		SETOM	SHMODE		;NXT READY. SET PRINTOUT MODE
  1946
  1947	031210	260 17 0 00 077352 	T10L:	GO	DEVREQ		;REQUEST A DEVICE
  1948
  1949	031211	260 17 0 00 060723 		GO	MSTCLR		;CLEAR PREVIOUS ERRORS
  1950
  1951	031212	200 01 0 00 064005 		MOVE	1,[1B14!177]	;WANT ONES IN C00-C06 REG-11
  1952	031213	260 17 0 00 057435 		GO 	LRPOF		;LOAD REG-11
  1953	031214	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-18
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C00-C06                                 SEQ 0214

  1954
  1955	031215	205 01 0 00 000010 		MOVSI	1,(1B14)	;WANT ZEROS IN C00-C06 REG-11
  1956	031216	260 17 0 00 057435 		GO	LRPOF		;LOAD REG-11
  1957	031217	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  1958
  1959	031220	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T REPORT OR CLEAR RAE'S
  1960	031221	260 17 0 00 057631 		GO	RRPOF		;READ REGISER 11
  1961	031222	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  1962	031223	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  1963
  1964	031224	602 01 0 00 000177 		TRNE	1,177		;SEE IF ALL BITS ARE 0. THEY SHOULD BE
  1965	031225	476 00 0 00 000010 		SETOM	ERFLG		;CAN'T SEEM TO WRITE ZEROS TO SOME
  1966	031226	027 00 0 00 031231 		SCOPE	TBL10		;CALL THE SCOPE ROUTINE
  1967	031227	254 00 0 00 031210 		JRST	T10L		;LOOP
  1968	031230	254 00 0 00 031205 		JRST	T10SEL		;CONTINUE
  1969
  1970					;SCOPE TABLE
  1971
  1972	031231	000000	062461		TBL10:	0,,REGPNT
  1973	031232	100000	064043			NOINH![ASCIZ/FAILURE TO WRITE 0'S TO C00-C06 REG-11/]
  1974	031233	400000	100001			HIPROB!TRMES
  1975	031234	400000	077661			HIPROB!TA
  1976	031235	400000	077701			HIPROB!TB
  1977	031236	400000	077771			HIPROB!DP
  1978	031237	620000	077775			LAST!LOPROB!RG
  1979
  1980					 	XLIST
  1981					 	LIST
  1982						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-19
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C00-C06                                 SEQ 0215

  1983					S^;*********************************************************************^
  1984					;*TEST-11 WRITE 1'S/RESET/READ/VERIFY REG-11 
  1985					S^;*********************************************************************^
  1986
  1987					COMMENT	$
  1988
  1989						TEST DESCRIPTION
  1990						---------------- 
  1991						WRITES 1'S TO THE FLOPS, ISSUE A RESET (MASSBUS CLEAR) TO 
  1992						VERIFY THAT THE RESET PULSE IS CLEARING THE PROPER BITS.
  1993						THIS ALSO VERIFIES THAT THE RESET PULSE IS GETTING OVER
  1994						THE MASSBUS TO THE DCL PROPERLY 
  1995
  1996						RECOMMENDED DEBUG PROCEDURE
  1997						--------------------------- 
  1998						1. CHECK FOR THE PRESENCE OF MASS INIT AT THE OUTPUT OF ITS
  1999						   RECEIVER (TA0 & TD0). IF FAULTY, REPLACE THE APPROPRIATE
  2000						   TRANSCEIVER MODULE.
  2001						2. CHECK FOR THE PRESENCE OF "DP5 INIT AB  H" COMING
  2002						   ONTO THE RG BOARD (RG4). IF INCORRECT, REPLACE THE DP BOARD.
  2003						   THERE IS A PROBLEM WITH PORT SELECT OR THE INPUT MUX.
  2004						3. FAULTY RG BOARD IS NOT GENERATING INIT TO DCL. 
  2005						   REPLACE THE RG BOARD. 
  2006						$
  2007					 	SALL
  2008
  2009	031240	201 01 0 00 000011 	TST11:	MOVEI	1,11		;GET THE TEST NUMBER
  2010	031241	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  2011
  2012	031242	260 17 0 00 060522 	T11SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  2013	031243	263 17 0 00 000000 		RTN			;TRIED ALL
  2014	031244	476 00 0 00 077330 		SETOM	SHMODE		;NXT READY. SET PRINTOUT MODE
  2015
  2016	031245	260 17 0 00 077352 	T11L:	GO	DEVREQ		;REQUEST A DEVICE
  2017
  2018	031246	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ALL PREVIOUS ERRORS
  2019
  2020	031247	200 01 0 00 064017 		MOVE	1,[1B13!1B14!177] ;WANT C00-C06 REG-11 ALL ONES
  2021	031250	260 17 0 00 057435 		GO	LRPOF		;LOAD REGISTER 11
  2022	031251	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2023
  2024	031252	260 17 0 00 060723 		GO	MSTCLR		;THIS SHOULD ZERO C00-C06
  2025
  2026	031253	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T REPORT OR CLEAR RAE'S
  2027	031254	260 17 0 00 057631 		GO 	RRPOF		;READ REGISTER 11
  2028	031255	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2029	031256	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  2030
  2031	031257	602 01 0 00 000177 		TRNE	1,177		;DID ALL BITS GET CLEARED ?
  2032	031260	476 00 0 00 000010 		SETOM	ERFLG		;NO
  2033	031261	027 00 0 00 031264 		SCOPE	TBL11		;CALL SCOPE ROUTINE
  2034	031262	254 00 0 00 031245 		JRST	T11L		;LOOP
  2035	031263	254 00 0 00 031242 		JRST	T11SEL		;CONTINUE
  2036
  2037					;SCOPE TABLE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-20
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C00-C06                                 SEQ 0216

  2038
  2039	031264	000000	062461		TBL11:	0,,REGPNT
  2040	031265	100000	064053			NOINH![ASCIZ/RHCLR IS NOT CLEARING C00-C06 REG-11/]
  2041	031266	400000	077661			HIPROB!TA
  2042	031267	400000	077775			HIPROB!RG
  2043	031270	620000	077771			LAST!LOPROB!DP
  2044
  2045					SUBTTL TEST FOR PROPER OPERATION OF CTRL BUS BITS C07-C13
  2046					 	XLIST
  2047					 	LIST
  2048						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-21
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C07-C13                                 SEQ 0217

  2049					S^;*********************************************************************^
  2050					;*TEST-12 RESET/WRITE/READ/VERIFY 1'S TO REG-15 
  2051					S^;*********************************************************************^
  2052
  2053					COMMENT	$
  2054
  2055						TEST DESCRIPTION
  2056						---------------- 
  2057						MASTER RESET, THEN WRITE/READ/VERIFY 1'S TO REG-15 (ERR-3).
  2058						THIS VERIFIES THAT THE RECEIVERS PASS 1'S. NOT YET SURE
  2059						HOW THE 1'S GOT THERE BUT DON'T CARE AT THIS POINT IN
  2060						THE TESTING SEQUENCE. HOPEFULLY THEY CAME FROM THE WRITE 
  2061
  2062						RECOMMENDED DEBUG PROCEDURE
  2063						--------------------------- 
  2064						START AT STEP-10 TO SAVE TIME, IF IT FAILS, GO BACK TO STEP-1
  2065						WITHOUT REPLACING ANYTHING.
  2066						 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  2067						     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
  2068						     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  2069						     (TA0, TB0, TD0, TE0).
  2070						 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  2071						     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  2072						     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  2073						 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  2074						     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  2075						     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  2076						 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
  2077						     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
  2078						     DP BOARD.
  2079						 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
  2080						     IF THE ATA REGISTER IS SELECTED, REPLACE THE
  2081						     DP BOARD.
  2082						 6.  CHECK THE DATA OF THE RECEIVER. FOR THE FAILING BIT OR
  2083						     BITS. (C07-C11 ARE ON TB0 & TE0. C12-13 ARE ON TC0 & TF0)
  2084						     IF FAULTY, REPLACE THE APPROPRIATE MODULE.
  2085						 7.  CHECK THE DATA AT THE INPUT TO REG-15 (EC7). IF FAULTY,
  2086						     REPLACE THE DP BOARD. SOMETHING IS WRONG WITH THE INPUT
  2087						     DATA SELECT MUX LOGIC.
  2088						 8.  CHECK THAT REG-15 FLOPS (EC7) ARE GETTING CLOCKED. IF NOT,
  2089						     REPLACE THE EC BOARD.
  2090						 9.  CHECK THAT THE RESET LINE TO REG-15 (EC7) IS NOT STUCK
  2091						     LOW. IF FAULTY, REPLACE THE EC BOARD.
  2092						10.  CHECK THAT THE OUTPUT OF THE REG-15 MUX (EC8) IS CORRECT.
  2093						     IF FAULTY, REPLACE THE EC BOARD.
  2094						11.  CHECK THE OUTPUT OF THE ASSY REGISTER (DP4). IF FAULTY,
  2095						     REPLACE THE DP BOARD.
  2096						12.  REPLACE THE TRANSMITTED CARRYING THE FAULTY BIT BACK
  2097						     OVER THE MASSBUS. (C07-C11 ARE ON TB0 & TE0. C12-C13
  2098						     ARE ON TC0 & TF0)
  2099						$
  2100					 	SALL
  2101
  2102
  2103	031271	201 01 0 00 000012 	TST12:	MOVEI	1,12		;GET THE TEST NUMBER
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-22
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C07-C13                                 SEQ 0218

  2104	031272	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  2105
  2106	031273	260 17 0 00 060522 	T12SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  2107	031274	263 17 0 00 000000 		RTN			;ALL TESTED
  2108	031275	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  2109
  2110	031276	260 17 0 00 077352 	T12L:	GO	DEVREQ		;REQUEST THE DEVICE
  2111
  2112	031277	260 17 0 00 060723 		GO	MSTCLR		;CLEAR PREVIOUS ERRORS
  2113
  2114	031300	200 01 0 00 064063 		MOVE	1,[1B14!37600]	;ALL ONES FOR C07-C13
  2115	031301	260 17 0 00 057451 		GO	LRPER3		;LOAD REGISTER 15
  2116	031302	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2117
  2118	031303	205 00 0 00 000011 		MOVSI	1(1B14)		;DON'T READ RAE'S
  2119	031304	260 17 0 00 057645 		GO	RRPER3		;READ REGISTER 15
  2120	031305	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2121	031306	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  2122
  2123	031307	460 00 0 00 000001 		SETCM	0,1		;GET COMP OF DATA TO AC0
  2124	031310	602 00 0 00 037600 		TRNE	0,37600		;SEE IF ANY ONES WERE DROPPED
  2125	031311	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  2126	031312	027 00 0 00 031315 		SCOPE	TBL12		;CALL THE SCOPE ROUTINE
  2127	031313	254 00 0 00 031276 		JRST	T12L		;LOOP
  2128	031314	254 00 0 00 031273 		JRST	T12SEL		;CONTINUE
  2129
  2130					;SCOPE TABLE
  2131
  2132	031315	000000	062461		TBL12:	0,,REGPNT
  2133	031316	100000	064064			NOINH![ASCIZ/FAILURE TO WRITE OR READ ONES C07-C13 REG-15/]
  2134	031317	400000	100001			HIPROB!TRMES
  2135	031320	400000	077701			HIPROB!TB
  2136	031321	400000	077721			HIPROB!TC
  2137	031322	400000	077755			HIPROB!EC
  2138	031323	600000	077771			LOPROB!DP
  2139	031324	620000	077775			LAST!LOPROB!RG
  2140
  2141					 	XLIST
  2142					 	LIST
  2143						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-23
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C07-C13                                 SEQ 0219

  2144					S^;*********************************************************************^
  2145					;*TEST-13 RESET/WRITE/READ 0'S TO REG-15
  2146					S^;*********************************************************************^
  2147
  2148					COMMENT	$
  2149
  2150						TEST DESCRIPTION
  2151						---------------- 
  2152						WRITE 1'S TO THE REGISTER. THIS IS KNOWN TO WORK FROM TEST -12.
  2153						RESET/WRITE 0'S/READ/VERIFY THAT THE BITS WERE CLEARED. THIS
  2154						VERIFIES THAT THE FLOPS AND RECEIVERS WORK WITH 0'S.
  2155						NOT SURE WETHER THE RESET OR WRITE OF ZEROS CAUSED THE FLOP
  2156						TO CLEAR, BUT DONT'T CARE AT THIS POINT IN THE TEST 
  2157
  2158						RECOMMENDED DEBUG PROCEDURE
  2159						--------------------------- 
  2160						START AT STEP-10 TO SAVE TIME. IF IT FAILS, GO TO STEP-1 WITHOUT
  2161						REPLACING ANYTHING.
  2162						 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  2163						     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
  2164						     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  2165						     (TA0, TB0, TD0, TE0).
  2166						 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  2167						     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  2168						     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  2169						 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  2170						     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  2171						     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  2172						 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
  2173						     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
  2174						     DP BOARD.
  2175						 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
  2176						     IF THE ATA REGISTER IS SELECTED, REPLACE THE
  2177						     DP BOARD.
  2178						 6.  CHECK THE DATA AT THE RECEIVER OUTPUT FOR THE FAILING BITS.
  2179						     (C07-C11 ARE ON TB0 & TE0. C12-C13 ARE ON TC0 & TF0). IF
  2180						     FAULTY, REPLACE THE FAULTY TRANSCEIVER MODULE.
  2181						 7.  CHECK THE DATA AT THE INPUTS TO THE RG-15 FLOPS (EC7).
  2182						     IF FAULTY, REPLACE THE DP BOARD. THERE IS A PORT SELECT
  2183						     PROBLEM OR INPUT MUX PROBLEM.
  2184						 8.  CHECK THAT REG-15 (EC7) IS BEING CLOCKED. IF NOT, REPLACE
  2185						     THE EC BOARD.
  2186						 9.  CHECK THAT THE RESET IS GETTING TO THE CLEAR INPUT OF THE
  2187						     FAILING FLOP OF REG-15 (EC7). IF NOT, REPLACE EC BOARD.
  2188						10.  CHECK THE DATA AT THE OUTPUT OF THE REG-11 MUX (EC8).
  2189						     IF FAULTY, REPLACE THE EC BOARD.
  2190						11.  CHECK ONCE AGAIN, THE DATA AT THE OUTPUT OF THE REG-15
  2191						     MUX ON (EC8). IF STILL INCORRECT, THERE IS MOST LIKELY A
  2192						     FAULTY REGISTER MUX ELSEWHERE IN THE DCL. REPLACE THE
  2193						     FOLLOWING BOARDS ONE AT A TIME. RG,SS,DP BOARDS.
  2194						12.  CHECK THE OUTPUT OF THE ASSY REGISTER (DP4). IF INCORRECT,
  2195						     REPLACE THE DP BOARD.
  2196						13.  REPLACE THE TRANSMITTER CARRYING THE FAULTY BIT BACK
  2197						     OVER THE MASSBUS. (C07-C11 ARE ON TB0 & TE0. C12-C13
  2198						     ARE ON TC0 & TF0).
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-24
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C07-C13                                 SEQ 0220

  2199						$
  2200					 	SALL
  2201
  2202
  2203	031325	201 01 0 00 000013 	TST13:	MOVEI	1,13		;GET THE TEST NUMBER
  2204	031326	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE OPTION
  2205
  2206	031327	260 17 0 00 060522 	T13SEL:	GO	DEVSEL		;SELECT THE NEXT DEVICE FOR TEST
  2207	031330	263 17 0 00 000000 		RTN			;TRIED ALL
  2208	031331	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE.
  2209
  2210	031332	260 17 0 00 077352 	T13L:	GO	DEVREQ		;REQUEST THE DEVICE
  2211
  2212	031333	260 17 0 00 060723 		GO	MSTCLR		;CLEAR PREVIOUS ERRORS
  2213
  2214	031334	200 01 0 00 064063 		MOVE	1,[1B14!37600]	;ONES TO C07-C13 REG-15
  2215	031335	260 17 0 00 057451 		GO	LRPER3		;LOAD REGISTER 15
  2216	031336	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2217
  2218	031337	205 01 0 00 000010 		MOVSI	1,(1B14)	;WANT ZERO'S IN C07-C13 REG-15
  2219	031340	260 17 0 00 057451 		GO	LRPER3		;LOAD REGISTER 15
  2220	031341	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2221
  2222	031342	260 17 0 00 060723 		GO	MSTCLR		;THIS SHOULD CLEAR IT ALSO
  2223
  2224	031343	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T REPORT OR CLEAR RAE'S
  2225
  2226	031344	260 17 0 00 057645 		GO	RRPER3		;READ REGISTER 15
  2227	031345	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2228	031346	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  2229
  2230	031347	602 01 0 00 037600 		TRNE	1,37600		;SEE IF ANY ONES WERE PICKED UP
  2231	031350	476 00 0 00 000010 		SETOM	ERFLG		;YES, ERROR
  2232	031351	027 00 0 00 031354 		SCOPE	TBL13		;CALL THE SCOPE ROUTINE
  2233	031352	254 00 0 00 031332 		JRST	T13L		;LOOP
  2234	031353	254 00 0 00 031327 		JRST	T13SEL		;CONTINUE
  2235
  2236					;SCOPE TABLE
  2237
  2238	031354	000000	062461		TBL13:	0,,REGPNT
  2239	031355	100000	064075			NOINH![ASCIZ/FAILURE TO READ OR WRITE 0'S TO C07-C13 REG-15/]
  2240	031356	400000	100001			HIPROB!TRMES
  2241	031357	400000	077701			HIPROB!TB
  2242	031360	400000	077721			HIPROB!TC
  2243	031361	400000	077755			HIPROB!EC
  2244	031362	600000	077775			LOPROB!RG
  2245	031363	600000	077771			LOPROB!DP
  2246	031364	620000	077765			LAST!LOPROB!SS
  2247
  2248					 	XLIST
  2249					 	LIST
  2250						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-25
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C07-C13                                 SEQ 0221

  2251					S^;*********************************************************************^
  2252					;*TEST-14 RESET/WRITE 0'S/WRITE 1'S/READ/VERIFY REG-15 
  2253					S^;*********************************************************************^
  2254
  2255					COMMENT	$
  2256
  2257						TEST DESCRIPTION
  2258						---------------- 
  2259						THIS IS JUST LIKE TEST-12 EXCEPT AT THIS POINT IN TIME WE ARE
  2260						WRITING 1'S TO FLOPS THAT ARE GUARANTEED TO CONTAIN 0'S, THUS
  2261						VERIFYING THAT THE TRANSMITTERS ARE PASSING 1'S, RESET IS NOT
  2262						STUCK IN THE CLEAR DIRECTION, FLOPS ARE LOADING VIA THERE DATA
  2263						INPUTS 
  2264
  2265						RECOMMENDED DEBUG PROCEDURE
  2266						--------------------------- 
  2267						 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  2268						     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
  2269						     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  2270						     (TA0, TB0, TD0, TE0).
  2271						 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  2272						     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  2273						     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  2274						 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  2275						     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  2276						     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  2277						 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
  2278						     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
  2279						     DP BOARD.
  2280						 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
  2281						     IF THE ATA REGISTER IS SELECTED, REPLACE THE
  2282						     DP BOARD.
  2283						 6.  CHECK THE DATA AT THE OUTPUT OF THE RECEIVER FOR THE FAULTY
  2284						     BIT. (C07-C11 ARE ON TB0 & TE0) IF FAULTY, REPLACE THE
  2285						     FAULTY TRANSCEIVER MODULE.
  2286						 7.  CHECK THE DATA AT THE INPUTS TO REG-15 FLOPS (EC7). IF
  2287						     FAULTY, REPLACE THE DP BOARD. THERE IS A PORT SELECT PROBLEM
  2288						     OR AN INPUT MUX PROBLEM.
  2289						 8.  CHECK THAT THE REG-15 FLOPS (EC7) ARE BEING CLOCKED.
  2290						     IF NOT, REPLACE THE EC BOARD.
  2291						 9.  CHECK THAT THE RESET LINE TO THE REG-15 FLOPS (EC7) IT MAY
  2292						     BE STUCK LOW. IF SO, REPLACE THE EC BOARD.
  2293						10.  REPLACE THE EC BOARD. SOMETHING IS WRONG WITH REG-15
  2294						     OR ITS ASSOCIATED MUX.
  2295						$
  2296					 	SALL
  2297
  2298
  2299	031365	201 01 0 00 000014 	TST14:	MOVEI	1,14		;GET THE TEST NUMBER
  2300	031366	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE OPTION
  2301
  2302	031367	260 17 0 00 060522 	T14SEL:	GO	DEVSEL		;SELECT A DRIVE FOR TEST
  2303	031370	263 17 0 00 000000 		RTN			;TRIED ALL
  2304	031371	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  2305
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-26
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C07-C13                                 SEQ 0222

  2306	031372	260 17 0 00 077352 	T14L:	GO	DEVREQ		;REQUEST THE DEVICE
  2307	031373	260 17 0 00 060723 		GO	MSTCLR		;CLEAR PREVIOUS ERRORS
  2308
  2309	031374	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T CLEAR RAE'S
  2310	031375	260 17 0 00 057451 		GO	LRPER3		;LOAD REG-15 C07-C13 WITH 0'S
  2311	031376	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2312
  2313	031377	200 01 0 00 064063 		MOVE	1,[1B14!37600]	;WRITE IS TO C07-C13 REG-15
  2314	031400	260 17 0 00 057451 		GO	LRPER3		;LOAD REGISTER 15
  2315	031401	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2316
  2317	031402	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T REPORT OR CLEAR RAE'S
  2318	031403	260 17 0 00 057645 		GO	RRPER3		;READ REGISTER 15
  2319	031404	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2320	031405	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERROR
  2321
  2322	031406	460 00 0 00 000001 		SETCM	0,1		;GET COMP DATA TO AC0
  2323	031407	602 00 0 00 037600 		TRNE	0,37600		;SEE IF ANY BITS WERE LOST
  2324	031410	476 00 0 00 000010 		SETOM	ERFLG		;YES, ERROR
  2325	031411	027 00 0 00 031414 		SCOPE	TBL14		;CALL SCOPE ROUTINE
  2326	031412	254 00 0 00 031372 		JRST	T14L		;LOOP
  2327	031413	254 00 0 00 031367 		JRST	T14SEL		;CONTINUE
  2328					;SCOPE TABLE
  2329
  2330	031414	000000	062461		TBL14:	0,,REGPNT
  2331	031415	100000	064107			NOINH![ASCIZ/FAILURE TO WRITE 1'S IN C07-C13 REG-15/]
  2332	031416	400000	100001			HIPROB!TRMES
  2333	031417	400000	077701			HIPROB!TB
  2334	031420	400000	077721			HIPROB!TC
  2335	031421	400000	077755			HIPROB!EC
  2336	031422	600000	077771			LOPROB!DP
  2337	031423	620000	077775			LAST!LOPROB!RG
  2338
  2339					 	XLIST
  2340					 	LIST
  2341						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-27
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C07-C13                                 SEQ 0223

  2342					S^;*********************************************************************^
  2343					;*TEST-15 WRITE 1'S/WRITE 0'S/READ/VERIFY REG-15 
  2344					S^;*********************************************************************^
  2345
  2346					COMMENT	$
  2347
  2348						TEST DESCRIPTION
  2349						---------------- 
  2350						THIS TEST IS JUST LIKE TEST-13 EXCEPT AT THIS POINT IN TIME 
  2351						WE ARE SURE THAT THE FLOPS ARE ONE WHEN WE WRITE THE 0'S,
  2352						THUS VERIFYING THAT THE TRANSMITTERS PASS 0'S TO THE
  2353						FLOPS AND THE FLOPS CLEAR VIA THE DATA INPUTS 
  2354
  2355						RECOMMENDED DEBUG PROCEDURE
  2356						--------------------------- 
  2357						 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  2358						     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
  2359						     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  2360						     (TA0, TB0, TD0, TE0).
  2361						 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  2362						     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  2363						     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  2364						 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  2365						     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  2366						     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  2367						 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
  2368						     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
  2369						     DP BOARD.
  2370						 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
  2371						     IF THE ATA REGISTER IS SELECTED, REPLACE THE
  2372						     DP BOARD.
  2373						 6.  CHECK THE DATA AT THE RECEIVER OUTPUT FOR THE FAILURE
  2374						     BIT OR BITS. (C07-C13 ARE ON THE TB0 & TE0. C12-C13 ARE ON
  2375						     TC0 & TF0) IF INCORRECT, REPLACE APPROPRIATE MODULE.
  2376						 7.  CHECK THE DATA AT THE INPUTS TO REG-15 FLOPS (EC7). IF
  2377						     FAULTY, REPLACE THE DP BOARD. THERE IS A PORT SELECT PROBLEM
  2378						     OR INPUT MUX PROBLEM.
  2379						 8.  REPLACE THE EC BOARD. SOMETHING IS WRONG WITH REG-15 OR ITS
  2380						     ASSOCIATED MUX.
  2381						$
  2382					 	SALL
  2383
  2384
  2385	031424	201 01 0 00 000015 	TST15:	MOVEI	1,15		;GET THE TEST NUMBER
  2386	031425	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  2387
  2388	031426	260 17 0 00 060522 	T15SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  2389	031427	263 17 0 00 000000 		RTN			;ALL TESTED
  2390	031430	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  2391
  2392	031431	260 17 0 00 077352 	T15L:	GO	DEVREQ		;REQUEST A DEVICE
  2393
  2394	031432	260 17 0 00 060723 		GO	MSTCLR		;CLEAR PREVIOUS ERRORS
  2395
  2396	031433	200 01 0 00 064063 		MOVE	1,[1B14!37600]	;ONES TO C07-C13 REG-15
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-28
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C07-C13                                 SEQ 0224

  2397	031434	260 17 0 00 057451 		GO	LRPER3		;LOAD REGISTER 15
  2398	031435	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2399
  2400	031436	205 01 0 00 000010 		MOVSI	1,(1B14)	;WANT 0'S C07-C13 REG-15
  2401	031437	260 17 0 00 057451 		GO	LRPER3		;LOAD REGISTER 15
  2402	031440	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2403
  2404	031441	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T REPORT OR CLEAR RAE'S
  2405	031442	260 17 0 00 057645 		GO	RRPER3		;READ REGISTER 15
  2406	031443	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2407	031444	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  2408
  2409	031445	602 01 0 00 037600 		TRNE	1,37600		;SEE IF ALL BITS 0. THEY SHOULD BE
  2410	031446	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  2411	031447	027 00 0 00 031452 		SCOPE	TBL15		;CALL SCOPE ROUTINE
  2412	031450	254 00 0 00 031431 		JRST	T15L		;LOOP
  2413	031451	254 00 0 00 031426 		JRST	T15SEL		;CONTINUE
  2414
  2415					;SCOPE TABLE
  2416
  2417	031452	000000	062461		TBL15:	0,,REGPNT
  2418	031453	100000	064117			NOINH![ASCIZ/FAILURE TO WRITE 0'S TO C07-C13 REG-15/]
  2419	031454	400000	100001			HIPROB!TRMES
  2420	031455	400000	077701			HIPROB!TB
  2421	031456	400000	077721			HIPROB!TC
  2422	031457	400000	077755			HIPROB!EC
  2423	031460	600000	077771			LOPROB!DP
  2424	031461	620000	077775			LAST!LOPROB!RG
  2425
  2426					 	XLIST
  2427					 	LIST
  2428						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-29
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C07-C13                                 SEQ 0225

  2429					S^;*********************************************************************^
  2430					;*TEST-16 WRITE 1'S/RESET/READ/VERIFY REG-15 
  2431					S^;*********************************************************************^
  2432
  2433					COMMENT	$
  2434
  2435						TEST DESCRIPTION
  2436						---------------- 
  2437						WRITE THE FLOPS WITH 1'S. ISSUE A RESET (MASSBUS CLEAR) AND
  2438						VERIFY THAT THE FLOPS ARE CLEARED BY THE RESET 
  2439
  2440						RECOMMENDED DEBUG PROCEDURE
  2441						--------------------------- 
  2442						 1.  CHECK THAT "RG4 WAS RES L" IS COMING ONTO THE EC
  2443						     BOARD (EC7) IF NOT, REPLACE RG BOARD. FAULTY GATE.
  2444						 2.  SOMETHING WRONG WITH REG-15 RESET LOGIC. REPLACE EC BOARD.
  2445						$
  2446					 	SALL
  2447
  2448	031462	201 01 0 00 000016 	TST16:	MOVEI	1,16		;GET THE TEST NUMBER
  2449	031463	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  2450
  2451	031464	260 17 0 00 060522 	T16SEL:	GO	DEVSEL		;SELECT THE NEXT DEVICE FOR TEST
  2452	031465	263 17 0 00 000000 		RTN			;ALL SELECTED
  2453	031466	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE.
  2454
  2455	031467	260 17 0 00 077352 	T16L:	GO	DEVREQ		;REQUEST THE DEVICE
  2456
  2457	031470	260 17 0 00 060723 		GO	MSTCLR		;CLEAR PREVIOUS ERRORS
  2458
  2459	031471	200 01 0 00 064063 		MOVE	1,[1B14!37600]	;ONES TO C07-C13 OF REG-15
  2460	031472	260 17 0 00 057451 		GO	LRPER3		;LOAD REGISTER 15
  2461	031473	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2462
  2463	031474	260 17 0 00 060723 		GO	MSTCLR		;THIS BETTER CLEAR THE REGISTER
  2464
  2465	031475	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T REPORT OR CLEAR RAE'S
  2466	031476	260 17 0 00 057645 		GO	RRPER3		;READ REGISTER 15
  2467	031477	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2468	031500	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  2469
  2470	031501	602 01 0 00 000177 		TRNE	1,177		;DID ALL BITS GET CLEARED?
  2471	031502	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  2472	031503	027 00 0 00 031506 		SCOPE	TBL16		;CALL SCOPE ROUTINE
  2473	031504	254 00 0 00 031467 		JRST	T16L		;LOOP
  2474	031505	254 00 0 00 031464 		JRST	T16SEL		;CONTINUE
  2475
  2476					;SCOPE TABLE
  2477
  2478	031506	000000	062461		TBL16:	0,,REGPNT
  2479	031507	100000	064127			NOINH![ASCIZ/RESET NOT CLEARING ALL C07-C13 BITS REG-15/]
  2480	031510	400000	077755			HIPROB!EC
  2481	031511	620000	077775			LAST!LOPROB!RG
  2482
  2483					SUBTTL TEST FOR PROPER OPERATION OF CTRL BUS BITS C14-C15
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-30
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C14-C15                                 SEQ 0226

  2484					 	XLIST
  2485					 	LIST
  2486						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-31
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C14-C15                                 SEQ 0227

  2487					S^;*********************************************************************^
  2488					;*TEST-17 RESET/WRITE/READ/VERIFY 1'S TO REG-14 
  2489					S^;*********************************************************************^
  2490
  2491					COMMENT	$
  2492
  2493						TEST DESCRIPTION
  2494						---------------- 
  2495						MASTER RESET, THEN WRITE READ VERIFY 1'S FROM THE HIGH ORDER
  2496						2 BITS OF REG-14 (ERR-2). THIS VERIFIES THAT THE RECEIVERS
  2497						PASS 1'S. NOT YET SURE HOW THE 1'S GOT THERE. HOPEFULLY
  2498						FROM THE WRITE. ITS NOT IMPORTANT TO KNOW HOW AT PRESENT 
  2499
  2500						RECOMMENDED DEBUG PROCEDURE
  2501						--------------------------- 
  2502						START AT STEP-10 TO SAVE TIME, IF IT FAILS, GO BACK TO STEP-1
  2503						WITHOUT REPLACING ANYTHING.
  2504						 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  2505						     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
  2506						     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  2507						     (TA0, TB0, TD0, TE0).
  2508						 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  2509						     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  2510						     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  2511						 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  2512						     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  2513						     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  2514						 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
  2515						     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
  2516						     DP BOARD.
  2517						 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
  2518						     IF THE ATA REGISTER IS SELECTED, REPLACE THE
  2519						     DP BOARD.
  2520						 6.  CHECK THE OUTPUT OF THE RECEIVER FOR THE FAILING BIT OR BITS
  2521						     (TC0 & TF0)
  2522						 7.  CHECK THE DATA AT THE INPUT TO REG-14 FLOPS (EC6). IF FAULTY,
  2523						     REPLACE THE DP BOARD. SOMETHING IS WRONG WITH TEH INPUT
  2524						     DATA SELECT MUX LOGIC.
  2525						 8.  CHECK THAT REG-14 FLOPS (EC6) ARE GETTING CLOCKED. IT NOT
  2526						     REPLACE THE EC BOARD.
  2527						 9.  CHECK THAT THE RESET LINE TO REG-14 (EC7) IS NOT STUCK
  2528						     LOW. IF FAULTY, REPLACE THE EC BOARD.
  2529						10.  CHECK THAT THE OUTPUT OF THE REG-14 MUX (EC8) IS CORRECT.
  2530						     IF FAULTY, REPLACE THE EC BOARD.
  2531						11.  CHECK THE OUTPUT OF THE ASSY REGISTER (DP4). IF FAULTY,
  2532						     REPLACE THE DP BOARD.
  2533						12.  REPLACE THE TRANSCEIVER MODULE (TC0 & TF0).
  2534						$
  2535					 	SALL
  2536
  2537
  2538	031512	201 01 0 00 000017 	TST17:	MOVEI	1,17		;GET THE TEST NUMBER
  2539	031513	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  2540
  2541	031514	260 17 0 00 060522 	T17SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-32
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C14-C15                                 SEQ 0228

  2542	031515	263 17 0 00 000000 		RTN			;TRIED ALL
  2543	031516	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  2544
  2545	031517	260 17 0 00 077352 	T17L:	GO	DEVREQ		;REQUEST THE DEVICE
  2546
  2547	031520	260 17 0 00 060723 		GO	MSTCLR		;CLEAR PREVIOUS ERRORS
  2548
  2549	031521	200 01 0 00 064140 		MOVE	1,[1B14!140000]	;ALL ONES C14-C15 REG-14
  2550	031522	260 17 0 00 057446 		GO	LRPER2		;LOAD REGISTER 14
  2551	031523	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2552
  2553	031524	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  2554	031525	260 17 0 00 057642 		GO	RRPER2		;READ REGISTER 14
  2555	031526	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2556	031527	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  2557
  2558	031530	460 00 0 00 000001 		SETCM	0,1		;GET COMP OF DATA TO AC0
  2559	031531	602 00 0 00 140000 		TRNE	0,140000	;SEE IF ANY ONES DROPPED
  2560	031532	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  2561	031533	027 00 0 00 031536 		SCOPE	TBL17		;CALL THE SCOPE ROUTINE
  2562	031534	254 00 0 00 031517 		JRST	T17L		;LOOP
  2563	031535	254 00 0 00 031514 		JRST	T17SEL		;CONTINUE
  2564
  2565					;SCOPE TABLE
  2566
  2567	031536	000000	062461		TBL17:	0,REGPNT
  2568	031537	100000	064141			NOINH![ASCIZ/FAILURE TO WRITE OR READ ONES C14-C15 REG-14/]
  2569	031540	400000	077721			HIPROB!TC
  2570	031541	400000	077755			HIPROB!EC
  2571	031542	600000	077771			LOPROB!DP
  2572	031543	620000	077775			LAST!LOPROB!RG
  2573
  2574					 	XLIST
  2575					 	LIST
  2576						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-33
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C14-C15                                 SEQ 0229

  2577					S^;*********************************************************************^
  2578					;*TEST-20 RESET/WRITE/READ 0'S TO REG-14 
  2579					S^;*********************************************************************^
  2580
  2581					COMMENT	$
  2582
  2583						TEST DESCRIPTION
  2584						---------------- 
  2585						WRITE 1'S IN THE FLOPS. THIS IS KNOWN TO WORK FROM TEST-17.
  2586						RESET/WRITE/READ/VERIFY THAT THE FLOPS ARE CLEARED. THIS
  2587						VERIFIES THAT THE FLOPS AND RECEIVERS WORK WITH 0'S. NOT SURE
  2588						WETHER THE RESET OR THE WRITE OF 0'S CAUSED THE FLOPS TO
  2589						GO TO ZERO BUT IT DOESN'T MATTER AT THIS POINT IN TIME 
  2590
  2591						RECOMMENDED DEBUG PROCEDURE
  2592						--------------------------- 
  2593						START AT STEP-11 TO SAVE TIME. IF IT FAILS, GO TO STEP-1
  2594						WITHOUT REPLACING ANYTHING.
  2595						 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  2596						     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
  2597						     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  2598						     (TA0, TB0, TD0, TE0).
  2599						 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  2600						     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  2601						     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  2602						 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  2603						     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  2604						     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  2605						 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
  2606						     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
  2607						     DP BOARD.
  2608						 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
  2609						     IF THE ATA REGISTER IS SELECTED, REPLACE THE
  2610						     DP BOARD.
  2611						 6.  CHECK THE DATA AT THE RECEIVER FOR THE FAILING BITS. (TC0 & TF0)
  2612						     IF FAULTY, REPLACE THE TRANSCEIVER (TC0 OR TF0).
  2613						 7.  CHECK THE DATA AT THE INPUTS TO THE REG-14 FLOPS (EC6).
  2614						     IF FAULTY, REPLACE THE DP BOARD. THERE IS A PORT SELECT PROBLEM
  2615						     OR INPUT MUX FAILURE.
  2616						 8.  CHECK THAT REG-14 (EC6) IS BEING CLOCKED. IF NOT, REPLACE
  2617						     THE EC BOARD.
  2618						 9.  CHECK THAT THE RESET IS GETTING TO THE CLEAR INPUT OF THE
  2619						     FAILING FLOP OF REG-14 (EC7). IF NOT, REPLACE THE EC BOARD.
  2620						10.  CHECK THAT THE (EC6) 'MB0 AC UNSAFE H' IS NOT
  2621						     HIGH. IF IT IS, REPLACE THE MB MODULE.
  2622						11.  CHECK THE DATA AT THE OUTPUT OF THE REG-14 MUX (EC8).
  2623						     IF FAULTY, REPLACE THE EC BOARD.
  2624						12.  CHECK ONCE AGAIN, THE DATA AT THE OUTPUT OF THE REG-14
  2625						     MUX (EC8). IF STILL INCORRECT, THERE IS MOST LIKELY A FAULTY
  2626						     REGISTER MUX ELSEWHERE IN THE DCL. REPLACE THE FOLLOWING
  2627						     BOARDS ONE AT A TIME. RG,SS,DP BOARDS.
  2628						13.  CHECK THE OUTPUT OF THE ASSY REGISTER (DP4). IF FAULTY,
  2629						     REPLACE THE DP BOARD.
  2630						14.  REPLACE THE TRANSCEIVER (TC0 OR TF0).
  2631						$
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-34
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C14-C15                                 SEQ 0230

  2632					 	SALL
  2633
  2634
  2635	031544	201 01 0 00 000020 	TST20:	MOVEI	1,20		;GET THE TEST NUMBER
  2636	031545	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE OPTION
  2637
  2638	031546	260 17 0 00 060522 	T20SEL:	GO	DEVSEL		;SELECT THE NEXT DEVICE FOR TEST
  2639	031547	263 17 0 00 000000 		RTN			;TRIED ALL
  2640	031550	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  2641
  2642	031551	260 17 0 00 077352 	T20L:	GO	DEVREQ		;REQUEST THE DEVICE
  2643
  2644	031552	260 17 0 00 060723 		GO	MSTCLR		;CLEAR PREVIOUS ERRORS
  2645
  2646	031553	200 01 0 00 064140 		MOVE	1,[1B14!140000]	;ONES TO C14-C15 REG-14
  2647	031554	260 17 0 00 057446 		GO	LRPER2		;LOAD REGISTER 14
  2648	031555	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2649
  2650	031556	205 01 0 00 000010 		MOVSI	1,(1B14)	;0'S TO C14-C15 OF REG 14
  2651	031557	260 17 0 00 057446 		GO	LRPER2		;THIS CLEARS THE BITS
  2652	031560	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2653
  2654	031561	260 17 0 00 060723 		GO	MSTCLR		;THIS SHOULD CLEAR IT ALSO
  2655
  2656	031562	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T REPORT OR CLEAR RAE'S
  2657	031563	260 17 0 00 057642 		GO	RRPER2		;READ REGISTER 14
  2658	031564	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2659	031565	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  2660
  2661	031566	602 01 0 00 140000 		TRNE	1,140000	;SEE IF ANY ONES WERE PICKED
  2662	031567	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  2663	031570	027 00 0 00 031573 		SCOPE	TBL20		;CALL SCOPE ROUTINE
  2664	031571	254 00 0 00 031551 		JRST	T20L		;LOOP
  2665	031572	254 00 0 00 031546 		JRST	T20SEL		;CONTINUE
  2666
  2667					;SCOPE TABLE
  2668
  2669	031573	000000	062461		TBL20:	0,,REGPNT
  2670	031574	100000	064152			NOINH![ASCIZ/FAILURE TO READ OR WRITE 0'S TO C14-C15 REG-14/]
  2671	031575	400000	077661			HIPROB!TA
  2672	031576	400000	077755			HIPROB!EC
  2673	031577	600000	077771			LOPROB!DP
  2674	031600	600000	077775			LOPROB!RG
  2675	031601	600000	077747			LOPROB!MB
  2676	031602	600000	100024			LOPROB!B01
  2677	031603	620000	100113			LAST!LOPROB!D16
  2678
  2679					 	XLIST
  2680					 	LIST
  2681						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-35
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C14-C15                                 SEQ 0231

  2682					S^;*********************************************************************^
  2683					;*TEST-21 RESET/WRITE 0'S/WRITE 1'S/READ/VERIFY REG-14 
  2684					S^;*********************************************************************^
  2685
  2686					COMMENT	$
  2687
  2688						TEST DESCRIPTION
  2689						---------------- 
  2690						THIS TEST IS LIKE TEST-17 EXCEPT AT THIS POINT IN TIME WE ARE
  2691						WRITING 1'S TO FLOPS THAT ARE GUARANTEED TO BE ZERO, THUS
  2692						VERIFYING THAT THE TRANSMITTERS ARE PASSING 1'S, RESET IS NOT
  2693						STUCK IN THE CLEAR STATE, FLOPS ARE GETTING LOADED
  2694						VIA THEIR DATA INPUTS 
  2695
  2696						RECOMMENDED DEBUG PROCEDURE
  2697						--------------------------- 
  2698						 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  2699						     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
  2700						     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  2701						     (TA0, TB0, TD0, TE0).
  2702						 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  2703						     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  2704						     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  2705						 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  2706						     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  2707						     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  2708						 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
  2709						     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
  2710						     DP BOARD.
  2711						 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
  2712						     IF THE ATA REGISTER IS SELECTED, REPLACE THE
  2713						     DP BOARD.
  2714						 6.  CHECK THE DATA AT THE OUTPUT OF THE RECEIVER FOR THE
  2715						     FAULTY BIT (TC0 & TF0). IF FAULTY, REPLACE THE TRANSCEIVER.
  2716						 7.  CHECK THE DATA AT THE INPUTS TO REG-14 FLOPS (EC6). IF
  2717						     INCORRECT, REPLACE THE DP BOARD. THERE IS A PORT SELECT OR
  2718						     INPUT MUX PROBLEM.
  2719						 8.  CHECK THAT REGISTER 14 FLOPS (EC6) ARE BEING CLOCKED.
  2720						     IF NOT, REPLACE THE EC BOARD.
  2721						 9.  CHECK THAT THE RESET LINE TO REG-14 FLOPS (EC6) IS NOT
  2722						     STUCK LOW. IF IT IS, REPLACE EC BOARD.
  2723						10.  REPLACE THE EC BOARD. SOMETHING IS WRONG WITH ITS REG-14
  2724						     OR ASSOCIATED MUX.
  2725						$
  2726					 	SALL
  2727
  2728
  2729	031604	201 01 0 00 000021 	TST21:	MOVEI	1,21		;GET THE TEST NUMBER
  2730	031605	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE OPTION.
  2731
  2732	031606	260 17 0 00 060522 	T21SEL:	GO	DEVSEL		;SELECT A DRIVE FOR TEST
  2733	031607	263 17 0 00 000000 		RTN			;TRIED ALL
  2734	031610	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY
  2735
  2736	031611	260 17 0 00 077352 	T21L:	GO	DEVREQ		;REQUEST THE DEVICE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-36
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C14-C15                                 SEQ 0232

  2737
  2738	031612	260 17 0 00 060723 		GO	MSTCLR		;CLEAR PREVIOUS ERRORS
  2739
  2740	031613	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T CLEAR RAE'S
  2741	031614	260 17 0 00 057446 		GO	LRPER2		;LOAD REG-14 C14-C15 WITH 0'S
  2742	031615	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2743
  2744	031616	200 01 0 00 064140 		MOVE	1,[1B14!140000]	;WRITE 1'S TO C14-C15 REG-14
  2745	031617	260 17 0 00 057446 		GO	LRPER2		;LOAD REGISTER 14
  2746	031620	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2747
  2748	031621	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T REPORT OR CLEAR RAE'S
  2749	031622	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  2750	031623	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2751	031624	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  2752
  2753	031625	460 00 0 00 000001 		SETCM	0,1		;COMP DATA TO AC0
  2754	031626	602 00 0 00 140000 		TRNE	0,140000	;SEE IF ANY BITS WERE LOST
  2755	031627	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  2756	031630	027 00 0 00 031633 		SCOPE	TBL21		;CALL THE SCOPE ROUTINE
  2757	031631	254 00 0 00 031611 		JRST	T21L		;LOOP
  2758	031632	254 00 0 00 031606 		JRST	T21SEL		;CONTINUE
  2759
  2760					;SCOPE TABLE
  2761
  2762	031633	000000	062461		TBL21:	0,,REGPNT
  2763	031634	100000	064164			NOINH![ASCIZ/FAILURE TO WRITE 1'S TO C14-C15 REG-14/]
  2764	031635	400000	077721			HIPROB!TC
  2765	031636	400000	077755			HIPROB!EC
  2766	031637	600000	077771			LOPROB!DP
  2767	031640	620000	077775			LAST!LOPROB!RG
  2768
  2769					 	XLIST
  2770					 	LIST
  2771						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-37
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C14-C15                                 SEQ 0233

  2772					S^;*********************************************************************^
  2773					;*TEST-22 WRITE 1'S/WRITE 0'S/READ/VERIFY REG-14 
  2774					S^;*********************************************************************^
  2775
  2776					COMMENT	$
  2777
  2778						TEST DESCRIPTION
  2779						---------------- 
  2780						THIS TEST IS JUST LIKE TEST-20 EXCEPT THAT AT THIS POINT IN 
  2781						TIME, WE ARE GUARANTEED THAT THE FLOPS ARE ONE WHEN WE
  2782						WRITE THE 0'S, THUS VERIFYING THAT THE TRANSMITTERS PASS
  2783						0'S TO THE FLOPS AND THE FLOPS ARE CLEARING VIA THE DATA
  2784						INPUTS 
  2785
  2786						RECOMMENDED DEBUG PROCEDURE
  2787						--------------------------- 
  2788						 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  2789						     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
  2790						     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  2791						     (TA0, TB0, TD0, TE0).
  2792						 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  2793						     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  2794						     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  2795						 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  2796						     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  2797						     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  2798						 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
  2799						     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
  2800						     DP BOARD.
  2801						 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
  2802						     IF THE ATA REGISTER IS SELECTED, REPLACE THE
  2803						     DP BOARD.
  2804						 6.  CHECK THE DATA AT THE RECEIVER OUTPUT FOR THE FAILING BIT.
  2805						     (TC0 & TF0). IF INCORRECT, REPLACE APPROPRIATE TRANSCEIVER.
  2806						 7.  CHECK THE DATA AT THE INPUTS TO REG-14 FLOPS (EC7). IF FAULTY,
  2807						     REPLACE THE DP BOARD. THERE IS A PORT SELECT OR INPUT DATA
  2808						     MUX PROBLEM.
  2809						 8.  REPLACE THE EC BOARD. SOMETHING IS WRONG WITH REG-14 OR
  2810						     ITS ASSOCIATED MUX.
  2811						$
  2812					 	SALL
  2813
  2814
  2815	031641	201 01 0 00 000022 	TST22:	MOVEI	1,22		;GET THE TEST NUMBER
  2816	031642	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  2817
  2818	031643	260 17 0 00 060522 	T22SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  2819	031644	263 17 0 00 000000 		RTN			;ALL TESTED
  2820	031645	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  2821
  2822	031646	260 17 0 00 077352 	T22L:	GO	DEVREQ		;REQUEST A DEVICE
  2823
  2824	031647	260 17 0 00 060723 		GO	MSTCLR		;CLEAR PREVIOUS ERRORS
  2825
  2826	031650	200 01 0 00 064140 		MOVE	1,[1B14!140000]	;ONES TO C14-C15 REG-14
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-38
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C14-C15                                 SEQ 0234

  2827	031651	260 17 0 00 057446 		GO	LRPER2		;LOAD REGISTER 14
  2828	031652	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2829
  2830	031653	205 01 0 00 000010 		MOVSI	1,(1B14)	;WANT 0'S C14-C15 REG-14
  2831	031654	260 17 0 00 057446 		GO	LRPER2		;LOAD REG-14
  2832	031655	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2833
  2834	031656	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T REPORT OR CLEAR RAE'S
  2835	031657	260 17 0 00 057642 		GO	RRPER2		;READ REGISTER 14
  2836	031660	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2837	031661	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  2838
  2839	031662	602 01 0 00 140000 		TRNE	1,140000	;SEE IF C14-C15 ARE ZERO
  2840	031663	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR.
  2841	031664	027 00 0 00 031667 		SCOPE	TBL22		;CALL SCOPE ROUTINE
  2842	031665	254 00 0 00 031646 		JRST	T22L		;LOOP
  2843	031666	254 00 0 00 031643 		JRST	T22SEL		;CONTINUE
  2844
  2845					;SCOPE TABLE
  2846
  2847	031667	000000	062461		TBL22:	0,,REGPNT
  2848	031670	100000	064174			NOINH![ASCIZ/FAILURE TO WRITE 0'S TO C14-C15 REG-14/]
  2849	031671	400000	077721			HIPROB!TC
  2850	031672	400000	077755			HIPROB!EC
  2851	031673	600000	077771			LOPROB!DP
  2852	031674	620000	077775			LAST!LOPROB!RG
  2853
  2854					 	XLIST
  2855					 	LIST
  2856						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-39
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF CTRL BUS BITS C14-C15                                 SEQ 0235

  2857					S^;*********************************************************************^
  2858					;*TEST-23 WRITE 1'S/RESET/READ/VERIFY REG-15 
  2859					S^;*********************************************************************^
  2860
  2861					COMMENT	$
  2862
  2863						TEST DESCRIPTION
  2864						---------------- 
  2865						WRITE 1'S TO THE FLOPS, ISSUE A RESET AND VERIFY THAT THE FLOPS
  2866						ARE CLEARED BY THE RESET PULSE 
  2867
  2868						RECOMMENDED DEBUG PROCEDURE
  2869						--------------------------- 
  2870						FAULTY RESET LOGIC ON (EC6). REPLACE THE EC BOARD.
  2871						$
  2872					 	SALL
  2873
  2874
  2875	031675	201 01 0 00 000023 	TST23:	MOVEI	1,23		;GET THE TEST NUMBER
  2876	031676	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
  2877
  2878	031677	260 17 0 00 060522 	T23SEL:	GO	DEVSEL		;SELECT THE NEXT DEVICE FOR TEST
  2879	031700	263 17 0 00 000000 		RTN			;ALL TESTED.
  2880	031701	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  2881
  2882	031702	260 17 0 00 077352 	T23L:	GO	DEVREQ		;REQUEST THE DEVICE
  2883
  2884	031703	260 17 0 00 060723 		GO	MSTCLR		;CLEAR PREVIOUS ERRORS
  2885
  2886	031704	200 01 0 00 064140 		MOVE	1,[1B14!140000]	;ONES TO C14-C15 OF REG-14
  2887	031705	260 17 0 00 057446 		GO	LRPER2		;LOAD REGISTER 14
  2888	031706	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2889
  2890	031707	260 17 0 00 060723 		GO	MSTCLR		;THIS BETTER CLEAR REG-14
  2891
  2892	031710	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T REPORT OR CLEAR RAE'S
  2893	031711	260 17 0 00 057642 		GO	RRPER2		;READ REGISTER 14
  2894	031712	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2895	031713	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  2896
  2897	031714	602 01 0 00 140000 		TRNE	1,140000	;DID ALL BITS GET CLEARED
  2898	031715	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  2899	031716	027 00 0 00 031721 		SCOPE	TBL23		;CALL SCOPE ROUTINE
  2900	031717	254 00 0 00 031702 		JRST	T23L		;LOOP
  2901	031720	254 00 0 00 031677 		JRST	T23SEL		;CONTINUE
  2902
  2903					;SCOPE TABLE
  2904
  2905	031721	000000	062461		TBL23:	0,,REGPNT
  2906	031722	100000	064204			NOINH![ASCIZ/RESET NOT CLEARING C15-C15 REG-14/]
  2907	031723	420000	077755			LAST!HIPROB!EC
  2908
  2909					SUBTTL TEST FOR PERSISTANT ERRORS IN REG-15 (ERR-3)
  2910					 	XLIST
  2911					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-40
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PERSISTANT ERRORS IN REG-15 (ERR-3)                                       SEQ 0236

  2912						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-41
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PERSISTANT ERRORS IN REG-15 (ERR-3)                                       SEQ 0237

  2913					S^;*********************************************************************^
  2914					;*TEST-24 TEST FOR PERSISTANT REG-15 BIT-15 ERROR 
  2915					S^;*********************************************************************^
  2916
  2917					COMMENT	$
  2918
  2919						TEST DESCRIPTION
  2920						---------------- 
  2921						MASTER RESET, READ AND VERIFY THAT BIT-15 IS NOT
  2922						STUCK ON A ONE. THIS VERIFIES THAT WE DO NOT HAVE A PERSISTANT
  2923						(OFF CYLINDER) ERROR THAT INVALIDATES FURTHER TESTING OF THE
  2924						CONTROL BUSS 
  2925
  2926						RECOMMENDED DEBUG PROCEDURE
  2927						--------------------------- 
  2928						 1.  CHECK THE LEVEL AT (D02-15), IF IT IS HIGH,
  2929						     THE PROBLEM IS A DCL PROBLEM.
  2930						$
  2931					 	SALL
  2932
  2933
  2934	031724	201 01 0 00 000024 	TST24:	MOVEI	1,24		;GET THE TEST NUBMER
  2935	031725	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  2936
  2937	031726	260 17 0 00 060522 	T24SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  2938	031727	263 17 0 00 000000 		RTN			;ALL TESTED.
  2939	031730	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  2940
  2941	031731	260 17 0 00 077352 	T24L:	GO	DEVREQ		;REQUEST THE DEVICE FOR TEST
  2942
  2943	031732	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS AND C15 REG-15
  2944
  2945	031733	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T CLEAR OR REPORT RAE'S
  2946	031734	260 17 0 00 057645 		GO	RRPER3		;READ REGISTER 15
  2947	031735	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  2948	031736	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  2949
  2950	031737	602 01 0 00 100000 		TRNE	1,100000	;IS C15 SET?
  2951	031740	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  2952	031741	027 00 0 00 031744 		SCOPE	TBL24		;CALL SCOPE ROUTINE
  2953	031742	254 00 0 00 031731 		JRST	T24L		;LOOP
  2954	031743	254 00 0 00 031726 		JRST	T24SEL		;CONTINUE
  2955
  2956					;SCOPE TABLE
  2957
  2958	031744	000000	062461		TBL24:	0,,REGPNT
  2959	031745	100000	064213			NOINH![ASCIZ/C15 REG-15 (OF-CYL) CAN NOT BE RESET/]
  2960	031746	400000	077755			HIPROB!EC
  2961	031747	400000	077747			HIPROB!MB
  2962	031750	400000	100046			HIPROB!D02
  2963	031751	420000	100042			LAST!HIPROB!D01
  2964
  2965					 	XLIST
  2966					 	LIST
  2967						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-42
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PERSISTANT ERRORS IN REG-15 (ERR-3)                                       SEQ 0238

  2968					S^;*********************************************************************^
  2969					;*TEST-25 TEST FOR PERSISTANT REG-15 BIT-14 ERROR 
  2970					S^;*********************************************************************^
  2971
  2972					COMMENT	$
  2973
  2974						TEST DESCRIPTION
  2975						---------------- 
  2976						MASTER RESET, READ AND VERIFY THAT BIT-14 IS NOT STUCK ON
  2977						A ONE. THIS VERIFIES THAT WE DO NOT HAVE A PERSISTANT (SEEK
  2978						INCOMPLETE) ERROR THAT INVALIDATES FURTHER TESTING OF THE
  2979						CONTROL BUS 
  2980
  2981						RECOMMENDED DEBUG PROCEDURE
  2982						--------------------------- 
  2983						NONE
  2984						$
  2985					 	SALL
  2986
  2987
  2988	031752	201 01 0 00 000025 	TST25:	MOVEI	1,25		;GET THE TEST NUMBER
  2989	031753	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE OPTION
  2990
  2991	031754	260 17 0 00 060522 	T25SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  2992	031755	263 17 0 00 000000 		RTN			;ALL TESTED.
  2993	031756	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  2994
  2995	031757	260 17 0 00 077352 	T25L:	GO	DEVREQ		;REQUEST THE DEVICE
  2996
  2997	031760	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS AND C14 REG-15
  2998
  2999	031761	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T REPORT OR CLEAR RAE'S
  3000	031762	260 17 0 00 057645 		GO	RRPER3		;READ REGISTER 15
  3001	031763	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3002	031764	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  3003
  3004	031765	602 01 0 00 040000 		TRNE	1,40000		;IS C14 CLEAR?
  3005	031766	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  3006	031767	027 00 0 00 031772 		SCOPE	TBL25		;CALL THE SCOPE ROUTINE
  3007	031770	254 00 0 00 031757 		JRST	T25L		;LOOP
  3008	031771	254 00 0 00 031754 		JRST	T25SEL		;CONTINUE
  3009
  3010					;SCOPE TABLE
  3011
  3012	031772	000000	062461		TBL25:	0,,REGPNT
  3013	031773	100000	064223			NOINH![ASCIZ/C14 REG-15 (SKI) CAN NOT BE RESET/]
  3014	031774	400000	077755			HIPROB!EC
  3015	031775	400000	077747			HIPROB!MB
  3016	031776	600000	100042			LOPROB!D01
  3017	031777	600000	100046			LOPROB!D02
  3018	032000	600000	100071			LOPROB!D10
  3019	032001	620000	100075			LAST!LOPROB!D11
  3020
  3021					 	XLIST
  3022					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-43
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PERSISTANT ERRORS IN REG-15 (ERR-3)                                       SEQ 0239

  3023						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-44
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PERSISTANT ERRORS IN REG-15 (ERR-3)                                       SEQ 0240

  3024					S^;*********************************************************************^
  3025					;*TEST-26 TEST FOR PERSISTANT REG-15 BIT-06 ERROR 
  3026					S^;*********************************************************************^
  3027
  3028					COMMENT	$
  3029
  3030						TEST DESCRIPTION
  3031						---------------- 
  3032						MASTER RESET, READ AND VERIFY THAT BIT-06 IS NOT STUCK ON 
  3033						A ONE. THIS VERIFIES THAT WE DO NOT HAVE A PERSISTANT (DC LOW)
  3034						ERROR THAT INVALIDATES FURTHER TESTING OF THE CONTROL BUS 
  3035
  3036						RECOMMENDED DEBUG PROCEDURE
  3037						--------------------------- 
  3038						NONE
  3039						$
  3040					 	SALL
  3041
  3042
  3043	032002	201 01 0 00 000026 	TST26:	MOVEI	1,26		;GET THE TEST NUMBER
  3044	032003	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  3045
  3046	032004	260 17 0 00 060522 	T26SEL:	GO	DEVSEL		;SELECT NEXT DEVICE FOR TEST
  3047	032005	263 17 0 00 000000 		RTN			;TRIED ALL
  3048	032006	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  3049
  3050	032007	260 17 0 00 077352 	T26L:	GO	DEVREQ		;REQUEST THE DEVICE
  3051
  3052	032010	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS AND C06 REG-15
  3053
  3054	032011	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T REPORT OR CLEAR RAE'S
  3055	032012	260 17 0 00 057645 		GO	RRPER3		;READ REGISTER 15
  3056	032013	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3057	032014	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  3058
  3059	032015	602 01 0 00 000100 		TRNE	1,100		;IS C06 CLEAR
  3060	032016	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  3061	032017	027 00 0 00 032022 		SCOPE	TBL26		;CALL SCOPE ROUTINE
  3062	032020	254 00 0 00 032007 		JRST	T26L		;LOOP
  3063	032021	254 00 0 00 032004 		JRST	T26SEL		;CONTINUE
  3064
  3065					;SCOPE TABLE
  3066
  3067	032022	000000	062461		TBL26:	0,,REGPNT
  3068	032023	100000	064232			NOINH![ASCIZ/C06 REG-15 (AC LOW) CAN'T BE CLEARED/]
  3069	032024	400000	077755			HIPROB!EC
  3070	032025	420000	064242			LAST!HIPROB![ASCIZ/POWER MONITOR MODULE OR POWER SUPPLY FAULT/]
  3071
  3072					 	XLIST
  3073					 	LIST
  3074						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-45
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PERSISTANT ERRORS IN REG-15 (ERR-3)                                       SEQ 0241

  3075					S^;*********************************************************************^
  3076					;*TEST-27 TEST FOR PERSISTANT REG-15 BIT-05 ERROR 
  3077					S^;*********************************************************************^
  3078
  3079					COMMENT	$
  3080
  3081						TEST DESCRIPTION
  3082						---------------- 
  3083						MASTER RESET, READ AND VERIFY THAT BIT-05 IS NOT STUCK ON
  3084						A ONE. THIS VERIFIES THAT WE DO NOT HAVE A PERSISTANT (DC-LOW)
  3085						ERROR THAT INVALIDATES FURTHER TESTING OF THE CONTROL BUS 
  3086
  3087						RECOMMENDED DEBUG PROCEDURE
  3088						--------------------------- 
  3089						NONE
  3090						$
  3091					 	SALL
  3092
  3093
  3094	032026	201 01 0 00 000027 	TST27:	MOVEI	1,27		;GET THE TEST NUMBER
  3095	032027	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE OPTION
  3096
  3097	032030	260 17 0 00 060522 	T27SEL:	GO	DEVSEL		;SELECT NXT DEVICE FOR TEST
  3098	032031	263 17 0 00 000000 		RTN			;TRIED ALL
  3099	032032	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  3100
  3101	032033	260 17 0 00 077352 	T27L:	GO	DEVREQ		;REQUEST THE DEVICE
  3102
  3103	032034	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS AND C05 REG-15
  3104
  3105	032035	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T REPORT OR CLEAR RAE'S
  3106	032036	260 17 0 00 057645 		GO	RRPER3		;READ REGISTER 15
  3107	032037	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3108	032040	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  3109
  3110	032041	602 01 0 00 000040 		TRNE	1,40		;IS C05 CLEAR
  3111	032042	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  3112	032043	027 00 0 00 032046 		SCOPE	TBL27		;CALL SCOPE ROUTINE
  3113	032044	254 00 0 00 032033 		JRST	T27L		;LOOP
  3114	032045	254 00 0 00 032030 		JRST	T27SEL		;CONTINUE
  3115
  3116					;SCOPE TABLE
  3117
  3118	032046	000000	062461		TBL27:	0,,REGPNT
  3119	032047	100000	064253			NOINH![ASCIZ/C05 REG-15 (AC LOW) CAN'T BE CLEARED/]
  3120	032050	400000	077755			HIPROB!EC
  3121	032051	420000	064242			LAST!HIPROB![ASCIZ/POWER MONITOR MODULE OR POWER SUPPLY FAULT/]
  3122
  3123					 	XLIST
  3124					 	LIST
  3125						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-46
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PERSISTANT ERRORS IN REG-15 (ERR-3)                                       SEQ 0242

  3126					S^;*********************************************************************^
  3127					;*TEST-30 TEST FOR PERSISTANT REG-15 BIT-04 ERROR 
  3128					S^;*********************************************************************^
  3129
  3130					COMMENT	$
  3131
  3132						TEST DESCRIPTION
  3133						---------------- 
  3134						MASTER RESET, READ AND VERIFY THAT BIT-04 IS NOT STUCK ON A 
  3135						ONE. THIS VERIFIES THAT WE DO NOT HAVE A
  3136						PERSISTANT (35VF) ERROR THAT INVALIDATES FURTHER TESTING
  3137						OF THE CONTROL BUS 
  3138
  3139						RECOMMENDED DEBUG PROCEDURE
  3140						--------------------------- 
  3141						SOMTHING WRONG WITH 35V REGULATOR
  3142						$
  3143					 	SALL
  3144
  3145
  3146	032052	201 01 0 00 000030 	TST30:	MOVEI	1,30		;GET THE TEST NUMBER
  3147	032053	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  3148
  3149	032054	260 17 0 00 060522 	T30SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  3150	032055	263 17 0 00 000000 		RTN			;ALL TESTED
  3151	032056	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  3152
  3153	032057	260 17 0 00 077352 	T30L:	GO	DEVREQ		;REQUEST A DEVICE FOR TEST
  3154
  3155	032060	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS AND C04 REG-15
  3156
  3157	032061	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T CLEAR OR REPORT RAE'S
  3158	032062	260 17 0 00 057645 		GO	RRPER3		;READ REGISTER 15
  3159	032063	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3160	032064	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  3161
  3162	032065	602 01 0 00 000020 		TRNE	1,20		;IS C04 SET?
  3163	032066	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  3164	032067	027 00 0 00 032072 		SCOPE	TBL30		;CALL THE SCOPE ROUTINE
  3165	032070	254 00 0 00 032057 		JRST	T30L		;LOOP
  3166	032071	254 00 0 00 032054 		JRST	T30SEL		;CONTINUE
  3167
  3168					;SCOPE TABLE
  3169
  3170	032072	000000	062461		TBL30:	0,,REGPNT
  3171	032073	100000	064263			NOINH![ASCIZ/C04 REG-15 "35VF" CAN NOT BE CLEARED/]
  3172	032074	400000	077755			HIPROB!EC
  3173	032075	400000	077747			HIPROB!MB
  3174	032076	600000	100123			LOPROB!D17
  3175	032077	600000	100143			LOPROB!D20
  3176	032100	620000	100046			LAST!LOPROB!D02
  3177
  3178					 	XLIST
  3179					 	LIST
  3180						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-47
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PERSISTANT ERRORS IN REG-15 (ERR-3)                                       SEQ 0243

  3181					S^;*********************************************************************^
  3182					;*TEST-31 TEST FOR PERSISTANT REG-15 BIT-01 ERROR 
  3183					S^;*********************************************************************^
  3184
  3185					COMMENT	$
  3186
  3187						TEST DESCRIPTION
  3188						---------------- 
  3189						MASTER RESET, READ AND VERIFY THAT BIT-01 IS NOT STUCK ON
  3190						A ONE INDICATING A PERSISTANT "WT-OFS" CONDITION
  3191
  3192						RECOMMENDED DEBUG PROCEDURE
  3193						--------------------------- 
  3194						NONE
  3195						$
  3196					 	SALL
  3197
  3198
  3199	032101	201 01 0 00 000031 	TST31:	MOVEI	1,31		;GET THE TEST NUMBER
  3200	032102	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  3201
  3202	032103	260 17 0 00 060522 	T31SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  3203	032104	263 17 0 00 000000 		RTN			;TRIED ALL
  3204	032105	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  3205
  3206	032106	260 17 0 00 077352 	T31L:	GO	DEVREQ		;REQUEST A DEVICE
  3207
  3208	032107	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS AND C01 REG-15
  3209
  3210	032110	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T CLEAR OR REPORT RAE'S
  3211	032111	260 17 0 00 057645 		GO	RRPER3		;READ REGISTER 15
  3212	032112	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3213	032113	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  3214
  3215	032114	602 01 0 00 000002 		TRNE	1,2		;IS C01 SET
  3216	032115	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  3217	032116	027 00 0 00 032121 		SCOPE	TBL31		;CALL SCOPE ROUTINE
  3218	032117	254 00 0 00 032106 		JRST	T31L		;LOOP
  3219	032120	254 00 0 00 032103 		JRST	T31SEL		;CONTINUE
  3220
  3221					;SCOPE TABLE
  3222
  3223	032121	000000	062461		TBL31:	0,,REGPNT
  3224	032122	100000	064273			NOINH![ASCIZ/C01 REG-15 "WT-OFS" CAN NOT BE CLEARED/]
  3225	032123	400000	077755			HIPROB!EC
  3226	032124	400000	100143			HIPROB!D20
  3227	032125	400000	100046			HIPROB!D02
  3228	032126	420000	077747			LAST!HIPROB!MB
  3229
  3230					 	XLIST
  3231					 	LIST
  3232						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-48
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PERSISTANT ERRORS IN REG-15 (ERR-3)                                       SEQ 0244

  3233					S^;*********************************************************************^
  3234					;*TEST-32 TEST FOR PERSISTANT REG-15 BIT-00 ERROR 
  3235					S^;*********************************************************************^
  3236
  3237					COMMENT	$
  3238
  3239						TEST DESCRIPTION
  3240						---------------- 
  3241						MASTER RESET, READ AND VERIFY THAT BIT-00 IS NOT STUCK ON A 
  3242						ONE. THIS VERIFIES THAT WE DO NOT HAVE A PERSISTANT
  3243						(DC UNSAFE) ERROR THAT INVALIDATES FURTHER TESTING
  3244						OF THE CONTROL BUS 
  3245
  3246						RECOMMENDED DEBUG PROCEDURE
  3247						--------------------------- 
  3248						DC UNSAFE CAN BE CAUSED BY MANY MALFUNCTIONS IN THE
  3249						DRIVE. SUGGEST SCOPING BACK ON THE D02 MODULE
  3250						TO DETERMINE WHICH PARTICULAR PROBLEM EXISTS
  3251						$
  3252					 	SALL
  3253
  3254
  3255	032127	201 01 0 00 000032 	TST32:	MOVEI	1,32		;GET THE TEST NUMBER
  3256	032130	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  3257
  3258	032131	260 17 0 00 060522 	T32SEL:	GO	DEVSEL		;SELECT THE NEXT DEVICE
  3259	032132	263 17 0 00 000000 		RTN			;ALL TESTED
  3260	032133	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  3261
  3262	032134	260 17 0 00 077352 	T32L:	GO	DEVREQ		;REQUEST A DEVICE
  3263
  3264	032135	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS AND C01 REG-15
  3265
  3266	032136	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T CLEAR OR REPORT RAE'S
  3267	032137	260 17 0 00 057645 		GO	RRPER3		;READ REGISTER 15
  3268	032140	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3269	032141	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  3270
  3271	032142	602 01 0 00 000001 		TRNE	1,1		;IS C00 SET
  3272	032143	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  3273	032144	027 00 0 00 032147 		SCOPE	TBL32		;CALL THE SCOPE ROUTINE
  3274	032145	254 00 0 00 032134 		JRST	T32L		;LOOP
  3275	032146	254 00 0 00 032131 		JRST	T32SEL		;CONTINUE
  3276
  3277					;SCOPE TABLE
  3278
  3279	032147	000000	062461		TBL32:	0,,REGPNT
  3280	032150	100000	064303			NOINH![ASCIZ/C01 REG-15 (DC UNS) CAN NOT BE CLEARED/]
  3281	032151	400000	077755			HIPROB!EC
  3282	032152	400000	077747			HIPROB!MB
  3283	032153	400000	100046			HIPROB!D02
  3284	032154	400000	100143			HIPROB!D20
  3285	032155	120000	064313			LAST!NOINH![ASCIZ/CHECK DC POWER SUPPLIES IN DRIVE/]
  3286
  3287					 	XLIST
  3288					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-49
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PERSISTANT ERRORS IN REG-15 (ERR-3)                                       SEQ 0245

  3289						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-50
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PERSISTANT ERRORS IN REG-15 (ERR-3)                                       SEQ 0246

  3290					S^;*********************************************************************^
  3291					;*TEST-33 TEST FOR PERSISTANT REG-15 BIT-13 ERROR 
  3292					S^;*********************************************************************^
  3293
  3294					COMMENT	$
  3295
  3296						TEST DESCRIPTION
  3297						---------------- 
  3298						MASTER RESET, READ AND VERIFY THAT BIT-13 IS NOT STUCK ON
  3299						A ONE. THIS VERIFIES THAT WE DO NOT HAVE A PERSISTANT
  3300						"OPE" ERROR THAT INVALIDATES FURTHER TESTING
  3301						OF THE CONTROL BUS 
  3302
  3303						RECOMMENDED DEBUG PROCEDURE
  3304						--------------------------- 
  3305						NONE
  3306						$
  3307					 	SALL
  3308
  3309
  3310	032156	201 01 0 00 000033 	TST33:	MOVEI	1,33		;GET THE TEST NUMBER
  3311	032157	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  3312
  3313	032160	260 17 0 00 060522 	T33SEL:	GO	DEVSEL		;SELECT THE NEXT DEVICE
  3314	032161	263 17 0 00 000000 		RTN			;ALL TESTED
  3315	032162	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  3316
  3317	032163	260 17 0 00 077352 	T33L:	GO	DEVREQ		;REQUEST THE DEVICE
  3318
  3319	032164	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS AND C13 REG-15
  3320
  3321	032165	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T CLEAR OR REPORT RAE'S
  3322	032166	260 17 0 00 057645 		GO	RRPER3		;READ REGISTER 15
  3323	032167	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3324	032170	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  3325
  3326	032171	602 01 0 00 020000 		TRNE	1,1B22		;IS C13 SET
  3327	032172	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  3328	032173	027 00 0 00 032176 		SCOPE	TBL33		;CALL THE SCOPE ROUTINE
  3329	032174	254 00 0 00 032163 		JRST	T33L		;LOOP
  3330	032175	254 00 0 00 032160 		JRST	T33SEL		;CONTINUE
  3331
  3332					;SCOPE TABLE
  3333
  3334	032176	000000	062461		TBL33:	0,,REGPNT
  3335	032177	100000	064322			NOINH![ASCIZ/C13 REG-15 "OPE" CAN NOT BE CLEARED/]
  3336	032200	400000	077755			HIPROB!EC
  3337	032201	620000	077771			LAST!LOPROB!DP
  3338
  3339					SUBTTL ADDITIONAL MISC. TESTING OF REG-15 (ERR-3)
  3340					 	XLIST
  3341					 	LIST
  3342						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-51
DSRPA2	MAC	 2-Mar-79 10:47		ADDITIONAL MISC. TESTING OF REG-15 (ERR-3)                                         SEQ 0247

  3343					S^;*********************************************************************^
  3344					;*TEST-34 TEST THAT REG-15 CAN BE LOADED WITH 1'S 
  3345					S^;*********************************************************************^
  3346
  3347					COMMENT	$
  3348
  3349						TEST DESCRIPTION
  3350						---------------- 
  3351						MASTER CLEAR, WRITE 1'S/READ/VERIFY THAT ALL BITS IN THE
  3352						REGISTER ARE SET. THIS MERELY CHECKS FLOPS IN THE REGISTER.
  3353						ALL BITS ARE KNOWN TO CLEAR FROM PREVIOUS TESTS 
  3354
  3355						RECOMMENDED DEBUG PROCEDURE
  3356						--------------------------- 
  3357						NONE.
  3358						$
  3359					 	SALL
  3360
  3361
  3362	032202	201 01 0 00 000034 	TST34:	MOVEI	1,34		;GET THE TEST NUMBER
  3363	032203	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  3364
  3365	032204	260 17 0 00 060522 	T34SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  3366	032205	263 17 0 00 000000 		RTN			;ALL TESTED.
  3367	032206	476 00 0 00 077330 		SETOM	SHMODE		;SET PRINTOUT MODE
  3368
  3369	032207	260 17 0 00 077352 	T34L:	GO	DEVREQ		;REQUEST A DEVICE
  3370
  3371	032210	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ALL ERRORS
  3372
  3373	032211	200 01 0 00 064332 		MOVE	1,[1B14!177777]	;ALL ONES C00-C15 REG-15
  3374	032212	260 17 0 00 057451 		GO	LRPER3		;LOAD REGISTER 15
  3375	032213	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3376
  3377	032214	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT OR CLEAR RAE'S
  3378	032215	260 17 0 00 057645 		GO	RRPER3		;READ REGISTER 15
  3379	032216	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3380	032217	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  3381
  3382	032220	460 00 0 00 000001 		SETCM	0,1		;COMP DATA TO AC0
  3383	032221	602 00 0 00 177777 		TRNE	0,177777	;C00-C15 ALL ONE'S
  3384	032222	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  3385	032223	027 00 0 00 032226 		SCOPE	TBL34		;CALL SCOPE ROUTINE
  3386	032224	254 00 0 00 032207 		JRST	T34L		;LOOP
  3387	032225	254 00 0 00 032204 		JRST	T34SEL		;CONTINUE
  3388
  3389					;SCOPE TABLE
  3390
  3391	032226	000000	062461		TBL34:	0,,REGPNT
  3392	032227	100000	064333			NOINH![ASCIZ/CANNOT WRITE 1'S TO ALL DATA BITS C00-C15 REG-15/]
  3393	032230	420000	077755			LAST!HIPROB!EC
  3394
  3395					 	XLIST
  3396					 	LIST
  3397						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-52
DSRPA2	MAC	 2-Mar-79 10:47		ADDITIONAL MISC. TESTING OF REG-15 (ERR-3)                                         SEQ 0248

  3398					S^;*********************************************************************^
  3399					;*TEST-35 TEST THAT REG-15 CAN BE LOADED WITH 0'S 
  3400					S^;*********************************************************************^
  3401
  3402					COMMENT	$
  3403
  3404						TEST DESCRIPTION
  3405						---------------- 
  3406						WRITE 1'S/WRITE 0'S/READ/VERIFY THAT ALL REGISTER BITS ARE
  3407						ZERO. THIS MERELY CHECKS THAT ALL FLOPS IN THE REGISTER
  3408						CAN BE LOADED WITH 0'S. BITS ARE KNOWN TO SET FROM PREVIOUS
  3409						TESTS 
  3410
  3411						RECOMMENDED DEBUG PROCEDURE
  3412						--------------------------- 
  3413						NONE.
  3414						$
  3415					 	SALL
  3416
  3417
  3418	032231	201 01 0 00 000035 	TST35:	MOVEI	1,35		;GET TEST NUMBER
  3419	032232	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  3420
  3421	032233	260 17 0 00 060522 	T35SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  3422	032234	263 17 0 00 000000 		RTN			;TRIED ALL
  3423	032235	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  3424
  3425	032236	260 17 0 00 077352 	T35L:	GO	DEVREQ		;REQUEST THE DEVICE
  3426
  3427	032237	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ALL ERRORS
  3428
  3429	032240	200 01 0 00 064332 		MOVE	1,[1B14!177777]	;WANT 1'S C00-C15 REG-15
  3430	032241	260 17 0 00 057451 		GO	LRPER3		;LOAD REGISTER 15
  3431	032242	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE PROBLEM
  3432
  3433	032243	205 01 0 00 000010 		MOVSI	1,(1B14)	;WRITE 0'S TO C00-C15 REG-15
  3434	032244	260 17 0 00 057451 		GO	LRPER3		;LOAD REGISTER 15
  3435	032245	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3436	032246	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  3437
  3438	032247	205 01 0 00 000030 		MOVSI	1,(1B13!1B14)	;DON'T CLEAR OR REPORT RAE'S
  3439	032250	260 17 0 00 057645 		GO	RRPER3		;READ REGISTER 15
  3440	032251	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3441	032252	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  3442
  3443	032253	602 01 0 00 177777 		TRNE	1,177777	;ARE C00-C15 CLEAR
  3444	032254	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  3445	032255	027 00 0 00 032260 		SCOPE	TBL35		;CALL SCOPE ROUTINE
  3446	032256	254 00 0 00 032236 		JRST	T35L		;LOOP
  3447	032257	254 00 0 00 032204 		JRST	T34SEL		;CONTINUE
  3448
  3449
  3450					;SCOPE TABLE
  3451
  3452	032260	000000	062461		TBL35:	0,,REGPNT
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-53
DSRPA2	MAC	 2-Mar-79 10:47		ADDITIONAL MISC. TESTING OF REG-15 (ERR-3)                                         SEQ 0249

  3453	032261	100000	064345			NOINH![ASCIZ/CAN NOT WRITE 0'S TO ALL DATA BITS C00-C15 REG-15/]
  3454	032262	400000	077755			HIPROB!EC
  3455	032263	620000	077747			LAST!LOPROB!MB
  3456
  3457					 	XLIST
  3458					 	LIST
  3459						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-54
DSRPA2	MAC	 2-Mar-79 10:47		ADDITIONAL MISC. TESTING OF REG-15 (ERR-3)                                         SEQ 0250

  3460					S^;*********************************************************************^
  3461					;*TEST-36 SINGULARITY OF REG-15 BITS (FLOAT-1'S) 
  3462					S^;*********************************************************************^
  3463
  3464					COMMENT	$
  3465
  3466						TEST DESCRIPTION
  3467						---------------- 
  3468						FLOAT A ONE DOWN THE REGISTER TO GUARANTEE THAT NO BITS
  3469						INTERFERE WITH ONE ANOTHER. BEFORE EACH ONE IS LOADED,
  3470						THE REGISTER IS CLEARED 
  3471
  3472						RECOMMENDED DEBUG PROCEDURE
  3473						--------------------------- 
  3474						TESTS 36 AND 37 WILL FIND CROSS COUPLED DATA PATH BITS ON
  3475						THE CONTROL BUS FOR THE FIRST TIME. IF REPLACING THE EC BOARD
  3476						DOES NOT CURE THE FAULT, YOU WILL HAVE TO SCOPE THE DATA PATH.
  3477						RUNNING TEST 37 MAY BE A BIG HELP AS IT MAY SHOW UP CERTIAN
  3478						CROSS COUPLING CONDITIONS BETTER THAN THIS TEST. 
  3479						$
  3480					 	SALL
  3481
  3482	032264	201 01 0 00 000036 	TST36:	MOVEI	1,36		;GET TEST NUMBER
  3483	032265	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
  3484
  3485	032266	260 17 0 00 060522 	T36SEL:	GO	DEVSEL		;SELECT A DEVICE
  3486	032267	263 17 0 00 000000 		RTN			;ALL TRIED
  3487	032270	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  3488
  3489	032271	201 01 0 00 100000 		MOVEI	1,100000	;A SINGLE 1 BIT TO C15
  3490	032272	202 01 0 00 077314 		MOVEM	1,PATRN#	;SAVE INITIAL PATTERN
  3491
  3492	032273	260 17 0 00 077352 	T36L:	GO	DEVREQ		;REQUEST THE DEVICE
  3493
  3494	032274	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS. REG-15
  3495
  3496	032275	200 01 0 00 077314 		MOVE	1,PATRN		;GET CURRENT PATTERN
  3497	032276	661 01 0 00 000010 		TLO	1,(1B14)	;SET DON'T REPORT RAE BIT
  3498	032277	260 17 0 00 057451 		GO	LRPER3		;LOAD PATTERN INTO REG-15
  3499	032300	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3500
  3501	032301	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  3502	032302	260 17 0 00 057645 		GO	RRPER3		;READ REGISTER 15
  3503	032303	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3504	032304	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  3505
  3506
  3507	032305	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET C00-C15 DATA
  3508	032306	312 00 0 00 077314 		CAME	0,PATRN		;DOES IT EQUAL THE PATTERN
  3509	032307	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  3510	032310	027 00 0 00 032330 		SCOPE	TBL36		;CALL THE SCOPE ROUTINE
  3511	032311	254 00 0 00 032273 		JRST	T36L		;LOOP
  3512
  3513	032312	200 01 0 00 077314 		MOVE	1,PATRN		;CONTINUE. GET PATTERN
  3514	032313	242 01 0 00 777777 		LSH	1,-1		;SHIFT ONE TO THE RIGHT
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-55
DSRPA2	MAC	 2-Mar-79 10:47		ADDITIONAL MISC. TESTING OF REG-15 (ERR-3)                                         SEQ 0251

  3515	032314	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE UPDATED PATRN
  3516	032315	332 00 0 00 077314 		SKIPE	PATRN		;DONE?
  3517	032316	254 00 0 00 032273 		JRST	T36L		;NO
  3518	032317	254 00 0 00 032266 		JRST	T36SEL		;YES
  3519
  3520					;ADDITIONAL PRINT ROUTINE
  3521
  3522	032320	260 17 0 00 062461 	EXPECT:	GO	REGPNT		;PRINT REGISTER AS READ
  3523	032321	261 17 0 00 000000 		PUT	0		;SAVE AC0
  3524	032322	030 00 0 00 064357 		TEXT	[ASCIZ/C00-C15 SHOULD HAVE BEEN  /]
  3525	032323	200 00 0 00 077314 		MOVE	0,PATRN		;GET THE PATTERN
  3526	032324	037 06 0 00 000000 		PNT6			;PRINT CORRECT C00-C15
  3527	032325	260 17 0 00 063452 		GO	.CRLF
  3528	032326	262 17 0 00 000000 		GET	0		;RESTORE THE AC
  3529	032327	263 17 0 00 000000 		RTN			;AND RETURN
  3530
  3531					;SCOPE TABLE
  3532
  3533	032330	000000	032320		TBL36:	0,,EXPECT
  3534	032331	100000	064365			NOINH![ASCIZ/CAN'T FLOAT A 1 DOWN REG-15 C00-C15/]
  3535	032332	400000	077755			HIPROB!EC
  3536	032333	100000	064375		TB3637:	NOINH![ASCIZ/POSSIBLY ! BITS CROSS COUPLED. SEE LISTING/]
  3537	032334	600000	077771			LOPROB!DP
  3538	032335	600000	100001			LOPROB!TRMES
  3539	032336	600000	077661			LOPROB!TA
  3540	032337	600000	077701			LOPROB!TB
  3541	032340	620000	077721			LAST!LOPROB!TC
  3542
  3543					 	XLIST
  3544					 	LIST
  3545						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-56
DSRPA2	MAC	 2-Mar-79 10:47		ADDITIONAL MISC. TESTING OF REG-15 (ERR-3)                                         SEQ 0252

  3546					S^;*********************************************************************^
  3547					;*TEST-37 SINGULARITY OF REG-15 BITS (FLOAT 0'S) 
  3548					S^;*********************************************************************^
  3549
  3550					COMMENT	$
  3551
  3552						TEST DESCRIPTION
  3553						---------------- 
  3554						FLOATS A ZERO DOWN THE REGISTER TO GUARANTEE THAT NO BITS
  3555						INTERFERE WITH ONE ANOTHER. BEFORE EACH BIT IS LOADED, THE
  3556						REGISTER IS PRESET TO 1'S 
  3557
  3558						RECOMMENDED DEBUG PROCEDURE
  3559						--------------------------- 
  3560						IF REPLACING THE EC BOARD DOES NOT FIX THE PROBLEM, YOU
  3561						PROBABLY HAVE A CROSS COUPLING OF CONTROL BUS DATA BITS AND
  3562						WILL HAVE TO SCOPE THE DATA PATH TO FIND THE FAULT 
  3563						$
  3564					 	SALL
  3565
  3566
  3567	032341	201 01 0 00 000037 	TST37:	MOVEI	1,37		;GET TEST NUMBER
  3568	032342	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  3569
  3570	032343	260 17 0 00 060522 	T37SEL:	GO	DEVSEL		;SELECT A DEVICE
  3571	032344	263 17 0 00 000000 		RTN			;TRIED ALL
  3572	032345	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  3573
  3574	032346	201 01 0 00 077777 		MOVEI	1,077777	;A SINGLE 0 BIT TO C15
  3575	032347	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE INITIAL PATTERN
  3576
  3577	032350	260 17 0 00 077352 	T37L:	GO	DEVREQ		;REQUEST THE DEVICE
  3578
  3579	032351	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS. REG-15
  3580
  3581	032352	200 01 0 00 064332 		MOVE	1,[1B14!177777]	;WRITE 1'S TO REG-15
  3582	032353	260 17 0 00 057451 		GO	LRPER3		;LOAD REGISTER 15
  3583	032354	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3584
  3585	032355	200 01 0 00 077314 		MOVE	1,PATRN		;GET CURRENT PATTERN
  3586	032356	661 01 0 00 000010 		TLO	1,(1B14)	;SET. DON'T REPORT RAE BIT
  3587	032357	260 17 0 00 057451 		GO	LRPER3		;LOAD REGISTER 15 WITH PATTERN
  3588	032360	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3589
  3590	032361	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  3591	032362	260 17 0 00 057645 		GO	RRPER3		;READ REGISTER 15
  3592	032363	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3593	032364	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  3594
  3595
  3596	032365	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET C00-C15 DATA
  3597	032366	312 00 0 00 077314 		CAME	0,PATRN		;DOES IT EQUAL THE PATTERN
  3598	032367	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  3599	032370	027 00 0 00 032401 		SCOPE	TBL37		;CALL THE SCOPE ROUTINE
  3600	032371	254 00 0 00 032350 		JRST	T37L		;LOOP
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-57
DSRPA2	MAC	 2-Mar-79 10:47		ADDITIONAL MISC. TESTING OF REG-15 (ERR-3)                                         SEQ 0253

  3601
  3602	032372	200 01 0 00 077314 		MOVE	1,PATRN		;CONTINUE. GET PATTERN
  3603	032373	242 01 0 00 777777 		LSH	1,-1		;SHIFT ONE TO THE RIGHT
  3604	032374	660 01 0 00 100000 		TRO	1,100000	;SET LEFTMOST BIT (C15) TO ONE
  3605	032375	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE THE NEW PATTERN
  3606	032376	302 01 0 00 177777 		CAIE	1,177777	;ARE WE DONE
  3607	032377	254 00 0 00 032350 		JRST	T37L		;NO
  3608	032400	254 00 0 00 032343 		JRST	T37SEL		;YES
  3609
  3610					;SCOPE TABLE
  3611
  3612	032401	000000	032320		TBL37:	0,,EXPECT
  3613	032402	100000	064406			NOINH![ASCIZ/CAN'T FLOAT A 0 DOWN REGISTER 15 C00-C15/]
  3614	032403	400000	077755			HIPROB!EC
  3615	032404	040000	032333			GOTO!TB3637
  3616
  3617					 	XLIST
  3618					 	LIST
  3619						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-58
DSRPA2	MAC	 2-Mar-79 10:47		ADDITIONAL MISC. TESTING OF REG-15 (ERR-3)                                         SEQ 0254

  3620					S^;*********************************************************************^
  3621					;*TEST-40 REG-15 DIRECT RESET TEST 
  3622					S^;*********************************************************************^
  3623
  3624					COMMENT	$
  3625
  3626						TEST DESCRIPTION
  3627						---------------- 
  3628						LOADS THE REGISTER WITH 1'S. MASTER CLEAR THE REGISTER
  3629						(MASSBUS CLEAR) AND VERIFY THAT THE REGISTER IS IN FACT,
  3630						CLEARED. MERELY TEATS ABILITY OF ALL FLOPS TO CLEAR 
  3631
  3632						RECOMMENDED DEBUG PROCEDURE
  3633						--------------------------- 
  3634						NONE.
  3635						$
  3636					 	SALL
  3637
  3638
  3639	032405	201 01 0 00 000040 	TST40:	MOVEI	1,40		;GET THE TEST NUMBER
  3640	032406	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  3641
  3642	032407	260 17 0 00 060522 	T40SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  3643	032410	263 17 0 00 000000 		RTN			;TEST ALL
  3644	032411	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  3645
  3646	032412	260 17 0 00 077352 	T40L:	GO	DEVREQ		;REQUEST THE DEVICE
  3647
  3648	032413	260 17 0 00 060723 		GO	MSTCLR		;CLEAR PREVIOUS ERRORS
  3649
  3650	032414	200 01 0 00 064332 		MOVE	1,[1B14!177777]	;ALL ONES TO C00-C15
  3651	032415	260 17 0 00 057451 		GO	LRPER3		;LOAD REG-15
  3652	032416	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3653
  3654	032417	260 17 0 00 060723 		GO	MSTCLR		;CLEARS C00-C15 REG-15
  3655
  3656	032420	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  3657	032421	260 17 0 00 057645 		GO	RRPER3		;READ REG-15
  3658	032422	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3659	032423	255 00 0 00 000000 		JFCL			;IGNORE PARITY ERRORS
  3660
  3661	032424	602 01 0 00 177777 		TRNE	1,177777	;DID ALL BITS CLEAR
  3662	032425	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  3663	032426	027 00 0 00 032431 		SCOPE	TBL40		;CALL THE SCOPE ROUTINE
  3664	032427	254 00 0 00 032412 		JRST	T40L		;LOOP
  3665	032430	254 00 0 00 032407 		JRST	T40SEL		;CONTINUE
  3666
  3667					;SCOPE TABLE
  3668
  3669	032431	000000	062461		TBL40:	0,,REGPNT
  3670	032432	100000	064417			NOINH![ASCIZ/RESET FAILED TO CLEAR C00-C15 REG-15/]
  3671	032433	420000	077755			LAST!HIPROB!EC
  3672
  3673					SUBTTL TESTING DRIVES CTRL BUS PARITY GENERATION LOGIC 
  3674					 	XLIST
  3675					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-59
DSRPA2	MAC	 2-Mar-79 10:47		TESTING DRIVES CTRL BUS PARITY GENERATION LOGIC                                    SEQ 0255

  3676						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-60
DSRPA2	MAC	 2-Mar-79 10:47		TESTING DRIVES CTRL BUS PARITY GENERATION LOGIC                                    SEQ 0256

  3677					S^;*********************************************************************^
  3678					;*TEST-41 TEST THAT PARITY NET CAN GENERATE A ONE 
  3679					S^;*********************************************************************^
  3680
  3681					COMMENT	$
  3682
  3683						TEST DESCRIPTION
  3684						---------------- 
  3685						REG-15 IS CLEARED WITH A MASTER RESET AND THEN READ OVER THE
  3686						CONTROL BUS. THE PARITY BIT SHOULD BE A ONE SINCE THE DATA
  3687						FIELD IS 0'S 
  3688
  3689						RECOMMENDED DEBUG PROCEDURE
  3690						--------------------------- 
  3691						NONE.
  3692						$
  3693					 	SALL
  3694
  3695
  3696	032434	201 01 0 00 000041 	TST41:	MOVEI	1,41		;GET THE TEST NUMBER
  3697	032435	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  3698
  3699	032436	260 17 0 00 060522 	T41SEL:	GO	DEVSEL		;SELECT THE NEXT DEVICE
  3700	032437	263 17 0 00 000000 		RTN			;ALL TESTED
  3701	032440	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  3702
  3703	032441	260 17 0 00 077352 	T41L:	GO	DEVREQ		;REQUEST THE DEVICE
  3704
  3705	032442	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS AND REG-15
  3706
  3707	032443	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  3708	032444	260 17 0 00 057645 		GO	RRPER3		;READ REG-15
  3709	032445	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3710	032446	255 00 0 00 000000 		JFCL
  3711
  3712	032447	603 01 0 00 001000 		TLNE	1,(1B8)		;PARITY ERROR ?
  3713	032450	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  3714	032451	027 00 0 00 032454 		SCOPE	TBL41		;CALL THE SCOPE ROUTINE
  3715	032452	254 00 0 00 032441 		JRST	T41L		;LOOP
  3716	032453	254 00 0 00 032436 		JRST	T41SEL		;CONTINUE
  3717
  3718					;SCOPE TABLE
  3719
  3720	032454	000000	062461		TBL41:	0,,REGPNT
  3721	032455	100000	064427			NOINH![ASCIZ/PARITY LOGIC FAILURE/]
  3722	032456	100000	064434			NOINH![ASCIZ/CAN'T GENERATE ODD PARITY WHEN DATA HAS EVEN # OF 1'S/]
  3723	032457	400000	077721			HIPROB!TC
  3724	032460	420000	077771			LAST!HIPROB!DP
  3725
  3726					 	XLIST
  3727					 	LIST
  3728						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-61
DSRPA2	MAC	 2-Mar-79 10:47		TESTING DRIVES CTRL BUS PARITY GENERATION LOGIC                                    SEQ 0257

  3729					S^;*********************************************************************^
  3730					;*TEST-42 TEST THAT PARITY NET CAN GENERATE A ZERO 
  3731					S^;*********************************************************************^
  3732
  3733					COMMENT	$
  3734
  3735						TEST DESCRIPTION
  3736						---------------- 
  3737						A SINGLE BIT IS WRITTEN TO REG-15 (BIT-00). THE REGISTER
  3738						IS THEN READ BACK OVER THE CONTROL BUS. VERIFY THAT THE
  3739						PARITY BIT IS A ZERO SINCE THE DATA FIELD CONTAINES AN
  3740						ODD NUMBER OF 1'S 
  3741
  3742						RECOMMENDED DEBUG PROCEDURE
  3743						--------------------------- 
  3744						NONE.
  3745						$
  3746					 	SALL
  3747
  3748	032461	201 01 0 00 000042 	TST42:	MOVEI	1,42		;GET THE TEST NUMBER
  3749	032462	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  3750
  3751	032463	260 17 0 00 060522 	T42SEL:	GO	DEVSEL		;SELECT THE NEXT DEVICE
  3752	032464	263 17 0 00 000000 		RTN			;TRIED ALL
  3753	032465	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  3754
  3755	032466	260 17 0 00 077352 	T42L:	GO	DEVREQ		;REQUEST THE DEVICE
  3756
  3757
  3758	032467	260 17 0 00 060723 		GO	MSTCLR		;CLEAR PREVIOUS ERRORS
  3759
  3760	032470	200 01 0 00 064447 		MOVE	1,[1B14!1]	;WANT A 1 TO C00 REG-15
  3761	032471	260 17 0 00 057451 		GO	LRPER3		;LOAD REGISTER 15
  3762	032472	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3763
  3764	032473	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  3765	032474	260 17 0 00 057645 		GO	RRPER3		;READ REGISTER 15
  3766	032475	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3767	032476	255 00 0 00 000000 		JFCL
  3768
  3769	032477	603 01 0 00 001000 		TLNE	1,(1B8)		;PARITY ERROR ?
  3770	032500	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  3771	032501	027 00 0 00 032504 		SCOPE	TBL42		;CALL THE SCOPE ROUTINE
  3772	032502	254 00 0 00 032466 		JRST	T42L		;LOOP
  3773	032503	254 00 0 00 032463 		JRST	T42SEL		;CONTINUE
  3774
  3775					;SCOPE TABLE
  3776
  3777	032504	000000	062461		TBL42:	0,,REGPNT
  3778	032505	100000	064427			NOINH![ASCIZ/PARITY LOGIC FAILURE/]
  3779	032506	100000	064450			NOINH![ASCIZ/CAN'T GENERATE ODD PARITY WHEN DATA HAS ODD # OF 1'S/]
  3780	032507	400000	077721			HIPROB!TC
  3781	032510	420000	077771			LAST!HIPROB!DP
  3782
  3783					 	XLIST
  3784					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-62
DSRPA2	MAC	 2-Mar-79 10:47		TESTING DRIVES CTRL BUS PARITY GENERATION LOGIC                                    SEQ 0258

  3785						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-63
DSRPA2	MAC	 2-Mar-79 10:47		TESTING DRIVES CTRL BUS PARITY GENERATION LOGIC                                    SEQ 0259

  3786					S^;*********************************************************************^
  3787					;*TEST-43 TEST PARITY NET WITH VARIOUS PATTERNS 
  3788					S^;*********************************************************************^
  3789
  3790					COMMENT	$
  3791
  3792						TEST DESCRIPTION
  3793						---------------- 
  3794						LOAD AND READ A SERIES OF 7 PATTERNS OVER THE CONTROL
  3795						BUS USING REG-15. THESE PATTERNS HAVE BEEN SELECTED TO 
  3796						GUARANTEE THAT THE PARITY TREES THEMSELVES HAVE NO INTERNAL
  3797						FAILURES THAT WILL CAUSE THEM TO MAKE A WRONG DECISION 
  3798
  3799						RECOMMENDED DEBUG PROCEDURE
  3800						--------------------------- 
  3801						NONE.
  3802						$
  3803					 	SALL
  3804
  3805
  3806	032511	201 01 0 00 000043 	TST43:	MOVEI	1,43		;GET THE TEST NUMBER
  3807	032512	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  3808
  3809	032513	260 17 0 00 060522 	T43SEL:	GO	DEVSEL		;SELECT A DEVICE
  3810	032514	263 17 0 00 000000 		RTN			;ALL TESTED
  3811	032515	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  3812
  3813	032516	201 02 0 00 032547 		MOVEI	2,PARTBL	;POINTER TO START OF PARITY TABLE
  3814	032517	200 01 0 02 000000 		MOVE	1,(2)		;FETCH 1ST PATTERN
  3815	032520	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE IT
  3816
  3817	032521	260 17 0 00 077352 	T43L:	GO	DEVREQ		;REQUEST THE DEVICE
  3818
  3819	032522	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ALL ERRORS
  3820
  3821	032523	200 01 0 00 077314 		MOVE	1,PATRN		;GET CURRENT PATTERN
  3822	032524	661 01 0 00 000010 		TLO	1,(1B14)	;SET. DON'T REPORT RAE BIT
  3823	032525	260 17 0 00 057451 		GO	LRPER3		;LOAD PATTERN INTO REG-15
  3824	032526	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3825
  3826	032527	205 01 0 00 000010 		MOVSI	1,(1B14)	;WANT TO READ CURRENT PATTERN
  3827	032530	260 17 0 00 057645 		GO	RRPER3		;READ PATTERN FROM REG-15
  3828	032531	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3829	032532	476 00 0 00 000010 		SETOM	ERFLG		;PARITY ERROR
  3830	032533	027 00 0 00 032543 		SCOPE	TBL43		;CALL SCOPE ROUTINE
  3831	032534	254 00 0 00 032521 		JRST	T43L		;LOOP
  3832
  3833	032535	336 00 0 00 077314 		SKIPN	PATRN		;CONTINUE. DONE?
  3834	032536	254 00 0 00 032513 		JRST	T43SEL		;YES. LAST PAT IS 0
  3835	032537	350 00 0 00 000002 		AOS	2		;NO. BUMP POINTER
  3836	032540	200 01 0 02 000000 		MOVE	1,(2)		;GET NEXT PATTERN
  3837	032541	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE IT
  3838	032542	254 00 0 00 032521 		JRST	T43L		;GO TRY IT
  3839
  3840					;SCOPE TABLE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-64
DSRPA2	MAC	 2-Mar-79 10:47		TESTING DRIVES CTRL BUS PARITY GENERATION LOGIC                                    SEQ 0260

  3841
  3842	032543	000000	062461		TBL43:	0,,REGPNT
  3843	032544	100000	064463			NOINH![ASCIZ/PARITY ERROR -- PARITY  NETWORK FAILURE/]
  3844	032545	100000	064473			NOINH![ASCIZ/RESPONDS INCORRECTLY TO NETWORK TEST PATTERN/]
  3845	032546	420000	077771			LAST!HIPROB!DP
  3846
  3847					;PARITY NETWORK TEST PATTERNS
  3848
  3849	032547	000000	153271		PARTBL:	153271
  3850	032550	000000	175747			175747
  3851	032551	000000	062132			062132
  3852	032552	000000	042002			042002
  3853	032553	000000	070066			070066
  3854	032554	000000	102332			102332
  3855	032555	000000	000000			000000
  3856
  3857					SUBTTL	REGISTER SELECTION TESTS
  3858					 	XLIST
  3859					 	LIST
  3860						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-65
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0261

  3861					S^;*********************************************************************^
  3862					;*TEST-45 RESET/READ/VERIFY C01 REG-2
  3863					S^;*********************************************************************^
  3864
  3865					COMMENT	$
  3866
  3867						TEST DESCRIPTION
  3868						---------------- 
  3869						MASTER RESET, READ AND VERIFY THAT THE (ILR) BIT IS NOT STUCK
  3870						ON A 1. IT IS NECESSARY TO HAVE THE (ILR) BIR OPERATIONAL
  3871						FOR FURTHER REGISTER SELECTION TESTS
  3872
  3873						RECOMMENDED DEBUG PROCEDURE
  3874						--------------------------- 
  3875						 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  3876						     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
  3877						     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  3878						     (TA0, TB0, TD0, TE0).
  3879						 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  3880						     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  3881						     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  3882						 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  3883						     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  3884						     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  3885						 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
  3886						     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
  3887						     DP BOARD.
  3888						 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
  3889						     IF THE ATA REGISTER IS SELECTED, REPLACE THE
  3890						     DP BOARD.
  3891						 6.  CHECK THE OUTPUT OF THE C01 BIT AT THE REG-2 MUX (RG2). IF FAULTY,
  3892						     REPLACE THE RG BOARD. RESET MUST NOT BE CLEARING THE FLOP.
  3893						 7.  CHECK THE OUTPUT OF THE C01 BIT AT THE REG-2 MUX (RG2) AGAIN.
  3894						     IF STILL INCORRECT, THERE IS PROBABLY A FAULTY MUX ELSE WHERE
  3895						     FOLLOWING BOARDS ONE AT A TIME. EC,SS,DP.
  3896						$
  3897					 	SALL
  3898
  3899	032556	201 01 0 00 000045 	TST45:	MOVEI	1,45		;GET THE TEST NUMBER
  3900	032557	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  3901
  3902	032560	260 17 0 00 060522 	T45SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  3903	032561	263 17 0 00 000000 		RTN			;ALL DRIVES TESTED
  3904	032562	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  3905
  3906	032563	260 17 0 00 077352 	T45L:	GO	DEVREQ		;REQUEST A DEVICE
  3907
  3908	032564	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS & C01 REG-2
  3909
  3910	032565	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  3911	032566	260 17 0 00 057604 		GO	RRPER1		;READ REGISTER 2
  3912	032567	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3913	032570	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  3914
  3915	032571	602 01 0 00 000002 		TRNE	1,2		;IS C01 CLEAR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-66
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0262

  3916	032572	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  3917	032573	027 00 0 00 032576 		SCOPE	TBL45		;CALL THE SCOPE ROUTINE
  3918	032574	254 00 0 00 032563 		JRST	T45L		;LOOP
  3919	032575	254 00 0 00 032560 		JRST	T45SEL		;CONTINUE
  3920
  3921					;SCOPE TABLE
  3922
  3923	032576	000000	062461		TBL45:	0,,REGPNT
  3924	032577	100000	064504			NOINH![ASCIZ/CAN'T CLEAR THE (ILR) FLOP. C01 REG-2/]
  3925	032600	100000	064514			NOINH![ASCIZ/TRICKY FAILURE - COULD BE A REGISTER SELECTION FAILURE/]
  3926	032601	100000	064527			NOINH![ASCIZ/HAPPENING WHEN REGISTER 2 IS READ/]
  3927	032602	400000	077775			HIPROB!RG
  3928	032603	400000	077771			HIPROB!DP
  3929	032604	600000	100001			LOPROB!TRMES
  3930	032605	600000	077661			LOPROB!TA
  3931	032606	600000	077701			LOPROB!TB
  3932	032607	600000	077755			LOPROB!EC
  3933	032610	620000	077765			LAST!LOPROB!SS
  3934
  3935					 	XLIST
  3936					 	LIST
  3937						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-67
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0263

  3938					S^;*********************************************************************^
  3939					;*TEST-46 WRITE/READ/VERIFY A 1 TO C01 REG-02
  3940					S^;*********************************************************************^
  3941
  3942					COMMENT	$
  3943
  3944						TEST DESCRIPTION
  3945						---------------- 
  3946						WRITES/READS AND VERIFIES THAT A 1 CAN BE WRITTEN TO THE (ILR)
  3947						FLOP. C01 OF REGISTER 2
  3948
  3949						RECOMMENDED DEBUG PROCEDURE
  3950						--------------------------- 
  3951						 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  3952						     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
  3953						     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  3954						     (TA0, TB0, TD0, TE0).
  3955						 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  3956						     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  3957						     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  3958						 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  3959						     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  3960						     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  3961						 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
  3962						     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
  3963						     DP BOARD.
  3964						 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
  3965						     IF THE ATA REGISTER IS SELECTED, REPLACE THE
  3966						     DP BOARD.
  3967						 6.  REPLACE THE RG BOARD. EITHER REG-2 IS NOT BEING CLOCKED,
  3968						     OR WE HAVE A FAULTY REGISTER FLOP OR ASSOCIATED MUX.
  3969						$
  3970					 	SALL
  3971
  3972	032611	201 01 0 00 000046 	TST46:	MOVEI	1,46		;GET THE TEST NUMBER
  3973	032612	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  3974
  3975	032613	260 17 0 00 060522 	T46SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  3976	032614	263 17 0 00 000000 		RTN			;TRIED ALL
  3977	032615	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINOUT MODE
  3978
  3979	032616	260 17 0 00 077352 	T46L:	GO	DEVREQ		;REQUEST THE DEVICE
  3980
  3981	032617	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  3982
  3983	032620	200 01 0 00 064536 		MOVE	1,[1B14!2]	;WANT A 1 TO C01 REG-2
  3984
  3985	032621	260 17 0 00 057410 		GO	LRPER1		;LOAD REGISTER 2
  3986	032622	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3987
  3988	032623	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  3989	032624	260 17 0 00 057604 		GO	RRPER1		;READ REGISTER 2
  3990	032625	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  3991	032626	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  3992
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-68
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0264

  3993	032627	606 01 0 00 000002 		TRNN	1,2		;IS C01 SET
  3994	032630	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  3995	032631	027 00 0 00 032634 		SCOPE	TBL46		;CALL THE SCOPE ROUTINE
  3996	032632	254 00 0 00 032616 		JRST	T46L		;LOOP
  3997	032633	254 00 0 00 032613 		JRST	T46SEL		;CONTINUE
  3998
  3999					;SCOPE TABLE
  4000
  4001	032634	000000	062461		TBL46:	0,,REGPNT
  4002	032635	100000	064537			NOINH![ASCIZ/CAN'T WRITE A 1 TO C01 REG-2/]
  4003	032636	400000	077775			HIPROB!RG
  4004	032637	400000	077771			HIPROB!DP
  4005	032640	600000	077661			LOPROB!TA
  4006	032641	620000	077701			LAST!LOPROB!TB
  4007
  4008					 	XLIST
  4009					 	LIST
  4010						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-69
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0265

  4011					S^;*********************************************************************^
  4012					;*TEST-47 WRITE A 1/RESET/READ/VERIFY C01 REG-2
  4013					S^;*********************************************************************^
  4014
  4015					COMMENT	$
  4016
  4017						TEST DESCRIPTION
  4018						---------------- 
  4019						THIS TEST IS JUST LIKE TEST 45 EXCEPT THT WE GUARANTEE
  4020						THE FLOP IS SET WHEN THE RESET IS APPLIED
  4021
  4022						RECOMMENDED DEBUG PROCEDURE
  4023						--------------------------- 
  4024						NONE
  4025						$
  4026					 	SALL
  4027
  4028	032642	201 01 0 00 000047 	TST47:	MOVEI	1,47		;GET THE TEST NUMBER
  4029	032643	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  4030
  4031	032644	260 17 0 00 060522 	T47SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  4032	032645	263 17 0 00 000000 		RTN			;ALL TRIED
  4033	032646	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  4034
  4035	032647	260 17 0 00 077352 	T47L:	GO	DEVREQ		;REQUEST THE DEVICE
  4036
  4037	032650	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  4038
  4039	032651	200 01 0 00 064536 		MOVE	1,[1B14!2]	;A 1 TO C01
  4040	032652	260 17 0 00 057410 		GO	LRPER1		;LOAD REGISTER 2
  4041	032653	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4042
  4043	032654	260 17 0 00 060723 		GO	MSTCLR		;
  4044
  4045	032655	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  4046	032656	260 17 0 00 057604 		GO	RRPER1		;READ REGISTER 2
  4047	032657	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4048	032660	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  4049
  4050	032661	602 01 0 00 000002 		TRNE	1,2		;WAS C01 CLEARED?
  4051	032662	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  4052	032663	027 00 0 00 032666 		SCOPE	TBL47		;CALL THE SCOPE ROUTINE
  4053	032664	254 00 0 00 032647 		JRST	T47L		;LOOP
  4054	032665	254 00 0 00 032644 		JRST	T47SEL		;CONTINUE
  4055
  4056					;SCOPE TABLE
  4057
  4058	032666	000000	062461		TBL47:	0,,REGPNT
  4059	032667	100000	064545			NOINH![ASCIZ/CAN'T RESET C01 REG-2/]
  4060	032670	420000	077775			LAST!HIPROB!RG
  4061
  4062					 	XLIST
  4063					 	LIST
  4064						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-70
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0266

  4065					S^;*********************************************************************^
  4066					;*TEST-50 WRITE A 1/WRITE A 0/READ VERIFY C01 REG-2/
  4067					S^;*********************************************************************^
  4068
  4069					COMMENT	$
  4070
  4071						TEST DESCRIPTION
  4072						---------------- 
  4073						THIS TEST INSURES THAT C01 REG-2 CAN BE CLEARED VIA ITS
  4074						DATA INPUT
  4075
  4076						RECOMMENDED DEBUG PROCEDURE
  4077						--------------------------- 
  4078						NONE
  4079						$
  4080					 	SALL
  4081
  4082	032671	201 01 0 00 000050 	TST50:	MOVEI	1,50		;GET THE TEST NUMBER
  4083	032672	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  4084
  4085	032673	260 17 0 00 060522 	T50SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  4086	032674	263 17 0 00 000000 		RTN			;TRIED ALL
  4087	032675	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  4088
  4089	032676	260 17 0 00 077352 	T50L:	GO	DEVREQ		;REQUEST THE DEVICE
  4090
  4091	032677	260 17 0 00 060723 		GO	MSTCLR		;CLEAR PREVIOUS ERRORS
  4092
  4093	032700	200 01 0 00 064536 		MOVE	1,[1B14!2]	;1 TO C01
  4094	032701	260 17 0 00 057410 		GO	LRPER1		;LOAD REGISTER 2
  4095	032702	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4096
  4097	032703	205 01 0 00 000010 		MOVSI	1,(1B14)	;0 TO C01
  4098	032704	260 17 0 00 057410 		GO	LRPER1		;LOAD REGISTER 2
  4099	032705	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4100
  4101	032706	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  4102	032707	260 17 0 00 057604 		GO	RRPER1		;READ REGISTER 2
  4103	032710	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4104	032711	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  4105
  4106	032712	602 01 0 00 000002 		TRNE	1,2		;IS C01 CLEAR?
  4107	032713	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  4108	032714	027 00 0 00 032717 		SCOPE	TBL50		;CALL THE SCOPE ROUTINE
  4109	032715	254 00 0 00 032676 		JRST	T50L		;LOOP
  4110	032716	254 00 0 00 032673 		JRST	T50SEL		;CONTINUE
  4111
  4112					;SCOPE TABLE
  4113
  4114	032717	000000	062461		TBL50:	0,,REGPNT
  4115	032720	100000	064552			NOINH![ASCIZ/CAN'T CLEAR REG-2 C01 VIA ITS DATA INPUT/]
  4116	032721	420000	077775			LAST!HIPROB!RG
  4117
  4118					 	XLIST
  4119					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-71
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0267

  4120						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-72
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0268

  4121					S^;*********************************************************************^
  4122					;*TEST-51 SEE THAT READING REG'S 20-37 CAUSE ILR ERRORS
  4123					S^;*********************************************************************^
  4124
  4125					COMMENT	$
  4126
  4127						TEST DESCRIPTION
  4128						---------------- 
  4129						THIS TEST CAN NOT BE DONE ON A KS-10 WITH RH11 CONTROLLER
  4130
  4131						RECOMMENDED DEBUG PROCEDURE
  4132						--------------------------- 
  4133						NONE
  4134						$
  4135					 	SALL
  4136
  4137
  4138	032722	201 01 0 00 000051 	TST51:	MOVEI	1,51		;GET THE TEST NUMBER
  4139	032723	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  4140
  4141	032724	263 17 0 00 000000 		RTN			;SORRY, CAN'T DO ON RH11
  4142
  4143						XLIST			;REMOVE ORIGINAL TEST 51
  4144						LIST
  4145
  4146					 	XLIST
  4147					 	LIST
  4148						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-73
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0269

  4149					S^;*********************************************************************^
  4150					;*TEST-52 SEE THAT READING REG'S 00-17 DOES NOT CAUSE ILR
  4151					S^;*********************************************************************^
  4152
  4153					COMMENT	$
  4154
  4155						TEST DESCRIPTION
  4156						---------------- 
  4157						ALTHOUGH ONLY "REG SEL 04" SEEMS IMPORTANT IN DETERMINING WETHER OR
  4158						NOT AN ILLEGAL REGISTER IS SELECTED, TESTING ALL THE LEGAL REGISTERS
  4159						MAY CATCH COUPLING BETWEEN THE REGISTER SELECT BITS.
  4160
  4161						RECOMMENDED DEBUG PROCEDURE
  4162						--------------------------- 
  4163						 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  4164						     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
  4165						     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  4166						     (TA0, TB0, TD0, TE0).
  4167						 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  4168						     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  4169						     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  4170						 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  4171						     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  4172						     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  4173						 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
  4174						     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
  4175						     DP BOARD.
  4176						 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
  4177						     IF THE ATA REGISTER IS SELECTED, REPLACE THE
  4178						     DP BOARD.
  4179						$
  4180					 	SALL
  4181
  4182	032725	201 01 0 00 000052 	TST52:	MOVEI	1,52		;GET THE TEST NUMBER
  4183	032726	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  4184
  4185	032727	260 17 0 00 060522 	T52SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  4186	032730	263 17 0 00 000000 		RTN			;TRIED ALL
  4187	032731	255 00 0 00 000000 		JFCL			;NEXT READY
  4188
  4189	032732	400 05 0 00 000000 		SETZ	5,		;START WITH REGISTER-0
  4190									;AC5 IS THE INDEX REGISTER
  4191
  4192	032733	260 17 0 00 077352 	T52L:	GO	DEVREQ		;REQUEST THE DEVICE
  4193
  4194	032734	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERROR CONDITIONS
  4195
  4196	032735	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  4197	032736	260 17 1 05 077571 		GO	@RDISP(5)	;TO PROPER REGISTER READ
  4198	032737	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4199	032740	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  4200
  4201	032741	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  4202	032742	260 17 0 00 057604 		GO	RRPER1		;READ REGISTER 2
  4203	032743	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-74
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0270

  4204	032744	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  4205
  4206	032745	602 01 0 00 000002 		TRNE	1,2		;IS (ILR) SET?
  4207	032746	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  4208	032747	027 00 0 00 032765 		SCOPE	TBL52		;CALL SCOPE ROUTINE
  4209	032750	254 00 0 00 032733 		JRST	T52L		;LOOP
  4210
  4211	032751	301 05 0 00 000017 		CAIL	5,17		;CONTINUE. TRIED ALL REG'S
  4212	032752	254 00 0 00 032727 		JRST	T52SEL		;YES
  4213	032753	344 05 0 00 032733 		AOJA	5,T52L		;NO. BUMP INDEX AND LOOP
  4214
  4215					;THIS TESTS ERROR PRINTER
  4216
  4217	032754	261 17 0 00 000000 	T52P:	PUT	0		;SAVE AC0
  4218	032755	260 17 0 00 062461 		GO	REGPNT		;PRINT CONT OF REG-2
  4219	032756	030 00 0 00 064563 		TEXT	[ASCIZ/READING REGISTER /]
  4220	032757	200 00 0 00 000005 		MOVE	0,5		;GET REG NUMBER
  4221	032760	037 02 0 00 000000 		PNT2			;PRINT IT
  4222	032761	030 00 0 00 064567 		TEXT	[ASCIZ/ IS CAUSING AN ILR ERROR/]
  4223	032762	260 17 0 00 063452 		GO	.CRLF
  4224	032763	262 17 0 00 000000 		GET	0		;RESTORE THE AC
  4225	032764	263 17 0 00 000000 		RTN			;EXIT
  4226
  4227					;SCOPE TABLE
  4228
  4229	032765	000000	032754		TBL52:	0,,T52P
  4230	032766	100000	064574			NOINH![ASCIZ/REGISTER SELECT PROBLEM EXISTS/]
  4231	032767	400000	077775			HIPROB!RG
  4232	032770	400000	077701			HIPROB!TB
  4233	032771	400000	077661			HIPROB!TA
  4234	032772	620000	077771			LAST!LOPROB!DP
  4235
  4236					 	XLIST
  4237					 	LIST
  4238						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-75
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0271

  4239					S^;*********************************************************************^
  4240					;*TEST-53 VERIFY OPERATION OF REG-00 C03
  4241					S^;*********************************************************************^
  4242
  4243					COMMENT	$
  4244
  4245						TEST DESCRIPTION
  4246						---------------- 
  4247						THIS TESTS GETS C03 CHECKED OUT ALONG WITH USING REG-00 FOR
  4248						THE FIRST TIME WHICH WILL CHECK PART OF THE REGISTER SELECT LOGIC.
  4249						FOUR DISCRETE SUBTESTS ARE TRIED.
  4250						A.  WRITE/READ/VERIFY A 1 TO C03
  4251						B.  WRITE A 1/WRITE A 0/READ/VERIFY C03
  4252						C.  WRITE A 0/WRITE A 1/READ/VERIFY C03
  4253						D.  WRITE A 1/RESET/READ/VERIFY THAT C03 DID NOT CLEAR
  4254
  4255						RECOMMENDED DEBUG PROCEDURE
  4256						--------------------------- 
  4257						 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  4258						     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
  4259						     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  4260						     (TA0, TB0, TD0, TE0).
  4261						 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  4262						     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  4263						     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  4264						 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  4265						     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  4266						     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  4267						 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
  4268						     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
  4269						     DP BOARD.
  4270						 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
  4271						     IF THE ATA REGISTER IS SELECTED, REPLACE THE
  4272						     DP BOARD.
  4273						 6.  REPLACE THE RG BOARD. THERE IS A FAULTY FLOP OR REG-00
  4274						     MUX.
  4275						$
  4276					 	SALL
  4277
  4278	032773	201 01 0 00 000053 	TST53:	MOVEI	1,53		;GET THE TEST NUMBER
  4279	032774	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  4280
  4281	032775	260 17 0 00 060522 	T53SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  4282	032776	263 17 0 00 000000 		RTN			;ALL TESTED
  4283	032777	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  4284
  4285	033000	260 17 0 00 077352 	T53AL:	GO	DEVREQ		;REQUEST THE DEVICE
  4286
  4287	033001	260 17 0 00 060723 		GO	MSTCLR		;CLEAR PREVIOUS ERRORS
  4288
  4289	033002	200 01 0 00 064603 		MOVE	1,[1B14!10]	;1 TO C03
  4290	033003	260 17 0 00 057402 		GO	LRPCS1		;LOADS REGISTER 00
  4291	033004	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4292
  4293	033005	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-76
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0272

  4294	033006	260 17 0 00 057576 		GO	RRPCS1		;READ REGISTER 00
  4295	033007	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4296	033010	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  4297
  4298	033011	606 01 0 00 000010 		TRNN	1,10		;DID C03 GET SET
  4299	033012	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  4300	033013	027 00 0 00 033077 		SCOPE	TBL53A		;CALL THE SCOPE ROUTINE
  4301	033014	254 00 0 00 033000 		JRST	T53AL		;LOOP
  4302	033015	255 00 0 00 000000 		JFCL			;CONTINUE. FALL INTO NEXT TEST
  4303
  4304	033016	260 17 0 00 077352 	T53BL:	GO	DEVREQ		;REQUEST A DEVICE
  4305
  4306	033017	260 17 0 00 060723 		GO	MSTCLR		;MASTER CLEAR
  4307
  4308	033020	200 01 0 00 064603 		MOVE	1,[1B14!10]	;1 TO C03
  4309	033021	260 17 0 00 057402 		GO	LRPCS1		;LOAD REG-00
  4310	033022	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4311
  4312	033023	205 01 0 00 000010 		MOVSI	1,(1B14)	;0 TO C03
  4313	033024	260 17 0 00 057402 		GO	LRPCS1		;LOAD REG-00
  4314	033025	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4315
  4316	033026	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  4317	033027	260 17 0 00 057576 		GO	RRPCS1		;READ REG-00
  4318	033030	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4319	033031	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  4320
  4321	033032	602 01 0 00 000010 		TRNE	1,10		;DID C03 CLEAR
  4322	033033	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  4323	033034	027 00 0 00 033102 		SCOPE	TBL53B		;CALL SCOPE ROUTINE
  4324	033035	254 00 0 00 033016 		JRST	T53BL		;LOOP
  4325	033036	255 00 0 00 000000 		JFCL			;CONTINUE. FALL INTO NEXT TEST
  4326
  4327	033037	260 17 0 00 077352 	T53CL:	GO	DEVREQ		;REQUEST THE DEVICE
  4328
  4329	033040	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  4330
  4331	033041	205 01 0 00 000010 		MOVSI	1,(1B14)	;0 IN C03
  4332	033042	260 17 0 00 057402 		GO	LRPCS1		;LOAD REG-00
  4333	033043	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4334
  4335	033044	200 01 0 00 064603 		MOVE	1,[1B14!10]	;1 TO C03
  4336	033045	260 17 0 00 057402 		GO	LRPCS1		;LOAD REG-00
  4337	033046	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4338
  4339	033047	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  4340	033050	260 17 0 00 057576 		GO	RRPCS1		;READ REG-00
  4341	033051	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4342	033052	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  4343
  4344	033053	606 01 0 00 000010 		TRNN	1,10		;DID C03 SET
  4345	033054	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  4346	033055	027 00 0 00 033077 		SCOPE	TBL53C		;CALL SCOPE ROUTINE
  4347	033056	254 00 0 00 033037 		JRST	T53CL		;LOOP
  4348	033057	255 00 0 00 000000 		JFCL			;CONTINUE. FALL INTO NEXT TEST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-77
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0273

  4349
  4350	033060	260 17 0 00 077352 	T53DL:	GO	DEVREQ		;REQUEST THE DEVICE
  4351
  4352	033061	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  4353
  4354	033062	200 01 0 00 064603 		MOVE	1,[1B14!10]	;A 1 TO C03
  4355	033063	260 17 0 00 057402 		GO	LRPCS1		;LOAD REG-00
  4356	033064	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4357
  4358	033065	260 17 0 00 060723 		GO	MSTCLR		;ISSUES AN RHCLR
  4359
  4360	033066	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  4361	033067	260 17 0 00 057576 		GO	RRPCS1		;READ REG-00
  4362	033070	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4363	033071	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  4364
  4365	033072	606 01 0 00 000010 		TRNN	1,10		;DID RHCLR CLR C03
  4366	033073	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  4367	033074	027 00 0 00 033105 		SCOPE	TBL53D		;CALL THE SCOPE ROUTINE
  4368	033075	254 00 0 00 033060 		JRST	T53DL		;LOOP
  4369	033076	254 00 0 00 032775 		JRST	T53SEL		;CONTINUE
  4370
  4371					;SCOPE TABLES
  4372
  4373	033077				TBL53A:
  4374	033077	000000	062461		TBL53C:	0,,REGPNT
  4375	033100	100000	064604			NOINH![ASCIZ/CAN'T WRITE A 1 TO C03 REG-00/]
  4376	033101	040000	033111			GOTO!TBL53E
  4377	033102	000000	062461		TBL53B:	0,,REGPNT
  4378	033103	100000	064612			NOINH![ASCIZ/CAN'T WRITE A 0 TO C03 REG-00/]
  4379	033104	040000	033111			GOTO!TBL53E
  4380	033105	000000	062461		TBL53D:	0,,REGPNT
  4381	033106	100000	064620			NOINH![ASCIZ/RHCLR IS CLEARING C03 REG 00/]
  4382	033107	100000	064626			NOINH![ASCIZ/REG-00 NOT A CLEARABLE REGISTER/]
  4383	033110	100000	064635			NOINH![ASCIZ/SUSPECT A REGISTER SELECTION PROBLEM/]
  4384	033111	400000	077775		TBL53E:	HIPROB!RG
  4385	033112	400000	077771			HIPROB!DP
  4386	033113	400000	077661			HIPROB!TA
  4387	033114	620000	077701			LAST!LOPROB!TB
  4388
  4389					 	XLIST
  4390					 	LIST
  4391						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-78
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0274

  4392					S^;*********************************************************************^
  4393					;*TEST-54 RESET/READ/VERIFY A ZERO IN C03 REG-02
  4394					S^;*********************************************************************^
  4395
  4396					COMMENT	$
  4397
  4398						TEST DESCRIPTION
  4399						---------------- 
  4400						IT IS NECESSARY TO GET THIS BIT WORKING IN ORDER TO DO SOME LATTER
  4401						REGISTER TESTS. THIS IS A TRICKY BIT TO TEST SINCE IT IS THE
  4402						PARITY ERROR DETECTION BIT AND WE ARE WRITING REGISTERS TO
  4403						TEST THE BIT. THIS RESETS THE BIT AND VERIFIES THAT
  4404						THE FLOP IS NOT STUCK ON A ONE.
  4405
  4406						RECOMMENDED DEBUG PROCEDURE
  4407						--------------------------- 
  4408						START AT STEP-6 TO SAVE TIME. IF IT PASSES, GO BACK TO STEP-1
  4409						WITHOUT REPLACING ANYTHING.
  4410						 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  4411						     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
  4412						     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  4413						     (TA0, TB0, TD0, TE0).
  4414						 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  4415						     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  4416						     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  4417						 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  4418						     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  4419						     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  4420						 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
  4421						     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
  4422						     DP BOARD.
  4423						 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
  4424						     IF THE ATA REGISTER IS SELECTED, REPLACE THE
  4425						     DP BOARD.
  4426						 6.  CHECK THAT THE DIRECT SET TO THE PARITY FLOP (RG0) IS HIGH. IF
  4427						     IT IS, REPLACE THE RG BOARD. THERE IS A FAULTY FLOP OR MUX
  4428						     ASSOCIATED WITH THIS BIT.
  4429						 7.  HERE BECAUSE DHE FLOP IS BEING FORCED SET. CHECK THAT SIGNAL
  4430						     "SN4 DATA PAR SET L" COMING ON TO (RG5) IS NOT LOW. IF IT IS,
  4431						     WE HAVE A CONSTANT PARITY CONDITION COMING FROM THE DATA
  4432						     BUS LOGIC. REPLACING THE SN BOARD WILL CURE PROBLEM.
  4433						 8.  CHECK THE SIGNAL "DP4 ODD PARITY L" IS LOW, IF IT IS, REPLACE
  4434						     THE RG BOARD. IT HAS A FAULTY GATE.
  4435						 9.  CHECK THE OUTPUT OF THE MASSBUS RECEIVER CARRYING THE
  4436						     PARITY BIT (TC0 OR TF0). IT SHOULD BE HIGH. IF IT IS NOT
  4437						     REPLACE THE TRANSCEIVER CARD.
  4438						10.  REPLACE THE DP BOARD, A FAULT EXISTS IN THE PARITY
  4439						     CONTROL LOGIC.
  4440						$
  4441					 	SALL
  4442
  4443
  4444	033115	201 01 0 00 000054 	TST54:	MOVEI	1,54		;GET THE REGISTER #
  4445	033116	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  4446
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-79
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0275

  4447	033117	260 17 0 00 060522 	T54SEL:	GO	DEVSEL		;SELECT THE NEXT DEVICE
  4448	033120	263 17 0 00 000000 		RTN			;TRIED ALL
  4449	033121	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  4450
  4451	033122	260 17 0 00 077352 	T54L:	GO	DEVREQ		;REQUEST THE DEVICE
  4452
  4453	033123	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS AND C03 REG-02
  4454
  4455	033124	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  4456	033125	260 17 0 00 057604 		GO	RRPER1		;READ REGISTER - 2
  4457	033126	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4458	033127	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  4459
  4460	033130	602 01 0 00 000010 		TRNE	1,10		;IS C03 CLEAR?
  4461	033131	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  4462	033132	027 00 0 00 033135 		SCOPE	TBL54		;CALL THE SCOPE ROUTINE
  4463	033133	254 00 0 00 033122 		JRST	T54L		;LOOP
  4464	033134	254 00 0 00 033117 		JRST	T54SEL		;CONTINUE
  4465
  4466					;SCOPE TABLE
  4467
  4468	033135	000000	062461		TBL54:	0,,REGPNT
  4469	033136	100000	064645			NOINH![ASCIZ/RESET IS NOT CLEARING C03 REG-02/]
  4470	033137	400000	077775			HIPROB!RG
  4471	033140	400000	077771			HIPROB!DP
  4472	033141	400000	077721			HIPROB!TC
  4473	033142	400000	077661			HIPROB!TA
  4474	033143	400000	077701			HIPROB!TB
  4475	033144	420000	077761			LAST!HIPROB!SN
  4476
  4477					 	XLIST
  4478					 	LIST
  4479						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-80
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0276

  4480					S^;*********************************************************************^
  4481					;*TEST-55 RESET/WRITE 0/VERIFY C03 REG-02
  4482					S^;*********************************************************************^
  4483
  4484					COMMENT	$
  4485
  4486						TEST DESCRIPTION
  4487						---------------- 
  4488						WRITING 0'S TO REG-02 AND THEN CHECKING C03 INSURES THAT
  4489						THE DRIVES PARITY DETECTION NETWORK IS NOT DETECTING A PARITY
  4490						ERROR WHEN THE DRIVE RECEIVES A PARITY BIT OF ONE. (NOT YET
  4491						SURE THAT THE PARITY ERROR FLOP CAN EVEN SET BUT IT DOESN'T
  4492						MATTER AT THIS POINT IN THE TEST.
  4493
  4494						RECOMMENDED DEBUG PROCEDURE
  4495						--------------------------- 
  4496						 1.  CHECK THE OUTPUT OF THE PARITY FLOP C03 REG-02 (RG0). IT
  4497						     SHOULD BE SET, INDICATING THAT THERE IS A PROBLEM WITH THE PARITY
  4498						     DETECTION LOGIC.
  4499						 2.  CHECK THE OUTPUT OF THE MASSBUS RECEIVER CARRYING THE PARITY BIT TO
  4500						     THE DRIVE (TC0 OR TF0). IT SHOULD BE SET IF FAULTY, REPLACE THE
  4501						     TRANSCEIVER MODULE.
  4502						 3.  REPLACE THE DP BOARD. THERE IS A FAULT IN THE PARITY CONTROL
  4503						     LOGIC ON (DP5). SHOULD HAVE CAUGHT THIS LONG AGO.
  4504						$
  4505					 	SALL
  4506
  4507	033145	201 01 0 00 000055 	TST55:	MOVEI	1,55		;GET THE TEST NUMBER
  4508	033146	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  4509
  4510	033147	260 17 0 00 060522 	T55SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  4511	033150	263 17 0 00 000000 		RTN			;TRIED ALL
  4512	033151	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  4513
  4514	033152	260 17 0 00 077352 	T55L:	GO	DEVREQ		;REQUEST A DEVICE
  4515
  4516	033153	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  4517
  4518	033154	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ALL 0'S
  4519	033155	260 17 0 00 057410 		GO	LRPER1		;LOAD REG-02
  4520	033156	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4521
  4522	033157	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  4523	033160	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  4524	033161	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4525	033162	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  4526
  4527	033163	602 01 0 00 000010 		TRNE	1,10		;IS PARITY ERROR SET?
  4528	033164	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  4529	033165	027 00 0 00 033170 		SCOPE	TBL55		;CALL SCOPE ROUTINE
  4530	033166	254 00 0 00 033152 		JRST	T55L		;LOOP
  4531	033167	254 00 0 00 033147 		JRST	T55SEL		;CONTINUE
  4532
  4533					;SCOPE TABLE
  4534
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-81
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0277

  4535	033170	000000	062461		TBL55:	0,,REGPNT
  4536	033171	100000	064654			NOINH![ASCIZ/WRITING 0'S TO REG-02 CAUSED A PARITY ERROR/]
  4537	033172	400000	077721			HIPROB!TC
  4538	033173	400000	077771			HIPROB!DP
  4539	033174	620000	077775			LAST!LOPROB!RG
  4540
  4541					 	XLIST
  4542					 	LIST
  4543						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-82
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0278

  4544					S^;*********************************************************************^
  4545					;*TEST-56 RESET/WRITE 1 TO C01 REG 02 /READ/VERIFY C03 REG-02
  4546					S^;*********************************************************************^
  4547
  4548					COMMENT	$
  4549
  4550						TEST DESCRIPTION
  4551						---------------- 
  4552						WRITING A SINGLE 1 TO C01 OF REG-02 AND VERIFYING THAT
  4553						(THE PARITY BIT) C03 REG-02 DID NOT SET INSURES THAT THE
  4554						DRIVES PARITY DETECTION NETWORK IS NOT DETECTING A PARITY
  4555						ERROR WHEN THE DRIVE RECEIVES A PARITY BIT OF ZERO.
  4556						(NOT YET SURE THAT THE PARITY FLOP CAN EVEN SET BUT IT DOESN'T
  4557						MATTER AT THIS POINT IN THE TEST.
  4558
  4559						RECOMMENDED DEBUG PROCEDURE
  4560						--------------------------- 
  4561						 1.  CHECK THE OUTPUT OF THE MASSBUS RECEIVER CARRYING THE PARITY
  4562						     BIT TO THE DRIVE (TC0,TF0) IT SHOULD BE LOW. IFFAULTY,
  4563						     REPLACE THE TRANSCEIVER MODULE.
  4564						 2.  REPLACE THE DP BOARD. THERE IS A FAULT IN THE PARITY
  4565						     DETECTION LOGIC.
  4566						$
  4567					 	SALL
  4568
  4569	033175	201 01 0 00 000056 	TST56:	MOVEI	1,56		;GET THE TEST NUMBER
  4570	033176	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  4571
  4572	033177	260 17 0 00 060522 	T56SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  4573	033200	263 17 0 00 000000 		RTN			;TRIED ALL
  4574	033201	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  4575
  4576	033202	260 17 0 00 077352 	T56L:	GO	DEVREQ		;REQUEST A DEVICE
  4577
  4578	033203	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  4579
  4580	033204	200 01 0 00 064536 		MOVE	1,[1B14!2]	;A 1 TO C01
  4581	033205	260 17 0 00 057410 		GO	LRPER1		;LOAD REGISTER 2
  4582	033206	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4583
  4584	033207	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  4585	033210	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  4586	033211	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4587	033212	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  4588
  4589	033213	602 01 0 00 000010 		TRNE	1,10		;DID PARITY ERROR SET?
  4590	033214	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  4591	033215	027 00 0 00 033220 		SCOPE	TBL56		;CALL SCOPE ROUTINE
  4592	033216	254 00 0 00 033202 		JRST	T56L		;LOOP
  4593	033217	254 00 0 00 033177 		JRST	T56SEL		;CONTINUE
  4594
  4595
  4596					;SCOPE TABLE
  4597
  4598	033220	000000	062461		TBL56:	0,,REGPNT
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-83
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0279

  4599	033221	100000	064665			NOINH![ASCIZ/WRITING A SINGLE 1 TO REG-02 CAUSED A PARITY ERROR/]
  4600	033222	400000	077721			HIPROB!TC
  4601	033223	400000	077771			HIPROB!DP
  4602	033224	620000	077775			LAST!LOPROB!RG
  4603
  4604					 	XLIST
  4605					 	LIST
  4606						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-84
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0280

  4607					S^;*********************************************************************^
  4608					;*TEST-57 RESET/WRITE A 1/READ/VERIFY C03 REG-02
  4609					S^;*********************************************************************^
  4610
  4611					COMMENT	$
  4612
  4613						TEST DESCRIPTION
  4614						---------------- 
  4615						HAVE PROVEN THAT WRITING A SINGLE 1 DOES NOT CAUSE A PARITY
  4616						ERROR. NOW RESET AND WRITE A 1 TO C03 REG-02 TO
  4617						INSURE THAT THE FLOP CAN BE SET.
  4618
  4619						RECOMMENDED DEBUG PROCEDURE
  4620						--------------------------- 
  4621						 1.  CHECK THE OUTPUT OF THE PARITY FLOP. C03 REG-02 (RG0).
  4622						     IT SHOULD BE SET. IF NOT, REPLACE THE RG BOARD. THERE
  4623						     IS A BAD FLOP OR REGISTER MUX FOR C03 REG-02.
  4624						$
  4625					 	SALL
  4626
  4627	033225	201 01 0 00 000057 	TST57:	MOVEI	1,57		;GET THE TEST NUMBER
  4628	033226	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  4629
  4630	033227	260 17 0 00 060522 	T57SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  4631	033230	263 17 0 00 000000 		RTN			;TRIED ALL
  4632	033231	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  4633
  4634	033232	260 17 0 00 077352 	T57L:	GO	DEVREQ		;REQUEST THE DEVICE
  4635
  4636	033233	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  4637
  4638	033234	200 01 0 00 064603 		MOVE	1,[1B14!10]	;A 1 TO C03
  4639	033235	260 17 0 00 057410 		GO	LRPER1		;LOAD REG-02
  4640	033236	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4641
  4642	033237	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  4643	033240	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  4644	033241	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4645	033242	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  4646
  4647	033243	606 01 0 00 000010 		TRNN	1,10		;DID C03 SET?
  4648	033244	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  4649	033245	027 00 0 00 033250 		SCOPE	TBL57		;CALL SCOPE ROUTINE
  4650	033246	254 00 0 00 033232 		JRST	T57L		;LOOP
  4651	033247	254 00 0 00 033227 		JRST	T57SEL		;CONTINUE
  4652
  4653					;SCOPE TABLE
  4654
  4655	033250	000000	062461		TBL57:	0,,REGPNT
  4656	033251	100000	064700			NOINH![ASCIZ/CAN'T WRITE A 1 TO C03 REG-02/]
  4657	033252	420000	077775			LAST!HIPROB!RG
  4658
  4659					 	XLIST
  4660					 	LIST
  4661						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-85
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0281

  4662					S^;*********************************************************************^
  4663					;*TEST-60 RESET/WRITE A 1/WRITE A 0/READ/VERIFY C03 REG-02
  4664					S^;*********************************************************************^
  4665
  4666					COMMENT	$
  4667
  4668						TEST DESCRIPTION
  4669						---------------- 
  4670						THIS TEST INSURES THAT THE C03 REG-02 BIT CAN TRANSITION FROM
  4671						THE 1 TO 0 STATE. (CAN BE CLEARED BY WRITING A ZERO).
  4672
  4673						RECOMMENDED DEBUG PROCEDURE
  4674						--------------------------- 
  4675						FAULTY REGISTER OR MUX FOR THIS BIT. REPLACE THE RG BOARD.
  4676						$
  4677					 	SALL
  4678
  4679	033253	201 01 0 00 000060 	TST60:	MOVEI	1,60		;GET THE TEST NUMBER
  4680	033254	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  4681
  4682	033255	260 17 0 00 060522 	T60SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  4683	033256	263 17 0 00 000000 		RTN			;TRIED ALL
  4684	033257	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  4685
  4686	033260	260 17 0 00 077352 	T60L:	GO	DEVREQ		;REQUEST THE DEVICE
  4687
  4688	033261	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  4689
  4690	033262	200 01 0 00 064603 		MOVE	1,[1B14!10]	;A 1 TO C03
  4691	033263	260 17 0 00 057410 		GO	LRPER1		;LOAD REG-02
  4692	033264	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4693
  4694	033265	205 01 0 00 000010 		MOVSI	1,(1B14)	;0 TO C03
  4695	033266	260 17 0 00 057410 		GO	LRPER1		;LOAD REG-02
  4696	033267	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4697
  4698	033270	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  4699	033271	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  4700	033272	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4701	033273	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  4702
  4703	033274	602 01 0 00 000010 		TRNE	1,10		;DID C03 CLEAR
  4704	033275	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  4705	033276	027 00 0 00 033301 		SCOPE	TBL60		;CALL THE SCOPE ROUTINE
  4706	033277	254 00 0 00 033260 		JRST	T60L		;LOOP
  4707	033300	254 00 0 00 033255 		JRST	T60SEL		;CONTINUE
  4708
  4709					;SCOPE TABLE
  4710
  4711	033301	000000	062461		TBL60:	0,,REGPNT
  4712	033302	100000	064706			NOINH![ASCIZ/CAN'T WRITE A 0 TO C03 REG-02/]
  4713	033303	420000	077775			LAST!HIPROB!RG
  4714
  4715					 	XLIST
  4716					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-86
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0282

  4717						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-87
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0283

  4718					S^;*********************************************************************^
  4719					;*TEST-61 RESET/WRITE A 1/RESET/READ/VERIFY C03 REG-02
  4720					S^;*********************************************************************^
  4721
  4722					COMMENT	$
  4723
  4724						TEST DESCRIPTION
  4725						---------------- 
  4726						THIS TEST INSURES THAT THE C03 FLOP CLEARS WITH DIRECT RESET
  4727
  4728						RECOMMENDED DEBUG PROCEDURE
  4729						--------------------------- 
  4730						FAULTY REGISTER FLOP OR MUX FOR THIS BIT. REPLACE THE RG BOARD.
  4731						$
  4732					 	SALL
  4733
  4734	033304	201 01 0 00 000061 	TST61:	MOVEI	1,61		;GET THE TEST NUMBER
  4735	033305	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  4736
  4737	033306	260 17 0 00 060522 	T61SEL:	GO	DEVSEL		;GET NEXT DEVICE FOR TEST
  4738	033307	263 17 0 00 000000 		RTN			;TRIED ALL
  4739	033310	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  4740
  4741	033311	260 17 0 00 077352 	T61L:	GO	DEVREQ		;REQUEST THE DEVICE
  4742
  4743	033312	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  4744
  4745	033313	200 01 0 00 064603 		MOVE	1,[1B14!10]	;A 1 TO C03
  4746	033314	260 17 0 00 057410 		GO	LRPER1		;LOAD REG-02
  4747	033315	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4748
  4749	033316	260 17 0 00 060723 		GO	MSTCLR		;CLEAR C03 REG-02
  4750
  4751	033317	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  4752	033320	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  4753	033321	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4754	033322	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  4755
  4756	033323	602 01 0 00 000010 		TRNE	1,10		;IS C03 CLEAR
  4757	033324	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  4758	033325	027 00 0 00 033330 		SCOPE	TBL61		;CALL THE SCOPE ROUTINE
  4759	033326	254 00 0 00 033311 		JRST	T61L		;LOOP
  4760	033327	254 00 0 00 033306 		JRST	T61SEL		;CONTINUE
  4761
  4762					;SCOPE TABLE
  4763
  4764	033330	000000	062461		TBL61:	0,,REGPNT
  4765	033331	100000	064714			NOINH![ASCIZ/CAN'T DIRECT RESET C03 REG-02/]
  4766	033332	420000	077775			LAST!HIPROB!RG
  4767
  4768					 	XLIST
  4769					 	LIST
  4770						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-88
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TESTS                                                           SEQ 0284

  4771					S^;*********************************************************************^
  4772					;*TEST-62 CAUSE A PARITY ERROR. SEE IF IT'S DETECTED
  4773					S^;*********************************************************************^
  4774
  4775					COMMENT	$
  4776
  4777						TEST DESCRIPTION
  4778						---------------- 
  4779						THIS TESTS THE PARITY DETECTION LOGIC BY HAVING THE CONTROLLER
  4780						WRITE THE REGISTER WITH INCORRECT PARITY. C03 REG-02 SHOULD
  4781						SET SINCE IT IS THE PARITY ERROR FLOP.
  4782
  4783						RECOMMENDED DEBUG PROCEDURE
  4784						--------------------------- 
  4785						THERE IS A FAULTY C03 FLOP (RG0) OR PARITY GATING (RG5).
  4786						REPLACE THE RG BOARD.
  4787						$
  4788					 	SALL
  4789
  4790	033333	201 01 0 00 000062 	TST62:	MOVEI	1,62		;GET THE TEST NUMBER
  4791	033334	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  4792
  4793	033335	260 17 0 00 060522 	T62SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  4794	033336	263 17 0 00 000000 		RTN			;TRIED ALL
  4795	033337	255 00 0 00 000000 		JFCL			;NXT RDY. SET PRINTOUT MODE
  4796
  4797	033340	260 17 0 00 077352 	T62L:	GO	DEVREQ		;REQUEST THE DEVICE
  4798
  4799	033341	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  4800
  4801	033342	476 00 0 00 077313 		SETOM	PATFG		;WANT BAD PARITY
  4802
  4803	033343	200 01 0 00 064020 		MOVE	1,[1B14]	;WRITE ZEROS WITH INCORRECT PARITY
  4804	033344	260 17 0 00 057410 		GO	LRPER1		;WRITE WITH INCORRECT PARITY
  4805	033345	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4806
  4807	033346	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  4808	033347	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  4809	033350	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4810	033351	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  4811
  4812	033352	606 01 0 00 000010 		TRNN	1,10		;DID C03 SET?
  4813	033353	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  4814	033354	027 00 0 00 033357 		SCOPE	TBL62		;CALL THE SCOPE ROUTINE
  4815	033355	254 00 0 00 033340 		JRST	T62L		;LOOP
  4816	033356	254 00 0 00 033335 		JRST	T62SEL		;CONTINUE
  4817
  4818
  4819					;SCOPE TABLE
  4820
  4821	033357	000000	062461		TBL62:	0,,REGPNT
  4822	033360	100000	064722			NOINH![ASCIZ/WROTE RPER1 WITH 0'S AND INCORRECT PARITY/]
  4823	033361	100000	064733			NOINH![ASCIZ/BUT DRIVE DID NOT DETECT THE PARITY ERROR/]
  4824	033362	420000	077775			LAST!HIPROB!RG
  4825
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-89
DSRPA2	MAC	 2-Mar-79 10:47		VERIFY THAT GO BIT IS NOT STUCK ON A 1                                             SEQ 0285

  4826					SUBTTL	VERIFY THAT GO BIT IS NOT STUCK ON A 1
  4827					 	XLIST
  4828					 	LIST
  4829						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-90
DSRPA2	MAC	 2-Mar-79 10:47		VERIFY THAT GO BIT IS NOT STUCK ON A 1                                             SEQ 0286

  4830					S^;*********************************************************************^
  4831					;*TEST-63 GUARANTEE THAT GO BIT C00 REG-00 NOT STUCK 
  4832					S^;*********************************************************************^
  4833
  4834					COMMENT	$
  4835
  4836						TEST DESCRIPTION
  4837						---------------- 
  4838						MASTER RESET,READ,VERIFY THAT THE GO BIT IS NOT STUCK AT 1.
  4839						THIS IS A NECESSARY PREREQUISITE FOR TESTING C03 IN REG-03
  4840
  4841						RECOMMENDED DEBUG PROCEDURE
  4842						--------------------------- 
  4843						 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  4844						     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
  4845						     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  4846						     (TA0, TB0, TD0, TE0).
  4847						 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  4848						     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  4849						     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  4850						 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  4851						     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  4852						     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  4853						 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
  4854						     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
  4855						     DP BOARD.
  4856						 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
  4857						     IF THE ATA REGISTER IS SELECTED, REPLACE THE
  4858						     DP BOARD.
  4859						 6.  FAULTY GO BIT FLOP OR RESET LOGIC. REPLACE THE RG BOARD.
  4860						$
  4861					 	SALL
  4862
  4863	033363	201 01 0 00 000063 	TST63:	MOVEI	1,63		;GET THE TEST NUMBER
  4864	033364	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE NUMBER
  4865
  4866	033365	260 17 0 00 060522 	T63SEL:	GO	DEVSEL		;SELECT THE DEVICE
  4867	033366	263 17 0 00 000000 		RTN			;TRIED ALL
  4868	033367	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINOUT MODE
  4869
  4870	033370	260 17 0 00 077352 	T63L:	GO	DEVREQ		;REQUEST THE DEVICE
  4871
  4872	033371	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS AND GO BIT
  4873
  4874	033372	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  4875	033373	260 17 0 00 057576 		GO	RRPCS1		;READ REG-00
  4876	033374	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4877	033375	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  4878
  4879	033376	602 01 0 00 000001 		TRNE	1,1		;IS GO BIT SET?
  4880	033377	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  4881	033400	027 00 0 00 033403 		SCOPE	TBL63		;CALL THE SCOPE ROUTINE
  4882	033401	254 00 0 00 033370 		JRST	T63L		;LOOP
  4883	033402	254 00 0 00 033365 		JRST	T63SEL		;CONTINUE
  4884
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-91
DSRPA2	MAC	 2-Mar-79 10:47		VERIFY THAT GO BIT IS NOT STUCK ON A 1                                             SEQ 0287

  4885					;SCOPE TABLE
  4886
  4887	033403	000000	062461		TBL63:	0,,REGPNT
  4888	033404	100000	064744			NOINH![ASCIZ/RHCLR NOT RESETTING THE GO-BIT C00 REG-00/]
  4889	033405	400000	077775			HIPROB!RG
  4890	033406	600000	077771			LOPROB!DP
  4891	033407	600000	077661			LOPROB!TA
  4892	033410	620000	077701			LAST!LOPROB!TB
  4893
  4894					 	XLIST
  4895					 	LIST
  4896						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-92
DSRPA2	MAC	 2-Mar-79 10:47		VERIFY THAT GO BIT IS NOT STUCK ON A 1                                             SEQ 0288

  4897					S^;*********************************************************************^
  4898					;*TEST-64 VERIFY OPERATION OF C00 REG-03
  4899					S^;*********************************************************************^
  4900
  4901					COMMENT	$
  4902
  4903						TEST DESCRIPTION
  4904						---------------- 
  4905						TESTING THIS BIT IS A PRE-REQUISITE TEST FOR TESTING C03 REG-03.
  4906						THIS BIT (C00 REG-03) IS THE DIAGNOSTIC MAIN. MODE BIT. IT MUST BE
  4907						OPERATIONAL BEFORE OTHER BITS IN THE MAINT REGISTER CAN BE
  4908						TESTED. A GROUP OF 4 TESTS ARE PERFORMED TO VERIFY OPERATION
  4909						OF THIS BIT.
  4910						A.  WRITE A 1/READ/VERIFY	C00 IS A SET
  4911						B.  WRITE A 1/WRITE A 0/READ/VERIFY  C00 IS CLEAR
  4912						C.  WRITE A 0/WRITE A 1/READ/VERIFY  C00 IS SET
  4913						D.  WRITE A 1/RESET/READ/VERIFY	C00 IS CLEAR  
  4914
  4915						RECOMMENDED DEBUG PROCEDURE
  4916						--------------------------- 
  4917						MOST LIKELY THE FAULT IS ON THE RG BOARD SINCE ALL THE LOGIC
  4918						FOR THE C00 REG-03 BIT IS CONTAINED ON (RG6) AND (RG2). IF
  4919						REPLACING THE RG BOARD DOES NOT SOLVE THE PROBLEM, IT
  4920						IS LIKELY THAT A REGISTER SELECT PROBLEM HAS SHOWN UP SINCE
  4921						THIS IS FIRST TIME REG-03 HAS BEEN USED. THE FOLLOWING
  4922						PROCEDURE WILL FIND THE PROBLEM.
  4923						 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  4924						     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
  4925						     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  4926						     (TA0, TB0, TD0, TE0).
  4927						 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  4928						     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  4929						     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  4930						 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  4931						     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  4932						     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  4933						 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
  4934						     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
  4935						     DP BOARD.
  4936						 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
  4937						     IF THE ATA REGISTER IS SELECTED, REPLACE THE
  4938						     DP BOARD.
  4939						$
  4940					 	SALL
  4941
  4942	033411	201 01 0 00 000064 	TST64:	MOVEI	1,64		;GET THE TEST NUMBER
  4943	033412	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  4944
  4945	033413	260 17 0 00 060522 	T64SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  4946	033414	263 17 0 00 000000 		RTN			;ALL TESTED
  4947	033415	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  4948
  4949	033416	260 17 0 00 077352 	T64AL:	GO	DEVREQ		;REQUEST THE DEVICE
  4950
  4951	033417	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-93
DSRPA2	MAC	 2-Mar-79 10:47		VERIFY THAT GO BIT IS NOT STUCK ON A 1                                             SEQ 0289

  4952
  4953	033420	200 01 0 00 064447 		MOVE	1,[1B14!1]	;A 1 TO C00
  4954	033421	260 17 0 00 057413 		GO	LRPMR		;LOAD REGISTE 03
  4955	033422	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4956
  4957	033423	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  4958	033424	260 17 0 00 057607 		GO	RRPMR		;READ REGISTER 03
  4959	033425	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4960	033426	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  4961
  4962	033427	606 01 0 00 000001 		TRNN	1,1		;IS C00 SET?
  4963	033430	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  4964	033431	027 00 0 00 033515 		SCOPE	TBL64A		;CALL THE SCOPE ROUTINE
  4965	033432	254 00 0 00 033416 		JRST	T64AL		;LOOP
  4966	033433	255 00 0 00 000000 		JFCL			;CONTINUE. FALL INTO NXT TEST
  4967
  4968	033434	260 17 0 00 077352 	T64BL:	GO	DEVREQ		;REQUEST THE DEVICE
  4969
  4970	033435	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  4971
  4972	033436	200 01 0 00 064447 		MOVE	1,[1B14!1]	;A 1 TO C00
  4973	033437	260 17 0 00 057413 		GO	LRPMR		;LOAD REG-03
  4974	033440	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4975
  4976	033441	200 01 0 00 064020 		MOVE	1,[1B14!0]	;A 0 TO C00
  4977	033442	260 17 0 00 057413 		GO	LRPMR		;LOAD REG-03
  4978	033443	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4979
  4980	033444	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  4981	033445	260 17 0 00 057607 		GO	RRPMR		;READ REG-03
  4982	033446	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4983	033447	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  4984
  4985	033450	602 01 0 00 000001 		TRNE	1,1		;IS C00 CLEAR?
  4986	033451	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  4987	033452	027 00 0 00 033520 		SCOPE	TBL64B		;CALL SCOPE ROUTINE
  4988	033453	254 00 0 00 033434 		JRST	T64BL		;LOOP
  4989	033454	255 00 0 00 000000 		JFCL			;CONTINUE. FALL INTO NEXT TEST
  4990
  4991	033455	260 17 0 00 077352 	T64CL:	GO	DEVREQ		;REQUEST A DEVICE
  4992
  4993	033456	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  4994
  4995	033457	205 01 0 00 000010 		MOVSI	1,(1B14)	;A 0 TO C00
  4996	033460	260 17 0 00 057413 		GO	LRPMR		;LOAD REG-03
  4997	033461	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  4998
  4999	033462	200 01 0 00 064447 		MOVE	1,[1B14!1]	;A 1 TO C00
  5000	033463	260 17 0 00 057413 		GO	LRPMR		;LOAD REG-03
  5001	033464	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5002
  5003	033465	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  5004	033466	260 17 0 00 057607 		GO	RRPMR		;READ REG-03
  5005	033467	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5006	033470	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-94
DSRPA2	MAC	 2-Mar-79 10:47		VERIFY THAT GO BIT IS NOT STUCK ON A 1                                             SEQ 0290

  5007
  5008	033471	606 01 0 00 000001 		TRNN	1,1		;IS C00 SET?
  5009	033472	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  5010	033473	027 00 0 00 033515 		SCOPE	TBL64C		;CALL SCOPE ROUTINE
  5011	033474	254 00 0 00 033455 		JRST	T64CL		;LOOP
  5012	033475	255 00 0 00 000000 		JFCL			;CONTINUE. FALL INTO NEXT TEST
  5013
  5014	033476	260 17 0 00 077352 	T64DL:	GO	DEVREQ		;REQUEST A DEVICE
  5015
  5016	033477	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  5017
  5018	033500	200 01 0 00 064447 		MOVE	1,[1B14!1]	;A 1 TO C00
  5019	033501	260 17 0 00 057413 		GO	LRPMR		;LOAD REG-03
  5020	033502	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5021
  5022	033503	260 17 0 00 060723 		GO	MSTCLR		;SHOULD CLEAR C00 REG-03
  5023
  5024	033504	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  5025	033505	260 17 0 00 057607 		GO	RRPMR		;READ REG-03
  5026	033506	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5027	033507	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  5028
  5029	033510	602 01 0 00 000001 		TRNE	1,1		;IS C00 CLEAR?
  5030	033511	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  5031	033512	027 00 0 00 033523 		SCOPE	TBL64D		;CALL SCOPE ROUTINE
  5032	033513	254 00 0 00 033476 		JRST	T64DL		;LOOP
  5033	033514	254 00 0 00 033413 		JRST	T64SEL		;CONTINUE
  5034
  5035					;SCOPE TABLES
  5036
  5037	033515				TBL64A:
  5038	033515	000000	062461		TBL64C:	0,,REGPNT
  5039	033516	100000	064755			NOINH![ASCIZ/CAN'T WRITE A 1 TO C00 REG-03/]
  5040	033517	040000	033525			GOTO!TBL64E
  5041	033520	000000	062461		TBL64B:	0,,REGPNT
  5042	033521	100000	064763			NOINH![ASCIZ/CAN'T WRITE A 0 TO C00 REG-03/]
  5043	033522	040000	033525			GOTO!TBL64E
  5044	033523	000000	062461		TBL64D:	0,,REGPNT
  5045	033524	100000	064771			NOINH![ASCIZ/RHCLR DOES NOT RESET C00 REG-03/]
  5046	033525	400000	077775		TBL64E:	HIPROB!RG
  5047	033526	600000	077771			LOPROB!DP
  5048	033527	600000	077661			LOPROB!TA
  5049	033530	620000	077701			LAST!LOPROB!TB
  5050
  5051					 	XLIST
  5052					 	LIST
  5053						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-95
DSRPA2	MAC	 2-Mar-79 10:47		VERIFY THAT GO BIT IS NOT STUCK ON A 1                                             SEQ 0291

  5054					S^;*********************************************************************^
  5055					;*TEST-65 RESET/WRITE 1'S/READ/VERIFY C01-C04
  5056					S^;*********************************************************************^
  5057
  5058					COMMENT	$
  5059
  5060						TEST DESCRIPTION
  5061						---------------- 
  5062						THIS TEST WILL CATCH REGISTER SELECT FAILURES BECAUSE WRITING C01-C04
  5063						SHOULD NOT CAUSE ANY BITS TO SET SINCE THE DIAGNOSTIC BIT IS CLEAR.
  5064
  5065						RECOMMENDED DEBUG PROCEDURE
  5066						--------------------------- 
  5067						 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  5068						     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
  5069						     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  5070						     (TA0, TB0, TD0, TE0).
  5071						 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  5072						     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  5073						     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  5074						 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  5075						     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  5076						     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  5077						 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
  5078						     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
  5079						     DP BOARD.
  5080						 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
  5081						     IF THE ATA REGISTER IS SELECTED, REPLACE THE
  5082						     DP BOARD.
  5083						 6.  THERE IS A PROBLEM WITH THE REG-03 LOGIC. THE MUX IS BAD
  5084						     OR THE FLOPS ARE IGNORING THE RESET INPUT. REPLACE
  5085						     THE RG BOARD.
  5086						$
  5087					 	SALL
  5088
  5089	033531	201 01 0 00 000065 	TST65:	MOVEI	1,65		;GET THE TEST NUMBER
  5090	033532	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  5091
  5092	033533	260 17 0 00 060522 	T65SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  5093	033534	263 17 0 00 000000 		RTN			;TRIED ALL
  5094	033535	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  5095
  5096	033536	260 17 0 00 077352 	T65L:	GO	DEVREQ		;REQUEST THE DEVICE
  5097
  5098	033537	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ALL ERRORS
  5099
  5100	033540	200 01 0 00 065000 		MOVE	1,[1B14!36]	;1'S TO C01-C04
  5101	033541	260 17 0 00 057413 		GO	LRPMR		;LOAD REGISTER 03
  5102	033542	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5103
  5104	033543	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  5105	033544	260 17 0 00 057607 		GO	RRPMR		;READ REG-03
  5106	033545	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5107	033546	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  5108
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-96
DSRPA2	MAC	 2-Mar-79 10:47		VERIFY THAT GO BIT IS NOT STUCK ON A 1                                             SEQ 0292

  5109	033547	602 01 0 00 000036 		TRNE	1,36		;ARE C00-C04 CLEAR
  5110	033550	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  5111	033551	027 00 0 00 033554 		SCOPE	TBL65		;CALL SCOPE ROUTINE
  5112	033552	254 00 0 00 033536 		JRST	T65L		;LOOP
  5113	033553	254 00 0 00 033533 		JRST	T65SEL		;CONTINUE
  5114
  5115					;SCOPE TABLE
  5116
  5117	033554	000000	062461		TBL65:	0,,REGPNT
  5118	033555	100000	065001			NOINH![ASCIZ/WRITING C01-C04 (REG-03) WITH ONES WHILE C00 IS 0/]
  5119	033556	100000	065013			NOINH![ASCIZ/SHOULD NOT SET ANY BITS C01-C04 AND IT DID/]
  5120	033557	400000	077775			HIPROB!RG
  5121	033560	600000	077771			LOPROB!DP
  5122	033561	600000	077661			LOPROB!TA
  5123	033562	620000	077701			LAST!LOPROB!TB
  5124
  5125					 	XLIST
  5126					 	LIST
  5127						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-97
DSRPA2	MAC	 2-Mar-79 10:47		VERIFY THAT GO BIT IS NOT STUCK ON A 1                                             SEQ 0293

  5128					S^;*********************************************************************^
  5129					;*TEST-66 VERIFY COMPLETE OPERATION OF C01-C04 REG-03
  5130					S^;*********************************************************************^
  5131
  5132					COMMENT	$
  5133
  5134						TEST DESCRIPTION
  5135						---------------- 
  5136						THE 4 SUBTESTS CHECK COMPLETE OPERATION OF C01-C04 OF REG-03,
  5137						IN CONJUNCTION WITH THE MAINT MODE BIT C00 REG-03.
  5138						A.  SET M-M BIT (M-M = MAINT MODE BIT C00)
  5139						    WRITE 1'S TO C01-C04/READ/VERIFY
  5140						B.  SET M-M BIT
  5141						    WRITE 0'S TO C01-C04/READ/VERIFY
  5142						C.  SET M-M BIT
  5143						    WRITE 0'S/WRITE 1'S/READ/VERIFY C01-C04
  5144						D.  SET M-M BIT
  5145						    WRITE 1'S/RESET/READ/VERIFY C01-C04
  5146
  5147						RECOMMENDED DEBUG PROCEDURE
  5148						--------------------------- 
  5149						NONE.
  5150						$
  5151					 	SALL
  5152
  5153	033563	201 01 0 00 000066 	TST66:	MOVEI	1,66		;GET THE TEST NUMBER
  5154	033564	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  5155
  5156	033565	260 17 0 00 060522 	T66SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  5157	033566	263 17 0 00 000000 		RTN			;TRIED ALL
  5158	033567	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  5159
  5160	033570	260 17 0 00 077352 	T66AL:	GO	DEVREQ		;CLEAR ERRORS
  5161
  5162	033571	200 01 0 00 064447 		MOVE	1,[1B14!1]	;SET M-M BIT
  5163	033572	260 17 0 00 057413 		GO	LRPMR		;LOAD REG-03
  5164	033573	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5165
  5166	033574	200 01 0 00 065024 		MOVE	1,[1B14!37]	;1'S TO C01-C04 & MM BIT
  5167	033575	260 17 0 00 057413 		GO	LRPMR		;LOAD REG-03
  5168	033576	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5169
  5170	033577	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  5171	033600	260 17 0 00 057607 		GO	RRPMR		;READ REG-03
  5172	033601	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5173	033602	260 17 0 00 060752 		GO	CPARER		;PARITY
  5174
  5175	033603	460 00 0 00 000001 		SETCM	0,1		;COMP DATA TO AC0
  5176	033604	602 00 0 00 000036 		TRNE	0,36		;DID C01 TO C04 SET
  5177	033605	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  5178	033606	027 00 0 00 033701 		SCOPE	TBL66A		;CALL SCOPE ROUTINE
  5179	033607	254 00 0 00 033570 		JRST	T66AL		;LOOP
  5180	033610	255 00 0 00 000000 		JFCL			;CONTINUE. FALL INTO NEXT TEST
  5181
  5182	033611	260 17 0 00 077352 	T66BL:	GO	DEVREQ		;REQUEST A DEVICE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-98
DSRPA2	MAC	 2-Mar-79 10:47		VERIFY THAT GO BIT IS NOT STUCK ON A 1                                             SEQ 0294

  5183
  5184	033612	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  5185
  5186	033613	200 01 0 00 064447 		MOVE	1,[1B14!1]	;SET M-M BIT
  5187	033614	260 17 0 00 057413 		GO	LRPMR		;LOAD REG-03
  5188	033615	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5189
  5190	033616	200 01 0 00 064447 		MOVE	1,[1B14!1]	;0'S TO C01-C04
  5191	033617	260 17 0 00 057413 		GO	LRPMR		;LOAD REG-03
  5192	033620	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5193
  5194	033621	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  5195	033622	260 17 0 00 057607 		GO	RRPMR		;READ REG-03
  5196	033623	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5197	033624	260 17 0 00 060752 		GO	CPARER		;PARITY ERRORS
  5198
  5199	033625	602 01 0 00 000036 		TRNE	1,36		;ARE C01-C04 CLEAR
  5200	033626	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  5201	033627	027 00 0 00 033704 		SCOPE	TBL66B		;CALL SCOPE ROUTINE
  5202	033630	254 00 0 00 033611 		JRST	T66BL		;LOOP
  5203	033631	255 00 0 00 000000 		JFCL			;CONTINUE. FALL INTO NEXT TEST
  5204
  5205	033632	260 17 0 00 077352 	T66CL:	GO	DEVREQ		;REQUEST A DEVICE
  5206
  5207	033633	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  5208
  5209	033634	200 01 0 00 064447 		MOVE	1,[1B14!1]	;SET M-M BIT
  5210	033635	260 17 0 00 057413 		GO	LRPMR		;LOAD REG-03
  5211	033636	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5212
  5213	033637	200 01 0 00 064447 		MOVE	1,[1B14!1]	;0'S TO C01-C04
  5214	033640	260 17 0 00 057413 		GO	LRPMR		;LOAD REG-03
  5215	033641	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5216
  5217	033642	200 01 0 00 065024 		MOVE	1,[1B14!37]	;1'S TO C01-C04 & MM BIT
  5218	033643	260 17 0 00 057413 		GO	LRPMR		;LOAD REG-03
  5219	033644	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5220
  5221	033645	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  5222	033646	260 17 0 00 057607 		GO	RRPMR		;READ REG-03
  5223	033647	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5224	033650	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  5225
  5226	033651	460 00 0 00 000001 		SETCM	0,1		;COMP DATA TO AC0
  5227	033652	602 00 0 00 000036 		TRNE	0,36		;WERE C01-C04 SET
  5228	033653	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  5229	033654	027 00 0 00 033701 		SCOPE	TBL66CL		;CALL SCOPE ROUTINE
  5230	033655	254 00 0 00 033632 		JRST	T66CL		;LOOP
  5231	033656	255 00 0 00 000000 		JFCL			;CONTINUE. FALL INTO NEXT TEST
  5232
  5233	033657	260 17 0 00 077352 	T66DL:	GO	DEVREQ		;REQUEST THE DEVICE
  5234
  5235	033660	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  5236
  5237	033661	200 01 0 00 064447 		MOVE	1,[1B14!1]	;SET M-M BITS
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-99
DSRPA2	MAC	 2-Mar-79 10:47		VERIFY THAT GO BIT IS NOT STUCK ON A 1                                             SEQ 0295

  5238	033662	260 17 0 00 057413 		GO	LRPMR		;LOAD REG-03
  5239	033663	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5240
  5241	033664	200 01 0 00 065024 		MOVE	1,[1B14!37]	;1'S TO C01-C04 & M-M BIT
  5242	033665	260 17 0 00 057413 		GO	LRPMR		;LOAD REG-03
  5243	033666	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5244
  5245	033667	260 17 0 00 060723 		GO	MSTCLR		;THIS RESETS M-M BIT
  5246
  5247	033670	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  5248	033671	260 17 0 00 057607 		GO	RRPMR		;READ REG-03
  5249	033672	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5250	033673	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  5251
  5252	033674	602 01 0 00 000036 		TRNE	1,36		;ARE C01-C04 CLEAR
  5253	033675	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  5254	033676	027 00 0 00 033707 		SCOPE	TBL66D		;CALL THE SCOPE ROUTINE
  5255	033677	254 00 0 00 033657 		JRST	T66DL		;LOOP
  5256	033700	254 00 0 00 033565 		JRST	T66SEL		;CONTINUE
  5257
  5258					;SCOPE TABLE
  5259
  5260	033701				TBL66A:
  5261	033701	000000	062461		TBL66C:	0,,REGPNT
  5262	033702	100000	065025			NOINH![ASCIZ/CAN'T WRITE 1'S TO C01-C04 REG-03/]
  5263	033703	040000	033711			GOTO!TBL66E
  5264	033704	000000	062461		TBL66B:	0,,REGPNT
  5265	033705	100000	065034			NOINH![ASCIZ/CAN'T WRITE 0'S TO C01-C04 REG-03/]
  5266	033706	040000	033711			GOTO!TBL66E
  5267	033707	000000	062461		TBL66D:	0,,REGPNT
  5268	033710	100000	065043			NOINH![ASCIZ/RESET NOT CLEARING C01-C04 REG-03/]
  5269	033711	420000	077775		TBL66E:	LAST!HIPROB!RG
  5270
  5271					SUBTTL	TEST PARTIAL OPERATION OF C03 REG-05
  5272					 	XLIST
  5273					 	LIST
  5274						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-100
DSRPA2	MAC	 2-Mar-79 10:47		TEST PARTIAL OPERATION OF C03 REG-05                                               SEQ 0296

  5275					S^;*********************************************************************^
  5276					;*TEST-67 PARTIAL TEST OF C03 REG-05
  5277					S^;*********************************************************************^
  5278
  5279					COMMENT	$
  5280
  5281						TEST DESCRIPTION
  5282						---------------- 
  5283						THIS TEST IS ESSENTIALLY TO GET C03 REG-05 READABLE AND WRITEABLE
  5284						SO THE BIT CAN BE USED LATER IN REGISTER SELECTION TESTS. THE
  5285						RESET TEST FOR THIS FLOP WILL BE DONE LATER. THIS TEST COULD
  5286						TURN UP REGISTER SELECT PROBLEMS SINCE THIS IS THE FIRST TIME
  5287						WE ARE ADDRESSING REGISTER 05. THIS TEST IS COMPRISED OF THE
  5288						FOLLOWING 3 SUBTESTS.
  5289						A.  WRITE A 1/READ/VERIFY	C03
  5290						B.  WRITE A 1/WRITE A 0/READ/VERIFY	C03
  5291						C.  WRITE A 0/WRITE A 1/READ/VERIFY	C03	
  5292
  5293						RECOMMENDED DEBUG PROCEDURE
  5294						--------------------------- 
  5295						START AT STEP-6 TO SAVE TIME. IF IT FAILS, GO BACK TO STEP-1
  5296						WITHOUT REPLACING ANYTHING.
  5297						 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  5298						     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
  5299						     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  5300						     (TA0, TB0, TD0, TE0).
  5301						 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  5302						     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  5303						     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  5304						 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  5305						     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  5306						     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  5307						 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
  5308						     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
  5309						     DP BOARD.
  5310						 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
  5311						     IF THE ATA REGISTER IS SELECTED, REPLACE THE
  5312						     DP BOARD.
  5313						 6.  CHECK THE OUTPUT OF THE C03 FLOP (SS3) IF CORRECT, REPLACE
  5314						     THE SS BOARD. THERE IS A FAULTY MUX (SS6)
  5315						 7.  REPLACE THE SS BOARD. THE FLOP IS BEING HELD. RESET OR IS
  5316						     NOT GETTING CLOCKED.
  5317						$
  5318					 	SALL
  5319
  5320	033712	201 01 0 00 000067 	TST67:	MOVEI	1,67		;GET THE TEST NUMBER
  5321	033713	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  5322
  5323	033714	260 17 0 00 060522 	T67SEL:	GO	DEVSEL		;SELECT NEXT DEVICE
  5324	033715	263 17 0 00 000000 		RTN			;TRIED ALL
  5325	033716	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  5326
  5327	033717	260 17 0 00 077352 	T67AL:	GO	DEVREQ		;REQUEST A DEVICE
  5328
  5329	033720	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-101
DSRPA2	MAC	 2-Mar-79 10:47		TEST PARTIAL OPERATION OF C03 REG-05                                               SEQ 0297

  5330
  5331	033721	200 01 0 00 064603 		MOVE	1,[1B14!10]	;A 1 TO C03
  5332	033722	260 17 0 00 057421 		GO	LRPDA		;LOAD REG-05
  5333	033723	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5334
  5335	033724	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  5336	033725	260 17 0 00 057615 		GO	RRPDA		;READ REG-05
  5337	033726	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5338	033727	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  5339
  5340	033730	606 01 0 00 000010 		TRNN	1,10		;IS C03 SET?
  5341	033731	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  5342	033732	027 00 0 00 033777 		SCOPE	TBL67A		;CALL THE SCOPE ROUTINE
  5343	033733	254 00 0 00 033717 		JRST	T67AL		;LOOP
  5344	033734	255 00 0 00 000000 		JFCL			;CONTINUE. FALL INTO NXT TEST
  5345
  5346	033735	260 17 0 00 077352 	T67BL:	GO	DEVREQ		;REQUEST THE DEVICE
  5347
  5348	033736	260 17 0 00 060723 		GO	MSTCLR		;CLEAR PREVIOUS ERRORS
  5349
  5350	033737	200 01 0 00 064603 		MOVE	1,[1B14!10]	;A 1 TO C03
  5351	033740	260 17 0 00 057421 		GO	LRPDA		;LOAD REG-05
  5352	033741	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5353
  5354	033742	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  5355	033743	260 17 0 00 057421 		GO	LRPDA		;LOAD REG-05
  5356	033744	260 17 0 00 060733 		GO 	CBTOER		;HANDSHAKE FAILURE
  5357
  5358	033745	205 01 0 00 000010 		MOVSI	1,(1B14)	;A 0 TO C03
  5359	033746	260 17 0 00 057615 		GO	RRPDA		;READ REG-05
  5360	033747	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5361	033750	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  5362
  5363	033751	602 01 0 00 000010 		TRNE	1,10		;IS C03 CLEAR
  5364	033752	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  5365	033753	027 00 0 00 034002 		SCOPE	TBL67B		;CALL SCOPE ROUTINE
  5366	033754	254 00 0 00 033735 		JRST	T67BL		;LOOP
  5367	033755	255 00 0 00 000000 		JFCL			;CONTINUE. FALL TO NXT TEST
  5368
  5369	033756	260 17 0 00 077352 	T67CL:	GO	DEVREQ		;REQUEST A DEVICE
  5370
  5371	033757	260 17 0 00 060723 		GO	MSTCLR		;CLEAR PREVIOUS ERRORS
  5372
  5373	033760	205 01 0 00 000010 		MOVSI	1,(1B14)	;A 0 TO C03
  5374	033761	260 17 0 00 057421 		GO	LRPDA		;LOAD REG-05
  5375	033762	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5376
  5377	033763	200 01 0 00 064603 		MOVE	1,[1B14!10]	;A 1 TO C03
  5378	033764	260 17 0 00 057421 		GO	LRPDA		;LOAD REG-05
  5379	033765	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5380
  5381	033766	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  5382	033767	260 17 0 00 057615 		GO	RRPDA		;READ REG-05
  5383	033770	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5384	033771	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-102
DSRPA2	MAC	 2-Mar-79 10:47		TEST PARTIAL OPERATION OF C03 REG-05                                               SEQ 0298

  5385
  5386	033772	606 01 0 00 000010 		TRNN	1,10		;IS C03 SET?
  5387	033773	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  5388	033774	027 00 0 00 033777 		SCOPE	TBL67C		;CALL SCOPE ROUTINE
  5389	033775	254 00 0 00 033756 		JRST	T67CL		;LOOP
  5390	033776	254 00 0 00 033714 		JRST	T67SEL		;CONTINUE
  5391
  5392					;SCOPE TABLE
  5393
  5394	033777				TBL67A:
  5395	033777	000000	062461		TBL67C:	0,,REGPNT
  5396	034000	100000	065052			NOINH![ASCIZ/CAN'T WRITE A 1 TO C03 REG-05/]
  5397	034001	040000	034004			GOTO!TBL67D
  5398	034002	000000	062461		TBL67B:	0,,REGPNT
  5399	034003	100000	065060			NOINH![ASCIZ/CAN'T WRITE A 0 TO REG-05/]
  5400	034004	400000	077765		TBL67D:	HIPROB!SS
  5401	034005	400000	077775			HIPROB!RG
  5402	034006	600000	077771			LOPROB!DP
  5403	034007	600000	077661			LOPROB!TA
  5404	034010	620000	077701			LAST!LOPROB!TB
  5405
  5406					SUBTTL	TEST PARTIAL OPERATION OF C03 REG-12
  5407					 	XLIST
  5408					 	LIST
  5409						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-103
DSRPA2	MAC	 2-Mar-79 10:47		TEST PARTIAL OPERATION OF C03 REG-12                                               SEQ 0299

  5410					S^;*********************************************************************^
  5411					;*TEST-70 PARTIAL TEST OF C03 REG-12
  5412					S^;*********************************************************************^
  5413
  5414					COMMENT	$
  5415
  5416						TEST DESCRIPTION
  5417						---------------- 
  5418						THIS TEST IS TO VERIFY THAT C03 IS READABLE AND WRITEABLE SO THE
  5419						BIT CAN LATER BE USED TO TEST REGISTER SELECTION LOGIC. THIS TEST
  5420						COULD IDENTIFY REGISTER SELECT PROBLEMS SINCE THIS IS THE FIRST TIME
  5421						REGISTER 12 IS ADDRESSED. THE TEST IS COMPRISED OF THE FOLLOWING
  5422						3 SUBTESTS:
  5423						A.  WRITE A 1/READ/VERIFY	C03
  5424						B.  WRITE A 1/WRITE A 0/READ/VERIFY	C03
  5425						C.  WRITE A 0/WRITE A 1/READ/VERIFY	C03	
  5426
  5427						RECOMMENDED DEBUG PROCEDURE
  5428						--------------------------- 
  5429						START AT STEP-6 TO SAVE TIME. IF IT FAILS, GO BACK TO STEP-1
  5430						WITHOUT REPLACING ANYTHING.
  5431						 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  5432						     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
  5433						     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  5434						     (TA0, TB0, TD0, TE0).
  5435						 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  5436						     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  5437						     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  5438						 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  5439						     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  5440						     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  5441						 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
  5442						     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
  5443						     DP BOARD.
  5444						 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
  5445						     IF THE ATA REGISTER IS SELECTED, REPLACE THE
  5446						     DP BOARD.
  5447						 6.  CHECK THE OUTPUT OF THE C03 REG-12 FLOP (SS1). IF CORRECT,
  5448						     REPLACE THE SS BOARD THE MUX ON SS6 MUST BE FAULTY.
  5449						 7.  SIGNAL "SS3 CLR TRK H" OR LOGIC THAT CLOCKS REGISTER-12
  5450						     IS INCORRECT. REPLACE THE SS BOARD.
  5451						 8.  SIGNAL "RG3 READ IN L" IS INCORRECT HOLDING THE FLOP RESET.
  5452						     REPLACE THE RG BOARD
  5453						  9.  BAD C03 REG-12 FLOP. REPLACE THE SS BOARD.
  5454						$
  5455					 	SALL
  5456
  5457	034011	201 01 0 00 000070 	TST70:	MOVEI	1,70		;GET THE TEST NUMBER
  5458	034012	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE.
  5459
  5460	034013	260 17 0 00 060522 	T70SEL:	GO	DEVSEL		;SELECT DEVICE FOR TEST
  5461	034014	263 17 0 00 000000 		RTN			;TRIED ALL
  5462	034015	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  5463
  5464	034016	260 17 0 00 077352 	T70AL:	GO	DEVREQ		;REQUEST A DEVICE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-104
DSRPA2	MAC	 2-Mar-79 10:47		TEST PARTIAL OPERATION OF C03 REG-12                                               SEQ 0300

  5465
  5466	034017	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  5467
  5468	034020	200 01 0 00 064603 		MOVE	1,[1B14!10]	;A 1 TO C03
  5469	034021	260 17 0 00 057440 		GO	LRPDC		;LOAD REG-12
  5470	034022	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5471
  5472	034023	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  5473	034024	260 17 0 00 057634 		GO	RRPDC		;READ REG-12
  5474	034025	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5475	034026	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  5476
  5477	034027	606 01 0 00 000010 		TRNN	1,10		;IS C03 SET
  5478	034030	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  5479	034031	027 00 0 00 034076 		SCOPE	TBL70A		;CALL SCOPE ROUTINE
  5480	034032	254 00 0 00 034016 		JRST	T70AL		;LOOP
  5481	034033	255 00 0 00 000000 		JFCL			;CONTINUE. FALL TO NXT TEST
  5482
  5483	034034	260 17 0 00 077352 	T70BL:	GO	DEVREQ		;REQUEST THE DEVICE
  5484
  5485	034035	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  5486
  5487	034036	200 01 0 00 064603 		MOVE	1,[1B14!10]	;A 1 TO C03
  5488	034037	260 17 0 00 057440 		GO	LRPDC		;WRITE REG-12
  5489	034040	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5490
  5491	034041	205 01 0 00 000010 		MOVSI	1,(1B14)	;A 0 TO C03
  5492	034042	260 17 0 00 057440 		GO	LRPDC		;LOAD REG-12
  5493	034043	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5494
  5495	034044	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  5496	034045	260 17 0 00 057634 		GO	RRPDC		;READ REG-12
  5497	034046	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5498	034047	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  5499
  5500	034050	602 01 0 00 000010 		TRNE	1,10		;DID C03 CLEAR
  5501	034051	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  5502	034052	027 00 0 00 034101 		SCOPE	TBL70B		;CALL SCOPE ROUTINE
  5503	034053	254 00 0 00 034034 		JRST	T70BL		;LOOP
  5504	034054	255 00 0 00 000000 		JFCL			;CONTINUE. FALL TO NXT TEST
  5505
  5506	034055	260 17 0 00 077352 	T70CL:	GO	DEVREQ		;REQUEST A DEVICE
  5507
  5508	034056	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  5509
  5510	034057	205 01 0 00 000010 		MOVSI	1,(1B14)	;A 0 TO C03
  5511	034060	260 17 0 00 057440 		GO	LRPDC		;LOAD REGISTER 12
  5512	034061	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5513
  5514	034062	200 01 0 00 064603 		MOVE	1,[1B14!10]	;A 1 TO C03
  5515	034063	260 17 0 00 057440 		GO	LRPDC		;LOAD REG-12
  5516	034064	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5517
  5518	034065	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  5519	034066	260 17 0 00 057634 		GO	RRPDC		;READ REG-12
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-105
DSRPA2	MAC	 2-Mar-79 10:47		TEST PARTIAL OPERATION OF C03 REG-12                                               SEQ 0301

  5520	034067	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5521	034070	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  5522
  5523	034071	606 01 0 00 000010 		TRNN	1,10		;IS C03 SET
  5524	034072	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  5525	034073	027 00 0 00 034076 		SCOPE	TBL70C		;CALL SCOPE ROUTINE
  5526	034074	254 00 0 00 034055 		JRST	T70CL		;LOOP
  5527	034075	254 00 0 00 034013 		JRST	T70SEL		;CONTINUE
  5528
  5529					;SCOPE TABLE
  5530
  5531	034076				TBL70A:
  5532	034076	000000	062461		TBL70C:	0,,REGPNT
  5533	034077	100000	065066			NOINH![ASCIZ/CAN'T WRITE A 1 TO C03 REG-12/]
  5534	034100	040000	034103			GOTO!TBL70D
  5535	034101	000000	062461		TBL70B:	0,,REGPNT
  5536	034102	100000	065074			NOINH![ASCIZ/CAN'T WRITE A 0 TO C03 REG-12/]
  5537	034103	400000	077765		TBL70D:	HIPROB!SS
  5538	034104	400000	077775			HIPROB!RG
  5539	034105	600000	077771			LOPROB!DP
  5540	034106	600000	077661			LOPROB!TA
  5541	034107	620000	077701			LAST!LOPROB!TB
  5542
  5543					SUBTTL	VERIFY OPERATION OF C03 REG-14
  5544					 	XLIST
  5545					 	LIST
  5546						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-106
DSRPA2	MAC	 2-Mar-79 10:47		VERIFY OPERATION OF C03 REG-14                                                     SEQ 0302

  5547					S^;*********************************************************************^
  5548					;*TEST-71 VERIFY THAT C03 REG-14 IS NOT STUCK AT 1
  5549					S^;*********************************************************************^
  5550
  5551					COMMENT	$
  5552
  5553						TEST DESCRIPTION
  5554						---------------- 
  5555						ISSUE A RESET AND VERIFY THAT C03 REG-14 IS NOT STUCK IN THE SET
  5556						STATUE OR BEING HELD SET BY A PERSISTANT (CURRENT SWITCH UNSAFE)
  5557						ERROR FROM THE MEMOREX LOGIC.
  5558
  5559						RECOMMENDED DEBUG PROCEDURE
  5560						--------------------------- 
  5561						 1.  CHECK THE LEVEL AT J1-18 (MB0) IT SHOULD BE HIGH. IF IT IS,
  5562						     THE PROBLEM IS A DCL PROBLEM AND REPLACING EC AND MB
  5563						     BOARDS WILL SOLVE THE PROBLEM.
  5564						 2.  J1-18 BEING LOW INDICATES AN MEMOREX LOGIC FAULT. THE PROBLEM
  5565						     CAN BE TRACED BACKWARDS THRU THE MEMOREX LOGIC USING A SCOPE
  5566						$
  5567					 	SALL
  5568
  5569	034110	201 01 0 00 000071 	TST71:	MOVEI	1,71		;GET THE TEST NUMBER
  5570	034111	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  5571
  5572	034112	260 17 0 00 060522 	T71SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  5573	034113	263 17 0 00 000000 		RTN			;TRIED ALL
  5574	034114	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  5575
  5576	034115	260 17 0 00 077352 	T71L:	GO	DEVREQ		;REQUEST A DEVICE
  5577
  5578	034116	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  5579
  5580	034117	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  5581	034120	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  5582	034121	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5583	034122	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  5584
  5585	034123	602 01 0 00 000010 		TRNE	1,10		;IS C03 CLEAR
  5586	034124	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  5587	034125	027 00 0 00 034130 		SCOPE	TBL71		;CALL SCOPE ROUTINE
  5588	034126	254 00 0 00 034115 		JRST	T71L		;LOOP
  5589	034127	254 00 0 00 034112 		JRST	T71SEL		;CONTINUE
  5590
  5591
  5592					;SCOPE TABLE
  5593
  5594	034130	000000	062461		TBL71:	0,,REGPNT
  5595	034131	100000	065102			NOINH![ASCIZ/C03 REG-14 APPEARS STUCK AT A 1/]
  5596	034132	100000	065111			NOINH![ASCIZ/CAUSING A PERSISTANT "CSU" ERROR/]
  5597	034133	400000	077755			HIPROB!EC
  5598	034134	400000	077747			HIPROB!MB
  5599	034135	600000	100123			LOPROB!D17
  5600	034136	600000	100143			LOPROB!D20
  5601	034137	620000	100046			LAST!LOPROB!D02
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-107
DSRPA2	MAC	 2-Mar-79 10:47		VERIFY OPERATION OF C03 REG-14                                                     SEQ 0303

  5602
  5603					 	XLIST
  5604					 	LIST
  5605						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-108
DSRPA2	MAC	 2-Mar-79 10:47		VERIFY OPERATION OF C03 REG-14                                                     SEQ 0304

  5606					S^;*********************************************************************^
  5607					;*TEST-72 VERIFY COMPLETE OPERATION OF C03 REG-14
  5608					S^;*********************************************************************^
  5609
  5610					COMMENT	$
  5611
  5612						TEST DESCRIPTION
  5613						---------------- 
  5614						THIS TEST IS COMPRISED OF A SERIES OF 4 SUBTESTS TO INSURE
  5615						THAT THE BIT IS WORKING PROPERLY AND CAN BE USED
  5616						IN REGISTER SELECT TESTS. THE SUBTESTS ARE:
  5617						A.  WRITE A 1/READ/VERIFY	C03
  5618						B.  WRITE A 1/WRITE A 0/READ/VERIFY	C03
  5619						C.  WRITE A 0/WRITE A 1/READ/VERIFY	C03
  5620						D.  WRITE A 1/RESET/READ/VERIFY	C03	
  5621
  5622						RECOMMENDED DEBUG PROCEDURE
  5623						--------------------------- 
  5624						$
  5625					 	SALL
  5626
  5627	034140	201 01 0 00 000072 	TST72:	MOVEI	1,72		;GET THE TEST NUMBER
  5628	034141	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  5629
  5630	034142	260 17 0 00 060522 	T72SEL:	GO	DEVSEL		;SELECT A DEVICE
  5631	034143	263 17 0 00 000000 		RTN			;TRIED ALL
  5632	034144	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  5633
  5634	034145	260 17 0 00 077352 	T72AL:	GO	DEVREQ		;REQUEST A DEVICE
  5635
  5636	034146	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  5637
  5638	034147	200 01 0 00 064603 		MOVE	1,[1B14!10]	;A 1 TO C03
  5639	034150	260 17 0 00 057446 		GO	LRPER2		;LOAD REG-14
  5640	034151	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5641
  5642	034152	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  5643	034153	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  5644	034154	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5645	034155	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  5646
  5647	034156	606 01 0 00 000010 		TRNN	1,10		;DID C03 SET
  5648	034157	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  5649	034160	027 00 0 00 034244 		SCOPE	TBL72A		;CALL SCOPE ROUTINE
  5650	034161	254 00 0 00 034145 		JRST	T72AL		;LOOP
  5651	034162	255 00 0 00 000000 		JFCL			;CONTINUE. TO NXT TEST
  5652
  5653	034163	260 17 0 00 077352 	T72BL:	GO	DEVREQ		;REQUEST THE DEVICE
  5654
  5655	034164	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  5656
  5657	034165	200 01 0 00 064603 		MOVE	1,[1B14!10]	;A 1 TO C03
  5658	034166	260 17 0 00 057446 		GO	LRPER2		;LOAD REG-14
  5659	034167	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5660
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-109
DSRPA2	MAC	 2-Mar-79 10:47		VERIFY OPERATION OF C03 REG-14                                                     SEQ 0305

  5661	034170	205 01 0 00 000010 		MOVSI	1,(1B14)	;A 0 TO C03
  5662	034171	260 17 0 00 057446 		GO	LRPER2		;LOAD REG-14
  5663	034172	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5664
  5665	034173	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  5666	034174	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  5667	034175	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5668	034176	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  5669
  5670	034177	602 01 0 00 000010 		TRNE	1,10		;DID C03 CLEAR
  5671	034200	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  5672	034201	027 00 0 00 034247 		SCOPE	TBL72B		;CALL SCOPE ROUTINE
  5673	034202	254 00 0 00 034163 		JRST	T72BL		;LOOP
  5674	034203	255 00 0 00 000000 		JFCL			;CONTINUE. TO NXT TEST
  5675
  5676	034204	260 17 0 00 077352 	T72CL:	GO	DEVREQ		;REQUEST A DEVICE
  5677
  5678	034205	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  5679
  5680	034206	205 01 0 00 000010 		MOVSI	1,(1B14)	;A 0 TO C03
  5681	034207	260 17 0 00 057446 		GO	LRPER2		;LOAD REG-14
  5682	034210	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5683
  5684	034211	200 01 0 00 064603 		MOVE	1,[1B14!10]	;A 1 TO C03
  5685	034212	260 17 0 00 057446 		GO	LRPER2		;LOAD REG-14
  5686	034213	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5687
  5688	034214	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  5689	034215	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  5690	034216	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5691	034217	260 17 0 00 060752 		GO	CPARER		;PARITY ERRORS
  5692
  5693	034220	606 01 0 00 000010 		TRNN	1,10		;DID C03 SET
  5694	034221	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  5695	034222	027 00 0 00 034244 		SCOPE	TBL72C		;CALL SCOPE ROUTINE
  5696	034223	254 00 0 00 034204 		JRST	T72CL		;LOOP
  5697	034224	255 00 0 00 000000 		JFCL			;CONTINUE. TO NEXT TEST
  5698
  5699	034225	260 17 0 00 077352 	T72DL:	GO	DEVREQ		;REQUEST A DEVICE
  5700
  5701	034226	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  5702
  5703	034227	200 01 0 00 064603 		MOVE	1,[1B14!10]	;A 1 TO C03
  5704	034230	260 17 0 00 057446 		GO	LRPER2		;WRITE REG-14
  5705	034231	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5706
  5707	034232	260 17 0 00 060723 		GO	MSTCLR		;RHCLR SHOULD CLEAR C03
  5708
  5709	034233	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  5710	034234	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  5711	034235	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5712	034236	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  5713
  5714	034237	602 01 0 00 000010 		TRNE	1,10		;DID C03 CLEAR
  5715	034240	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-110
DSRPA2	MAC	 2-Mar-79 10:47		VERIFY OPERATION OF C03 REG-14                                                     SEQ 0306

  5716	034241	027 00 0 00 034252 		SCOPE	TBL72D		;CALL SCOPE ROUTINE
  5717	034242	254 00 0 00 034225 		JRST	T72DL		;LOOP
  5718	034243	254 00 0 00 034142 		JRST	T72SEL		;CONTINUE.
  5719
  5720					;SCOPE TABLE
  5721
  5722	034244				TBL72A:
  5723	034244	000000	062461		TBL72C:	0,,REGPNT
  5724	034245	100000	065120			NOINH![ASCIZ/CAN'T WRITE A 1 TO C03 REG-14/]
  5725	034246	040000	034254			GOTO!TBL72E
  5726	034247	000000	062461		TBL72B:	0,,REGPNT
  5727	034250	100000	065126			NOINH![ASCIZ/CAN'T WRITE A 0 TO C03 REG-14/]
  5728	034251	040000	034254			GOTO!TBL72E
  5729	034252	000000	062461		TBL72D:	0,,REGPNT
  5730	034253	100000	065134			NOINH![ASCIZ/RESET WILL NOT CLEAR C03 REG-14/]
  5731	034254	420000	077755		TBL72E:	LAST!HIPROB!EC
  5732
  5733					SUBTTL	REGISTER SELECTION TEST
  5734					 	XLIST
  5735					 	LIST
  5736						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-111
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TEST                                                            SEQ 0307

  5737					S^;*********************************************************************^
  5738					;*TEST-73 TEST SELECTION OF DCL WRITEABLE REGISTERS
  5739					S^;*********************************************************************^
  5740
  5741					COMMENT	$
  5742
  5743						TEST DESCRIPTION
  5744						---------------- 
  5745						THE OBJECT OF THIS TEST IS TO GUARANTEE THAT NO WRITEABLE
  5746						DCL REGISTER INTERFERES WITH ANY OTHER REGISTER BECAUSE
  5747						OF A REGISTER SELECTION PROBLEM OR A REGISTER SELECT
  5748						DECODING PROBLEM. THE FOLLOWING ALGORITHM IS USED.
  5749						 1.  PICK A WRITEABLE REGISTER (CALL IT X)
  5750						 2.  WRITE A 1 TO C03 OF REG-X
  5751						 3.  PICK ANOTHER REGISTER (CALL IT Y)
  5752						 4.  WRITE A 0 TO C03 OF REG-Y
  5753						 5.  READ REG-X AND INSURE THAT IT DID NOT CHANGE.
  5754						     IF IT DID, A REGISTER ADDRESSING PROBLEM EXISTS
  5755						     BETWEEN X AND Y AND TEST WILL LOOP ON THIS PAIR.
  5756						 6.  DO STEPS 3 THRU 5 LETTING Y VARY 0-37 BUT
  5757						     NEVER EQUAL TO X.
  5758						 7.  DO STEPS 1 THRU 6 FOR ALL WRITEABLE REGISTERS
  5759						     IN THE DCL. 
  5760
  5761						RECOMMENDED DEBUG PROCEDURE
  5762						--------------------------- 
  5763						 1.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  5764						     SELECT BIT MUX (DP5). IF INCORRECT, REPLACE THE
  5765						     TRANSCEIVER THAT IS SENDING OVER THE BAD REGISTER SELECT BIT.
  5766						     (TA0, TB0, TD0, TE0).
  5767						 2.  CHECK THE REGISTER SELECT BITS AT THE INPUT TO THE REGISTER
  5768						     SELECT DECODER (RG5). IF INCORRECT, REPLACE THE DP BOARD.
  5769						     A MUX PROBLEM OR PORT SELECT PROBLEM EXISTS.
  5770						 3.  CHECK THE OUTPUT OF THE REGISTER SELECT MUX (RG5) FOR EITHER
  5771						     INCORRECT REGISTER BEING SELECTED OR MULTIPLE REGISTERS
  5772						     BEING SELECTED. IF FAULTY, REPLACE THE RG BOARD.
  5773						 4.  CHECK THE OUTPUT OF THE CONTROL REGISTER SELECT LOGIC
  5774						     ON (DP4). IF THE CONTROL REGISTER IS SELECTED, REPLACE THE
  5775						     DP BOARD.
  5776						 5.  CHECK THE OUTPUT OF THE ATA REG SELECT LOGIC (DP2).
  5777						     IF THE ATA REGISTER IS SELECTED, REPLACE THE
  5778						     DP BOARD.
  5779						$
  5780					 	SALL
  5781
  5782
  5783									;HOW SOME AC'S ARE USED IN THIS TEST
  5784									;AC	FUNCTION
  5785									;--	--------
  5786									;0	GENERAL
  5787									;1	GENERAL
  5788									;2	HOLDS WORD WITH 1'S IN BIT POSITIONS OF WRITEABLE R
  5789					EGISTERS
  5790									;3	HOLDS VALUE OF X
  5791									;4	HOLDS VALUE OF Y
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-112
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TEST                                                            SEQ 0308

  5792
  5793	034255	201 01 0 00 000073 	TST73:	MOVEI	1,73		;GET TEST NUMBER
  5794	034256	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
  5795
  5796	034257	260 17 0 00 060522 	T73SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  5797	034260	263 17 0 00 000000 		RTN			;TRIED ALL
  5798	034261	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  5799
  5800					;SOME INFORMATION OF OUTER LOOPS
  5801
  5802	034262	200 02 0 00 065143 	T73N:	MOVE	2,[550660,,0]	;DEFINES WRITEABLE REGISTER NUMBERS
  5803	034263	476 00 0 00 000004 		SETOM	4		;INITIALIZES Y TO -1
  5804
  5805					;GET # OF 1ST WRITEABLE REGISTER "X" TO AC3
  5806
  5807	034264	243 02 0 00 034266 		JFFO	2,.+2		;GETS VALUE OF X TO AC3
  5808	034265	254 00 0 00 034257 		JRST	T73SEL		;TRIED ALL X'S
  5809
  5810					;CLEAR THE BIT IN AC2 FOR THE REGISTER JUST PICKED
  5811					;SO IT WON'T GET SELECTED AGAIN
  5812
  5813	034266	205 00 0 00 400000 		MOVSI	0,(1B0)		;SINGLE BIT MASK TO AC0
  5814	034267	210 01 0 00 000003 		MOVN	1,3		;GET - SHFT CNT TO AC1
  5815	034270	242 00 0 01 000000 		LSH	0,(1)		;SHIFTS MASK RIGHT, X PLACES
  5816	034271	630 02 0 00 000000 		TDZ	2,0		;NOW CLEAR PROPER BIT
  5817
  5818					;INCREMENT TO NEXT VALUE OF Y AND RANGE TEST IT
  5819
  5820	034272	350 00 0 00 000004 	T73P:	AOS	4		;Y=Y+1
  5821	034273	303 04 0 00 000017 		CAILE	4,17		;Y GREATER THAN 17
  5822	034274	254 00 0 00 034263 		JRST	T73N+1		;YES. GO DO NEXT X
  5823	034275	316 04 0 00 000003 		CAMN	4,3		;NO. IS Y=X
  5824	034276	254 00 0 00 034272 		JRST	T73P		;YES. THEN GET ANOTHER Y
  5825	034277	255 00 0 00 000000 		JFCL			;NO. THEN WERE READY TO TEST
  5826
  5827					;START TEST ON THE 2 REGISTERS X & Y FOR INTERFERENCE
  5828
  5829	034300	260 17 0 00 077352 	T73L:	GO	DEVREQ		;REQUEST THE DEVICE
  5830
  5831	034301	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  5832
  5833	034302	302 03 0 00 000003 		CAIE	3,3		;IS X (THE MAINT) REG-03
  5834	034303	254 00 0 00 034311 		JRST	T73NMR		;NO
  5835	034304	200 01 0 00 064447 		MOVE	1,[1B14!1]	;YES. MUST SET MAINT MODE BIT
  5836	034305	260 17 0 00 057413 		GO	LRPMR		;LOAD REG-03
  5837	034306	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5838
  5839	034307	200 01 0 00 065144 		MOVE	1,[1B14!11]	;GET DATA FOR REG-03 = Y
  5840	034310	334 00 0 00 000000 		SKIPA
  5841
  5842	034311	200 01 0 00 064603 	T73NMR:	MOVE	1,[1B14!10]	;GET DATA FOR ANY OTHER Y
  5843	034312	260 17 1 03 077611 		GO	@WDISP(3)	;LOAD REG-X
  5844	034313	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5845
  5846	034314	205 01 0 00 000010 	T73WY:	MOVSI	1,(1B14)	;ALL 0'S FOR REG DATA
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-113
DSRPA2	MAC	 2-Mar-79 10:47		REGISTER SELECTION TEST                                                            SEQ 0309

  5847	034315	260 17 1 04 077611 		GO	@WDISP(4)	;LOAD REG-Y
  5848	034316	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5849
  5850	034317	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  5851	034320	260 17 1 03 077571 		GO	@RDISP(3)	;NOW READ REG-X
  5852	034321	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5853	034322	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  5854
  5855	034323	606 01 0 00 000010 		TRNN	1,10		;DID C03 REG-X CLEAR
  5856	034324	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  5857	034325	027 00 0 00 034343 		SCOPE	TBL73		;CALL SCOPE ROUTINE
  5858	034326	254 00 0 00 034300 		JRST	T73L		;LOOP
  5859	034327	254 00 0 00 034272 		JRST	T73P		;CONTINUE
  5860
  5861					;THE PRINT ROUTINE FOR THIS TEST
  5862
  5863	034330	030 00 0 00 065145 	T73PNT:	TEXT	[ASCIZ/REGISTER INTERACTION PROBLEM/]
  5864	034331	260 17 0 00 063452 		GO	.CRLF
  5865	034332	030 00 0 00 065153 		TEXT	[ASCIZ/WRITING 0'S TO REG-/]
  5866	034333	200 00 0 00 000004 		MOVE	0,4		;GET REG-Y NUMBER
  5867	034334	037 02 0 00 000000 		PNT2			;PRINT IT
  5868	034335	030 00 0 00 065157 		TEXT	[ASCIZ/ HAS CAUSED C03 OF REG-/]
  5869	034336	200 00 0 00 000003 		MOVE	0,3		;GET REG-X NUMBER
  5870	034337	037 02 0 00 000000 		PNT2			;PRINT IT
  5871						TEXT	[ASCIZ/
  5872					TO GO FROM 1 TO 0
  5873
  5874	034340	030 00 0 00 065164 	/]
  5875	034341	260 17 0 00 062461 		GO	REGPNT		;PRINT CONTENTS OF REG-X
  5876	034342	263 17 0 00 000000 		RTN			;EXIT PRINT ROUTINE
  5877
  5878					;SCOPE TABLE
  5879
  5880	034343	000000	034330		TBL73:	0,,T73PNT
  5881	034344	400000	077775			HIPROB!RG
  5882	034345	600000	077771			LOPROB!DP
  5883	034346	600000	077661			LOPROB!TA
  5884	034347	620000	077701			LAST!LOPROB!TB
  5885
  5886					SUBTTL	TEST DRIVE CLEAR AND MISC CONTROL LOGIC
  5887					 	XLIST
  5888					 	LIST
  5889						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-114
DSRPA2	MAC	 2-Mar-79 10:47		TEST DRIVE CLEAR AND MISC CONTROL LOGIC                                            SEQ 0310

  5890					S^;*********************************************************************^
  5891					;*TEST-74 VERIFY THAT DRIVE CLEAR WORKS
  5892					S^;*********************************************************************^
  5893
  5894					COMMENT	$
  5895
  5896						TEST DESCRIPTION
  5897						---------------- 
  5898						THIS TEST VERIFIES THAT DRIVE CLEAR OPERATES.
  5899						1.  PUT DRIVE IN MAINT MODE (SET DIAGNOSTIC BIT REG-03)
  5900						2.  ISSUE A DRIVE CLEAR WITH THE GO BIT SET.
  5901						3.  READ MAINT REGISTER AND VERIFY THAT THE DRIVE IS
  5902						    NO LONGER IN MAINT MODE.  DRIVE CLEAR SHOULD CAUSE
  5903						    THE M-MODE BIT TO CLEAR.
  5904
  5905						RECOMMENDED DEBUG PROCEDURE
  5906						--------------------------- 
  5907						LOTS OF THINGS COULD CAUSE THIS TEST TO FAIL BUT FORTUNATELY,
  5908						ALL THE ASSOCIATED LOGIC IS CONFINED TO THE RG BOARD.
  5909						THE FOLLOWING PROBLEMS COULD EXIST.
  5910						1.  STO GO FLOP (RG3) NOT GETTING CLOCKED
  5911						2.  STO GO FLOP HELD RESET BECAUSE OF RESET LOGIC ON (RG3),(RG0)
  5912						3.  STO GO FLOP NOT SETTING BECAUSE OF A D-INPUT LOGIC
  5913						    FAILURE (RG3),(RG5), OR (RG6)
  5914						4.  DRIVE CLEAR COMMAND NOT GETTING DECODED PROPERLY (RG4)
  5915						5.  INPUT GATING TO THE O.S. THAT GENERATES "MAS RES L"
  5916						    IS FAULTY, IGNORING DRIVE CLEAR PULSE.
  5917						6.  THERE IS A VERY SMALL POSSIBILITY THAT HANDSHAKE
  5918						    TIMING LOGIC ON THE DP BOARD IS FAULTY, CAUSING
  5919						    AN ERRONIOUS "RG3 CLEAR STO GO L" ON (RG3)
  5920						$
  5921					 	SALL
  5922
  5923
  5924	034350	201 01 0 00 000074 	TST74:	MOVEI	1,74		;GET THE TEST NUMBER
  5925	034351	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  5926
  5927	034352	260 17 0 00 060522 	T74SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  5928	034353	263 17 0 00 000000 		RTN			;TRIED ALL
  5929	034354	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  5930
  5931	034355	260 17 0 00 077352 	T74L:	GO	DEVREQ		;REQUEST THE DEVICE
  5932
  5933	034356	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  5934	034357	260 17 0 00 056000 		GO	MMODE		;PUT DRIVE IN MAINT MODE
  5935
  5936	034360	200 01 0 00 065144 		MOVE	1,[1B14!11]	;GET DRV CLR AND GO BIT
  5937	034361	260 17 0 00 057402 		GO	LRPCS1		;LOAD CONTROL REGISTER
  5938	034362	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5939
  5940	034363	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  5941	034364	260 17 0 00 057607 		GO	RRPMR		;READ MAINT REG
  5942	034365	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  5943	034366	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  5944
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-115
DSRPA2	MAC	 2-Mar-79 10:47		TEST DRIVE CLEAR AND MISC CONTROL LOGIC                                            SEQ 0311

  5945	034367	602 01 0 00 000001 		TRNE	1,1		;DRIVE STILL IN M-MODE
  5946	034370	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  5947	034371	027 00 0 00 034374 		SCOPE	TBL74		;CALL SCOPE ROUTINE
  5948	034372	254 00 0 00 034355 		JRST	T74L		;LOOP
  5949	034373	254 00 0 00 034352 		JRST	T74SEL		;CONTINUE
  5950
  5951					;SCOPE TABLE
  5952
  5953	034374	000000	062461		TBL74:	0,,REGPNT
  5954	034375	100000	065171			NOINH![ASCIZ/DRIVE CLEAR DOES NOT WORK/]
  5955	034376	100000	065177			NOINH![ASCIZ/OR THE MAINT MODE BIT C00 REG-03 WOULD BE 0/]
  5956	034377	400000	077775			HIPROB!RG
  5957	034400	620000	077771			LAST!LOPROB!DP
  5958
  5959					 	XLIST
  5960					 	LIST
  5961						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-116
DSRPA2	MAC	 2-Mar-79 10:47		TEST DRIVE CLEAR AND MISC CONTROL LOGIC                                            SEQ 0312

  5962					S^;*********************************************************************^
  5963					;*TEST-75 VERIFY SOME GO BIT CONTROL LOGIC
  5964					S^;*********************************************************************^
  5965
  5966					COMMENT	$
  5967
  5968						TEST DESCRIPTION
  5969						---------------- 
  5970						THIS TESTS SOME OF THE GATING TO THE D-INPUT OF THE
  5971						STO GO FLOP (RG3). IT INSURES THAT ISSUING A DRIVE CLEAR
  5972						COMMAND WITHOUT THE GO BIT DOES NOT CAUSE A DRIVE
  5973						CLEAR.  IT DOES THE FOLLOWING:
  5974						1.  PUTS DRIVE IN MAINT MODE
  5975						2.  ISSUES A DRIVE CLEAR WITHOUT THE GO BIT
  5976						3.  READS THE MAINT REGISTER AND CHECKS THE MAINT MODE BIT
  5977						    IT SHOULD BE SET, INDICATING THAT DRIVE CLEAR DID NOT OCCUR.
  5978
  5979						RECOMMENDED DEBUG PROCEDURE
  5980						--------------------------- 
  5981						NONE
  5982						$
  5983					 	SALL
  5984
  5985
  5986	034401	201 01 0 00 000075 	TST75:	MOVEI	1,75		;GET THE TEST NUMBER
  5987	034402	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  5988
  5989	034403	260 17 0 00 060522 	T75SEL:	GO	DEVSEL		;SELECT A DEVICE
  5990	034404	263 17 0 00 000000 		RTN			;TRIED ALL
  5991	034405	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  5992
  5993	034406	260 17 0 00 077352 	T75L:	GO	DEVREQ		;REQUEST THE DEVICE
  5994
  5995	034407	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  5996
  5997	034410	260 17 0 00 056000 		GO	MMODE		;PUT DRIVE IN DIAGNOSTIC MODE
  5998
  5999	034411	200 01 0 00 064603 		MOVE	1,[1B14!10]	;DRIVE CLEAR WITHOUT GO
  6000	034412	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
  6001	034413	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6002
  6003	034414	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  6004	034415	260 17 0 00 057607 		GO	RRPMR		;READ MAINT REG
  6005	034416	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6006	034417	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  6007
  6008	034420	606 01 0 00 000001 		TRNN	1,1		;DRIVE STILL IN MAINT MODE
  6009	034421	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  6010	034422	027 00 0 00 034425 		SCOPE	TBL75		;CALL SCOPE ROUTINE
  6011	034423	254 00 0 00 034406 		JRST	T75L		;LOOP
  6012	034424	254 00 0 00 034403 		JRST	T75SEL		;CONTINUE
  6013
  6014
  6015					;SCOPE TABLE
  6016
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-117
DSRPA2	MAC	 2-Mar-79 10:47		TEST DRIVE CLEAR AND MISC CONTROL LOGIC                                            SEQ 0313

  6017	034425	000000	062461		TBL75:	0,,REGPNT
  6018	034426	100000	065210			NOINH![ASCIZ/FAILURE! DRIVE CLEAR RESETS DRIVE EVEN WHEN THE/]
  6019	034427	100000	065222			NOINH![ASCIZ/GO BIT IS NOT SENT TO THE CONTROL REGISTER/]
  6020	034430	420000	077775			LAST!HIPROB!RG
  6021
  6022					 	XLIST
  6023					 	LIST
  6024						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-118
DSRPA2	MAC	 2-Mar-79 10:47		TEST DRIVE CLEAR AND MISC CONTROL LOGIC                                            SEQ 0314

  6025					S^;*********************************************************************^
  6026					;*TEST-76 VERIFY ADDITIONAL GO BIT CONTROL LOGIC
  6027					S^;*********************************************************************^
  6028
  6029					COMMENT	$
  6030
  6031						TEST DESCRIPTION
  6032						---------------- 
  6033						THIS TESTS THE LOGIC TO INHIBIT EXECUTION OF A COMMAND WHEN
  6034						A PARITY ERROR OCCURS WHILE WRITING THE CONTROL REGISTER.  IT IS
  6035						DONE IN THE FOLLOWING MANNER.
  6036						1.  PUT THE DRIVE IN MAINT MODE
  6037						2.  ISSUE A DRIVE CLEAR WITH THE GO BIT SET, BUT WRITE THE
  6038						    REGISTER WITH INCORRECT PARITY.
  6039						3.  READ THE MAINT REGISTER AND SEE IF DRIVE IS STILL IN
  6040						    MAINT MODE.  IT SHOULD BE, BECAUSE THE PARITY ERROR
  6041						    SHOULD INHIBIT THE DRIVE CLEAR FROM TAKING THE
  6042						    DRIVE OUT OF MAINT MODE
  6043
  6044						RECOMMENDED DEBUG PROCEDURE
  6045						--------------------------- 
  6046						NONE
  6047						$
  6048					 	SALL
  6049
  6050
  6051	034431	201 01 0 00 000076 	TST76:	MOVEI	1,76		;GET THE TEST NUMBER
  6052	034432	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  6053
  6054	034433	260 17 0 00 060522 	T76SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  6055	034434	263 17 0 00 000000 		RTN			;TRIED ALL
  6056	034435	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY.  SET PRINTOUT MODE
  6057
  6058	034436	260 17 0 00 077352 	T76L:	GO	DEVREQ		;REQUEST A DEVICE
  6059
  6060	034437	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  6061
  6062	034440	260 17 0 00 056000 		GO	MMODE		;PUT DRIVE IN MAINT MODE
  6063
  6064	034441	476 00 0 00 077313 		SETOM	PATFG		;FORCES BAD PARITY 
  6065	034442	200 01 0 00 065144 		MOVE	1,[1B14!11]	;DRIVE CLEAR + GO BIT BUT WRONG PARITY
  6066	034443	260 17 0 00 057402 		GO	LRPCS1		;LOAD CONTROL REGISTER
  6067	034444	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6068
  6069	034445	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  6070	034446	260 17 0 00 057607 		GO	RRPMR		;READ THE MAINT REG
  6071	034447	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6072	034450	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  6073
  6074	034451	606 01 0 00 000001 		TRNN	1,1		;IS DRIVE STILL IN MAINT MODE
  6075	034452	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  6076	034453	027 00 0 00 034456 		SCOPE	TBL76		;CALL SCOPE ROUTINE
  6077	034454	254 00 0 00 034436 		JRST	T76L		;LOOP
  6078	034455	254 00 0 00 034433 		JRST	T76SEL		;CONTINUE
  6079
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-119
DSRPA2	MAC	 2-Mar-79 10:47		TEST DRIVE CLEAR AND MISC CONTROL LOGIC                                            SEQ 0315

  6080					;SCOPE TABLE
  6081
  6082	034456	000000	062461		TBL76:	0,,REGPNT
  6083	034457	100000	065233			NOINH![ASCIZ/FAILURE!  THE DRIVE RESPONDED TO A DRIVE CLEAR FUNCTION/]
  6084	034460	100000	065247			NOINH![ASCIZ/WHEN IT WAS RECEIVED WITH INCORRECT PARITY/]
  6085	034461	420000	077775			LAST!HIPROB!RG
  6086
  6087					SUBTTL	DRIVE SELECTION TEST
  6088					 	XLIST
  6089					 	LIST
  6090						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-120
DSRPA2	MAC	 2-Mar-79 10:47		DRIVE SELECTION TEST                                                               SEQ 0316

  6091					S^;*********************************************************************^
  6092					;*TEST-77 TEST FOR POSSIBILITY OF MULTI-DRIVE RESPONSE
  6093					S^;*********************************************************************^
  6094
  6095					COMMENT	$
  6096
  6097						TEST DESCRIPTION
  6098						---------------- 
  6099						THIS TEST IS EFFECTIVELY THE COMPLIMENT OF TEST-1.  THIS TEST INSURES
  6100						THAT THE DRIVE BEING TESTED RESPONDS TO NO OTHER DRIVES ADDRESS
  6101						BUT ITS OWN.  THE FOLLOWING ALGORITHM IS USED.
  6102						1.  PUT DRIVE BEING TESTED IN MAINT MODE. (CALL THIS DRIVE-X)
  6103						2.  SELECT SOME OTHER DRIVE "WHETHER PRESENT OR NOT)
  6104						    (CALL THIS DRIVE-Y)
  6105						3.  ISSUE A DRIVE CLEAR TO DRIVE-Y
  6106						4.  READ DRIVE-X'S MAINT REGISTER
  6107						5.  INSURE THAT DRIVE-X IS STILL IN MAINT MODE
  6108						6.  IF STEP-5 FAILS, REPORT ERROR AND LOOP ON STEPS 1,3,4, & 5
  6109						7.  IF STEP-5 DOESN'T FAIL REPEAT ALL STEPS LETTING Y RANGE
  6110						    FROM 0 TO 7 BUT NOT EQUAL TO X. 
  6111
  6112						RECOMMENDED DEBUG PROCEDURE
  6113						--------------------------- 
  6114						THERE IS A FAULT IN THE DRIVE SELECTION LOGIC FOR THIS
  6115						DEVICE.
  6116						1.  SELECTION OR COMPARISON LOGIC FAILURE ON DP BOARD
  6117						2.  INCORRECT OR CROSS COUPLED DEVICE SELECT BITS FROM
  6118						    TRANSCEIVER CARD.
  6119						$
  6120					 	SALL
  6121
  6122
  6123	034462	201 01 0 00 000077 	TST77:	MOVEI	1,77		;GET TEST NUMBER
  6124	034463	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
  6125
  6126	034464	260 17 0 00 060522 	T77SEL:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  6127	034465	263 17 0 00 000000 		RTN			;TRIED ALL
  6128	034466	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY.  SET PRINTOUT MODE
  6129
  6130					;SOME INITIALIZATION (DRIVE=X)
  6131	034467	476 00 0 00 000002 		SETOM	2		;AC2 WILL HOLD Y
  6132
  6133					;START INTO THE TEST (PICK A VALID VALUE FOR Y)
  6134
  6135	034470	350 00 0 00 000002 	T77N:	AOS	2		;BUMP Y
  6136	034471	303 02 0 00 000007 		CAILE	2,7		;TEST RANGE OF Y
  6137	034472	254 00 0 00 034464 		JRST	T77SEL		;Y .GT. 7
  6138	034473	316 02 0 00 000014 		CAMN	2,DRIVE		;Y=X
  6139	034474	254 00 0 00 034470 		JRST	T77N		;YES.  GET ANOTHER Y
  6140
  6141
  6142					;ACTUAL TEST AND LOOP CODE
  6143
  6144	034475	260 17 0 00 077352 	T77L:	GO	DEVREQ		;REQUEST A DEVICE
  6145
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-121
DSRPA2	MAC	 2-Mar-79 10:47		DRIVE SELECTION TEST                                                               SEQ 0317

  6146	034476	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  6147
  6148	034477	260 17 0 00 056000 		GO	MMODE		;PUT X IN M-MODE
  6149
  6150	034500	250 02 0 00 000014 		EXCH	2,DRIVE		;SET UP TO TALK TO DRIVE-Y
  6151	034501	200 01 0 00 065144 		MOVE	1,[1B14!11]	;A DRIVE CLEAR
  6152	034502	260 17 0 00 057402 		GO	LRPCS1		;LOAD CONTROL REGISTER
  6153	034503	255 00 0 00 000000 		JFCL			;IGNORE ERRORS
  6154
  6155	034504	250 02 0 00 000014 		EXCH	2,DRIVE		;SET UP TO TALK TO DRIVE-X
  6156	034505	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  6157	034506	260 17 0 00 057607 		GO	RRPMR		;READ MAINT REG
  6158	034507	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6159	034510	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  6160
  6161	034511	606 01 0 00 000001 		TRNN	1,1		;DRIVE STILL IN MAINT MODE
  6162	034512	476 00 0 00 000010 		SETOM	ERFLG		;NO.  ERROR
  6163	034513	027 00 0 00 034533 		SCOPE	TBL77		;CALL SCOPE ROUTINE
  6164	034514	254 00 0 00 034475 		JRST	T77L		;LOOP
  6165	034515	254 00 0 00 034470 		JRST	T77N		;CONTINUE
  6166
  6167					;THE PRINT ROUTINE FOR THIS TEST
  6168
  6169	034516	260 17 0 00 063452 	T77PNT:	GO	.CRLF
  6170	034517	260 17 0 00 062461 		GO	REGPNT
  6171	034520	030 00 0 00 065260 		TEXT	[ASCIZ/DEVICE SELECTION FAILURE/]
  6172	034521	260 17 0 00 063452 		GO	.CRLF
  6173	034522	030 00 0 00 065265 		TEXT	[ASCIZ/ISSUING A DRIVE CLEAR TO DRIVE-/]
  6174	034523	200 00 0 00 000002 		MOVE	0,2		;GET Y'S NUMBER
  6175	034524	037 01 0 00 000000 		PNT1			;PRINT IT
  6176	034525	030 00 0 00 065274 		TEXT	[ASCIZ/ HAS CAUSED DRIVE-/]
  6177	034526	200 00 0 00 000014 		MOVE	0,DRIVE		;GET X'S NUMBER
  6178	034527	037 01 0 00 000000 		PNT1			;PRINT IT
  6179						TEXT	[ASCIZ/
  6180	034530	030 00 0 00 065300 	TO BE TAKEN OUT OF MAINT-MODE/]
  6181	034531	260 17 0 00 063452 		GO	.CRLF
  6182	034532	263 17 0 00 000000 		RTN			;EXIT
  6183
  6184					;SCOPE TABLE
  6185
  6186	034533	000000	034516		TBL77:	0,,T77PNT
  6187	034534	400000	077771			HIPROB!DP
  6188	034535	420000	077721			LAST!HIPROB!TC
  6189
  6190
  6191
  6192					SUBTTL	TEST OPERATION OF READ AND WRITE ERROR BIT.
  6193					 	XLIST
  6194					 	LIST
  6195						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-122
DSRPA2	MAC	 2-Mar-79 10:47		TEST OPERATION OF READ AND WRITE ERROR BIT.                                        SEQ 0318

  6196					S^;*********************************************************************^
  6197					;*TEST-100 INSURE THAT A PERSISTANT (MSE) DOES NOT EXIST
  6198					S^;*********************************************************************^
  6199
  6200					COMMENT	$
  6201
  6202						TEST DESCRIPTION
  6203						---------------- 
  6204						RESET/WRITE 0/READ/VERIFY THAT C04 REG-14 (READ AND WRITE) IS
  6205						NOT STUCK AT 1.
  6206
  6207						RECOMMENDED DEBUG PROCEDURE
  6208						--------------------------- 
  6209						CHECK THE LEVEL OF THE SIGNAL (READ AND WRITE) COMING ONTO
  6210						THE (MB) BOARD. IF IT IS HIGH, THE PROBLEM IS IN THE DCL. EITHER
  6211						THE INTERFACE BUFFER IS BAD OR THE REGISTER (REG-14) OR ITS
  6212						MUX ARE FAULTY. REPLACING THE EC BOARD AND MB BOARD WILL
  6213						CURE THE PROBLEM.
  6214						$
  6215					 	SALL
  6216
  6217
  6218	034536	201 01 0 00 000100 	TST100:	MOVEI	1,100		;GET THE TEST NUMBER
  6219	034537	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  6220
  6221	034540	260 17 0 00 060522 	T100S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  6222	034541	263 17 0 00 000000 		RTN			;TRIED ALL
  6223	034542	255 00 0 00 000000 		JFCL			;NEXT READY
  6224
  6225	034543	260 17 0 00 077352 	T100L:	GO	DEVREQ		;REQUEST THE DEVICE
  6226
  6227	034544	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERROR CONDITIONS
  6228
  6229	034545	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  6230	034546	260 17 0 00 057446 		GO	LRPER2		;CLEARS REG-14
  6231	034547	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAIL
  6232
  6233	034550	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  6234	034551	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  6235	034552	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6236	034553	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  6237
  6238	034554	602 01 0 00 000020 		TRNE	1,1B31		;IS MSE CLEAR?
  6239	034555	476 00 0 00 000010 		SETOM	ERFLG		;NO ERROR
  6240	034556	027 00 0 00 034561 		SCOPE	TBL100		;CALL THE SCOPE ROUTINE
  6241	034557	254 00 0 00 034543 		JRST	T100L		;LOOP
  6242	034560	254 00 0 00 034540 		JRST	T100S		;CONTINUE
  6243
  6244
  6245					;SCOPE TABLE
  6246
  6247	034561	000000	062461		TBL100:	0,,REGPNT
  6248	034562	100000	065307			NOINH![ASCIZ/CAN'T CLEAR C04 REG-14 "MSE"/]
  6249	034563	400000	077755			HIPROB!EC
  6250	034564	400000	077747			HIPROB!MB
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-123
DSRPA2	MAC	 2-Mar-79 10:47		TEST OPERATION OF READ AND WRITE ERROR BIT.                                        SEQ 0319

  6251	034565	600000	100143			LOPROB!D20
  6252	034566	620000	100046			LAST!LOPROB!D02
  6253					SUBTTL	RH11 SUBTESTS
  6254
  6255						XLIST
  6256					 	LIST
  6257						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-124
DSRPA2	MAC	 2-Mar-79 10:47		RH11 SUBTESTS                                                                      SEQ 0320

  6258					S^;*********************************************************************^
  6259					;*TEST-101 PERFORM 8 RH11 SUBTESTS
  6260					S^;*********************************************************************^
  6261
  6262					COMMENT	$
  6263
  6264						TEST DESCRIPTION
  6265						---------------- 
  6266						THIS IS A TEST WHICH MERELY RUNS THE RH11 SUBTESTS IN ORDER.
  6267						EACH OF THE SUBTESTS IS SELF CONTAINED AND THIS IS MERELY THE
  6268						TEST DISPATCHER. 
  6269
  6270						RECOMMENDED DEBUG PROCEDURE
  6271						--------------------------- 
  6272						$
  6273					 	SALL
  6274
  6275
  6276	034567	201 01 0 00 000101 	TST101:	MOVEI	1,101		;GET THE TEST NUMBER
  6277	034570	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  6278
  6279	034571	515 02 0 00 777770 		HRLZI	2,-^D8		;THE NUMBER OF SUBTESTS
  6280
  6281	034572	200 01 0 00 030046 	T101L:	MOVE	1,CONSW		;GET CONSOLE SWITCHES
  6282	034573	602 01 0 00 400000 		TRNE	1,400000	;IS TRACE IN EFFECT ?
  6283	034574	031 00 0 00 065315 		TEXTF	[ASCIZ/ TST-101 SUBTEST: /]
  6284	034575	261 17 0 00 000002 		PUT	2		;SAVE COUNTER,,INDEX REGISTER
  6285	034576	260 17 1 02 034602 		GO @	RH11T(2)	;DISPATCH TO THE PROPER TEST
  6286	034577	262 17 0 00 000002 		GET	2		;GET THE COUNTER BACK
  6287	034600	253 02 0 00 034572 		AOBJN	2,T101L		;LOOP THROUGH ALL TESTS
  6288	034601	263 17 0 00 000000 		RTN			;DONE..... EXIT.....
  6289
  6290					;HERE IS THE DISPATCH TABLE TO THE ACTUAL RH11 TESTS
  6291
  6292	034602	000000	054323		RH11T:	RHTST1
  6293	034603	000000	054356			RHTST2
  6294	034604	000000	054413			RHTST3
  6295	034605	000000	054446			RHTST4
  6296	034606	000000	054567			RHTST5
  6297	034607	000000	054676			RHTST6
  6298	034610	000000	054755			RHTST7
  6299	034611	000000	055023			RHTS10
  6300
  6301
  6302					SUBTTL	CHECK FOR PERSISTANT MULTIPLE HEAD SELECT PROBLEM
  6303					 	XLIST
  6304					 	LIST
  6305						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-125
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR PERSISTANT MULTIPLE HEAD SELECT PROBLEM                                  SEQ 0321

  6306					S^;*********************************************************************^
  6307					;*TEST-102 VERIFY THAT A MULTIPLE HEAD SELECT PROBLEM DOESN'T EXIST
  6308					S^;*********************************************************************^
  6309
  6310					COMMENT	$
  6311
  6312						TEST DESCRIPTION
  6313						---------------- 
  6314						RESET/WRITE 0/READ/VERIFY THAT C10 REG-14 IS NOT A 1.
  6315
  6316						RECOMMENDED DEBUG PROCEDURE
  6317						--------------------------- 
  6318						1.  OBSERVE THE "MULTIPLE HEAD SELECT" SIGNAL COMING ONTO THE MB
  6319						     BOARD AT J1-5. IF HIGH, THE PROBLEM IS A DCL PROBLEM
  6320						     ON EITHER THE MB BOARD OR EC BOARD. REPLACE THEM.
  6321						2.  IF J1-25 IS LOW, WE HAVE A DRIVE LOGIC FAULT.
  6322						$
  6323					 	SALL
  6324
  6325
  6326	034612	201 01 0 00 000102 	TST102:	MOVEI	1,102		;GET THE TEST NUMBER
  6327	034613	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  6328
  6329	034614	260 17 0 00 060522 	T102S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  6330	034615	263 17 0 00 000000 		RTN			;TRIED ALL
  6331	034616	255 00 0 00 000000 		JFCL			;NEXT READY
  6332
  6333	034617	260 17 0 00 077352 	T102L:	GO	DEVREQ		;REQUEST THE DEVICE
  6334
  6335	034620	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  6336
  6337	034621	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ZERO'S
  6338	034622	260 17 0 00 057446 		GO	LRPER2		;CLEAR REG-14
  6339	034623	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6340
  6341	034624	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  6342	034625	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  6343	034626	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6344	034627	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  6345
  6346	034630	602 01 0 00 001000 		TRNE	1,1B26		;IS MHS ERROR BIT CLEAR?
  6347	034631	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  6348	034632	027 00 0 00 034635 		SCOPE	TBL102		;CALL SCOPE ROUTINE
  6349	034633	254 00 0 00 034617 		JRST	T102L		;LOOP
  6350	034634	254 00 0 00 034614 		JRST	T102S		;CONTINUE
  6351
  6352
  6353					;SCOPE TABLE
  6354
  6355	034635	000000	062461		TBL102:	0,,REGPNT
  6356	034636	100000	065321			NOINH![ASCIZ/CAN'T CLEAR C09 REG-14 "MHDSEL"/]
  6357	034637	400000	077755			HIPROB!EC
  6358	034640	400000	077747			HIPROB!MB
  6359	034641	600000	100046			LOPROB!D02
  6360	034642	600000	100143			LOPROB!D20
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-126
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR PERSISTANT MULTIPLE HEAD SELECT PROBLEM                                  SEQ 0322

  6361	034643	600000	100113			LOPROB!D16
  6362	034644	620000	100123			LAST!LOPROB!D17
  6363
  6364					SUBTTL	CHECK FOR A PERSISTANT NO HEAD SELECT ERROR
  6365					 	XLIST
  6366					 	LIST
  6367						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-127
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR A PERSISTANT NO HEAD SELECT ERROR                                        SEQ 0323

  6368					S^;*********************************************************************^
  6369					;*TEST-103 VERIFY THAT A NO HEAD SELECT PROBLEM DOESN'T EXIST
  6370					S^;*********************************************************************^
  6371
  6372					COMMENT	$
  6373
  6374						TEST DESCRIPTION
  6375						---------------- 
  6376						RESET/WRITE 0/READ/VERIFY THAT C10 REG-14 IS NOT A 1
  6377
  6378						RECOMMENDED DEBUG PROCEDURE
  6379						--------------------------- 
  6380						1.  OBSERVE THE NO HEAD SELECT SIGNAL AT J1-26 COMING ONTO
  6381						     THE MB BOARD. IF HIGH, THE PROBLEM LIES IN THE DCL ON THE
  6382						     MB OR EC BOARDS. REPLACE THEM.
  6383						2.  IF J1-26 IS LOW WE HAVE A LOGIC FAILURE IN THE DRIVE.
  6384						$
  6385					 	SALL
  6386
  6387
  6388	034645	201 01 0 00 000103 	TST103:	MOVEI	1,103		;GET THE TEST NUMBER
  6389	034646	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  6390
  6391	034647	260 17 0 00 060522 	T103S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  6392	034650	263 17 0 00 000000 		RTN			;TRIED ALL
  6393	034651	255 00 0 00 000000 		JFCL			;NEXT READY
  6394
  6395	034652	260 17 0 00 077352 	T103L:	GO	DEVREQ		;REQUEST A DEVICE
  6396
  6397	034653	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  6398
  6399	034654	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  6400	034655	260 17 0 00 057446 		GO	LRPER2		;CLEAR REG-14
  6401	034656	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6402
  6403	034657	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  6404	034660	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  6405	034661	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6406	034662	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  6407
  6408	034663	602 01 0 00 002000 		TRNE	1,1B25		;IS NO HEAD SELECT BIT CLEAR
  6409	034664	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  6410	034665	027 00 0 00 034670 		SCOPE	TBL103		;CALL THE SCOPE ROUTINE
  6411	034666	254 00 0 00 034652 		JRST	T103L		;LOOP
  6412	034667	254 00 0 00 034647 		JRST	T103S		;CONTINUE
  6413
  6414
  6415					;SCOPE TABLE
  6416
  6417	034670	000000	062461		TBL103:	0,,REGPNT
  6418	034671	100000	065330			NOINH![ASCIZ/CAN'T RESET C10 REG-14 "NHDSEL"/]
  6419	034672	400000	077755			HIPROB!EC
  6420	034673	400000	077747			HIPROB!MB
  6421	034674	600000	100046			LOPROB!D02
  6422	034675	600000	100143			LOPROB!D20
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-128
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR A PERSISTANT NO HEAD SELECT ERROR                                        SEQ 0324

  6423	034676	600000	100113			LOPROB!D16
  6424	034677	600000	100123			LOPROB!D17
  6425	034700	620000	100075			LAST!LOPROB!D11
  6426
  6427					SUBTTL	CHECK FOR A PERSISTANT PLO UNSAFE CONDITION
  6428					 	XLIST
  6429					 	LIST
  6430						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-129
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR A PERSISTANT PLO UNSAFE CONDITION                                        SEQ 0325

  6431					S^;*********************************************************************^
  6432					;*TEST-104 VERIFY THAT A PLO UNSAFE DOESN'T EXIST
  6433					S^;*********************************************************************^
  6434
  6435					COMMENT	$
  6436
  6437						TEST DESCRIPTION
  6438						---------------- 
  6439						RESET/WRITE 0/READ/VERIFY THAT C13 REG-14 IS NOT AT 1
  6440
  6441						RECOMMENDED DEBUG PROCEDURE
  6442						--------------------------- 
  6443						1.  OBSERVE THE "PLO UNSAFE" SIGNAL AT J1-28 ON THE MB
  6444						     BOARD. IF HIGH, THERE IS A DCL FAULT ON EITHER THE MB BOARD
  6445						     OR EC BOARD. REPLACE THEM.
  6446						$
  6447					 	SALL
  6448
  6449
  6450	034701	201 01 0 00 000104 	TST104:	MOVEI	1,104		;GET TEST NUMBER
  6451	034702	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  6452
  6453	034703	260 17 0 00 060522 	T104S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  6454	034704	263 17 0 00 000000 		RTN			;TRIED ALL
  6455	034705	255 00 0 00 000000 		JFCL			;NEXT READY
  6456
  6457	034706	260 17 0 00 077352 	T104L:	GO	DEVREQ		;REQUEST A DEVICE
  6458
  6459	034707	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  6460
  6461	034710	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  6462	034711	260 17 0 00 057446 		GO	LRPER2		;CLEAR REG-14
  6463	034712	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6464
  6465	034713	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  6466	034714	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  6467	034715	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6468	034716	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  6469
  6470	034717	602 01 0 00 020000 		TRNE	1,1B22		;IS C13 SET
  6471	034720	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  6472	034721	027 00 0 00 034724 		SCOPE	TBL104		;CALL THE SCOPE ROUTINE
  6473	034722	254 00 0 00 034706 		JRST	T104L		;LOOP
  6474	034723	254 00 0 00 034703 		JRST	T104S		;CONTINUE
  6475
  6476
  6477					;SCOPE TABLE
  6478
  6479	034724	000000	062461		TBL104:	0,,REGPNT
  6480	034725	100000	065337			NOINH![ASCIZ/CAN'T RESET C13 REG-14 "PLOUNS"/]
  6481	034726	400000	077755			HIPROB!EC
  6482	034727	400000	077747			HIPROB!MB
  6483	034730	600000	100046			LOPROB!D02
  6484	034731	600000	100060			LOPROB!D04
  6485	034732	620000	100143			LAST!LOPROB!D20
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-130
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR A PERSISTANT PLO UNSAFE CONDITION                                        SEQ 0326

  6486
  6487					SUBTTL	CHECK FOR PERSISTANT INDEX ERROR
  6488					 	XLIST
  6489					 	LIST
  6490						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-131
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR PERSISTANT INDEX ERROR                                                   SEQ 0327

  6491					S^;*********************************************************************^
  6492					;*TEST-105 VERIFY THAT PERSISTANT INDEX ERROR DOESN'T EXIST
  6493					S^;*********************************************************************^
  6494
  6495					COMMENT	$
  6496
  6497						TEST DESCRIPTION
  6498						---------------- 
  6499						RESET/WRITE 0/READ/VERIFY THAT C11 REG-14 IS NOT STUCK AT 1
  6500
  6501						RECOMMENDED DEBUG PROCEDURE
  6502						--------------------------- 
  6503						1.  OBSERVE THE INDEX ERROR SIGNAL ON THE MB BOARD AT J1-38
  6504						     IF HIGH, THE PROBLEM IS A DCL FAULT ON THE MB OR EC BOARDS.
  6505						2.  IF HEADS WERE LOADED WHEN THIS ERROR OCCURRED, ANY
  6506						     OF THE MENTIONED MODULES ARE POSSIBLE. IF
  6507						     HEADS WERE UNLOADED WHEN THE TEST WAS RUN,
  6508						     THE PROBLEM IS LOCALIZED TO EC, MB, D02, D04
  6509						$
  6510					 	SALL
  6511
  6512
  6513	034733	201 01 0 00 000105 	TST105:	MOVEI	1,105		;GET TEST NUMBER
  6514	034734	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  6515
  6516	034735	260 17 0 00 060522 	T105S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  6517	034736	263 17 0 00 000000 		RTN			;TRIED ALL
  6518	034737	255 00 0 00 000000 		JFCL			;NEXT READY
  6519
  6520	034740	260 17 0 00 077352 	T105L:	GO	DEVREQ		;REQUEST A DEVICE
  6521
  6522	034741	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  6523
  6524	034742	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  6525	034743	260 17 0 00 057446 		GO	LRPER2		;CLEAR REG-14
  6526	034744	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6527
  6528	034745	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  6529	034746	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  6530	034747	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6531	034750	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  6532
  6533	034751	602 01 0 00 004000 		TRNE	1,1B24		;IS C11 CLEAR
  6534	034752	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  6535	034753	027 00 0 00 034756 		SCOPE	TBL105		;CALL THE SCOPE ROUTINE
  6536	034754	254 00 0 00 034740 		JRST	T105L		;LOOP
  6537	034755	254 00 0 00 034735 		JRST	T105S		;CONTINUE
  6538
  6539
  6540					;SCOPE TABLE
  6541
  6542	034756	000000	062461		TBL105:	0,,REGPNT
  6543	034757	100000	065346			NOINH![ASCIZ/CAN'T RESET C11 REG-14 "INDXER"/]
  6544	034760	400000	077755			HIPROB!EC
  6545	034761	400000	077747			HIPROB!MB
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-132
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR PERSISTANT INDEX ERROR                                                   SEQ 0328

  6546	034762	600000	100046			LOPROB!D02
  6547	034763	600000	100060			LOPROB!D04
  6548	034764	600000	100106			LOPROB!D15
  6549	034765	600000	100113			LOPROB!D16
  6550	034766	120000	065355			LAST!NOINH![ASCIZ/PACK OR SERVO HEAD MAY BE DEFECTIVE/]
  6551
  6552					SUBTTL	CHECK FOR A PERSISTANT WRITE READY UNSAFE
  6553					 	XLIST
  6554					 	LIST
  6555						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-133
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR A PERSISTANT WRITE READY UNSAFE                                          SEQ 0329

  6556					S^;*********************************************************************^
  6557					;*TEST-106 VERIFY THAT C08 REG-14 "WRTRU" IS NOT STUCK AT 1
  6558					S^;*********************************************************************^
  6559
  6560					COMMENT	$
  6561
  6562						TEST DESCRIPTION
  6563						---------------- 
  6564						RESET/WRITE 0/READ/VERIFY C08 REG-14
  6565
  6566						RECOMMENDED DEBUG PROCEDURE
  6567						--------------------------- 
  6568						NONE
  6569						$
  6570					 	SALL
  6571
  6572
  6573	034767	201 01 0 00 000106 	TST106:	MOVEI	1,106		;GET THE TEST NUMBER
  6574	034770	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  6575
  6576	034771	260 17 0 00 060522 	T106S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  6577	034772	263 17 0 00 000000 		RTN			;TRIED ALL
  6578
  6579	034773	260 17 0 00 077352 	T106L:	GO	DEVREQ		;REQUEST THE DEVICE
  6580
  6581	034774	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  6582
  6583	034775	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ZERO'S
  6584	034776	260 17 0 00 057446 		GO	LRPER2		;CLEAR REG-14
  6585	034777	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6586
  6587	035000	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  6588	035001	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  6589	035002	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6590	035003	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  6591
  6592	035004	602 01 0 00 000400 		TRNE	1,1B27		;IS C08 CLEAR
  6593	035005	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  6594	035006	027 00 0 00 035011 		SCOPE	TBL106		;CALL THE SCOPE ROUTINE
  6595	035007	254 00 0 00 034773 		JRST	T106L		;LOOP
  6596	035010	254 00 0 00 034771 		JRST	T106S		;CONTINUE
  6597
  6598					;SCOPE TABLE
  6599
  6600	035011	000000	062461		TBL106:	0,,REGPNT
  6601	035012	100000	065365			NOINH![ASCIZ/CAN'T RESET C08 REG-14 "WRTRU"/]
  6602	035013	400000	077755			HIPROB!EC
  6603	035014	400000	077747			HIPROB!MB
  6604	035015	600000	100046			LOPROB!D02
  6605	035016	600000	100143			LOPROB!D20
  6606	035017	620000	100106			LAST!LOPROB!D15
  6607
  6608					SUBTTL	CHECK FOR A PERSISTANT TRANSITION DETECTOR FAILURE
  6609					 	XLIST
  6610					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-134
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR A PERSISTANT TRANSITION DETECTOR FAILURE                                 SEQ 0330

  6611						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-135
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR A PERSISTANT TRANSITION DETECTOR FAILURE                                 SEQ 0331

  6612					S^;*********************************************************************^
  6613					;*TEST-107 VERIFY THAT C05 REG-14 "TRADF" IS NOT STUCK AT 1
  6614					S^;*********************************************************************^
  6615
  6616					COMMENT	$
  6617
  6618						TEST DESCRIPTION
  6619						---------------- 
  6620						RESET/WRITE 0/READ/VERIFY THAT WE DON'T HAVE A PERSISTANT
  6621						TRANSISTION DETECTOR FAILURE
  6622
  6623						RECOMMENDED DEBUG PROCEDURE
  6624						--------------------------- 
  6625						1.  OBSERVE THE "TRANSITION DETECTOR FAILURE" SIGNAL COMING ONTO THE
  6626						     MB BOARD AT J1-21 IF IT IS HIGH, THE FAULT IS IN THE
  6627						     DCL ON THE MB OR EC BOARD.
  6628						$
  6629					 	SALL
  6630
  6631	035020	201 01 0 00 000107 	TST107:	MOVEI	1,107		;GET THE TEST NUMBER
  6632	035021	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  6633
  6634	035022	260 17 0 00 060522 	T107S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  6635	035023	263 17 0 00 000000 		RTN			;TRIED ALL
  6636	035024	255 00 0 00 000000 		JFCL			;NEXT READY
  6637
  6638	035025	260 17 0 00 077352 	T107L:	GO	DEVREQ		;REQUEST A DEVICE
  6639	035026	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  6640
  6641	035027	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ZERO'S
  6642	035030	260 17 0 00 057446 		GO	LRPER2		;SHOULD CLEAR REG-14
  6643	035031	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6644
  6645	035032	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  6646	035033	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  6647	035034	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6648	035035	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  6649
  6650	035036	602 01 0 00 000040 		TRNE	1,1B30		;IS C05 CLEAR
  6651	035037	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  6652	035040	027 00 0 00 035043 		SCOPE	TBL107		;CALL THE SCOPE ROUTINE
  6653	035041	254 00 0 00 035025 		JRST	T107L		;LOOP
  6654	035042	254 00 0 00 035022 		JRST	T107S		;CONTINUE
  6655
  6656					;SCOPE TABLE
  6657
  6658	035043	000000	062461		TBL107:	0,,REGPNT
  6659	035044	100000	065374			NOINH![ASCIZ/CAN'T RESET C05 REG-14 "TRADF"/]
  6660	035045	400000	077755			HIPROB!EC
  6661	035046	400000	077747			HIPROB!MB
  6662	035047	600000	100046			LOPROB!D02
  6663	035050	620000	100143			LAST!LOPROB!D20
  6664
  6665					SUBTTL	CHECK FOR PERSISTANT TRANSITIONS UNSAFE FAILURE
  6666					 	XLIST
  6667					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-136
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR PERSISTANT TRANSITIONS UNSAFE FAILURE                                    SEQ 0332

  6668						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-137
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR PERSISTANT TRANSITIONS UNSAFE FAILURE                                    SEQ 0333

  6669					S^;*********************************************************************^
  6670					;*TEST-110 VERIFY THAT C06 REG-14 "TRANSU" IS NOT STUCK AT 1
  6671					S^;*********************************************************************^
  6672
  6673					COMMENT	$
  6674
  6675						TEST DESCRIPTION
  6676						---------------- 
  6677						RESET/WRITE 0/READ/VERIFY THAT C06 REG-14 IS NOT AT 1
  6678
  6679						RECOMMENDED DEBUG PROCEDURE
  6680						--------------------------- 
  6681						1.  OBSERVE THE "TRANSITIONS UNSAFE" LEVEL COMING ONTO THE
  6682						     MB MODULE AT J1-22. IF HIGH, THERE IS A DCL FAULT ON
  6683						     EITHER THE MB OR EC MODULES.
  6684						$
  6685					 	SALL
  6686
  6687
  6688	035051	201 01 0 00 000110 	TST110:	MOVEI	1,110		;GET THE TEST NUMBR
  6689	035052	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  6690
  6691	035053	260 17 0 00 060522 	T110S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  6692	035054	263 17 0 00 000000 		RTN			;TRIED ALL
  6693	035055	255 00 0 00 000000 		JFCL			;NEXT READY
  6694
  6695	035056	260 17 0 00 077352 	T110L:	GO	DEVREQ		;REQUEST A DEVICE
  6696
  6697	035057	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  6698
  6699	035060	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ZERO'S
  6700	035061	260 17 0 00 057446 		GO	LRPER2		;SHOULD CLEAR REG-14
  6701	035062	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6702
  6703	035063	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  6704	035064	260 17 0 00 057642 		GO	RRPER2		;READ THE REGISTER
  6705	035065	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6706	035066	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  6707	035067	602 01 0 00 000100 		TRNE	1,1B29		;IS C06 A ZERO
  6708	035070	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  6709	035071	027 00 0 00 035074 		SCOPE	TBL110		;CALL SCOPE ROUTINE
  6710	035072	254 00 0 00 035056 		JRST	T110L		;LOOP
  6711	035073	254 00 0 00 035053 		JRST	T110S		;CONTINUE
  6712
  6713					;SCOPE TABLE
  6714
  6715	035074	000000	062461		TBL110:	0,,REGPNT
  6716	035075	100000	065403			NOINH![ASCIZ/CAN'T RESET C06 REG-14 "TRANSU"/]
  6717	035076	400000	077755			HIPROB!EC
  6718	035077	400000	077747			HIPROB!MB
  6719	035100	600000	100046			LOPROB!D02
  6720	035101	620000	100143			LAST!LOPROB!D20
  6721
  6722					SUBTTL	CHECK FOR PERSISTANT WRITE SELECT UNSAFE ERROR
  6723					 	XLIST
  6724					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-138
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR PERSISTANT WRITE SELECT UNSAFE ERROR                                     SEQ 0334

  6725						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-139
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR PERSISTANT WRITE SELECT UNSAFE ERROR                                     SEQ 0335

  6726					S^;*********************************************************************^
  6727					;*TEST-111 VERIFY THAT C02 REG-14 "WSUNS" IS NOT STUCK AT 1
  6728					S^;*********************************************************************^
  6729
  6730					COMMENT	$
  6731
  6732						TEST DESCRIPTION
  6733						---------------- 
  6734						RESET/WRITE 0/READ/VERIFY C02 REG-14
  6735
  6736						RECOMMENDED DEBUG PROCEDURE
  6737						--------------------------- 
  6738						1.  OBSERVE THE WRITE SELECT UNSAFE LEVEL ONTO THE MB
  6739						     BOARD AT J1-17, IF HIGH WE HAVE A DCL FAULT ON THE
  6740						     MB OR EC BOARDS.
  6741						$
  6742					 	SALL
  6743
  6744
  6745	035102	201 01 0 00 000111 	TST111:	MOVEI	1,111		;GET THE TEST NUMBER
  6746	035103	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  6747
  6748	035104	260 17 0 00 060522 	T111S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  6749	035105	263 17 0 00 000000 		RTN			;TRIED ALL
  6750	035106	255 00 0 00 000000 		JFCL			;NEXT READY
  6751
  6752	035107	260 17 0 00 077352 	T111L:	GO	DEVREQ		;REQUEST THE DEVICE
  6753
  6754	035110	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  6755
  6756	035111	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ZERO'S
  6757	035112	260 17 0 00 057446 		GO	LRPER2		;SHOULD CLEAR REG-14
  6758	035113	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6759
  6760	035114	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  6761	035115	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  6762	035116	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6763	035117	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  6764
  6765	035120	602 01 0 00 000004 		TRNE	1,1B33		;IS C02 SET
  6766	035121	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  6767	035122	027 00 0 00 035125 		SCOPE	TBL111		;CALL THE SCOPE ROUTINE
  6768	035123	254 00 0 00 035107 		JRST	T111L		;LOOP
  6769	035124	254 00 0 00 035104 		JRST	T111S		;CONTINUE
  6770
  6771
  6772					;SCOPE TABLE
  6773
  6774	035125	000000	062461		TBL111:	0,,REGPNT
  6775	035126	100000	065412			NOINH![ASCIZ/CAN'T RESET C02 REG-14 "WSUNS"/]
  6776	035127	400000	077755			HIPROB!EC
  6777	035130	400000	077747			HIPROB!MB
  6778	035131	600000	100046			LOPROB!D02
  6779	035132	600000	100143			LOPROB!D20
  6780	035133	600000	100113			LOPROB!D16
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-140
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR PERSISTANT WRITE SELECT UNSAFE ERROR                                     SEQ 0336

  6781	035134	620000	100123			LAST!LOPROB!D17
  6782
  6783					SUBTTL	CHECK FOR PERSISTANT CURRENT SINK FAILURE
  6784					 	XLIST
  6785					 	LIST
  6786						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-141
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR PERSISTANT CURRENT SINK FAILURE                                          SEQ 0337

  6787					S^;*********************************************************************^
  6788					;*TEST-112 VERIFY THAT C01 REG-14 "CFAIL" IS NOT STUCK AT 1
  6789					S^;*********************************************************************^
  6790
  6791					COMMENT	$
  6792
  6793						TEST DESCRIPTION
  6794						---------------- 
  6795						RESET/WRITE 0/READ/VERIFY C01 REG-14
  6796
  6797						RECOMMENDED DEBUG PROCEDURE
  6798						--------------------------- 
  6799						1.  OBSERVE THE CURRENT SINK FAILURE LEVEL COMING ONTO THE
  6800						    MB BOARD AT J1-16. IF HIGH, THERE IS A DCL PROBLEM ON
  6801						    EITHER THE MB OR EC BOARD.
  6802						$
  6803					 	SALL
  6804
  6805
  6806	035135	201 01 0 00 000112 	TST112:	MOVEI	1,112		;GET THE TEST NUMBER
  6807	035136	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  6808
  6809	035137	260 17 0 00 060522 	T112S:	GO	DEVSEL		;SELECT A DEVICE
  6810	035140	263 17 0 00 000000 		RTN			;TRIED ALL
  6811	035141	255 00 0 00 000000 		JFCL			;NEXT READY
  6812
  6813	035142	260 17 0 00 077352 	T112L:	GO	DEVREQ		;REQUEST THE DEVICE
  6814
  6815	035143	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  6816
  6817	035144	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ZERO'S
  6818	035145	260 17 0 00 057446 		GO	LRPER2		;SHOULD CLEAR REG-14
  6819	035146	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6820
  6821	035147	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  6822	035150	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  6823	035151	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6824	035152	260 17 0 00 060733 		GO	CBTOER		;PARITY ERROR
  6825
  6826	035153	602 01 0 00 000002 		TRNE	1,2		;IS C02 CLEAR
  6827	035154	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  6828	035155	027 00 0 00 035160 		SCOPE	TBL112		;CALL SCOPE ROUTINE
  6829	035156	254 00 0 00 035142 		JRST	T112L		;LOOP
  6830	035157	254 00 0 00 035137 		JRST	T112S		;CONTINUE
  6831
  6832
  6833					;SCOPE TABLE
  6834
  6835	035160	000000	062461		TBL112:	0,,REGPNT
  6836	035161	100000	065421			NOINH![ASCIZ/CAN'T RESET C02 REG-14 "CSFAIL"/]
  6837	035162	400000	077755			HIPROB!EC
  6838	035163	400000	077747			HIPROB!MB
  6839	035164	600000	100046			LOPROB!D02
  6840	035165	600000	100143			LOPROB!D20
  6841	035166	620000	100123			LOPROB!D17!LAST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-142
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR PERSISTANT CURRENT SINK FAILURE                                          SEQ 0338

  6842
  6843					SUBTTL	CHECK FOR A PERSISTANT WRITE CURRENT UNSAFE CONDITION
  6844					 	XLIST
  6845					 	LIST
  6846						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-143
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR A PERSISTANT WRITE CURRENT UNSAFE CONDITION                              SEQ 0339

  6847					S^;*********************************************************************^
  6848					;*TESTS-113 VERIFY THAT C00 REG-14 "WCUNS" IS NOT STUCK AT 1
  6849					S^;*********************************************************************^
  6850
  6851					COMMENT	$
  6852
  6853						TEST DESCRIPTION
  6854						---------------- 
  6855						RESET/WRITE 0/READ/VERIFY C00 REG-14
  6856
  6857						RECOMMENDED DEBUG PROCEDURE
  6858						--------------------------- 
  6859						1.  OBSERVE THE WRITE CURRENT UNSAFE LEVEL COMING ONTO THE
  6860						    MB BOARD AT J1-15. IF HIGH, THERE IS A DCL PROBLEM
  6861						    ON EITHER THE MB OR EC BOARDS.
  6862						$
  6863					 	SALL
  6864
  6865
  6866	035167	201 01 0 00 000113 	TST113:	MOVEI	1,113		;GET TEST NUMBER
  6867	035170	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
  6868
  6869	035171	260 17 0 00 060522 	T113S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  6870	035172	263 17 0 00 000000 		RTN			;TRIED ALL
  6871	035173	255 00 0 00 000000 		JFCL			;NXT READY
  6872
  6873	035174	260 17 0 00 077352 	T113L:	GO	DEVREQ		;REQUEST A DEVICE
  6874
  6875	035175	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  6876
  6877	035176	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ZERO'S
  6878	035177	260 17 0 00 057446 		GO	LRPER2		;SHOULD CLEAR REG-14
  6879	035200	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6880
  6881	035201	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  6882	035202	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  6883	035203	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6884	035204	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  6885
  6886	035205	602 01 0 00 000001 		TRNE	1,1		;IS C00 CLEAR
  6887	035206	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  6888	035207	027 00 0 00 035212 		SCOPE	TBL113		;CALL SCOPE ROUTINE
  6889	035210	254 00 0 00 035174 		JRST	T113L		;LOOP
  6890	035211	254 00 0 00 035171 		JRST	T113S		;CONTINUE
  6891
  6892
  6893					;SCOPE TABLE
  6894
  6895	035212	000000	062461		TBL113:	0,,REGPNT
  6896	035213	100000	065430			NOINH![ASCIZ/CAN'T RESET C00 REG-14 "WCUNS"/]
  6897	035214	400000	077755			HIPROB!EC
  6898	035215	400000	077747			HIPROB!MB
  6899	035216	600000	100046			LOPROB!D02
  6900	035217	600000	100143			LOPROB!D20
  6901	035220	620000	100123			LAST!LOPROB!D17
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-144
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR A PERSISTANT WRITE CURRENT UNSAFE CONDITION                              SEQ 0340

  6902
  6903					SUBTTL	CHECK FOR A PERSISTANT ABNORMAL STOP CONDITION
  6904					 	XLIST
  6905					 	LIST
  6906						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-145
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR A PERSISTANT ABNORMAL STOP CONDITION                                     SEQ 0341

  6907					S^;*********************************************************************^
  6908					;*TEST-114 CHECK THAT C07 REG-14 "ABS" IS NOT STUCK AT 1 
  6909					S^;*********************************************************************^
  6910
  6911					COMMENT	$
  6912
  6913						TEST DESCRIPTION
  6914						---------------- 
  6915						RESET/WRITE 0/READ/VERIFY C07 REG-14
  6916
  6917						RECOMMENDED DEBUG PROCEDURE
  6918						--------------------------- 
  6919						IF THE "ABS" ERROR PERSISTS, GO TO THE ABNORMAL
  6920						STOP REGISTER ON (XD101) D10 AND FIND OUT
  6921						WHICH CONDITION IS LATCHED. THE PROBLEM CAN BE
  6922						TRACED BACK FROM THAT POINT.
  6923						$
  6924					 	SALL
  6925
  6926
  6927	035221	201 01 0 00 000114 	TST114:	MOVEI	1,114		;GET THE TEST NUMBER
  6928	035222	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  6929
  6930	035223	260 17 0 00 060522 	T114S:	GO	DEVSEL		;SELECT A DEVICE
  6931	035224	263 17 0 00 000000 		RTN			;TRIED ALL
  6932	035225	255 00 0 00 000000 		JFCL			;NXT READY
  6933
  6934	035226	260 17 0 00 077352 	T114L:	GO	DEVREQ		;REQUEST A DEVICE
  6935
  6936	035227	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  6937
  6938	035230	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ZERO'S
  6939	035231	260 17 0 00 057446 		GO	LRPER2		;THIS SHOULD CLEAR REG-14
  6940	035232	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6941
  6942	035233	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  6943	035234	260 17 0 00 057642 		GO	RRPER2		;READ REGISTER 14
  6944	035235	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  6945	035236	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  6946
  6947	035237	602 01 0 00 000200 		TRNE	1,200		;IS C07 CLEAR
  6948	035240	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  6949	035241	027 00 0 00 035244 		SCOPE	TBL114		;CALL SCOPE ROUTINE
  6950	035242	254 00 0 00 035226 		JRST	T114L		;LOOP
  6951	035243	254 00 0 00 035223 		JRST	T114S		;CONTINUE
  6952
  6953
  6954					;SCOPE TABLE
  6955
  6956	035244	000000	062461		TBL114:	0,,REGPNT
  6957	035245	100000	065437			NOINH![ASCIZ/CAN'T CLEAR C07 REG-14 "ABS"/]
  6958	035246	400000	077755			HIPROB!EC
  6959	035247	400000	077747			HIPROB!MB
  6960	035250	600000	100046			LOPROB!D02
  6961	035251	620000	100071			LAST!LOPROB!D10
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-146
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR A PERSISTANT ABNORMAL STOP CONDITION                                     SEQ 0342

  6962
  6963					SUBTTL	TEST OPERATION OF REGISTER-15 FLOPS AND MUX'S
  6964					 	XLIST
  6965					 	LIST
  6966						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-147
DSRPA2	MAC	 2-Mar-79 10:47		TEST OPERATION OF REGISTER-15 FLOPS AND MUX'S                                      SEQ 0343

  6967					S^;*********************************************************************^
  6968					;*TEST-115 VERIFY OPERATION REG-14 AND ITS MUX'S
  6969					S^;*********************************************************************^
  6970
  6971					COMMENT	$
  6972
  6973						TEST DESCRIPTION
  6974						---------------- 
  6975						THIS TEST MERELY VERIFIES THAT THE REGISTER FLOPS AND THEIR
  6976						ASSOCIATED MUX'S GO THRU THEIR VARIOUS TRANSITIONS PROPERLY.
  6977						THE FOLLOWING SUBTESTS ARE PERFORMED.
  6978						A.  RESET/WRITE 1'S/READ/VERIFY
  6979						B.  RESET/WRITE 1'S/WRITE 0'S/READ/VERIFY
  6980						C.  RESET/WRITE 0'S/WRITE 1'S/READ/VERIFY
  6981						D.  RESET/WRITE 1'S/RESET/READ/VERIFY
  6982
  6983						RECOMMENDED DEBUG PROCEDURE
  6984						--------------------------- 
  6985						NONE
  6986						$
  6987					 	SALL
  6988
  6989
  6990	035252	201 01 0 00 000115 	TST115:	MOVEI	1,115		;GET TEST NUMBER
  6991	035253	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  6992
  6993	035254	260 17 0 00 060522 	T115S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  6994	035255	263 17 0 00 000000 		RTN			;TRIED ALL
  6995	035256	476 00 0 00 077330 		SETOM	SHMODE		;NEXT READY. SET PRINTOUT MODE
  6996
  6997	035257	260 17 0 00 077352 	T115AL:	GO	DEVREQ		;REQUEST A DEVICE
  6998
  6999	035260	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7000
  7001	035261	200 01 0 00 064332 		MOVE	1,[1B14!177777]	;1'S FOR DATA
  7002	035262	260 17 0 00 057446 		GO	LRPER2		;LOAD REG-14
  7003	035263	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7004
  7005	035264	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  7006	035265	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  7007	035266	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7008	035267	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  7009
  7010	035270	460 00 0 00 000001 		SETCM	0,1		;COMPLEMENT TO AC0
  7011	035271	602 00 0 00 177777 		TRNE	0,177777	;IS DATA ALL 1'S
  7012	035272	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  7013	035273	027 00 0 00 035360 		SCOPE	TB115A		;CALL SCOPE ROUTINE
  7014	035274	254 00 0 00 035257 		JRST	T115AL		;LOOP
  7015	035275	255 00 0 00 000000 		JFCL			;CONTINUE FALL INTO NXT SUBTEST
  7016
  7017	035276	260 17 0 00 077352 	T115BL:	GO	DEVREQ		;REQUEST THE DEVICE
  7018
  7019	035277	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7020
  7021	035300	200 01 0 00 064332 		MOVE	1,[1B14!177777]	;ALL ONES
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-148
DSRPA2	MAC	 2-Mar-79 10:47		TEST OPERATION OF REGISTER-15 FLOPS AND MUX'S                                      SEQ 0344

  7022	035301	260 17 0 00 057446 		GO	LRPER2		;LOAD REG-14
  7023	035302	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7024
  7025	035303	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  7026	035304	260 17 0 00 057446 		GO	LRPER2		;LOAD REG-14
  7027	035305	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7028
  7029	035306	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  7030	035307	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  7031	035310	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7032	035311	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  7033
  7034	035312	602 01 0 00 177777 		TRNE	1,177777	;IS DATA ALL ZERO'S
  7035	035313	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  7036	035314	027 00 0 00 035363 		SCOPE	TB115B		;CALL THE SCOPE ROUTINE
  7037	035315	254 00 0 00 035276 		JRST	T115BL		;LOOP
  7038	035316	255 00 0 00 000000 		JFCL			;CONTINUE. FALL INTO NXT TEST
  7039
  7040	035317	260 17 0 00 077352 	T115CL:	GO	DEVREQ		;REQUEST A DEVICE
  7041
  7042	035320	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7043
  7044	035321	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ZERO'S
  7045	035322	260 17 0 00 057446 		GO	LRPER2		;LOAD REG-14
  7046	035323	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7047
  7048	035324	200 01 0 00 064332 		MOVE	1,[1B14!177777]	;DATA IS ALL ONES
  7049	035325	260 17 0 00 057446 		GO	LRPER2		;LOAD REG-14
  7050	035326	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7051
  7052	035327	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  7053	035330	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  7054	035331	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7055	035332	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  7056
  7057	035333	460 00 0 00 000001 		SETCM	0,1		;COMPLEMENT DATA TO AC0
  7058	035334	606 01 0 00 177777 		TRNN	1,177777	;IS DATA ALL ZERO'S
  7059	035335	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  7060	035336	027 00 0 00 035360 		SCOPE	TB115C		;CALL THE SCOPE ROUTINE
  7061	035337	254 00 0 00 035317 		JRST	T115CL		;LOOP
  7062	035340	255 00 0 00 000000 		JFCL			;CONTINUE. FALL INTO NEXT SUBTEST
  7063
  7064	035341	260 17 0 00 077352 	T115DL:	GO	DEVREQ		;REQUEST THE DEVICE
  7065
  7066	035342	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7067
  7068	035343	200 01 0 00 064332 		MOVE	1,[1B14!177777]	;DATA IS ALL ONES
  7069	035344	260 17 0 00 057446 		GO	LRPER2		;LOAD REG-14
  7070	035345	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7071
  7072	035346	260 17 0 00 060723 		GO	MSTCLR		;THIS SHOULD RESET C04 REG-14
  7073
  7074	035347	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  7075	035350	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  7076	035351	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-149
DSRPA2	MAC	 2-Mar-79 10:47		TEST OPERATION OF REGISTER-15 FLOPS AND MUX'S                                      SEQ 0345

  7077	035352	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  7078
  7079	035353	602 01 0 00 177777 		TRNE	1,177777	;IS ALL DATA ZERO'S
  7080	035354	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  7081	035355	027 00 0 00 035366 		SCOPE	TB115D		;CALL THE SCOPE ROUTINE
  7082	035356	254 00 0 00 035341 		JRST	T115DL		;LOOP
  7083	035357	254 00 0 00 035254 		JRST	T115S		;CONTINUE
  7084
  7085					;SCOPE TABLE
  7086
  7087	035360				TB115A:
  7088	035360	000000	062461		TB115C:	0,,REGPNT
  7089	035361	100000	065445			NOINH![ASCIZ/CAN'T WRITE 1'S TO C00-C15 OF REG-14/]
  7090	035362	040000	035370			GOTO!TB115E
  7091	035363	000000	062461		TB115B:	0,,REGPNT
  7092	035364	100000	065455			NOINH![ASCIZ/CAN'T WRITE 0'S TO C00-C15 OF REG-14/]
  7093	035365	040000	035370			GOTO!TB115E
  7094	035366	000000	062461		TB115D:	0,,REGPNT
  7095	035367	100000	065465			NOINH![ASCIZ/RESET WILL NOT CLEAR C00-C15 OF REG-14/]
  7096	035370	400000	077755		TB115E:	HIPROB!EC
  7097	035371	620000	077747			LAST!LOPROB!MB
  7098
  7099					SUBTTL	ADDITIONAL MISCELLANEOUS TESTS FOR REGISTER-14
  7100					 	XLIST
  7101					 	LIST
  7102						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-150
DSRPA2	MAC	 2-Mar-79 10:47		ADDITIONAL MISCELLANEOUS TESTS FOR REGISTER-14                                     SEQ 0346

  7103					S^;*********************************************************************^
  7104					;*TEST-116 SINGULARITY OF REG-14 BITS (FLOAT 1'S)
  7105					S^;*********************************************************************^
  7106
  7107					COMMENT	$
  7108
  7109						TEST DESCRIPTION
  7110						---------------- 
  7111						FLOAT A ONE DOWN THE REGISTER TO GUARANTEE THAT NO BITS INTERFERE
  7112						WITH ONE ANOTHER. BEFORE EACH ONE IS LOADED, THE REGISTER IS CLEARED
  7113
  7114						RECOMMENDED DEBUG PROCEDURE
  7115						--------------------------- 
  7116						NONE.
  7117						$
  7118					 	SALL
  7119
  7120
  7121	035372	201 01 0 00 000116 	TST116:	MOVEI	1,116		;GET THE TEST NUMBER
  7122	035373	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  7123
  7124	035374	260 17 0 00 060522 	T116S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  7125	035375	263 17 0 00 000000 		RTN			;TRIED ALL
  7126	035376	476 00 0 00 077330 		SETOM	SHMODE		;NEXT READY. SET PRINTOUT MODE
  7127
  7128	035377	201 01 0 00 100000 		MOVEI	1,100000	;A SINGLE BIT TO C15
  7129	035400	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE INITIAL PATTERN
  7130
  7131	035401	260 17 0 00 077352 	T116L:	GO	DEVREQ		;REQUEST THE DEVICE
  7132
  7133	035402	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7134
  7135	035403	200 01 0 00 077314 		MOVE	1,PATRN		;GET CURRENT PATTERN
  7136	035404	661 01 0 00 000010 		TLO	1,(1B14)	;SET DON'T REPORT RAE BIT
  7137	035405	260 17 0 00 057446 		GO	LRPER2		;LOAD PATTERN INTO REG-14
  7138	035406	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7139
  7140	035407	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  7141	035410	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  7142	035411	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7143	035412	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  7144
  7145	035413	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET C00-C15 DATA
  7146	035414	312 00 0 00 077314 		CAME	0,PATRN		;DOES IT EQUAL CURRENT PATRN
  7147	035415	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  7148	035416	027 00 0 00 035426 		SCOPE	TBL116		;CALL SCOPE ROUTINE
  7149	035417	254 00 0 00 035401 		JRST	T116L		;LOOP
  7150
  7151	035420	200 01 0 00 077314 		MOVE	1,PATRN		;CONTINUE. GET PATTERN
  7152	035421	242 01 0 00 777777 		LSH	1,-1		;SHIFT ONE TOTHE RIGHT
  7153	035422	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE UPDATED PATTERN
  7154	035423	332 00 0 00 077314 		SKIPE	PATRN		;DONE?
  7155	035424	254 00 0 00 035401 		JRST	T116L		;NO
  7156	035425	254 00 0 00 035374 		JRST	T116S		;YES
  7157
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-151
DSRPA2	MAC	 2-Mar-79 10:47		ADDITIONAL MISCELLANEOUS TESTS FOR REGISTER-14                                     SEQ 0347

  7158					;SCOPE TABLE
  7159
  7160	035426	000000	032320		TBL116:	0,,EXPECT
  7161	035427	100000	065475			NOINH![ASCIZ/CAN'T FLOAT A 1 DOWN REG-14 C00-C15/]
  7162	035430	420000	077755			LAST!HIPROB!EC
  7163
  7164					 	XLIST
  7165					 	LIST
  7166						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-152
DSRPA2	MAC	 2-Mar-79 10:47		ADDITIONAL MISCELLANEOUS TESTS FOR REGISTER-14                                     SEQ 0348

  7167					S^;*********************************************************************^
  7168					;*TEST-117 SINGULARITY OF REG-14 BITS (FLOAT 0'S)
  7169					S^;*********************************************************************^
  7170
  7171					COMMENT	$
  7172
  7173						TEST DESCRIPTION
  7174						---------------- 
  7175						FLOATS A ZERO DOWN THE REGISTER TO GAURANTEE THAT NO BITS
  7176						INTERFERE WITH ONE ANOTHER. BEFORE EACH BIT IS LOADED,
  7177						THE REGISTER IS RESET TO ONES.
  7178
  7179						RECOMMENDED DEBUG PROCEDURE
  7180						--------------------------- 
  7181						NONE.
  7182						$
  7183					 	SALL
  7184
  7185
  7186	035431	201 01 0 00 000117 	TST117:	MOVEI	1,117		;GET THE TEST NUMBER
  7187	035432	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  7188
  7189	035433	260 17 0 00 060522 	T117S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  7190	035434	263 17 0 00 000000 		RTN			;TRIED ALL
  7191	035435	476 00 0 00 077330 		SETOM	SHMODE		;NEXT READY. SET PRINTOUT MODE
  7192
  7193	035436	201 01 0 00 077777 		MOVEI	1,077777	;A SINGLE 0 BIT TO C15
  7194	035437	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE INITIAL PATTERN
  7195
  7196	035440	260 17 0 00 077352 	T117L:	GO	DEVREQ		;REQUEST THE DEVICE
  7197
  7198	035441	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7199
  7200	035442	200 01 0 00 064332 		MOVE	1,[1B14!177777]	;WRITE 1'S TO REG-14
  7201	035443	260 17 0 00 057446 		GO	LRPER2		;LOADS THE REGISTER
  7202	035444	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7203
  7204	035445	200 01 0 00 077314 		MOVE	1,PATRN		;GET CURRENT PATTERN
  7205	035446	661 01 0 00 000010 		TLO	1,(1B14)	;SET. DON'T REPORT RAE BIT
  7206	035447	260 17 0 00 057446 		GO	LRPER2		;LOAD REG-14 WITH CURRENT PATTERN
  7207	035450	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7208
  7209	035451	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  7210	035452	260 17 0 00 057642 		GO	RRPER2		;READ REG-14
  7211	035453	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7212	035454	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  7213
  7214	035455	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET C00-C15 DATA
  7215	035456	312 00 0 00 077314 		CAME	0,PATRN		;DOES IT EQUAL CURRENT PATTERN
  7216	035457	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  7217	035460	027 00 0 00 035471 		SCOPE	TBL117		;CALL THE SCOPE ROUTINE
  7218	035461	254 00 0 00 035440 		JRST	T117L		;LOOP
  7219
  7220	035462	200 01 0 00 077314 		MOVE	1,PATRN		;CONTINUE. GET CURRENT PATTERN
  7221	035463	242 01 0 00 777777 		LSH	1,-1		;SHIFT ONE TO THE RIGHT
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-153
DSRPA2	MAC	 2-Mar-79 10:47		ADDITIONAL MISCELLANEOUS TESTS FOR REGISTER-14                                     SEQ 0349

  7222	035464	660 01 0 00 100000 		TRO	1,100000	;SET LEFTMOST BIT (C15) TO ONE
  7223	035465	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE THE NEW PATTERN
  7224	035466	302 01 0 00 177777 		CAIE	1,177777	;ARE WE DONE?
  7225	035467	254 00 0 00 035440 		JRST	T117L		;NO
  7226	035470	254 00 0 00 035433 		JRST	T117S		;YES
  7227
  7228					;SCOPE TABLE
  7229
  7230	035471	000000	032320		TBL117:	0,,EXPECT
  7231	035472	100000	065505			NOINH![ASCIZ/CAN'T FLOAT A 0 DOWN REG-14 C00-C15/]
  7232	035473	420000	077755			LAST!HIPROB!EC
  7233
  7234					 	XLIST
  7235					 	LIST
  7236						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-154
DSRPA2	MAC	 2-Mar-79 10:47		ADDITIONAL MISCELLANEOUS TESTS FOR REGISTER-14                                     SEQ 0350

  7237					S^;*********************************************************************^
  7238					;*TEST-120 REG-14/REG-15 MUX TEST
  7239					S^;*********************************************************************^
  7240
  7241					COMMENT	$
  7242
  7243						TEST DESCRIPTION
  7244						---------------- 
  7245
  7246						RECOMMENDED DEBUG PROCEDURE
  7247						--------------------------- 
  7248						$
  7249					 	SALL
  7250
  7251
  7252	035474	201 01 0 00 000120 	TST120:	MOVEI	1,120
  7253	035475	260 17 0 00 060630 		GO	TRACE
  7254	035476	263 17 0 00 000000 		RTN			;SORRY, CAN'T DO ON RH11
  7255
  7256						XLIST
  7257						LIST
  7258
  7259					SUBTTL	MISC. OFFSET REGISTER TESTS
  7260					 	XLIST
  7261					 	LIST
  7262						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-155
DSRPA2	MAC	 2-Mar-79 10:47		MISC. OFFSET REGISTER TESTS                                                        SEQ 0351

  7263					S^;*********************************************************************^
  7264					;*TEST-121 DATA TEST THE IMPLEMENTED BITS OF REG-11
  7265					S^;*********************************************************************^
  7266
  7267					COMMENT	$
  7268
  7269						TEST DESCRIPTION
  7270						---------------- 
  7271						THE IMPLEMENTED BITS ARE C00-C07 AND C10-C12. ALTHOUGH
  7272						C15 IS ALSO IMPLEMENTED, IT IS READ ONLY AND INDETERMINANT AND
  7273						WILL BE IGNORED DURING THIS SEQUENCE OF TESTS. THE FOLLOWING
  7274						FOUR SUBTESTS ARE USED TO DATA TEST THIS REGISTER.
  7275						A.  RESET/WRITE 1'S/READ/VERIFY
  7276						B.  RESET/WRITE 1'S/WRITE 0'S/READ/VERIFY
  7277						C.  RESET/WRITE 0'S/WRITE 1'S/READ/VERIFY
  7278						D.  RESET/WRITE 1'S/RESET/READ/VERIFY	(C00-C07 ONLY)
  7279						C10-C12 ARE CLEARED BY READIN PRESET AND WILL HAVE TO
  7280						BE TESTED LATER.
  7281
  7282						RECOMMENDED DEBUG PROCEDURE
  7283						--------------------------- 
  7284						NONE.
  7285						$
  7286					 	SALL
  7287
  7288
  7289	035477	201 01 0 00 000121 	TST121:	MOVEI	1,121		;GET THE TEST NUMBER
  7290	035500	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  7291
  7292	035501	260 17 0 00 060522 	T121S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  7293	035502	263 17 0 00 000000 		RTN			;TRIED ALL
  7294	035503	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  7295
  7296	035504	260 17 0 00 077352 	T121AL:	GO	DEVREQ		;REQUEST A DEVICE
  7297
  7298	035505	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7299
  7300	035506	201 01 0 00 016377 		MOVEI	1,16377		;GET IMPLEMENTED BITS
  7301	035507	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE IT AS CORRECT DATA
  7302
  7303	035510	661 01 0 00 000010 		TLO	1,(1B14)	;SET THE DON'T REPORT RAE BIT
  7304	035511	260 17 0 00 057435 		GO	LRPOF		;NOW LOAD REG-11
  7305	035512	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7306
  7307	035513	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  7308	035514	260 17 0 00 057631 		GO	RRPOF		;READ REG-11
  7309	035515	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7310	035516	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  7311
  7312	035517	135 00 0 00 065515 		LDB	0,[POINT 15,1,35]  ;GET C00-C15
  7313	035520	312 00 0 00 077314 		CAME	0,PATRN		;DID ALL BITS SET
  7314	035521	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  7315	035522	027 00 0 00 035614 		SCOPE	TB121A		;CALL THE SCOPE ROUTINE
  7316	035523	254 00 0 00 035504 		JRST	T121AL		;LOOP
  7317	035524	255 00 0 00 000000 		JFCL			;CONTINUE. FALL INTO NEXT SUBTEST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-156
DSRPA2	MAC	 2-Mar-79 10:47		MISC. OFFSET REGISTER TESTS                                                        SEQ 0352

  7318
  7319	035525	260 17 0 00 077352 	T121BL:	GO	DEVREQ		;REQUEST A DEVICE FOR TEST
  7320
  7321	035526	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7322
  7323	035527	200 01 0 00 065516 		MOVE	1,[1B14!16377]	;USE AS DATA (ONES)
  7324	035530	260 17 0 00 057435 		GO	LRPOF		;LOAD REG-11 WITH 1'S
  7325	035531	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7326
  7327	035532	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA NOW ALL 0'S
  7328	035533	260 17 0 00 057435 		GO	LRPOF		;LOAD REG-11 WITH 0'S
  7329	035534	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7330
  7331	035535	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  7332	035536	260 17 0 00 057631 		GO	RRPOF		;READ REG-11
  7333	035537	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7334	035540	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  7335
  7336	035541	602 01 0 00 077777 		TRNE	1,77777		;IS C00-C14 CLEAR (ALL BUT SGN CHG)
  7337	035542	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  7338	035543	027 00 0 00 035617 		SCOPE	TB121B		;CALL THE SCOPE ROUTINE
  7339	035544	254 00 0 00 035525 		JRST	T121BL		;LOOP
  7340	035545	255 00 0 00 000000 		JFCL			;CONTINUE. FALL INTO NEXT SUBTEST
  7341
  7342	035546	260 17 0 00 077352 	T121CL:	GO	DEVREQ		;REQUEST A DEVICE
  7343
  7344	035547	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7345
  7346	035550	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  7347	035551	260 17 0 00 057435 		GO	LRPOF		;LOAD REG-11 WITH 0'S
  7348	035552	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7349
  7350	035553	201 01 0 00 016377 		MOVEI	1,16377		;ONES IN IMPLEMENTED BITS
  7351	035554	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE THIS AS CORRECT DATA
  7352
  7353	035555	661 01 0 00 000010 		TLO	1,(1B14)	;SET. DON'T REPORT RAE BIT
  7354	035556	260 17 0 00 057435 		GO	LRPOF		;LOAD REG-11 WITH 1'S
  7355	035557	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7356
  7357	035560	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  7358	035561	260 17 0 00 057631 		GO	RRPOF		;READ REG-11
  7359	035562	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7360	035563	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  7361
  7362	035564	135 00 0 00 065515 		LDB	0,[POINT 15,1,35]  ;GET C00-C14
  7363	035565	312 00 0 00 077314 		CAME	0,PATRN		;DID DATA LOAD CORRECTLY?
  7364	035566	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  7365	035567	027 00 0 00 035614 		SCOPE	TB121C		;CALL SCOPE ROUTINE
  7366	035570	254 00 0 00 035546 		JRST	T121CL		;LOOP
  7367	035571	255 00 0 00 000000 		JFCL			;CONTINUE. FALL INTO NEXT SUBTEST
  7368
  7369	035572	260 17 0 00 077352 	T121DL:	GO	DEVREQ		;REQUEST THE DEVICE
  7370
  7371	035573	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7372
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-157
DSRPA2	MAC	 2-Mar-79 10:47		MISC. OFFSET REGISTER TESTS                                                        SEQ 0353

  7373	035574	201 01 0 00 016000 		MOVEI	1,16000		;SET UP EXPECTED DATA
  7374	035575	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE IT FOR ERROR REPORT
  7375
  7376	035576	200 01 0 00 065516 		MOVE	1,[1B14!16377]	;GET 1'S DATA
  7377	035577	260 17 0 00 057435 		GO	LRPOF		;LOAD REG-11
  7378	035600	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7379
  7380	035601	260 17 0 00 060723 		GO	MSTCLR		;ISSUE THE CLEAR
  7381
  7382	035602	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  7383	035603	260 17 0 00 057631 		GO	RRPOF		;READ REG-11
  7384	035604	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7385	035605	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  7386
  7387	035606	135 00 0 00 065515 		LDB	0,[POINT 15,1,35]  ;GET C00-C14 DATA TO AC0
  7388	035607	312 00 0 00 077314 		CAME	0,PATRN		;IS DATA CORRECT
  7389	035610	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  7390	035611	027 00 0 00 035622 		SCOPE	TB121D		;CALL THE SCOPE ROUTINE
  7391	035612	254 00 0 00 035572 		JRST	T121DL		;LOOP
  7392	035613	254 00 0 00 035501 		JRST	T121S		;CONTINUE
  7393
  7394					;SCOPE TABLE
  7395
  7396	035614				TB121A:
  7397	035614	000000	032320		TB121C:	0,,EXPECT
  7398	035615	100000	065517			NOINH![ASCIZ/CAN'T WRITE 1'S TO REG-11 IMPLEMENTED BITS/]
  7399	035616	040000	035624			GOTO!TB121E
  7400	035617	000000	062461		TB121B:	0,,REGPNT
  7401	035620	100000	065530			NOINH![ASCIZ/CAN'T CLEAR ALL BITS OF REG-11 BY WRITING 0'S/]
  7402	035621	040000	035624			GOTO!TB121E
  7403	035622	000000	032320		TB121D:	0,,EXPECT
  7404	035623	100000	065542			NOINH![ASCIZ/MAS-RES IS MODIFYING C00-C14 REG-11 INCORRECTLY/]
  7405	035624	420000	077775		TB121E:	LAST!HIPROB!RG
  7406
  7407					 	XLIST
  7408					 	LIST
  7409						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-158
DSRPA2	MAC	 2-Mar-79 10:47		MISC. OFFSET REGISTER TESTS                                                        SEQ 0354

  7410					S^;*********************************************************************^
  7411					;*TEST-122 SINGULARITY OF REG-11 (FLOAT 1'S) 
  7412					S^;*********************************************************************^
  7413
  7414					COMMENT	$
  7415
  7416						TEST DESCRIPTION
  7417						---------------- 
  7418						FLOAT A ONE DOWN THE IMPLEMENTED BITS OF REG-11 TO GUARANTEE
  7419						THAT NO BITS INTERFERE WITH ONE ANOTHER. BEFORE THE ONES ARE
  7420						LOADED, THE REGISTER IS CLEARED.
  7421
  7422						RECOMMENDED DEBUG PROCEDURE
  7423						--------------------------- 
  7424						NONE.
  7425						$
  7426					 	SALL
  7427
  7428
  7429	035625	201 01 0 00 000122 	TST122:	MOVEI	1,122		;GET THE TEST NUMBER
  7430	035626	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  7431
  7432	035627	260 17 0 00 060522 	T122S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  7433	035630	263 17 0 00 000000 		RTN			;TRIED ALL
  7434	035631	476 00 0 00 077330 		SETOM	SHMODE		;NEXT READY. SET PRINTOUT MODE
  7435
  7436	035632	201 00 0 00 010000 		MOVEI	10000		;A SINGLE BIT TO C12
  7437	035633	202 00 0 00 077314 		MOVEM	PATRN		;SAVE INITIAL PATTERN
  7438
  7439	035634	260 17 0 00 077352 	T122L:	GO	DEVREQ		;REQUEST A DEVICE
  7440
  7441	035635	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7442
  7443	035636	200 01 0 00 077314 		MOVE	1,PATRN		;GET CURRENT PATTERN
  7444	035637	661 01 0 00 000010 		TLO	1,(1B14)	;SET DON'T REPORT RAE BIT
  7445	035640	260 17 0 00 057435 		GO	LRPOF		;LOAD PATTERN INTO REG-11
  7446	035641	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7447
  7448	035642	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  7449	035643	260 17 0 00 057631 		GO	RRPOF		;READ REG-11
  7450	035644	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7451	035645	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  7452
  7453	035646	135 00 0 00 065515 		LDB	0,[POINT 15,1,35]  ;FETCH C00-C14
  7454	035647	312 00 0 00 077314 		CAME	0,PATRN		;IS DATA CORRECT
  7455	035650	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  7456	035651	027 00 0 00 035664 		SCOPE	TBL122		;CALL SCOPE ROUTINE
  7457	035652	254 00 0 00 035634 		JRST	T122L		;LOOP
  7458	035653	255 00 0 00 000000 		JFCL			;CONTINUE. SELECT NEXT PATTERN
  7459
  7460	035654	200 01 0 00 077314 		MOVE	1,PATRN		;FETCH CURRENT PATTERN
  7461
  7462	035655	242 01 0 00 777777 	T122P:	LSH	1,-1		;SHIFT IT ONE TO THE RIGHT
  7463	035656	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE AS NEW CURRENT PATTERN
  7464	035657	336 00 0 00 077314 		SKIPN	PATRN		;ARE WE DONE?
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-159
DSRPA2	MAC	 2-Mar-79 10:47		MISC. OFFSET REGISTER TESTS                                                        SEQ 0355

  7465	035660	254 00 0 00 035627 		JRST	T122S		;YES
  7466	035661	606 01 0 00 016377 		TRNN	1,16377		;NO. TEST FOR VALID PATTERN
  7467	035662	254 00 0 00 035655 		JRST	T122P		;NOT VALID. GET ANOTHER
  7468	035663	254 00 0 00 035634 		JRST	T122L		;PATTERN IS VALID
  7469
  7470					;SCOPE TABLE
  7471
  7472	035664	000000	032320		TBL122:	0,,EXPECT
  7473	035665	100000	065554			NOINH![ASCIZ/CAN'T FLOAT A 1 DOWN REG-11 IMPLEMENTED BITS/]
  7474	035666	420000	077775			LAST!HIPROB!RG
  7475
  7476					 	XLIST
  7477					 	LIST
  7478						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-160
DSRPA2	MAC	 2-Mar-79 10:47		MISC. OFFSET REGISTER TESTS                                                        SEQ 0356

  7479					S^;*********************************************************************^
  7480					;*TEST-123 SINGULARITY OF REG-11 (FLOAT 0'S) 
  7481					S^;*********************************************************************^
  7482
  7483					COMMENT	$
  7484
  7485						TEST DESCRIPTION
  7486						---------------- 
  7487						FLOATS A ZERO DOWN THE IMPLEMENTED BITS OF REG-11 TO INSURE
  7488						THAT NO BITS INTERFERE WITH ONE ANOTHER. BEFORE EACH FLOATING
  7489						PATTERN IS LOADED, THE REGISTER IS SET TO ONES.
  7490
  7491						RECOMMENDED DEBUG PROCEDURE
  7492						--------------------------- 
  7493						NONE.
  7494						$
  7495					 	SALL
  7496
  7497
  7498	035667	201 01 0 00 000123 	TST123:	MOVEI	1,123		;GET THE TEST NUMBER
  7499	035670	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  7500
  7501	035671	260 17 0 00 060522 	T123S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  7502	035672	263 17 0 00 000000 		RTN			;TRIED ALL
  7503	035673	476 00 0 00 077330 		SETOM	SHMODE		;NXT. RDY. SET PRINTOUT MODE
  7504
  7505	035674	201 02 0 00 020000 		MOVEI	2,20000		;SET UP A SHIFT MASK
  7506
  7507	035675	242 02 0 00 777777 	T123P:	LSH	2,-1		;SHIFT RIGHT
  7508	035676	322 02 0 00 035671 		JUMPE	2,T123S		;BRANCH IF TRIED ALL PATTERNS
  7509	035677	201 01 0 00 016377 		MOVEI	1,16377		;NOT DONE. GET IMPLEMENTED BITS
  7510	035700	630 01 0 00 000002 		TDZ	1,2		;APPLY MASK TO CREATE FLOATING ZERO
  7511	035701	306 01 0 00 016377 		CAIN	1,16377		;IS THIS PATTERN VALID
  7512	035702	254 00 0 00 035675 		JRST	T123P		;NO. TRY ANOTHER PATTERN
  7513	035703	202 01 0 00 077314 		MOVEM	1,PATRN		;YES. SAVE AS CURRENT PATTERN
  7514
  7515	035704	260 17 0 00 077352 	T123L:	GO	DEVREQ		;REQUEST A DEVICE FOR TEST
  7516
  7517	035705	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7518
  7519	035706	200 01 0 00 065516 		MOVE	1,[1B14!16377]	;ALL ONES TO REG-11
  7520	035707	260 17 0 00 057435 		GO	LRPOF		;LOAD REG-11 WITH ONES
  7521	035710	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7522
  7523	035711	200 01 0 00 077314 		MOVE	1,PATRN		;GET CURRENT PATTERN
  7524	035712	661 01 0 00 000010 		TLO	1,(1B14)	;SET. DON'T REPORT RAE BIT
  7525	035713	260 17 0 00 057435 		GO	LRPOF		;LOAD REG-11 WITH CURRENT PATTERN
  7526	035714	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7527
  7528	035715	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  7529	035716	260 17 0 00 057631 		GO	RRPOF		;READ REG-11
  7530	035717	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7531	035720	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  7532
  7533	035721	135 00 0 00 065515 		LDB	0,[POINT 15,1,35]  ;GET C00-C14
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-161
DSRPA2	MAC	 2-Mar-79 10:47		MISC. OFFSET REGISTER TESTS                                                        SEQ 0357

  7534	035722	312 00 0 00 077314 		CAME	0,PATRN		;SEE IF DATA IS CORRECT
  7535	035723	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  7536	035724	027 00 0 00 035727 		SCOPE	TBL123		;CALL THE SCOPE ROUTINE
  7537	035725	254 00 0 00 035704 		JRST	T123L		;LOOP
  7538	035726	254 00 0 00 035675 		JRST	T123P		;CONTINUE. GET NXT PATTERN
  7539
  7540					;SCOPE TABLE
  7541
  7542	035727	000000	032320		TBL123:	0,,EXPECT
  7543	035730	100000	065565			NOINH![ASCIZ/CAN'T FLOAT A ZERO DOWN REG-11 IMPLEMENTED BITS/]
  7544	035731	420000	077775			LAST!HIPROB!RG
  7545
  7546					 	XLIST
  7547					 	LIST
  7548						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-162
DSRPA2	MAC	 2-Mar-79 10:47		MISC. OFFSET REGISTER TESTS                                                        SEQ 0358

  7549					S^;*********************************************************************^
  7550					;*TEST-124 TEST MUX'S ASSOCIATED WITH REGISTER-11
  7551					S^;*********************************************************************^
  7552
  7553					COMMENT	$
  7554
  7555						TEST DESCRIPTION
  7556						---------------- 
  7557
  7558						RECOMMENDED DEBUG PROCEDURE
  7559						--------------------------- 
  7560						$
  7561					 	SALL
  7562
  7563
  7564	035732	201 01 0 00 000124 	TST124:	MOVEI	1,124
  7565	035733	260 17 0 00 060630 		GO	TRACE
  7566	035734	263 17 0 00 000000 		RTN
  7567						XLIST
  7568						LIST
  7569
  7570					SUBTTL	MISC. TESTING OF REG-12 AND ITS ASSOCIATED LOGIC
  7571					 	XLIST
  7572					 	LIST
  7573						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-163
DSRPA2	MAC	 2-Mar-79 10:47		MISC. TESTING OF REG-12 AND ITS ASSOCIATED LOGIC                                   SEQ 0359

  7574					S^;*********************************************************************^
  7575					;*TEST-125 DATA TEST IMPLEMENTED BITS OF REG-12
  7576					S^;*********************************************************************^
  7577
  7578					COMMENT	$
  7579
  7580						TEST DESCRIPTION
  7581						---------------- 
  7582						THE FOLLOWING 3 SUBTESTS DO BASIC DATA TESTS OF THE REG-12
  7583						IMPLEMENTED BITS:
  7584						A.  RESET/WRITE 1'S/READ/VERIFY		C00-C09
  7585						B.  RESET/WRITE 1'S/WRITE 0'S/READ/VERIFY	C00-C09
  7586						C.  RESET/WRITE 0'S/WRITE 1'S/READ/VERIFY	C00-C09
  7587
  7588						RECOMMENDED DEBUG PROCEDURE
  7589						--------------------------- 
  7590						NONE.
  7591						$
  7592					 	SALL
  7593
  7594	035735	201 01 0 00 000125 	TST125:	MOVEI	1,125		;GET THE TEST NUMBER
  7595	035736	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  7596
  7597	035737	260 17 0 00 060522 	T125S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  7598	035740	263 17 0 00 000000 		RTN			;TRIED ALL
  7599	035741	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  7600
  7601	035742	260 17 0 00 077352 	T125AL:	GO	DEVREQ		;REQUEST DEVICE
  7602
  7603	035743	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7604
  7605	035744	200 01 0 00 065577 		MOVE	1,[1B14!1777]	;DATA IS ALL ONES
  7606	035745	260 17 0 00 057440 		GO	LRPDC		;LOAD REG-12
  7607	035746	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7608
  7609	035747	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  7610	035750	260 17 0 00 057634 		GO	RRPDC		;READ REG-12
  7611	035751	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7612	035752	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  7613
  7614	035753	460 00 0 00 000001 		SETCM	0,1		;COMP DATA TO AC0
  7615	035754	602 00 0 00 001777 		TRNE	0,1777		;WAS DATA CORRECT
  7616	035755	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  7617	035756	027 00 0 00 036024 		SCOPE	TB125A		;CALL THE SCOPE ROUTINE
  7618	035757	254 00 0 00 035742 		JRST	T125AL		;LOOP
  7619	035760	255 00 0 00 000000 		JFCL			;CONTINUE. FALL TO NEXT SUBTEST
  7620
  7621	035761	260 17 0 00 077352 	T125BL:	GO	DEVREQ		;REQUEST A DEVICE
  7622
  7623	035762	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7624
  7625	035763	200 01 0 00 065577 		MOVE	1,[1B14!1777]	;DATA IS ONES
  7626	035764	260 17 0 00 057440 		GO	LRPDC		;LOAD REG-12
  7627	035765	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7628
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-164
DSRPA2	MAC	 2-Mar-79 10:47		MISC. TESTING OF REG-12 AND ITS ASSOCIATED LOGIC                                   SEQ 0360

  7629	035766	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS NOW ZERO'S
  7630	035767	260 17 0 00 057440 		GO	LRPDC		;LOAD REG-12
  7631	035770	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7632
  7633	035771	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  7634	035772	260 17 0 00 057634 		GO	RRPDC		;READ REG-12
  7635	035773	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7636	035774	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  7637
  7638	035775	602 01 0 00 001777 		TRNE	1,1777		;IS DATA IS ALL ZERO'S
  7639	035776	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  7640	035777	027 00 0 00 036027 		SCOPE	TB125B		;CALL THE SCOPE ROUTINE
  7641	036000	254 00 0 00 035761 		JRST	T125BL		;LOOP
  7642	036001	255 00 0 00 000000 		JFCL			;CONTINUE. ONTO NEXT SUBTEST
  7643	036002	260 17 0 00 077352 	T125CL:	GO	DEVREQ		;REQUEST A DEVICE
  7644
  7645	036003	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7646
  7647	036004	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ZERO'S
  7648	036005	260 17 0 00 057440 		GO	LRPDC		;LOAD REG-12
  7649	036006	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7650
  7651	036007	200 01 0 00 065577 		MOVE	1,[1B14!1777]	;DATA IS NOW ONES
  7652	036010	260 17 0 00 057440 		GO	LRPDC		;LOAD REG-12
  7653	036011	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7654
  7655	036012	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  7656	036013	260 17 0 00 057634 		GO	RRPDC		;READ REG-12
  7657	036014	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7658	036015	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  7659
  7660	036016	460 00 0 00 000001 		SETCM	0,1		;GET COMP DATA TO AC0
  7661	036017	602 00 0 00 001777 		TRNE	0,1777		;ARE BITS CORRECT?
  7662	036020	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  7663	036021	027 00 0 00 036024 		SCOPE	TB125C		;CALL THE SCOPE ROUTINE
  7664	036022	254 00 0 00 036002 		JRST	T125CL		;LOOP
  7665	036023	254 00 0 00 035737 		JRST	T125S		;CONTINUE
  7666
  7667					;SCOPE TABLE
  7668
  7669	036024				TB125A:
  7670	036024	000000	062461		TB125C:	0,,REGPNT
  7671	036025	100000	065600			NOINH![ASCIZ/CAN'T WRITE 1'S TO C00-C09 REG-12/]
  7672	036026	040000	036031			GOTO!TB125D
  7673	036027	000000	062461		TB125B:	0,,REGPNT
  7674	036030	100000	065607			NOINH![ASCIZ/CAN'T WRITE 0'S TO C00-C09 REG-12/]
  7675	036031	420000	077765		TB125D:	LAST!HIPROB!SS
  7676
  7677					 	XLIST
  7678					 	LIST
  7679						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-165
DSRPA2	MAC	 2-Mar-79 10:47		MISC. TESTING OF REG-12 AND ITS ASSOCIATED LOGIC                                   SEQ 0361

  7680					S^;*********************************************************************^
  7681					;*TEST-126 SINGULARITY OF REG-12 BITS (FLOAT 1'S) 
  7682					S^;*********************************************************************^
  7683
  7684					COMMENT	$
  7685
  7686						TEST DESCRIPTION
  7687						---------------- 
  7688						FLOAT A 1 DOWN THE REGISTERS IMPLEMENTED BITS TO GUARANTEE
  7689						THAT NO BITS INTERFERE WITH ONE ANOTHER. BEFORE EACH 1 IS
  7690						LOADED, THE REGISTER IS CLEARED.
  7691
  7692						RECOMMENDED DEBUG PROCEDURE
  7693						--------------------------- 
  7694						NONE.
  7695						$
  7696					 	SALL
  7697
  7698
  7699	036032	201 01 0 00 000126 	TST126:	MOVEI	1,126		;GET THE TEST NUMBER
  7700	036033	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  7701
  7702	036034	260 17 0 00 060522 	T126S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  7703	036035	263 17 0 00 000000 		RTN			;TRIED ALL
  7704	036036	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  7705
  7706	036037	201 01 0 00 001000 		MOVEI	1,1000		;A SINGLE ONE TO C09
  7707	036040	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE AS CURRENT PATTERN
  7708
  7709	036041	260 17 0 00 077352 	T126L:	GO	DEVREQ		;REQUEST A DEVICE
  7710
  7711	036042	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7712
  7713	036043	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ZERO'S
  7714	036044	260 17 0 00 057440 		GO	LRPDC		;LOAD REG-12
  7715	036045	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7716
  7717	036046	200 01 0 00 077314 		MOVE	1,PATRN		;GET CURRENT PATTERN
  7718	036047	661 01 0 00 000010 		TLO	1,(1B14)	;SET. DON'T REPORT RAE BIT
  7719	036050	260 17 0 00 057440 		GO	LRPDC		;LOAD REG-12
  7720	036051	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7721
  7722	036052	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  7723	036053	260 17 0 00 057634 		GO	RRPDC		;READ REG-12
  7724	036054	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7725	036055	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  7726
  7727	036056	135 00 0 00 065616 		LDB	0,[POINT 10,1,35]  ;GET C00-C09
  7728	036057	312 00 0 00 077314 		CAME	0,PATRN		;IS THE DATA CORRECT
  7729	036060	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  7730	036061	027 00 0 00 036071 		SCOPE	TBL126		;CALL THE SCOPE ROUTINE
  7731	036062	254 00 0 00 036041 		JRST	T126L		;LOOP
  7732
  7733	036063	200 01 0 00 077314 		MOVE	1,PATRN		;CONTINUE. GET CURRENT PATTERN
  7734	036064	242 01 0 00 777777 		LSH	1,-1		;SHIFT ONE PLACE TO RIGHT
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-166
DSRPA2	MAC	 2-Mar-79 10:47		MISC. TESTING OF REG-12 AND ITS ASSOCIATED LOGIC                                   SEQ 0362

  7735	036065	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE UPDATED PATTERN
  7736	036066	332 00 0 00 077314 		SKIPE	PATRN		;DONE WITH FLOAT
  7737	036067	254 00 0 00 036041 		JRST	T126L		;NO
  7738	036070	254 00 0 00 036034 		JRST	T126S		;YES
  7739
  7740					;SCOPE TABLE
  7741
  7742	036071	000000	032320		TBL126:	0,,EXPECT
  7743	036072	100000	065617			NOINH![ASCIZ/CAN'T FLOAT A 1 DOWN REG-12 C00-C09/]
  7744	036073	420000	077765			LAST!HIPROB!SS
  7745
  7746					 	XLIST
  7747					 	LIST
  7748						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-167
DSRPA2	MAC	 2-Mar-79 10:47		MISC. TESTING OF REG-12 AND ITS ASSOCIATED LOGIC                                   SEQ 0363

  7749					S^;*********************************************************************^
  7750					;*TEST-127 SINGULARITY OF REG-12 BITS (FLOAT 0'S)
  7751					S^;*********************************************************************^
  7752
  7753					COMMENT	$
  7754
  7755						TEST DESCRIPTION
  7756						---------------- 
  7757						FLOAT A 0 DOWN THE IMPLEMENTED BITS OF REGISTER-12 TO
  7758						GUARANTEE THAT NO BITS INTERFERE WITH ONE ANOTHER
  7759
  7760						RECOMMENDED DEBUG PROCEDURE
  7761						--------------------------- 
  7762						NONE.
  7763						$
  7764					 	SALL
  7765
  7766
  7767	036074	201 01 0 00 000127 	TST127:	MOVEI	1,127		;GET THE TEST NUMBER
  7768	036075	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  7769
  7770	036076	260 17 0 00 060522 	T127S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  7771	036077	263 17 0 00 000000 		RTN			;TRIED ALL
  7772	036100	476 00 0 00 077330 		SETOM	SHMODE		;NXT READY. SET PRINTOUT MODE
  7773
  7774	036101	201 01 0 00 000777 		MOVEI	1,777		;A ZERO TO C08
  7775	036102	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE AS CURRENT PATTERN
  7776
  7777	036103	260 17 0 00 077352 	T127L:	GO	DEVREQ		;REQUEST A DEVICE
  7778
  7779	036104	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7780
  7781	036105	200 01 0 00 065577 		MOVE	1,[1B14!1777]	;GET DATA OF ONES
  7782	036106	260 17 0 00 057440 		GO	LRPDC		;LOAD REG-12
  7783	036107	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7784
  7785	036110	200 01 0 00 077314 		MOVE	1,PATRN		;GET CURRENT PATTERN
  7786	036111	661 01 0 00 000010 		TLO	1,(1B14)	;SET. DON'T REPORT RAE BIT
  7787	036112	260 17 0 00 057440 		GO	LRPDC		;LOAD REG-12 WITH CURRENT PATTERN
  7788	036113	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7789
  7790	036114	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  7791	036115	260 17 0 00 057634 		GO	RRPDC		;READ REG-12
  7792	036116	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7793	036117	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  7794
  7795	036120	135 00 0 00 065616 		LDB	0,[POINT 10,1,35]  ;GET C00-C09
  7796	036121	312 00 0 00 077314 		CAME	0,PATRN		;IS DATA CORRECT
  7797	036122	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  7798	036123	027 00 0 00 036134 		SCOPE	TBL127		;CALL THE SCOPE ROUTINE
  7799	036124	254 00 0 00 036103 		JRST	T127L		;LOOP
  7800
  7801	036125	200 01 0 00 077314 		MOVE	1,PATRN		;CONTINUE. GET CURRENT PATTERN
  7802	036126	242 01 0 00 777777 		LSH	1,-1		;SHIFT ONE PLACE TO RIGHT
  7803	036127	660 01 0 00 001000 		TRO	1,1000		;NOW SET C09
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-168
DSRPA2	MAC	 2-Mar-79 10:47		MISC. TESTING OF REG-12 AND ITS ASSOCIATED LOGIC                                   SEQ 0364

  7804	036130	202 01 0 00 077314 		MOVEM	1,PATRN		;HAVE A NEW PATTERN
  7805	036131	302 01 0 00 001777 		CAIE	1,1777		;ARE WE DONE?
  7806	036132	254 00 0 00 036103 		JRST	T127L		;NO
  7807	036133	254 00 0 00 036076 		JRST	T127S		;YES
  7808
  7809					;SCOPE TABLE
  7810
  7811	036134	000000	032320		TBL127:	0,,EXPECT
  7812	036135	100000	065627			NOINH![ASCIZ/CAN'T FLOAT A 0 DOWN REG-12 C00-C09/]
  7813	036136	420000	077765			LAST!HIPROB!SS
  7814
  7815					 	XLIST
  7816					 	LIST
  7817						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-169
DSRPA2	MAC	 2-Mar-79 10:47		MISC. TESTING OF REG-12 AND ITS ASSOCIATED LOGIC                                   SEQ 0365

  7818					S^;*********************************************************************^
  7819					;*TEST-130 A REGISTER-12 MUX TEST 
  7820					S^;*********************************************************************^
  7821
  7822					COMMENT	$
  7823
  7824						TEST DESCRIPTION
  7825						---------------- 
  7826
  7827						RECOMMENDED DEBUG PROCEDURE
  7828						--------------------------- 
  7829						$
  7830					 	SALL
  7831
  7832
  7833	036137	201 01 0 00 000130 	TST130:	MOVEI	1,130
  7834	036140	260 17 0 00 060630 		GO	TRACE
  7835	036141	263 17 0 00 000000 		RTN			;SORRY, CAN'T DO ON RH11
  7836
  7837						XLIST
  7838						LIST
  7839
  7840					SUBTTL	MISC. DA REGISTER TESTS
  7841					 	XLIST
  7842					 	LIST
  7843						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-170
DSRPA2	MAC	 2-Mar-79 10:47		MISC. DA REGISTER TESTS                                                            SEQ 0366

  7844					S^;*********************************************************************^
  7845					;*TEST-131 DATA TEST THE IMPLEMENTED BITS OF REG-05
  7846					S^;*********************************************************************^
  7847
  7848					COMMENT	$
  7849
  7850						TEST DESCRIPTION
  7851						---------------- 
  7852						THE IMPLEMENTED BITS ARE C00-C04 AND C08-C12. THE FOLLOWING
  7853						SUBTESTS ARE USED TO CHECK THIS REGISTER AND ITS ASSOCIATED
  7854						MUX'S.
  7855						A.  RESET/WRITE 1'S/READ/VERIFY
  7856						B.  RESET/WRITE 1'S/WRITE 0'S/READ/VERIFY
  7857						THE CLEARING AND INCREMENTATION OF THIS REGISTER WILL BE VERIFIED
  7858						IN ANOTHER TEST.
  7859
  7860						RECOMMENDED DEBUG PROCEDURE
  7861						--------------------------- 
  7862						NONE.
  7863						$
  7864					 	SALL
  7865
  7866
  7867	036142	201 01 0 00 000131 	TST131:	MOVEI	1,131		;GET THE TEST NUMBER
  7868	036143	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  7869
  7870	036144	260 17 0 00 060522 	T131S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  7871	036145	263 17 0 00 000000 		RTN			;TRIED ALL
  7872	036146	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  7873
  7874	036147	260 17 0 00 077352 	T131AL:	GO	DEVREQ		;REQUEST THE DEVICE
  7875
  7876	036150	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7877
  7878	036151	201 01 0 00 017437 		MOVEI	1,17437		;ONES DATA
  7879	036152	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE PATTERN
  7880
  7881	036153	200 01 0 00 065637 		MOVE	1,[1B14!17437]	;1'S FOR REG-5
  7882	036154	260 17 0 00 057421 		GO	LRPDA		;LOAD REG-5
  7883	036155	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7884
  7885	036156	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  7886	036157	260 17 0 00 057615 		GO	RRPDA		;READ REG-05
  7887	036160	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7888	036161	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  7889
  7890	036162	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET THE DATA C00-C15
  7891	036163	312 00 0 00 077314 		CAME	0,PATRN		;IS IT CORRECT
  7892	036164	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  7893	036165	027 00 0 00 036235 		SCOPE	TB131A		;CALL THE SCOPE ROUTINE
  7894	036166	254 00 0 00 036147 		JRST	T131AL		;LOOP
  7895	036167	255 00 0 00 000000 		JFCL			;CONTINUE. FALL INTO NEXT SUBTEST
  7896
  7897	036170	260 17 0 00 077352 	T131BL:	GO	DEVREQ		;REQUEST THE DEVICE
  7898
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-171
DSRPA2	MAC	 2-Mar-79 10:47		MISC. DA REGISTER TESTS                                                            SEQ 0367

  7899	036171	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7900
  7901	036172	200 01 0 00 065637 		MOVE	1,[1B14!17437]	;1'S FOR REG-05
  7902	036173	260 17 0 00 057421 		GO	LRPDA		;LOAD REG-05
  7903	036174	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7904
  7905	036175	205 01 0 00 000010 		MOVSI	1,(1B14)	;0'S FOR DATA
  7906	036176	260 17 0 00 057421 		GO	LRPDA		;LOAD REG-05
  7907	036177	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7908
  7909	036200	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  7910	036201	260 17 0 00 057615 		GO	RRPDA		;READ REG-05
  7911	036202	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7912	036203	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  7913
  7914	036204	602 01 0 00 177777 		TRNE	1,177777	;IS DATA ALL 0'S
  7915	036205	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  7916	036206	027 00 0 00 036240 		SCOPE	TB131B		;CALL THE SCOPE ROUTINE
  7917	036207	254 00 0 00 036170 		JRST	T131BL		;LOOP
  7918	036210	255 00 0 00 000000 		JFCL			;CONTINUE. FALL INTO NEXT SUBTEST
  7919
  7920	036211	260 17 0 00 077352 	T131CL:	GO	DEVREQ		;REQUEST THE DEVICE
  7921
  7922	036212	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7923
  7924	036213	201 01 0 00 017437 		MOVEI	1,17437		;ONES DATA
  7925	036214	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE PATTERN
  7926
  7927	036215	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA OF 0'S
  7928	036216	260 17 0 00 057421 		GO	LRPDA		;LOAD REG-05
  7929	036217	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7930
  7931	036220	200 01 0 00 065637 		MOVE	1,[1B14!17437]	;DATA OF 1'S
  7932	036221	260 17 0 00 057421 		GO	LRPDA		;LOAD REG-05
  7933	036222	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7934
  7935	036223	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  7936	036224	260 17 0 00 057615 		GO	RRPDA		;READ REG-05
  7937	036225	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7938	036226	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  7939
  7940	036227	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET C00-C15 TO AC0
  7941	036230	312 00 0 00 077314 		CAME	0,PATRN		;IS DATA CORRECT
  7942	036231	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  7943	036232	027 00 0 00 036235 		SCOPE	TB131C		;CALL SCOPE ROUTINE
  7944	036233	254 00 0 00 036211 		JRST	T131CL		;LOOP
  7945	036234	254 00 0 00 036144 		JRST	T131S		;CONTINUE
  7946
  7947					;SCOPE TABLE
  7948
  7949	036235				TB131A:
  7950	036235	000000	032320		TB131C:	0,,EXPECT
  7951	036236	100000	065640			NOINH![ASCIZ/CAN'T WRITE 1'S TO IMPLEMENTED BITS OF REG-05/]
  7952	036237	040000	036242			GOTO!TB131D
  7953	036240	000000	062461		TB131B:	0,,REGPNT
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-172
DSRPA2	MAC	 2-Mar-79 10:47		MISC. DA REGISTER TESTS                                                            SEQ 0368

  7954	036241	100000	065652			NOINH![ASCIZ/CAN'T WRITE 0'S TO IMPLEMENTED BITS OF REG-05/]
  7955	036242	420000	077765		TB131D:	LAST!HIPROB!SS
  7956
  7957					 	XLIST
  7958					 	LIST
  7959						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-173
DSRPA2	MAC	 2-Mar-79 10:47		MISC. DA REGISTER TESTS                                                            SEQ 0369

  7960					S^;*********************************************************************^
  7961					;*TEST-132 SINGULARITY OF REG-05 BITS (FLOAT 1'S)
  7962					S^;*********************************************************************^
  7963
  7964					COMMENT	$
  7965
  7966						TEST DESCRIPTION
  7967						---------------- 
  7968						FLOAT A 1 DOWN THE IMPLEMENTED BITS OF REG-05 TO GUARANTEE
  7969						THAT NO BITS INTERFERE WITH ONE ANOTHER. BEFORE THE ONES ARE
  7970						LOADED, THE REGISTER IS CLEARED.
  7971
  7972						RECOMMENDED DEBUG PROCEDURE
  7973						--------------------------- 
  7974						NONE.
  7975						$
  7976					 	SALL
  7977
  7978
  7979	036243	201 01 0 00 000132 	TST132:	MOVEI	1,132		;GET THE TEST NUMBER
  7980	036244	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  7981
  7982	036245	260 17 0 00 060522 	T132S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  7983	036246	263 17 0 00 000000 		RTN			;TRIED ALL
  7984	036247	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  7985
  7986	036250	201 01 0 00 010000 		MOVEI	1,10000		;INITIAL PATTERN
  7987	036251	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE IT
  7988
  7989	036252	260 17 0 00 077352 	T132L:	GO	DEVREQ		;REQUEST A DEVICE
  7990
  7991	036253	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  7992
  7993	036254	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  7994	036255	260 17 0 00 057421 		GO	LRPDA		;LOAD REG-05
  7995	036256	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  7996
  7997	036257	200 01 0 00 077314 		MOVE	1,PATRN		;GET CURRENT PATTERN
  7998	036260	661 01 0 00 000010 		TLO	1,(1B14)	;SET. DON'T REPORT RAE BIT
  7999	036261	260 17 0 00 057421 		GO	LRPDA		;LOAD REG-05 WITH CURRENT PATTERN
  8000	036262	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8001
  8002	036263	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE7S
  8003	036264	260 17 0 00 057615 		GO	RRPDA		;READ REG-05
  8004	036265	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8005	036266	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  8006
  8007	036267	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;FETCH DATA C00-C15
  8008	036270	312 00 0 00 077314 		CAME	0,PATRN		;IS DATA CORRECT?
  8009	036271	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  8010	036272	027 00 0 00 036305 		SCOPE	TBL132		;CALL THE SCOPE ROUTINE
  8011	036273	254 00 0 00 036252 		JRST	T132L		;LOOP
  8012	036274	255 00 0 00 000000 		JFCL			;CONTINUE. TO NEXT PATTERN
  8013
  8014	036275	200 01 0 00 077314 		MOVE	1,PATRN		;FETCH CURRENT PATTERN
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-174
DSRPA2	MAC	 2-Mar-79 10:47		MISC. DA REGISTER TESTS                                                            SEQ 0370

  8015	036276	242 01 0 00 777777 	T132P:	LSH	1,-1		;UPDATE. SHIFT ONE TO THE RIGHT
  8016	036277	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE AS NEW CURRENT PATTERN
  8017	036300	336 00 0 00 077314 		SKIPN	PATRN		;ARE WE DONE
  8018	036301	254 00 0 00 036245 		JRST	T132S		;YES
  8019	036302	606 01 0 00 017437 		TRNN	1,17437		;NO. TEST FOR VALID PATTERN
  8020	036303	254 00 0 00 036276 		JRST	T132P		;NOT VALID. GENERATE ANOTHER
  8021	036304	254 00 0 00 036252 		JRST	T132L		;PATTERN IS VALID
  8022
  8023					;SCOPE TABLE
  8024
  8025	036305	000000	032320		TBL132:	0,,EXPECT
  8026	036306	100000	065664			NOINH![ASCIZ/CAN'T FLOAT A 1 DOWN REG-05 IMPLEMENTED BITS/]
  8027	036307	420000	077765			LAST!HIPROB!SS
  8028
  8029					 	XLIST
  8030					 	LIST
  8031						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-175
DSRPA2	MAC	 2-Mar-79 10:47		MISC. DA REGISTER TESTS                                                            SEQ 0371

  8032					S^;*********************************************************************^
  8033					;*TEST-133 SINGULARITY OF REG-05 BITS (FLOAT 0'S)
  8034					S^;*********************************************************************^
  8035
  8036					COMMENT	$
  8037
  8038						TEST DESCRIPTION
  8039						---------------- 
  8040						FLOAT A 0 DOWN THE IMPLEMENTED BITS OF REG-05 TO GUARANTEE
  8041						THAT NO BITS INTERFERE WITH ONE ANOTHER. BEFORE EACH PATTERN
  8042						IS WRITTEN, THE REGISTER IS LOADED WITH ONES.
  8043
  8044						RECOMMENDED DEBUG PROCEDURE
  8045						--------------------------- 
  8046						NONE.
  8047						$
  8048					 	SALL
  8049
  8050
  8051	036310	201 01 0 00 000133 	TST133:	MOVEI	1,133		;GET THE TEST NUMBER
  8052	036311	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  8053
  8054	036312	260 17 0 00 060522 	T133S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  8055	036313	263 17 0 00 000000 		RTN			;TRIED ALL
  8056	036314	476 00 0 00 077330 		SETOM	SHMODE		;NXT. RDY. SET PRINTOUT MODE
  8057
  8058	036315	201 02 0 00 020000 		MOVEI	2,20000		;SET UP A SHIFT MASK
  8059
  8060	036316	242 02 0 00 777777 	T133P:	LSH	2,-1		;SHIFT ONE PLACE TO RIGHT
  8061	036317	322 02 0 00 036312 		JUMPE	2,T133S		;BRANCH IF WE TRIED ALL PATTERNS
  8062	036320	201 01 0 00 017437 		MOVEI	1,17437		;NOT DONE. GET IMPLEMENTED BITS
  8063	036321	630 01 0 00 000002 		TDZ	1,2		;APPLY MASK TO CREATE FLOATING ZERO
  8064	036322	306 01 0 00 017437 		CAIN	1,17437		;IS PATTERN VALID
  8065	036323	254 00 0 00 036316 		JRST	T133P		;NO. TRY FOR ANOTHER
  8066	036324	202 01 0 00 077314 		MOVEM	1,PATRN		;YES. SAVE AS CURRENT PATTERN
  8067
  8068	036325	260 17 0 00 077352 	T133L:	GO	DEVREQ		;REQUEST A DEVICE
  8069
  8070	036326	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERROR CONDITIONS
  8071
  8072	036327	200 01 0 00 065637 		MOVE	1,[1B14!17437]	;ONES TO REG-05
  8073	036330	260 17 0 00 057421 		GO	LRPDA		;LOAD REG-05
  8074	036331	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8075
  8076	036332	200 01 0 00 077314 		MOVE	1,PATRN		;GET CURRENT PATTERN
  8077	036333	661 01 0 00 000010 		TLO	1,(1B14)	;SET. DON'T REPORT RAE BIT
  8078	036334	260 17 0 00 057421 		GO	LRPDA		;LOAD REG-05 WITH CURRENT PATTERN
  8079	036335	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8080
  8081	036336	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  8082	036337	260 17 0 00 057615 		GO	RRPDA		;READ REG-05
  8083	036340	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8084	036341	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  8085
  8086	036342	135 00 0 00 065515 		LDB	0,[POINT 15,1,35]  ;GET DATA C00-C15
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-176
DSRPA2	MAC	 2-Mar-79 10:47		MISC. DA REGISTER TESTS                                                            SEQ 0372

  8087	036343	312 00 0 00 077314 		CAME	0,PATRN		;IS PATTERN CORRRECT
  8088	036344	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  8089	036345	027 00 0 00 036350 		SCOPE	TBL133		;CALL THE SCOPE ROUTINE
  8090	036346	254 00 0 00 036325 		JRST	T133L		;LOOP
  8091	036347	254 00 0 00 036316 		JRST	T133P		;CONTINUE. TRY NEXT PATTERN
  8092
  8093					;SCOPE TABLE
  8094
  8095	036350	000000	032320		TBL133:	0,,EXPECT
  8096	036351	100000	065675			NOINH![ASCIZ/CAN'T FLOAT A 0 DOWN REG-11 IMPLEMENTED BITS/]
  8097	036352	420000	077765			LAST!HIPROB!SS
  8098
  8099					 	XLIST
  8100					 	LIST
  8101						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-177
DSRPA2	MAC	 2-Mar-79 10:47		MISC. DA REGISTER TESTS                                                            SEQ 0373

  8102					S^;*********************************************************************^
  8103					;*TEST-134 TEST MUX'S ASSOCIATED WITH REG-05
  8104					S^;*********************************************************************^
  8105
  8106					COMMENT	$
  8107
  8108						TEST DESCRIPTION
  8109						---------------- 
  8110
  8111						RECOMMENDED DEBUG PROCEDURE
  8112						--------------------------- 
  8113						$
  8114					 	SALL
  8115
  8116
  8117	036353	201 01 0 00 000134 	TST134:	MOVEI	1,134
  8118	036354	260 17 0 00 060630 		GO	TRACE
  8119	036355	263 17 0 00 000000 		RTN			;SORRY, CAN'T DO ON RH11
  8120
  8121						XLIST
  8122						LIST
  8123
  8124					SUBTTL	TEST FOR PERSISTANT "DCK" ERROR
  8125					 	XLIST
  8126					 	LIST
  8127						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-178
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PERSISTANT "DCK" ERROR                                                    SEQ 0374

  8128					S^;*********************************************************************^
  8129					;*TEST-135 VERIFY THAT REG-02 C15 IS NOT STUCK AT 1
  8130					S^;*********************************************************************^
  8131
  8132					COMMENT	$
  8133
  8134						TEST DESCRIPTION
  8135						---------------- 
  8136						RESET/WRITE 0'S/READ/VERIFY THAT WE DON'T HAVE A PERSISTANT
  8137						DATA CHECK ERROR
  8138
  8139						RECOMMENDED DEBUG PROCEDURE
  8140						--------------------------- 
  8141						NONE.
  8142						$
  8143					 	SALL
  8144
  8145
  8146	036356	201 01 0 00 000135 	TST135:	MOVEI	1,135		;GET THE TEST NUMBER
  8147	036357	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  8148
  8149	036360	260 17 0 00 060522 	T135S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  8150	036361	263 17 0 00 000000 		RTN			;TRIED ALL
  8151	036362	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  8152
  8153	036363	260 17 0 00 077352 	T135L:	GO	DEVREQ		;REQUEST A DEVICE FOR TEST
  8154
  8155	036364	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  8156
  8157	036365	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ZERO'S
  8158	036366	260 17 0 00 057410 		GO	LRPER1		;CLEAR REG-02
  8159	036367	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8160
  8161	036370	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  8162	036371	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  8163	036372	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8164	036373	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  8165
  8166	036374	602 01 0 00 100000 		TRNE	1,1B20		;IS C15 CLEAR
  8167	036375	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  8168	036376	027 00 0 00 036401 		SCOPE	TBL135		;CALL THE SCOPE ROUTINE
  8169	036377	254 00 0 00 036363 		JRST	T135L		;LOOP
  8170	036400	254 00 0 00 036360 		JRST	T135S		;CONTINUE
  8171
  8172					;SCOPE TABLE
  8173
  8174	036401	000000	062461		TBL135:	0,,REGPNT
  8175	036402	100000	065706			NOINH![ASCIZ/CAN'T CLEAR C15 REG-02 "DCK"/]
  8176	036403	400000	077775			HIPROB!RG
  8177	036404	420000	077755			LAST!HIPROB!EC
  8178
  8179					SUBTTL	TEST FOR A PERSISTANT "UNS" ERROR CONDITION
  8180					 	XLIST
  8181					 	LIST
  8182						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-179
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR A PERSISTANT "UNS" ERROR CONDITION                                        SEQ 0375

  8183					S^;*********************************************************************^
  8184					;*TEST-136 VERIFY THAT C14 REG-02 IS NOT STUCK AT 1
  8185					S^;*********************************************************************^
  8186
  8187					COMMENT	$
  8188
  8189						TEST DESCRIPTION
  8190						---------------- 
  8191						RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT UNSAFE CONDITION
  8192						DOES NOT EXIST.
  8193
  8194						RECOMMENDED DEBUG PROCEDURE
  8195						--------------------------- 
  8196						NONE
  8197						$
  8198					 	SALL
  8199
  8200
  8201	036405	201 01 0 00 000136 	TST136:	MOVEI	1,136		;GET THE TEST NUMBER
  8202	036406	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE NUMBER
  8203
  8204	036407	260 17 0 00 060522 	T136S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  8205	036410	263 17 0 00 000000 		RTN			;TRIED ALL.
  8206	036411	476 00 0 00 077330 		SETOM	SHMODE		;NTX RDY. SET THE PRINTOUT MODE
  8207
  8208	036412	260 17 0 00 077352 	T136L:	GO	DEVREQ		;REQUEST A DEVICE
  8209
  8210	036413	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ALL ERRORS
  8211
  8212	036414	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ZERO'S
  8213	036415	260 17 0 00 057410 		GO	LRPER1		;CLEAR REG-02
  8214	036416	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8215
  8216	036417	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  8217	036420	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  8218	036421	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8219	036422	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  8220
  8221	036423	602 01 0 00 040000 		TRNE	1,1B21		;IS C14 CLEAR
  8222	036424	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  8223	036425	027 00 0 00 036430 		SCOPE	TBL136		;CALL THE SCOPE ROUTINE
  8224	036426	254 00 0 00 036412 		JRST	T136L		;LOOP
  8225	036427	254 00 0 00 036407 		JRST	T136S		;CONTINUE
  8226
  8227					;SCOPE TABLE
  8228
  8229	036430	000000	062461		TBL136:	0,,REGPNT
  8230	036431	100000	065714			NOINH![ASCIZ/CAN'T CLEAR C14 REG-02 "UNS"/]
  8231	036432	400000	077775			HIPROB!RG
  8232	036433	400000	077755			HIPROB!EC
  8233	036434	600000	077747			LOPROB!MB
  8234	036435	620000	100046			LAST!LOPROB!D02
  8235
  8236					SUBTTL	TEST FOR A PERSISTANT "OPI" ERROR CONDITION
  8237					 	XLIST
  8238					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-180
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR A PERSISTANT "OPI" ERROR CONDITION                                        SEQ 0376

  8239						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-181
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR A PERSISTANT "OPI" ERROR CONDITION                                        SEQ 0377

  8240					S^;*********************************************************************^
  8241					;*TEST-137 VERIFY THAT C13 REG-02 IS NOT STUCK AT 1
  8242					S^;*********************************************************************^
  8243
  8244					COMMENT	$
  8245
  8246						TEST DESCRIPTION
  8247						---------------- 
  8248						RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT OPI DOES NOT
  8249						EXIST.
  8250
  8251						RECOMMENDED DEBUG PROCEDURE
  8252						--------------------------- 
  8253						NONE.
  8254						$
  8255					 	SALL
  8256
  8257
  8258	036436	201 01 0 00 000137 	TST137:	MOVEI	1,137		;GET THE TEST NUMBER
  8259	036437	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  8260
  8261	036440	260 17 0 00 060522 	T137S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  8262	036441	263 17 0 00 000000 		RTN			;TRIED ALL.
  8263	036442	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  8264
  8265	036443	260 17 0 00 077352 	T137L:	GO	DEVREQ		;REQUEST A DEVICE FOR TEST
  8266
  8267	036444	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  8268
  8269	036445	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  8270	036446	260 17 0 00 057410 		GO	LRPER1		;CLEAR REG-02
  8271	036447	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8272
  8273	036450	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  8274	036451	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  8275	036452	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8276	036453	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  8277
  8278	036454	602 01 0 00 020000 		TRNE	1,1B22		;IS C13 CLEAR
  8279	036455	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  8280	036456	027 00 0 00 036461 		SCOPE	TBL137		;CALL SCOPE ROUTINE
  8281	036457	254 00 0 00 036443 		JRST	T137L		;LOOP
  8282	036460	254 00 0 00 036440 		JRST	T137S		;CONTINUE
  8283
  8284					;SCOPE TABLE
  8285
  8286	036461	000000	062461		TBL137:	0,,REGPNT
  8287	036462	100000	065722			NOINH![ASCIZ/CAN'T CLEAR C14 REG-02 "OPI"/]
  8288	036463	400000	077775			HIPROB!RG
  8289	036464	420000	077765			LAST!HIPROB!SS
  8290
  8291					SUBTTL	TEST FOR A PERSISTANT "DTE" ERROR
  8292					 	XLIST
  8293					 	LIST
  8294						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-182
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR A PERSISTANT "DTE" ERROR                                                  SEQ 0378

  8295					S^;*********************************************************************^
  8296					;*TEST-140 VERIFY THAT C12 REG-02 IS NOT STUCK AT 1
  8297					S^;*********************************************************************^
  8298
  8299					COMMENT	$
  8300
  8301						TEST DESCRIPTION
  8302						---------------- 
  8303						RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT "DTE" ERROR
  8304						DOES NOT EXIST
  8305
  8306						RECOMMENDED DEBUG PROCEDURE
  8307						--------------------------- 
  8308						NONE.
  8309						$
  8310					 	SALL
  8311
  8312
  8313	036465	201 01 0 00 000140 	TST140:	MOVEI	1,140		;GET THE TEST NUMBER
  8314	036466	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  8315
  8316	036467	260 17 0 00 060522 	T140S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  8317	036470	263 17 0 00 000000 		RTN			;TRIED ALL
  8318	036471	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  8319
  8320	036472	260 17 0 00 077352 	T140L:	GO	DEVREQ		;REQUEST A DEVICE FOR TEST
  8321
  8322	036473	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  8323
  8324	036474	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  8325	036475	260 17 0 00 057410 		GO	LRPER1		;CLEAR REG-02
  8326	036476	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8327
  8328	036477	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  8329	036500	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  8330	036501	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8331	036502	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  8332
  8333	036503	602 01 0 00 010000 		TRNE	1,1B23		;IS C12 CLEAR
  8334	036504	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  8335	036505	027 00 0 00 036510 		SCOPE	TBL140		;CALL SCOPE ROUTINE
  8336	036506	254 00 0 00 036472 		JRST	T140L		;LOOP
  8337	036507	254 00 0 00 036467 		JRST	T140S		;CONTINUE
  8338
  8339					;SCOPE TABLE
  8340
  8341	036510	000000	062461		TBL140:	0,,REGPNT
  8342	036511	100000	065730			NOINH![ASCIZ/CAN'T CLEAR C12 REG-02 "DTE"/]
  8343	036512	400000	077775			HIPROB!RG
  8344	036513	420000	077761			LAST!HIPROB!SN
  8345
  8346					SUBTTL	TEST FOR A PERSISTANT WRITE LOCK ERROR CONDITION
  8347					 	XLIST
  8348					 	LIST
  8349						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-183
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR A PERSISTANT WRITE LOCK ERROR CONDITION                                   SEQ 0379

  8350					S^;*********************************************************************^
  8351					;*TEST-141 VERIFY THAT C11 REG-02 IS NOT STUCK AT 1
  8352					S^;*********************************************************************^
  8353
  8354					COMMENT	$
  8355
  8356						TEST DESCRIPTION
  8357						---------------- 
  8358						RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT WLE DOES
  8359						NOT EXIST
  8360
  8361						RECOMMENDED DEBUG PROCEDURE
  8362						--------------------------- 
  8363						NONE.
  8364						$
  8365					 	SALL
  8366
  8367
  8368	036514	201 01 0 00 000141 	TST141:	MOVEI	1,141		;GET THE TEST NUMBER
  8369	036515	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  8370
  8371	036516	260 17 0 00 060522 	T141S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  8372	036517	263 17 0 00 000000 		RTN			;TRIED ALL DRIVES
  8373	036520	476 00 0 00 077330 		SETOM	SHMODE		;NEXT READY. SET PRINTOUT MODE
  8374
  8375	036521	260 17 0 00 077352 	T141L:	GO	DEVREQ		;REQUEST THE DEVICE
  8376
  8377	036522	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  8378
  8379	036523	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  8380	036524	260 17 0 00 057410 		GO	LRPER1		;CLEAR REG-02
  8381	036525	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8382
  8383	036526	602 01 0 00 004000 		TRNE	1,1B24		;IS C11 CLEAR
  8384	036527	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  8385	036530	027 00 0 00 036533 		SCOPE	TBL141		;CALL THE SCOPE ROUTINE
  8386	036531	254 00 0 00 036521 		JRST	T141L		;LOOP
  8387	036532	254 00 0 00 036516 		JRST	T141S		;CONTINUE
  8388
  8389					;SCOPE TABLE
  8390
  8391	036533	000000	062461		TBL141:	0,,REGPNT
  8392	036534	100000	065736			NOINH![ASCIZ/CAN'T CLEAR C11 REG-02 "WLE"/]
  8393	036535	400000	077775			HIPROB!RG
  8394	036536	420000	077761			LAST!HIPROB!SN
  8395
  8396					SUBTTL	CHECK FOR A PERSISTANT INVALID ADDRESS ERROR
  8397					 	XLIST
  8398					 	LIST
  8399						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-184
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR A PERSISTANT INVALID ADDRESS ERROR                                       SEQ 0380

  8400					S^;*********************************************************************^
  8401					;*TEST-142 VERIFY THAT C10 REG-02 IS NOT STUCK AT 1
  8402					S^;*********************************************************************^
  8403
  8404					COMMENT	$
  8405
  8406						TEST DESCRIPTION
  8407						---------------- 
  8408						RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT ERROR DOES NOT EXIST
  8409
  8410						RECOMMENDED DEBUG PROCEDURE
  8411						--------------------------- 
  8412						NONE.
  8413						$
  8414					 	SALL
  8415
  8416
  8417	036537	201 01 0 00 000142 	TST142:	MOVEI	1,142		;GET TEST NUMBER
  8418	036540	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  8419
  8420	036541	260 17 0 00 060522 	T142S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  8421	036542	263 17 0 00 000000 		RTN			;TRIED ALL
  8422	036543	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  8423
  8424	036544	260 17 0 00 077352 	T142L:	GO	DEVREQ		;REQUEST A DEVICE FOR TEST
  8425
  8426	036545	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  8427
  8428	036546	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  8429	036547	260 17 0 00 057410 		GO	LRPER1		;CLEAR REG-02
  8430	036550	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8431
  8432	036551	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  8433	036552	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  8434	036553	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8435	036554	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  8436
  8437	036555	602 01 0 00 002000 		TRNE	1,1B25		;IS C10 CLEAR
  8438	036556	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  8439	036557	027 00 0 00 036562 		SCOPE	TBL142		;CALL THE SCOPE ROUTINE
  8440	036560	254 00 0 00 036544 		JRST	T142L		;LOOP
  8441	036561	254 00 0 00 036541 		JRST	T142S		;CONTINUE
  8442
  8443					;SCOPE TABLE
  8444
  8445	036562	000000	062461		TBL142:	0,,REGPNT
  8446	036563	100000	065744			NOINH![ASCIZ/CAN'T CLEAR C10 REG-02 "IAE"/]
  8447	036564	400000	077775			HIPROB!RG
  8448	036565	420000	077765			LAST!HIPROB!SS
  8449
  8450					SUBTTL	CHECK FOR A PERSISTANT ADDRESS OVERFLOW ERROR
  8451					 	XLIST
  8452					 	LIST
  8453						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-185
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR A PERSISTANT ADDRESS OVERFLOW ERROR                                      SEQ 0381

  8454					S^;*********************************************************************^
  8455					;*TEST-143 VERIFY THAT C09 REG-02 IS NOT STUCK AT 1
  8456					S^;*********************************************************************^
  8457
  8458					COMMENT	$
  8459
  8460						TEST DESCRIPTION
  8461						---------------- 
  8462						RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT "AOE" DOESN'T EXIST
  8463						THE DESIRED ADDRESS REGISTERS ARE SET TO 0 IN ORDER TO LOCALIZE
  8464						THE FAILURE TO A SMALLER NUMBER OF MODULES.
  8465
  8466						RECOMMENDED DEBUG PROCEDURE
  8467						--------------------------- 
  8468						NONE.
  8469						$
  8470					 	SALL
  8471
  8472
  8473	036566	201 01 0 00 000143 	TST143:	MOVEI	1,143		;GET THE TEST NUMBER
  8474	036567	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  8475
  8476	036570	260 17 0 00 060522 	T143S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  8477	036571	263 17 0 00 000000 		RTN			;TRIED ALL
  8478	036572	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  8479
  8480	036573	260 17 0 00 077352 	T143L:	GO	DEVREQ		;REQUEST A DEVICE FOR TEST
  8481
  8482	036574	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  8483
  8484	036575	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  8485	036576	260 17 0 00 057421 		GO	LRPDA		;CLEAR THE DA REGISTER
  8486	036577	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8487
  8488	036600	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  8489	036601	260 17 0 00 057440 		GO	LRPDC		;CLEAR DESIRED CYL REG
  8490	036602	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8491
  8492	036603	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  8493	036604	260 17 0 00 057410 		GO	LRPER1		;CLEAR REG-02
  8494	036605	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8495
  8496	036606	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  8497	036607	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  8498	036610	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8499	036611	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  8500
  8501	036612	602 01 0 00 001000 		TRNE	1,1B26		;IS C09 CLEAR
  8502	036613	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  8503	036614	027 00 0 00 036617 		SCOPE	TBL143		;CALL THE SCOPE ROUTINE
  8504	036615	254 00 0 00 036573 		JRST	T143L		;LOOP
  8505	036616	254 00 0 00 036570 		JRST	T143S		;CONTINUE
  8506
  8507					;SCOPE TABLE
  8508
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-186
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR A PERSISTANT ADDRESS OVERFLOW ERROR                                      SEQ 0382

  8509	036617	000000	062461		TBL143:	0,,REGPNT
  8510	036620	100000	065752			NOINH![ASCIZ/CAN'T CLEAR C09 REG-02 "AOE"/]
  8511	036621	400000	077775			HIPROB!RG
  8512	036622	420000	077765			LAST!HIPROB!SS
  8513
  8514					SUBTTL	CHECK FOR A PERSISTANT HCRC ERROR
  8515					 	XLIST
  8516					 	LIST
  8517						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-187
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR A PERSISTANT HCRC ERROR                                                  SEQ 0383

  8518					S^;*********************************************************************^
  8519					;*TEST-144 VERIFY THAT C08 REG-02 IS NOT STUCK AT 1
  8520					S^;*********************************************************************^
  8521
  8522					COMMENT	$
  8523
  8524						TEST DESCRIPTION
  8525						---------------- 
  8526						RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT HCRC ERROR
  8527						DOES NOT EXIST
  8528
  8529						RECOMMENDED DEBUG PROCEDURE
  8530						--------------------------- 
  8531						NONE.
  8532						$
  8533					 	SALL
  8534
  8535
  8536	036623	201 01 0 00 000144 	TST144:	MOVEI	1,144		;GET THE TEST NUMBER
  8537	036624	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  8538
  8539	036625	260 17 0 00 060522 	T144S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  8540	036626	263 17 0 00 000000 		RTN			;TRIED ALL
  8541	036627	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  8542
  8543	036630	260 17 0 00 077352 	T144L:	GO	DEVREQ		;REQUEST A DEVICE FOR TEST
  8544
  8545	036631	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  8546
  8547	036632	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  8548	036633	260 17 0 00 057410 		GO	LRPER1		;CLEAR REG-02
  8549	036634	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8550
  8551	036635	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  8552	036636	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  8553	036637	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8554	036640	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  8555
  8556	036641	602 01 0 00 000400 		TRNE	1,1B27		;IS C08 CLEAR
  8557	036642	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  8558	036643	027 00 0 00 036646 		SCOPE	TBL144		;CALL THE SCOPE ROUTINE
  8559	036644	254 00 0 00 036630 		JRST	T144L		;LOOP
  8560	036645	254 00 0 00 036625 		JRST	T144S		;CONTINUE
  8561
  8562					;SCOPE TABLE
  8563
  8564	036646	000000	062461		TBL144:	0,,REGPNT
  8565	036647	100000	065760			NOINH![ASCIZ/CAN'T CLEAR C08 REG-02 "HCRC"/]
  8566	036650	400000	077775			HIPROB!RG
  8567	036651	420000	077765			LAST!HIPROB!SS
  8568
  8569					SUBTTL	CHECK FOR A PERSISTANT HEADER COMPARE ERROR
  8570					 	XLIST
  8571					 	LIST
  8572						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-188
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR A PERSISTANT HEADER COMPARE ERROR                                        SEQ 0384

  8573					S^;*********************************************************************^
  8574					;*TEST-145 VERIFY THAT C07 REG-02 IS NOT STUCK AT 1
  8575					S^;*********************************************************************^
  8576
  8577					COMMENT	$
  8578
  8579						TEST DESCRIPTION
  8580						---------------- 
  8581						RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT HEADER COMPRE
  8582						ERROR DOES NO EXIST.
  8583
  8584						RECOMMENDED DEBUG PROCEDURE
  8585						--------------------------- 
  8586						NONE.
  8587						$
  8588					 	SALL
  8589
  8590
  8591	036652	201 01 0 00 000145 	TST145:	MOVEI	1,145		;GET THE TEST NUMBER
  8592	036653	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  8593
  8594	036654	260 17 0 00 060522 	T145S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  8595	036655	263 17 0 00 000000 		RTN			;TRIED ALL
  8596	036656	476 00 0 00 077330 		SETOM	SHMODE		;NTX RDY. SET PRINTOUT MODE
  8597
  8598	036657	260 17 0 00 077352 	T145L:	GO	DEVREQ		;REQUEST A DEVICE
  8599
  8600	036660	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  8601
  8602	036661	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  8603	036662	260 17 0 00 057410 		GO	LRPER1		;LOAD REG-02
  8604	036663	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8605
  8606	036664	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  8607	036665	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  8608	036666	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8609	036667	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  8610
  8611	036670	602 01 0 00 000200 		TRNE	1,1B28		;IS C07 CLEAR
  8612	036671	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  8613	036672	027 00 0 00 036675 		SCOPE	TBL145		;CALL THE SCOPE ROUTINE
  8614	036673	254 00 0 00 036657 		JRST	T145L		;LOOP
  8615	036674	254 00 0 00 036654 		JRST	T145S		;CONTINUE
  8616
  8617					;SCOPE TABLE
  8618
  8619	036675	000000	062461		TBL145:	0,,REGPNT
  8620	036676	100000	065766			NOINH![ASCIZ/CAN'T CLEAR C07 REG-02 "HCE"/]
  8621	036677	400000	077775			HIPROB!RG
  8622	036700	420000	077765			LAST!HIPROB!SS
  8623
  8624					SUBTTL	CHECK FOR A PERSISTANT ECH ERROR
  8625					 	XLIST
  8626					 	LIST
  8627						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-189
DSRPA2	MAC	 2-Mar-79 10:47		CHECK FOR A PERSISTANT ECH ERROR                                                   SEQ 0385

  8628					S^;*********************************************************************^
  8629					;*TEST-146 VERIFY THAT C06 REG-02 IS NOT STUCK AT 1
  8630					S^;*********************************************************************^
  8631
  8632					COMMENT	$
  8633
  8634						TEST DESCRIPTION
  8635						---------------- 
  8636						RESET/WRITE 0/READ/VERIFY THAT A PERSISTANT HARD ECC ERROR
  8637						DOES NOT EXIST
  8638
  8639						RECOMMENDED DEBUG PROCEDURE
  8640						--------------------------- 
  8641						NONE.
  8642						$
  8643					 	SALL
  8644
  8645
  8646	036701	201 01 0 00 000146 	TST146:	MOVEI	1,146		;GET THE TEST NUMBER
  8647	036702	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  8648
  8649	036703	260 17 0 00 060522 	T146S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  8650	036704	263 17 0 00 000000 		RTN			;TRIED ALL
  8651	036705	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  8652
  8653	036706	260 17 0 00 077352 	T146L:	GO	DEVREQ		;REQUEST A DEVICE FOR TEST
  8654
  8655	036707	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  8656
  8657	036710	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  8658	036711	260 17 0 00 057410 		GO	LRPER1		;CLEAR REG-02
  8659	036712	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8660
  8661	036713	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  8662	036714	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  8663	036715	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8664	036716	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  8665
  8666	036717	602 01 0 00 000100 		TRNE	1,1B29		;IS C06 CLEAR
  8667	036720	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  8668	036721	027 00 0 00 036724 		SCOPE	TBL146		;CALL THE SCOPE ROUTINE
  8669	036722	254 00 0 00 036706 		JRST	T146L		;LOOP
  8670	036723	254 00 0 00 036703 		JRST	T146S		;CONTINUE
  8671
  8672					;SCOPE TABLE
  8673
  8674	036724	000000	062461		TBL146:	0,,REGPNT
  8675	036725	100000	065774			NOINH![ASCIZ/CAN'T CLEAR C06 REG-02 "ECH"/]
  8676	036726	400000	077775			HIPROB!RG
  8677	036727	420000	077755			LAST!HIPROB!EC
  8678
  8679					SUBTTL	VERIFY THAT A PERSISTANT WRITE CLOCK FAIL ERROR DOESN'T EXIST
  8680					 	XLIST
  8681					 	LIST
  8682						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-190
DSRPA2	MAC	 2-Mar-79 10:47		VERIFY THAT A PERSISTANT WRITE CLOCK FAIL ERROR DOESN'T EXIST                      SEQ 0386

  8683					S^;*********************************************************************^
  8684					;*TEST-147 VERIFY THAT C05 REG-02 IS NOT STUCK AT 1
  8685					S^;*********************************************************************^
  8686
  8687					COMMENT	$
  8688
  8689						TEST DESCRIPTION
  8690						---------------- 
  8691						RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT WRITE CLOCK FAIL
  8692						ERROR DOES NOT EXIST
  8693
  8694						RECOMMENDED DEBUG PROCEDURE
  8695						--------------------------- 
  8696						NONE.
  8697						$
  8698					 	SALL
  8699
  8700
  8701	036730	201 01 0 00 000147 	TST147:	MOVEI	1,147		;GET THE TEST NUMBER
  8702	036731	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  8703
  8704	036732	260 17 0 00 060522 	T147S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  8705	036733	263 17 0 00 000000 		RTN			;TRIED ALL
  8706	036734	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  8707
  8708	036735	260 17 0 00 077352 	T147L:	GO	DEVREQ		;REQUEST A DEVICE FOR TEST
  8709
  8710	036736	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  8711
  8712	036737	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  8713	036740	260 17 0 00 057410 		GO	LRPER1		;LOAD REG-02
  8714	036741	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8715
  8716	036742	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  8717	036743	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  8718	036744	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8719	036745	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  8720
  8721	036746	602 01 0 00 000040 		TRNE	1,1B30		;IS C05 CLEAR
  8722	036747	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  8723	036750	027 00 0 00 036753 		SCOPE	TBL147		;CALL THE SCOPE ROUTINE
  8724	036751	254 00 0 00 036735 		JRST	T147L		;LOOP
  8725	036752	254 00 0 00 036732 		JRST	T147S		;CONTINUE
  8726
  8727					;SCOPE TABLE
  8728
  8729	036753	000000	062461		TBL147:	0,,REGPNT
  8730	036754	100000	066002			NOINH![ASCIZ/CAN'T CLEAR C05 REG-02 "WCF"/]
  8731	036755	400000	077775			HIPROB!RG
  8732	036756	420000	077761			LAST!HIPROB!SN
  8733
  8734					SUBTTL	VERIFY THAT A PERSISTANT FORMAT ERROR DOES NOT EXIST
  8735					 	XLIST
  8736					 	LIST
  8737						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-191
DSRPA2	MAC	 2-Mar-79 10:47		VERIFY THAT A PERSISTANT FORMAT ERROR DOES NOT EXIST                               SEQ 0387

  8738					S^;*********************************************************************^
  8739					;*TEST-150 VERIFY THAT C04 REG-02 IS NOT STUCK AT 1
  8740					S^;*********************************************************************^
  8741
  8742					COMMENT	$
  8743
  8744						TEST DESCRIPTION
  8745						---------------- 
  8746						RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT FORMAT ERROR
  8747						DOES NOT EXIST.
  8748
  8749						RECOMMENDED DEBUG PROCEDURE
  8750						--------------------------- 
  8751						NONE.
  8752						$
  8753					 	SALL
  8754
  8755
  8756	036757	201 01 0 00 000150 	TST150:	MOVEI	1,150		;GET THE TEST NUMBER
  8757	036760	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  8758
  8759	036761	260 17 0 00 060522 	T150S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  8760	036762	263 17 0 00 000000 		RTN			;TRIED ALL
  8761	036763	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  8762
  8763	036764	260 17 0 00 077352 	T150L:	GO	DEVREQ		;REQUEST A DEVICE FOR TEST
  8764
  8765	036765	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  8766
  8767	036766	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  8768	036767	260 17 0 00 057410 		GO	LRPER1		;LOAD REG-02
  8769	036770	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8770
  8771	036771	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  8772	036772	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  8773	036773	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8774	036774	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  8775
  8776	036775	602 01 0 00 000020 		TRNE	1,1B31		;IS C04 CLEAR
  8777	036776	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  8778	036777	027 00 0 00 037002 		SCOPE	TBL150		;CALL SCOPE ROUTINE
  8779	037000	254 00 0 00 036764 		JRST	T150L		;LOOP
  8780	037001	254 00 0 00 036761 		JRST	T150S		;CONTINUE
  8781
  8782					;SCOPE TABLE
  8783
  8784	037002	000000	062461		TBL150:	0,,REGPNT
  8785	037003	100000	066010			NOINH![ASCIZ/CAN'T CLEAR C04 REG-02 "FER"/]
  8786	037004	400000	077775			HIPROB!RG
  8787	037005	420000	077765			LAST!HIPROB!SS
  8788
  8789					SUBTTL	VERIFY THAT A PERSISTANT REG MOD REFUSED ERROR DOES NOT EXIST
  8790					 	XLIST
  8791					 	LIST
  8792						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-192
DSRPA2	MAC	 2-Mar-79 10:47		VERIFY THAT A PERSISTANT REG MOD REFUSED ERROR DOES NOT EXIST                      SEQ 0388

  8793					S^;*********************************************************************^
  8794					;*TEST-151 VERIFY THAT C02 REG-02 IS NOT STUCK AT 1
  8795					S^;*********************************************************************^
  8796
  8797					COMMENT	$
  8798
  8799						TEST DESCRIPTION
  8800						---------------- 
  8801						RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT REGISTER MODIFY
  8802						REFUSED ERROR CONDITION DOES NOT EXIST.
  8803
  8804						RECOMMENDED DEBUG PROCEDURE
  8805						--------------------------- 
  8806						NONE.
  8807						$
  8808					 	SALL
  8809
  8810
  8811	037006	201 01 0 00 000151 	TST151:	MOVEI	1,151		;GET THE TEST NUMBER
  8812	037007	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  8813
  8814	037010	260 17 0 00 060522 	T151S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  8815	037011	263 17 0 00 000000 		RTN			;TRIED ALL
  8816	037012	476 00 0 00 077330 		SETOM	SHMODE		;SET THE PRINTOUT MODE
  8817
  8818	037013	260 17 0 00 077352 	T151L:	GO	DEVREQ		;REQUEST THE DEVICE
  8819
  8820	037014	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERROR CONDITIONS
  8821
  8822	037015	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  8823	037016	260 17 0 00 057410 		GO	LRPER1		;LOAD REG-02
  8824	037017	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8825
  8826	037020	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  8827	037021	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  8828	037022	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8829	037023	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  8830
  8831	037024	602 01 0 00 000004 		TRNE	1,1B33		;IS C02 CLEAR
  8832	037025	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  8833	037026	027 00 0 00 037031 		SCOPE	TBL151		;CALL THE SCOPE ROUTINE
  8834	037027	254 00 0 00 037013 		JRST	T151L		;LOOP
  8835	037030	254 00 0 00 037010 		JRST	T151S		;CONTINUE
  8836
  8837					;SCOPE TABLE
  8838
  8839	037031	000000	062461		TBL151:	0,,REGPNT
  8840	037032	100000	066016			NOINH![ASCIZ/CAN'T CLEAR C02 REG-02 "RMR"/]
  8841	037033	420000	077775			LAST!HIPROB!RG
  8842
  8843					SUBTTL	VERIFY THAT A PERSISTANT ILLEGAL FUNCTION CONDITION DOES NOT EXIST
  8844					 	XLIST
  8845					 	LIST
  8846						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-193
DSRPA2	MAC	 2-Mar-79 10:47		VERIFY THAT A PERSISTANT ILLEGAL FUNCTION CONDITION DOES NOT EXIST                 SEQ 0389

  8847					S^;*********************************************************************^
  8848					;*TEST-152 VERIFY THAT C00 REG-02 IS NOT STUCK AT 1
  8849					S^;*********************************************************************^
  8850
  8851					COMMENT	$
  8852
  8853						TEST DESCRIPTION
  8854						---------------- 
  8855						A.  WRITE 0'S TO THE CONTROL REGISTER (A NOP)
  8856						B.  RESET/WRITE 0'S/READ/VERIFY THAT A PERSISTANT "ILF"
  8857						    CONDITION DOES NOT EXIST.
  8858
  8859						RECOMMENDED DEBUG PROCEDURE
  8860						--------------------------- 
  8861						NONE.
  8862						$
  8863					 	SALL
  8864
  8865	037034	201 01 0 00 000152 	TST152:	MOVEI	1,152		;GET THE TEST NUMBER
  8866	037035	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  8867
  8868	037036	260 17 0 00 060522 	T152S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  8869	037037	263 17 0 00 000000 		RTN			;TRIED ALL
  8870	037040	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  8871
  8872	037041	260 17 0 00 077352 	T152L:	GO	DEVREQ		;REQ THE DEVICE
  8873	037042	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  8874
  8875	037043	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  8876	037044	260 17 0 00 057402 		GO	LRPCS1		;LOAD REG-00 (CONTROL REG)
  8877	037045	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8878
  8879	037046	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  8880	037047	260 17 0 00 057410 		GO	LRPER1		;LOAD REG-02
  8881	037050	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8882
  8883	037051	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  8884	037052	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  8885	037053	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8886	037054	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  8887
  8888	037055	602 01 0 00 000001 		TRNE	1,1		;IS C00 CLEAR
  8889	037056	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  8890	037057	027 00 0 00 037062 		SCOPE	TBL152		;CALL THE SCOPE ROUTINE
  8891	037060	254 00 0 00 037041 		JRST	T152L		;LOOP
  8892	037061	254 00 0 00 037036 		JRST	T152S		;CONTINUE
  8893
  8894					;SCOPE TABLE
  8895
  8896	037062	000000	062461		TBL152:	0,,REGPNT
  8897	037063	100000	066024			NOINH![ASCIZ/CAN'T CLEAR C00 REG-02 "ILF"/]
  8898	037064	420000	077775			LAST!HIPROB!RG
  8899
  8900					SUBTTL	MISC. DATA TESTS OF REG-02
  8901					 	XLIST
  8902					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-194
DSRPA2	MAC	 2-Mar-79 10:47		MISC. DATA TESTS OF REG-02                                                         SEQ 0390

  8903						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-195
DSRPA2	MAC	 2-Mar-79 10:47		MISC. DATA TESTS OF REG-02                                                         SEQ 0391

  8904					S^;*********************************************************************^
  8905					;*TEST-153 DATA TEST FLOPS AND MUX'S OF REG-02
  8906					S^;*********************************************************************^
  8907
  8908					COMMENT	$
  8909
  8910						TEST DESCRIPTION
  8911						---------------- 
  8912						THE FLOPS AND MUX'S OF REG-02 ARE DATA TESTED USING THE
  8913						FOLLOWING 4 SUBTESTS:
  8914						A.  RESET/WRITE 1'S/READ/VERIFY
  8915						B.  RESET/WRITE 1'S/WRITE 0'S/READ/VERIFY
  8916						C.  RESET/WRITE 0'S/WRITE 1'S/READ/VERIFY
  8917						D.  RESET/WRITE 1'S/RESET/READ/VERIFY 
  8918
  8919						RECOMMENDED DEBUG PROCEDURE
  8920						--------------------------- 
  8921						NONE.
  8922						$
  8923					 	SALL
  8924
  8925
  8926	037065	201 01 0 00 000153 	TST153:	MOVEI	1,153		;GET THE TEST NUMBER
  8927	037066	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  8928
  8929	037067	260 17 0 00 060522 	T153S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  8930	037070	263 17 0 00 000000 		RTN			;TRIED ALL
  8931	037071	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  8932
  8933	037072	260 17 0 00 077352 	T153AL:	GO	DEVREQ		;REQUEST THE DEVICE
  8934
  8935	037073	260 17 0 00 060723 		GO	MSTCLR		;CLEARS ERRORS
  8936
  8937	037074	200 01 0 00 064332 		MOVE	1,[1B14!177777]	;DATA IS 1'S
  8938	037075	260 17 0 00 057410 		GO	LRPER1		;LOAD REG-02
  8939	037076	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8940
  8941	037077	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  8942	037100	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  8943	037101	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8944	037102	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  8945
  8946	037103	460 00 0 00 000001 		SETCM	0,1		;COMP OF DATA TO AC0
  8947	037104	602 00 0 00 177777 		TRNE	0,177777	;WERE C00-C15 ALL SET
  8948	037105	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  8949	037106	027 00 0 00 037173 		SCOPE	TB153A		;CALL THE SCOPE ROUTINE
  8950	037107	254 00 0 00 037072 		JRST	T153AL		;LOOP
  8951	037110	255 00 0 00 000000 		JFCL			;CONTINUE. FALL INTO NEXT SUBTEST
  8952
  8953	037111	260 17 0 00 077352 	T153BL:	GO	DEVREQ		;REQUEST A DEVICE
  8954
  8955	037112	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  8956
  8957	037113	200 01 0 00 064332 		MOVE	1,[1B14!177777]	;DATA IS 1'S
  8958	037114	260 17 0 00 057410 		GO	LRPER1		;LOAD REG-02
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-196
DSRPA2	MAC	 2-Mar-79 10:47		MISC. DATA TESTS OF REG-02                                                         SEQ 0392

  8959	037115	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8960
  8961	037116	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  8962	037117	260 17 0 00 057410 		GO	LRPER1		;LOAD REG-02
  8963	037120	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8964
  8965	037121	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  8966	037122	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  8967	037123	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8968	037124	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  8969
  8970	037125	602 01 0 00 177777 		TRNE	1,177777	;IS DATA 0'S
  8971	037126	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  8972	037127	027 00 0 00 037176 		SCOPE	TB153B		;CALL THE SCOPE ROUTINE
  8973	037130	254 00 0 00 037111 		JRST	T153BL		;LOOP
  8974	037131	255 00 0 00 000000 		JFCL			;CONTINUE. FALL INTO NEXT SUBTEST
  8975
  8976	037132	260 17 0 00 077352 	T153CL:	GO	DEVREQ		;REQUEST A DEVICE
  8977
  8978	037133	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  8979
  8980	037134	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
  8981	037135	260 17 0 00 057410 		GO	LRPER1		;LOAD REG-02
  8982	037136	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8983
  8984	037137	200 01 0 00 064332 		MOVE	1,[1B14!177777]	;DATA IS 1'S
  8985	037140	260 17 0 00 057410 		GO	LRPER1		;LOAD REG-02
  8986	037141	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8987
  8988	037142	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  8989	037143	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  8990	037144	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  8991	037145	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  8992
  8993	037146	460 00 0 00 000001 		SETCM	0,1		;COMPLEMENT DATA TO AC0
  8994	037147	602 00 0 00 177777 		TRNE	0,177777	;IS DATA CORRECT
  8995	037150	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  8996	037151	027 00 0 00 037173 		SCOPE	TB153C		;CALL THE SCOPE ROUTINE
  8997	037152	254 00 0 00 037132 		JRST	T153CL		;LOOP
  8998	037153	255 00 0 00 000000 		JFCL			;CONTINUE. FALL INTO NEXT SUBTEST
  8999
  9000	037154	260 17 0 00 077352 	T153DL:	GO	DEVREQ		;REQUEST A DEVICE
  9001
  9002	037155	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  9003
  9004	037156	200 01 0 00 064332 		MOVE	1,[1B14!177777]	;DATA IS 1'S
  9005	037157	260 17 0 00 057410 		GO	LRPER1		;LOAD REG-02
  9006	037160	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9007
  9008	037161	260 17 0 00 060723 		GO	MSTCLR		;SHOULD ZERO REG-02
  9009
  9010	037162	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  9011	037163	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  9012	037164	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9013	037165	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-197
DSRPA2	MAC	 2-Mar-79 10:47		MISC. DATA TESTS OF REG-02                                                         SEQ 0393

  9014
  9015	037166	602 01 0 00 177777 		TRNE	1,177777	;IS DATA CORRECT
  9016	037167	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  9017	037170	027 00 0 00 037201 		SCOPE	TB153D		;CALL THE SCOPE ROUTINE
  9018	037171	254 00 0 00 037154 		JRST	T153DL		;LOOP
  9019	037172	254 00 0 00 037067 		JRST	T153S		;CONTINUE
  9020
  9021					;SCOPE TABLE
  9022
  9023	037173				TB153A:
  9024	037173	000000	062461		TB153C:	0,,REGPNT
  9025	037174	100000	066032			NOINH![ASCIZ/CAN'T WRITE 1'S TO C00-C15 REG-02/]
  9026	037175	040000	037203			GOTO!TB153E
  9027	037176	000000	062461		TB153B:	0,,REGPNT
  9028	037177	100000	066041			NOINH![ASCIZ/CAN'T WRITE 0'S TO C00-C15 REG-02/]
  9029	037200	040000	037203			GOTO!TB153E
  9030	037201	000000	062461		TB153D:	0,,REGPNT
  9031	037202	100000	066050			NOINH![ASCIZ/CAN'T RESET C00-C15 REG-02/]
  9032	037203	420000	077775		TB153E:	LAST!HIPROB!RG
  9033
  9034					 	XLIST
  9035					 	LIST
  9036						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-198
DSRPA2	MAC	 2-Mar-79 10:47		MISC. DATA TESTS OF REG-02                                                         SEQ 0394

  9037					S^;*********************************************************************^
  9038					;*TEST-154 SINGULARITY OF REG-02 BITS (FLOAT 1'S) 
  9039					S^;*********************************************************************^
  9040
  9041					COMMENT	$
  9042
  9043						TEST DESCRIPTION
  9044						---------------- 
  9045						FLOAT A 1 DOWN THE REGISTER TO GUARANTEE THAT NO BITS
  9046						INTERFERE WITH ONE ANOTHER. BEFORE EACH ONE IS LOADED, THE
  9047						REGISTER IS CLEARED BY WRITING 0'S INTO IT
  9048
  9049						RECOMMENDED DEBUG PROCEDURE
  9050						--------------------------- 
  9051						NONE.
  9052						$
  9053					 	SALL
  9054
  9055
  9056	037204	201 01 0 00 000154 	TST154:	MOVEI	1,154		;GET THE TEST NUMBER
  9057	037205	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  9058
  9059	037206	260 17 0 00 060522 	T154S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  9060	037207	263 17 0 00 000000 		RTN			;TRIED ALL
  9061	037210	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  9062
  9063	037211	201 01 0 00 100000 		MOVEI	1,100000	;A SINGLE 1 BIT TO C15
  9064	037212	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE AS CURRENT PATTERN
  9065
  9066	037213	260 17 0 00 077352 	T154L:	GO	DEVREQ		;REQUEST A DEVICE
  9067
  9068	037214	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS. REG-02
  9069
  9070	037215	200 01 0 00 077314 		MOVE	1,PATRN		;GET CURRENT PATTERN
  9071	037216	661 01 0 00 000010 		TLO	1,(1B14)	;SET. DON'T REPORT RAE BIT
  9072	037217	260 17 0 00 057410 		GO	LRPER1		;LOAD PATRN INTO REG-02
  9073	037220	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9074
  9075	037221	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  9076	037222	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  9077	037223	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9078	037224	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9079
  9080	037225	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET C00-C15 DATA
  9081	037226	312 00 0 00 077314 		CAME	0,PATRN		;DOES IT EQUAL THE PATTERN
  9082	037227	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  9083	037230	027 00 0 00 037240 		SCOPE	TBL154		;CALL THE SCOPE ROUTINE
  9084	037231	254 00 0 00 037213 		JRST	T154L		;LOOP
  9085
  9086	037232	200 01 0 00 077314 		MOVE	1,PATRN		;CONTINUE. GET CURRENT PATTERN
  9087	037233	242 01 0 00 777777 		LSH	1,-1		;SHIFT ONE TO THE RIGHT
  9088	037234	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE UPDATED PATTERN
  9089	037235	332 00 0 00 077314 		SKIPE	PATRN		;DONE?
  9090	037236	254 00 0 00 037213 		JRST	T154L		;NO. LOOP
  9091	037237	254 00 0 00 037206 		JRST	T154S		;YES
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-199
DSRPA2	MAC	 2-Mar-79 10:47		MISC. DATA TESTS OF REG-02                                                         SEQ 0395

  9092
  9093					;SCOPE TABLE
  9094
  9095	037240	000000	032320		TBL154:	0,,EXPECT
  9096	037241	100000	066056			NOINH![ASCIZ/CAN'T FLOAT A 1 DOWN REG-02 C00-C15/]
  9097	037242	420000	077775			LAST!HIPROB!RG
  9098
  9099					 	XLIST
  9100					 	LIST
  9101						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-200
DSRPA2	MAC	 2-Mar-79 10:47		MISC. DATA TESTS OF REG-02                                                         SEQ 0396

  9102					S^;*********************************************************************^
  9103					;*TEST-155 SINGULARITY OF REG-02 BITS (FLOAT 0'S) 
  9104					S^;*********************************************************************^
  9105
  9106					COMMENT	$
  9107
  9108						TEST DESCRIPTION
  9109						---------------- 
  9110						FLOAT A ZERO DOWN THE REGISTER TO GUARANTEE THAT NO BITS
  9111						INTERFERE WITH ONE ANOTHER. BEFORE EACH FLOATING PATTERN IS
  9112						LOADED, THE REGISTER IS PRESET TO 1'S
  9113
  9114						RECOMMENDED DEBUG PROCEDURE
  9115						--------------------------- 
  9116						NONE.
  9117						$
  9118					 	SALL
  9119
  9120
  9121	037243	201 01 0 00 000155 	TST155:	MOVEI	1,155		;GET THE TEST NUMBER
  9122	037244	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  9123
  9124	037245	260 17 0 00 060522 	T155S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  9125	037246	263 17 0 00 000000 		RTN			;TRIED ALL
  9126	037247	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  9127
  9128	037250	201 01 0 00 077777 		MOVEI	1,077777	;A SINGLE 0 BIT TO C15
  9129	037251	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE AS CURRENT PATTERN
  9130
  9131	037252	260 17 0 00 077352 	T155L:	GO	DEVREQ		;REQUEST A DEVICE
  9132
  9133	037253	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  9134
  9135	037254	200 01 0 00 064332 		MOVE	1,[1B14!177777]	;DATA IS ALL 1'S
  9136	037255	260 17 0 00 057410 		GO	LRPER1		;LOAD REG-02
  9137	037256	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9138
  9139	037257	200 01 0 00 077314 		MOVE	1,PATRN		;GET CURRENT PATTERN
  9140	037260	661 01 0 00 000010 		TLO	1,(1B14)	;SET. DON'T REPORT RAE BIT
  9141	037261	260 17 0 00 057410 		GO	LRPER1		;LOAD REG-02 WITH PATTERN
  9142	037262	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9143
  9144	037263	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  9145	037264	260 17 0 00 057604 		GO	RRPER1		;READ REG-02
  9146	037265	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9147	037266	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9148
  9149	037267	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET C00-C15 DATA
  9150	037270	312 00 0 00 077314 		CAME	0,PATRN		;DOES DATA EQUAL CURRENT PATTERN
  9151	037271	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  9152	037272	027 00 0 00 037303 		SCOPE	TBL155		;CALL SCOPE ROUTINE
  9153	037273	254 00 0 00 037252 		JRST	T155L		;LOOP
  9154
  9155	037274	200 01 0 00 077314 		MOVE	1,PATRN		;CONTINUE. GET PATTERN
  9156	037275	242 01 0 00 777777 		LSH	1,-1		;SHIFT ONE TO THE RIGHT
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-201
DSRPA2	MAC	 2-Mar-79 10:47		MISC. DATA TESTS OF REG-02                                                         SEQ 0397

  9157	037276	660 01 0 00 100000 		TRO	1,100000	;SET LEFTMOST BIT (C15) TO 1
  9158	037277	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE NEW PATTERN
  9159	037300	302 01 0 00 177777 		CAIE	1,177777	;ARE WE DONE?
  9160	037301	254 00 0 00 037252 		JRST	T155L		;NO
  9161	037302	254 00 0 00 037245 		JRST	T155S		;YES
  9162
  9163					;SCOPE TABLE
  9164
  9165	037303	000000	032320		TBL155:	0,,EXPECT
  9166	037304	100000	066066			NOINH![ASCIZ/CAN'T FLOAT A 0 DOWN REG-02 C00-C15/]
  9167	037305	420000	077775			LAST!HIPROB!RG
  9168
  9169					SUBTTL	REG-02/REG-03 MUX TEST
  9170					 	XLIST
  9171					 	LIST
  9172						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-202
DSRPA2	MAC	 2-Mar-79 10:47		REG-02/REG-03 MUX TEST                                                             SEQ 0398

  9173					S^;*********************************************************************^
  9174					;*TEST-156 A TEST OF THE MUX FOR REGISTER 2 & 3
  9175					S^;*********************************************************************^
  9176
  9177					COMMENT	$
  9178
  9179						TEST DESCRIPTION
  9180						---------------- 
  9181
  9182						RECOMMENDED DEBUG PROCEDURE
  9183						--------------------------- 
  9184						$
  9185					 	SALL
  9186
  9187
  9188	037306	201 01 0 00 000156 	TST156:	MOVEI	1,156
  9189	037307	260 17 0 00 060630 		GO	TRACE
  9190	037310	263 17 0 00 000000 		RTN			;SORRY, CAN'T DO ON RH11
  9191
  9192						XLIST
  9193						LIST
  9194
  9195					SUBTTL	TEST OPERATION OF COMPOSITE ERROR LOGIC
  9196					 	XLIST
  9197					 	LIST
  9198						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-203
DSRPA2	MAC	 2-Mar-79 10:47		TEST OPERATION OF COMPOSITE ERROR LOGIC                                            SEQ 0399

  9199					S^;*********************************************************************^
  9200					;*TEST-157 TEST THAT A PERSISTANT COMPOSITE ERROR DOESN'T EXIST
  9201					S^;*********************************************************************^
  9202
  9203					COMMENT	$
  9204
  9205						TEST DESCRIPTION
  9206						---------------- 
  9207						MASTER RESET THEN READ THE STATUS REGISTER AND INSURE THAT
  9208						COMPOSITE ERROR IS NOT SET.
  9209
  9210						RECOMMENDED DEBUG PROCEDURE
  9211						--------------------------- 
  9212						AT THIS POINT, THE 3 ERROR REGISTERS HAVE BEEN THROUGHLY TESTED
  9213						AND KNOWN TO WORK CORRECTLY. ONLY STATUS REGISTER LOGIC
  9214						FAULTS OR COMPOSITE ERROR DECODER FAULTS CAN EXIST.
  9215						TWO MODULES ARE INVOLVED THE EC BOARD AND RG BOARD.
  9216						IF PIN CK2 OF THE RG BOARD IS LOW, THE RG BOARD IS AT
  9217						FAULT OTHERWISE THE EC BOARD IS MALFUNCTIONING.
  9218						$
  9219					 	SALL
  9220
  9221
  9222	037311	201 01 0 00 000157 	TST157:	MOVEI	1,157		;GET THE TEST NUMBER
  9223	037312	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  9224
  9225	037313	260 17 0 00 060522 	T157S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  9226	037314	263 17 0 00 000000 		RTN			;TRIED ALL
  9227	037315	476 00 0 00 077330 		SETOM	SHMODE		;NXT READY. SET PRINTOUT MODE
  9228
  9229	037316	260 17 0 00 077352 	T157L:	GO	DEVREQ		;REQUEST THE DEVICE
  9230
  9231	037317	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ALL ERROR CONDITIONS
  9232
  9233	037320	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  9234	037321	260 17 0 00 057601 		GO	RRPDS		;READ STATUS REGISTER
  9235	037322	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9236	037323	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9237
  9238	037324	602 01 0 00 040000 		TRNE	1,1B21		;IS C14 "ERR" CLEAR
  9239	037325	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  9240	037326	027 00 0 00 037331 		SCOPE	TBL157		;CALL THE SCOPE ROUTINE
  9241	037327	254 00 0 00 037316 		JRST	T157L		;LOOP
  9242	037330	254 00 0 00 037313 		JRST	T157S		;CONTINUE
  9243
  9244					;SCOPE TABLE
  9245
  9246	037331	037336	037361		TBL157:	SRCESN,,SRCEPT		;DEFINE AN I/O AND PRINT ROUTINE
  9247	037332	100000	066076			NOINH![ASCIZ/COMPOSITE ERROR DETECTED WHEN NO ERRORS EXIST/]
  9248	037333	100000	066110			NOINH![ASCIZ/C14 OF STATUS REGISTER SHOULD BE 0/]
  9249	037334	400000	077775			HIPROB!RG
  9250	037335	420000	077755			LAST!HIPROB!EC
  9251
  9252					;A ROUTINE TO SNAPSHOT THE 3 ERROR REGISTERS AND SAVE CURRENT STATUS REGISTER
  9253
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-204
DSRPA2	MAC	 2-Mar-79 10:47		TEST OPERATION OF COMPOSITE ERROR LOGIC                                            SEQ 0400

  9254	037336	261 17 0 00 000001 	SRCESN:	PUT	1		;SAVES STATUS REGISTER
  9255	037337	202 01 0 00 077637 		MOVEM	1,SRPDS		;ALSO SAVES MORE PERMANENTLY
  9256	037340	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  9257	037341	260 17 0 00 057604 		GO	RRPER1		;READ ERROR REG-01
  9258	037342	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9259	037343	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9260	037344	202 01 0 00 077640 		MOVEM	1,SRPER1	;SAVE ER-1 DATA
  9261
  9262	037345	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  9263	037346	260 17 0 00 057642 		GO	RRPER2		;READ ERROR REG #2
  9264	037347	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9265	037350	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9266	037351	202 01 0 00 077652 		MOVEM	1,SRPER2	;SAVE ER-2 DATA
  9267
  9268	037352	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  9269	037353	260 17 0 00 057645 		GO	RRPER3		;READ ERROR REG #3
  9270	037354	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9271	037355	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9272	037356	202 01 0 00 077653 		MOVEM	1,SRPER3	;SAVE ER-3 DATA
  9273
  9274	037357	262 17 0 00 000001 		GET	1		;RESTORE ORIGNAL AC1
  9275	037360	263 17 0 00 000000 		RTN			;AND EXIT
  9276
  9277					;ROUTINE PRINTS CONTENTS OF ERROR REGS AND STATUS REG FROM CORE AREA
  9278
  9279	037361	261 17 0 00 000001 	SRCEPT:	PUT	1		;SAVE AC1
  9280	037362	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REG DATA
  9281	037363	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
  9282	037364	200 01 0 00 077640 		MOVE	1,SRPER1	;GET ERR-1 DATA
  9283	037365	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
  9284	037366	200 01 0 00 077652 		MOVE	1,SRPER2	;GET ERR-2 DATA
  9285	037367	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
  9286	037370	200 01 0 00 077653 		MOVE	1,SRPER3	;GET ERR-3 DATA
  9287	037371	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
  9288	037372	262 17 0 00 000001 		GET	1		;RESTORE AC1
  9289	037373	263 17 0 00 000000 		RTN			;AND EXIT
  9290
  9291					 	XLIST
  9292					 	LIST
  9293						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-205
DSRPA2	MAC	 2-Mar-79 10:47		TEST OPERATION OF COMPOSITE ERROR LOGIC                                            SEQ 0401

  9294					S^;*********************************************************************^
  9295					;*TEST-160 VERIFY THAT COMPOSITE ERROR CAN BE DECODED
  9296					S^;*********************************************************************^
  9297
  9298					COMMENT	$
  9299
  9300						TEST DESCRIPTION
  9301						---------------- 
  9302						THIS TEST VERIFIES THAT COMPOSITE ERROR CAN BE READ BACK
  9303						SUCESSFULLY. IT WILL ACCEPT ANY PATH AT THIS POINT IN TIME.
  9304						RESET/WRITE 1'S TO ER-1,2,3/READ/VERIFY THAT C14 REG-01 IS SET
  9305
  9306						RECOMMENDED DEBUG PROCEDURE
  9307						--------------------------- 
  9308						ALL FAULTS WOULD BE FOUND ON THE RG BOARD.
  9309						$
  9310					 	SALL
  9311
  9312
  9313	037374	201 01 0 00 000160 	TST160:	MOVEI	1,160		;GET THE TEST NUMBER
  9314	037375	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  9315
  9316	037376	260 17 0 00 060522 	T160S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  9317	037377	263 17 0 00 000000 		RTN			;TRIED ALL
  9318	037400	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  9319
  9320	037401	260 17 0 00 077352 	T160L:	GO	DEVREQ		;REQUEST THE DEVICE
  9321
  9322	037402	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  9323
  9324	037403	200 01 0 00 064332 		MOVE	1,[1B14!177777]	;DATA IS ALL 1'S
  9325	037404	260 17 0 00 057410 		GO	LRPER1		;LOAD ER-1
  9326	037405	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9327
  9328	037406	200 01 0 00 064332 		MOVE	1,[1B14!177777]	;DATA IS ALL 1'S
  9329	037407	260 17 0 00 057446 		GO	LRPER2		;LOAD ER-2
  9330	037410	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9331
  9332	037411	200 01 0 00 064332 		MOVE	1,[1B14!177777]	;DATA IS ALL 1'S
  9333	037412	260 17 0 00 057451 		GO	LRPER3		;LOAD ER-3
  9334	037413	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9335
  9336	037414	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  9337	037415	260 17 0 00 057601 		GO	RRPDS		;READ STATUS REGISTER
  9338	037416	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9339	037417	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9340
  9341	037420	606 01 0 00 040000 		TRNN	1,1B21		;IS C14 CLEAR?
  9342	037421	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  9343	037422	027 00 0 00 037425 		SCOPE	TBL160		;CALL SCOPE ROUTINE
  9344	037423	254 00 0 00 037401 		JRST	T160L		;LOOP
  9345	037424	254 00 0 00 037376 		JRST	T160S		;CONTINUE
  9346
  9347					;SCOPE TABLE
  9348
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-206
DSRPA2	MAC	 2-Mar-79 10:47		TEST OPERATION OF COMPOSITE ERROR LOGIC                                            SEQ 0402

  9349	037425	037336	037361		TBL160:	SRCESN,,SRCEPT		;DEFINE AN I/O AND PRINT ROUTINE
  9350	037426	100000	066117			NOINH![ASCIZ/COMPOSITE ERROR NOT DETECTED WHEN ERRORS EXIST/]
  9351	037427	100000	066131			NOINH![ASCIZ/C14 OF THE STATUS REGISTER SHOULD BE 1/]
  9352	037430	420000	077775			LAST!HIPROB!RG
  9353
  9354					 	XLIST
  9355					 	LIST
  9356						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-207
DSRPA2	MAC	 2-Mar-79 10:47		TEST OPERATION OF COMPOSITE ERROR LOGIC                                            SEQ 0403

  9357					S^;*********************************************************************^
  9358					;*TEST-161 VERIFY THAT EACH REG-02 BIT CAUSES COMPOSITE ERROR
  9359					S^;*********************************************************************^
  9360
  9361					COMMENT	$
  9362
  9363						TEST DESCRIPTION
  9364						---------------- 
  9365						THIS TEST VERIFIES THAT THE SETTING OF EACH BIT IN ERROR
  9366						REG #1 (REG-02) PRODUCES A COMPOSITE ERROR INDICATION IN
  9367						THE STATUS REGISTER (REG-01) 
  9368
  9369						RECOMMENDED DEBUG PROCEDURE
  9370						--------------------------- 
  9371						ALL FAULTS ARE ISOLATED TO THE RG BOARD
  9372						$
  9373					 	SALL
  9374
  9375
  9376	037431	201 01 0 00 000161 	TST161:	MOVEI	1,161		;GET THE TEST NUMBER
  9377	037432	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  9378
  9379	037433	260 17 0 00 060522 	T161S:	GO	DEVSEL		;SELECT A DEVICE FOR TES
  9380	037434	263 17 0 00 000000 		RTN			;TRIED ALL
  9381	037435	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  9382
  9383	037436	201 01 0 00 100000 		MOVEI	1,100000	;A SINGLE 1 BIT TO C15
  9384	037437	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE CURRENT PATTERN
  9385
  9386	037440	260 17 0 00 077352 	T161L:	GO	DEVREQ		;REQUEST THE DEVICE
  9387
  9388	037441	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERROR CONDITIONS
  9389
  9390	037442	200 01 0 00 077314 		MOVE	1,PATRN		;GET CURRENT FLOATING BIT
  9391	037443	661 01 0 00 000010 		TLO	1,(1B14)	;SET. DON'T REPORT RAE BIT
  9392	037444	260 17 0 00 057410 		GO	LRPER1		;LOAD ER-1 WITH CURRENT PATTERN
  9393	037445	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9394
  9395	037446	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  9396	037447	260 17 0 00 057604 		GO	RRPER1		;READ ER-1
  9397	037450	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9398	037451	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9399	037452	202 01 0 00 077317 		MOVEM	1,REGIN#	;SAVE RESULTS IN CORE
  9400
  9401	037453	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  9402	037454	260 17 0 00 057601 		GO	RRPDS		;READ STATUS REGISTER
  9403	037455	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9404	037456	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9405
  9406	037457	606 01 0 00 040000 		TRNN	1,1B21		;IS COMPOSITE ERROR SET (C14)
  9407	037460	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  9408	037461	027 00 0 00 037477 		SCOPE	TBL161		;CALL SCOPE ROUTINE
  9409	037462	254 00 0 00 037440 		JRST	T161L		;LOOP
  9410
  9411	037463	200 01 0 00 077314 		MOVE	1,PATRN		;CONTINUE. GET CURRENT PATTERN
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-208
DSRPA2	MAC	 2-Mar-79 10:47		TEST OPERATION OF COMPOSITE ERROR LOGIC                                            SEQ 0404

  9412	037464	242 01 0 00 777777 		LSH	1,-1		;SHIFT ONE PLACE TO RIGHT
  9413	037465	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE NEW PATTERN
  9414	037466	332 00 0 00 000001 		SKIPE	1		;ARE WE DONE
  9415	037467	254 00 0 00 037440 		JRST	T161L		;NO.
  9416	037470	254 00 0 00 037433 		JRST	T161S		;YES.
  9417
  9418					;PRINT ROUTINE FOR THIS TEST
  9419
  9420	037471	261 17 0 00 000001 	T16XPT:	PUT	1		;SAVE AC1
  9421	037472	260 17 0 00 062461 		GO	REGPNT		;PRINTS STATUS REG
  9422	037473	200 01 0 00 077317 		MOVE	1,REGIN		;GET ER-1 DATA
  9423	037474	260 17 0 00 062461 		GO	REGPNT		;PRINT ITS DATA
  9424	037475	262 17 0 00 000001 		GET	1		;RESTORE THE AC
  9425	037476	263 17 0 00 000000 		RTN			;EXIT
  9426
  9427					;SCOPE TABLE
  9428
  9429	037477	000000	037471		TBL161:	0,,T16XPT		;DEFINE THE PRINT ROUTINE
  9430	037500	100000	066141			NOINH![ASCIZ/COMPOSITE ERROR DID NOT SET WITH AN ERROR CONDITION IN ER-1/]
  9431	037501	100000	066131			NOINH![ASCIZ/C14 OF THE STATUS REGISTER SHOULD BE 1/]
  9432	037502	420000	077775			LAST!HIPROB!RG
  9433
  9434					 	XLIST
  9435					 	LIST
  9436						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-209
DSRPA2	MAC	 2-Mar-79 10:47		TEST OPERATION OF COMPOSITE ERROR LOGIC                                            SEQ 0405

  9437					S^;*********************************************************************^
  9438					;*TEST-162 VERIFY THAT EACH REG-14 BIT CAUSES COMPOSITE ERROR
  9439					S^;*********************************************************************^
  9440
  9441					COMMENT	$
  9442
  9443						TEST DESCRIPTION
  9444						---------------- 
  9445						THIS TEST VERIFIES THAT THE SETTING OF EACH BIT IN ERROR REG #2
  9446						(REG-15) CAUSES A COMPOSITE ERROR IN THE STATUS REGISTER (REG-01)
  9447
  9448						RECOMMENDED DEBUG PROCEDURE
  9449						--------------------------- 
  9450						FAULTS ARE ISOLATED TO EITHER THE RG OR EC BOARD. THE
  9451						EC BOARD IS THE MOST PROBABLE. ONLY ONE GATE IS INVOLVED
  9452						ON THE RG BOARD.
  9453						$
  9454					 	SALL
  9455
  9456
  9457	037503	201 01 0 00 000162 	TST162:	MOVEI	1,162		;GET THE TEST NUMBER
  9458	037504	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  9459
  9460	037505	260 17 0 00 060522 	T162S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  9461	037506	263 17 0 00 000000 		RTN			;TRIED ALL
  9462	037507	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  9463
  9464	037510	201 01 0 00 100000 		MOVEI	1,100000	;A SINGLE 1 BIT TO C15
  9465	037511	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE CURRENT PATTERN
  9466
  9467	037512	260 17 0 00 077352 	T162L:	GO	DEVREQ		;REQUEST THE DEVICE
  9468
  9469	037513	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  9470
  9471	037514	200 01 0 00 077314 		MOVE	1,PATRN		;GET CURRENT PATTERN
  9472	037515	661 01 0 00 000010 		TLO	1,(1B14)	;SET. DON'T CLEAR RAE BIT
  9473	037516	260 17 0 00 057446 		GO	LRPER2		;LOAD ER-2 WITH CURRENT PATTERN
  9474	037517	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9475
  9476	037520	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  9477	037521	260 17 0 00 057642 		GO	RRPER2		;READ ER-2
  9478	037522	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9479	037523	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9480	037524	202 01 0 00 077317 		MOVEM	1,REGIN		;SAVE RESULTS
  9481
  9482	037525	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  9483	037526	260 17 0 00 057601 		GO	RRPDS		;READ STATUS REGISTER
  9484	037527	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9485	037530	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9486
  9487	037531	606 01 0 00 040000 		TRNN	1,1B21		;IS COMPOSITE ERROR SET (C14)
  9488	037532	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  9489	037533	027 00 0 00 037543 		SCOPE	TBL162		;CALL THE SCOPE ROUTINE
  9490	037534	254 00 0 00 037512 		JRST	T162L		;LOOP
  9491
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-210
DSRPA2	MAC	 2-Mar-79 10:47		TEST OPERATION OF COMPOSITE ERROR LOGIC                                            SEQ 0406

  9492	037535	200 01 0 00 077314 		MOVE	1,PATRN		;CONTINUE. GET CURRENT PATTERN
  9493	037536	242 01 0 00 777777 		LSH	1,-1		;SHIFT 1 PLACE TO THE RIGHT
  9494	037537	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE NEW PATTERN
  9495	037540	332 00 0 00 000001 		SKIPE	1		;ARE WE DONE
  9496	037541	254 00 0 00 037512 		JRST	T162L		;NO
  9497	037542	254 00 0 00 037505 		JRST	T162S		;YES
  9498
  9499					;SCOPE TABLE
  9500
  9501	037543	000000	037471		TBL162:	0,,T16XPT		;DEFINE A PRINT ROUTINE
  9502	037544	100000	066155			NOINH![ASCIZ/COMPOSITE ERROR DID NOT SET WITH ERROR CONDITION IN ER-2/]
  9503	037545	100000	066131			NOINH![ASCIZ/C14 OF THE STATUS REGISTER SHOULD BE 1/]
  9504	037546	400000	077755			HIPROB!EC
  9505	037547	420000	077775			LAST!HIPROB!RG
  9506
  9507					 	XLIST
  9508					 	LIST
  9509						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-211
DSRPA2	MAC	 2-Mar-79 10:47		TEST OPERATION OF COMPOSITE ERROR LOGIC                                            SEQ 0407

  9510					S^;*********************************************************************^
  9511					;*TEST-163 VERIFY THAT EACH REG-15 BIT CAUSES COMPOSITE ERROR
  9512					S^;*********************************************************************^
  9513
  9514					COMMENT	$
  9515
  9516						TEST DESCRIPTION
  9517						---------------- 
  9518						THIS TEST VERIFIES THAT THE SETTING OF EACH BIT IN ERROR REG #3
  9519						(REG-15) CAUSES A COMPOSITE ERROR IN THE STATUS REGISTER (REG-01)
  9520
  9521						RECOMMENDED DEBUG PROCEDURE
  9522						--------------------------- 
  9523						NONE.
  9524						$
  9525					 	SALL
  9526
  9527	037550	201 01 0 00 000163 	TST163:	MOVEI	1,163		;GET THE TEST NUMBER
  9528	037551	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  9529
  9530	037552	260 17 0 00 060522 	T163S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  9531	037553	263 17 0 00 000000 		RTN			;TRIED ALL
  9532	037554	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  9533
  9534	037555	201 01 0 00 100000 		MOVEI	1,100000	;A SINGLE 1 BIT TO C15
  9535	037556	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE CURRENT PATTERN
  9536
  9537	037557	260 17 0 00 077352 	T163L:	GO	DEVREQ		;REQUEST THE DEVICE
  9538
  9539	037560	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  9540
  9541	037561	200 01 0 00 077314 		MOVE	1,PATRN		;GET CURRENT PATTERN
  9542	037562	661 01 0 00 000010 		TLO	1,(1B14)	;SET. DON'T REPORT RAE BIT
  9543	037563	260 17 0 00 057451 		GO	LRPER3		;LOAD ER-3 WITH CURRENT BIT
  9544	037564	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9545
  9546	037565	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  9547	037566	260 17 0 00 057645 		GO	RRPER3		;READ ER-3
  9548	037567	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9549	037570	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9550	037571	202 01 0 00 077317 		MOVEM	1,REGIN		;SAVE RESULTS
  9551
  9552	037572	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  9553	037573	260 17 0 00 057601 		GO	RRPDS		;READ STATUS REGISTER
  9554	037574	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9555	037575	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9556
  9557	037576	606 01 0 00 040000 		TRNN	1,1B21		;IS COMPOSITE ERROR SET (C14)
  9558	037577	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
  9559	037600	027 00 0 00 037610 		SCOPE	TBL163		;CALL THE SCOPE ROUTINE
  9560	037601	254 00 0 00 037557 		JRST	T163L		;LOOP
  9561
  9562	037602	200 01 0 00 077314 		MOVE	1,PATRN		;CONTINUE. GET CURRENT PATTERN
  9563	037603	242 01 0 00 777777 		LSH	1,-1		;SHIFT 1 PLACE TO THE RIGHT
  9564	037604	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE UPDATED PATTERN
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-212
DSRPA2	MAC	 2-Mar-79 10:47		TEST OPERATION OF COMPOSITE ERROR LOGIC                                            SEQ 0408

  9565	037605	332 00 0 00 077314 		SKIPE	PATRN		;ARE WE DONE
  9566	037606	254 00 0 00 037557 		JRST	T163L		;NO
  9567	037607	254 00 0 00 037552 		JRST	T163S		;YES
  9568
  9569					;SCOPE TABLE
  9570
  9571	037610	000000	037471		TBL163:	0,,T16XPT		;DEFINE A PRINT ROUTINE
  9572	037611	100000	066171			NOINH![ASCIZ/COMPOSITE ERROR DID NOT SET WITH ERROR CONDITION IN ER-3/]
  9573	037612	100000	066131			NOINH![ASCIZ/C14 OF THE STATUS REGISTER SHOULD BE 1/]
  9574	037613	420000	077755			LAST!HIPROB!EC
  9575
  9576					SUBTTL	PARTIAL TEST OF DRIVE READY LOGIC
  9577					 	XLIST
  9578					 	LIST
  9579						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-213
DSRPA2	MAC	 2-Mar-79 10:47		PARTIAL TEST OF DRIVE READY LOGIC                                                  SEQ 0409

  9580					S^;*********************************************************************^
  9581					;*TEST-164 VERIFY THAT "DRY" IS COMPLEMENT OF THE "GO" BIT
  9582					S^;*********************************************************************^
  9583
  9584					COMMENT	$
  9585
  9586						TEST DESCRIPTION
  9587						---------------- 
  9588						THIS TEST INSURES THAT "DRY" AND "GO" ARE COMPLEMENTS WHEN "GO"
  9589						IS RESET. RESET/READ STATUS REG/VERIFY THAT C07 (DRY) IS 1
  9590
  9591						RECOMMENDED DEBUG PROCEDURE
  9592						--------------------------- 
  9593						NONE
  9594						$
  9595					 	SALL
  9596
  9597	037614	201 01 0 00 000164 	TST164:	MOVEI	1,164		;GET THE TEST NUMBER
  9598	037615	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  9599
  9600	037616	260 17 0 00 060522 	T164S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  9601	037617	263 17 0 00 000000 		RTN			;TRIED ALL
  9602	037620	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
  9603
  9604	037621	260 17 0 00 077352 	T164L:	GO	DEVREQ		;REQUEST THE DEVICE
  9605
  9606	037622	260 17 0 00 060723 		GO	MSTCLR		;CLEARS ERRORS AND "GO" BIT
  9607
  9608	037623	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  9609	037624	260 17 0 00 057576 		GO	RRPCS1		;READ CONTROL REG
  9610	037625	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9611	037626	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9612	037627	202 01 0 00 077317 		MOVEM	1,REGIN		;SAVE IN CASE OF ERROR
  9613
  9614	037630	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  9615	037631	260 17 0 00 057601 		GO	RRPDS		;READ THE STATUS REGISTER
  9616	037632	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9617	037633	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9618
  9619	037634	606 01 0 00 000200 		TRNN	1,1B28		;IS C07 CLEAR
  9620	037635	460 00 0 00 000010 		SETCM	ERFLG		;YES. ERROR
  9621	037636	027 00 0 00 037646 		SCOPE	TBL164		;CALL THE SCOPE ROUTINE
  9622	037637	254 00 0 00 037621 		JRST	T164L		;LOOP
  9623	037640	254 00 0 00 037616 		JRST	T164S		;CONTINUE
  9624
  9625					;PRINT ROUTINE FOR THIS TEST
  9626
  9627	037641	250 01 0 00 077317 	T164PT:	EXCH	1,REGIN		;GETS CTRL REG DATA
  9628	037642	260 17 0 00 062461 		GO	REGPNT		;PRINTS IT
  9629	037643	250 01 0 00 077317 		EXCH	1,REGIN		;NOW STATUS REG DATA
  9630	037644	260 17 0 00 062461 		GO	REGPNT		;PRINTS IT
  9631	037645	263 17 0 00 000000 		RTN			;AND EXIT
  9632
  9633					;SCOPE TABLE
  9634
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-214
DSRPA2	MAC	 2-Mar-79 10:47		PARTIAL TEST OF DRIVE READY LOGIC                                                  SEQ 0410

  9635	037646	000000	037641		TBL164:	0,,T164PT		;DEFINE THE PRINT ROUTINE
  9636	037647	100000	066205			NOINH![ASCIZ/"DPR" FAULT. DPR SHOULD BE 1/]
  9637	037650	100000	066213			NOINH![ASCIZ/"DPR" (C07 REG-01) AND "GO" (C00 REG-00)/]
  9638	037651	100000	066224			NOINH![ASCIZ/SHOULD BE COMPLEMENTS/]
  9639	037652	420000	077775			LAST!HIPROB!RG
  9640
  9641					SUBTTL	TEST FOR PROPER OPERATION OF HEAD LOAD SEQUENCE
  9642					 	XLIST
  9643					 	LIST
  9644						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-215
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF HEAD LOAD SEQUENCE                                    SEQ 0411

  9645					S^;*********************************************************************^
  9646					;*TEST-165 TESTING FOR PROPER HEAD LOAD OPERATION
  9647					S^;*********************************************************************^
  9648
  9649					COMMENT	$
  9650
  9651						TEST DESCRIPTION
  9652						---------------- 
  9653						THIS TEST VERIFIES THAT THE HEAD LOAD SEQUENCE COMPLETES
  9654						AND ALSO THAT THE DRIVE STATUS IS CORRECT AT COMPLETION
  9655						OF THE HEAD LOAD SEQUENCE.
  9656
  9657						RECOMMENDED DEBUG PROCEDURE
  9658						--------------------------- 
  9659						THIS TEST COULD TURN UP ANY ONE OF A LARGE NUMBER OF
  9660						PROBLEMS WITHIN THE MEMOREX LOGIC OPERATION. MODULE CALLOUT IS
  9661						IMPRACTICAL FOR THIS REASON.  KEEPING IN MIND, THE FACT THAT
  9662						ALL OF THE ERROR CONDITIONS ARE GUARANTEED NOT TO BE STUCK
  9663						SET, SINCE THEY ARE CHECKED IN PREVIOUS TESTS, IT IS SAFE TO
  9664						ASSUME THAT THE ERROR CONDITION IS ACTUALLY OCCURRING BECAUSE
  9665						OF SOME MALFUNCTION IN THE LOGIC PERTAINING TO HEAD LOAD
  9666						OPERATIONS (PROBABLY A MEMOREX MODULE FAULT).  THE FOLLOWING PROCEDURE
  9667						IS RECOMMENDED FOR DEBUGGING A PROBLEM OF THIS TYPE.
  9668						THIS TEST, UPON FAILURE, WILL DUMP STATUS
  9669						REGISTER AND 3 ERROR REGISTERS.
  9670						THERE IS A HEAD LOAD SEQUENCE TROUBLESHOOTING
  9671						PROCEDURE IN THE APPENDIX OF THE MEMOREX
  9672						SERVICE MANUAL FOR THIS DEVICE.
  9673						$
  9674					 	SALL
  9675
  9676
  9677	037653	201 01 0 00 000165 	TST165:	MOVEI	1,165		;GET THE TEST NUMBER
  9678	037654	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  9679
  9680	037655	260 17 0 00 060522 	T165S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  9681	037656	263 17 0 00 000000 		RTN			;TRIED ALL
  9682	037657	255 00 0 00 000000 		JFCL			;NEXT IS READY
  9683
  9684	037660	260 17 0 00 077352 		GO	DEVREQ		;REQUEST THE DEVICE
  9685
  9686	037661	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  9687
  9688	037662	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  9689	037663	260 17 0 00 057601 		GO	RRPDS		;READ THE STATUS REGISTER
  9690	037664	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9691	037665	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9692	037666	202 01 0 00 077637 		MOVEM	1,SRPDS		;SAVE CONTENTS OF STATUS REG
  9693
  9694	037667	640 01 0 00 010200 		TRC	1,1B23!1B28	;COMP MOL AND DRY BITS
  9695	037670	606 01 0 00 050277 		TRNN	1,1B21!1B23!1B28!77  ;CHECK FOR PROPER STATUS
  9696	037671	254 00 0 00 037655 		JRST	T165S		;STATUS IS OK
  9697	037672	254 00 0 00 037673 		JRST	T165PF		;THERE IS A POTENTIAL FAULT
  9698
  9699					;HERE BECAUSE THERE'S A POTENTIAL FAULT. HEAD LOAD STATUS INCORRECT
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-216
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF HEAD LOAD SEQUENCE                                    SEQ 0412

  9700
  9701	037673	260 17 0 00 061373 	T165PF:	GO	TELTST		;TELL WHICH TEST
  9702						TEXTF	[ASCIZ/
  9703	037674	031 00 0 00 066231 	DIAG DETECTS ERROR IN HEAD LOAD STATUS FOR/]
  9704	037675	260 17 0 00 061364 		GO	TELWHO		;TELLS WHICH DEVICE
  9705	037676	037 01 0 00 030243 		PCRL2F			;2 CRLF'S
  9706	037677	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REGISTER CONTENTS
  9707	037700	260 17 0 00 062461 		GO	REGPNT		;PRINT STATUS REGISTER DATA
  9708	037701	260 17 0 00 061373 	T165M:	GO	TELTST		;TELL WHERE WE ARE
  9709	037702	031 00 0 00 066242 		TEXTF	[ASCIZ/CYCLE/]
  9710	037703	260 17 0 00 061364 		GO	TELWHO		;TELL WHICH DEVICE
  9711						TEXTF	[ASCIZ/ON-LINE ONCE MORE.
  9712	037704	031 00 0 00 066244 	HAVE HEADS LOADED CORRECTLY ? /]
  9713	037705	260 17 0 00 061312 		GO	QSTN		;PROMPT AND WAIT FOR OPERATOR RESPONSE
  9714	037706	254 00 0 00 037701 		JRST	T165M		;TIMEOUT
  9715	037707	254 00 0 00 037711 		JRST	T165N		;ANSWER WAS NO
  9716	037710	254 00 0 00 037716 		JRST	T165Y		;ANSWER WAS YES
  9717
  9718					;HERE BECAUSE OPERATOR SAYS HEADS WON'T LOAD
  9719					;READ APPROPRIATE REGISTERS AND LOOP
  9720
  9721	037711	260 17 0 00 077352 	T165N:	GO	DEVREQ		;REQUEST THE DEVICE
  9722
  9723	037712	476 00 0 00 000010 		SETOM	ERFLG		;SET ERROR FLG. HEADS WON'T LOAD
  9724	037713	027 00 0 00 037775 		SCOPE	TB165A		;CALL THE SCOPE ROUTINE
  9725	037714	254 00 0 00 037701 		JRST	T165M		;LOOP
  9726	037715	254 00 0 00 037655 		JRST	T165S		;CONTINUE
  9727
  9728					;HERE BECAUSE OPERATOR SAYS HEADS WILL LOAD
  9729					;READ APPROPRIATE REGISTERS AND TEST FOR CORRECT STATUS
  9730
  9731	037716	260 17 0 00 077352 	T165Y:	GO	DEVREQ		;REQUEST THE DEVICE
  9732
  9733	037717	260 17 0 00 037731 		GO	SNPSE		;SNAPSHOT STATUS AND ERROR REGS
  9734
  9735	037720	200 00 0 00 077637 		MOVE	0,SRPDS		;GET STATUS REG DATA
  9736	037721	460 01 0 00 000000 		SETCM	1,0		;GET COMPLEMENT OF DATA
  9737	037722	602 01 0 00 010200 		TRNE	1,1B23!1B28	;CHECK FOR "MOL" AND "DRY"
  9738	037723	476 00 0 00 000010 		SETOM	ERFLG		;ONE OR BOTH INCORRECT
  9739
  9740	037724	602 00 0 00 040077 		TRNE	0,1B21!77	;COMPOSITE ERROR OR SEQUENCE ERROR
  9741	037725	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
  9742	037726	027 00 0 00 040000 		SCOPE	TB165B		;CALL THE SCOPE ROUTINE
  9743	037727	254 00 0 00 037701 		JRST	T165M		;LOOP
  9744	037730	254 00 0 00 037655 		JRST	T165S		;CONTINUE
  9745
  9746					;ROUTINE TO SNAPSHOT THE STATUS AND ERROR REGISTERS
  9747
  9748	037731	261 17 0 00 000001 	SNPSE:	PUT	1		;SAVE AC1
  9749	037732	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAES
  9750	037733	260 17 0 00 057601 		GO	RRPDS		;READ STATUS REGISTER
  9751	037734	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9752	037735	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9753	037736	202 01 0 00 077637 		MOVEM	1,SRPDS		;SAVE RESULTS
  9754
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-217
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF HEAD LOAD SEQUENCE                                    SEQ 0413

  9755	037737	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
  9756	037740	260 17 0 00 057604 		GO	RRPER1		;READ ERROR REG#1
  9757	037741	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FALURE
  9758	037742	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9759	037743	202 01 0 00 077640 		MOVEM	1,SRPER1	;SAVE RESULTS
  9760
  9761	037744	205 01 0 00 000010 		MOVSI	1,(1B14)	;DONT REPORT RAES
  9762	037745	260 17 0 00 057642 		GO	RRPER2		;READ ERROR REG#2
  9763	037746	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9764	037747	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9765	037750	202 01 0 00 077652 		MOVEM	1,SRPER2	;SAVE RESULTS
  9766
  9767	037751	205 01 0 00 000010 		MOVSI	1,(1B14)	;DONT REPORT RAES
  9768	037752	260 17 0 00 057645 		GO	RRPER3		;READ ERROR REG#3
  9769	037753	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9770	037754	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9771	037755	202 01 0 00 077653 		MOVEM	1,SRPER3	;SAVE RESULTS
  9772	037756	262 17 0 00 000001 		GET	1		;RESTORE AC1
  9773	037757	263 17 0 00 000000 		RTN			;AND EXIT
  9774
  9775					;ROUTINE TO DUMP CONTENTS OF STATUS AND ERROR REGISTERS
  9776
  9777	037760	261 17 0 00 000001 	PNTSE:	PUT	1		;SAVE THE AC
  9778	037761	031 00 0 00 066257 		TEXTF	[ASCIZ/STATUS NOT PRINTED IF SW-3 SET/]
  9779	037762	260 17 0 00 063452 		GO	.CRLF
  9780	037763	200 01 0 00 077637 		MOVE	1,SRPDS		;GETS STATUS DATA
  9781	037764	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
  9782	037765	200 01 0 00 077640 		MOVE	1,SRPER1	;GETS ER-1 DATA
  9783	037766	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
  9784	037767	200 01 0 00 077652 		MOVE	1,SRPER2	;GETS ER-2 DATA
  9785	037770	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
  9786	037771	200 01 0 00 077653 		MOVE	1,SRPER3	;GETS ER-3 DATA
  9787	037772	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
  9788	037773	262 17 0 00 000001 		GET	1		;RESTORE THE AC
  9789	037774	263 17 0 00 000000 		RTN			;RETURN
  9790
  9791					;SCOPE TABLES FOR THIS TEST
  9792
  9793	037775	037731	037760		TB165A:	SNPSE,,PNTSE		;DEFINE SNAPSHOT AND PRINT ROUTINES
  9794	037776	100000	066266			NOINH![ASCIZ/HEAD LOAD FAILURE/]
  9795	037777	040000	040003			GOTO!TB165C
  9796	040000	000000	037760		TB165B:	0,,PNTSE		;DEFINE THE PRINTER
  9797	040001	100000	066272			NOINH![ASCIZ/OPERATOR SAYS HEADS ARE LOADED/]
  9798	040002	100000	066301			NOINH![ASCIZ/BUT DIAGNOTIC DETECTS A STATUS FAULT/]
  9799	040003	400000	077775		TB165C:	HIPROB!RG
  9800	040004	600000	077747			LOPROB!MB
  9801	040005	120000	066311			LAST!NOINH![ASCIZ/REFER TO DEBUG PROCEDURE IN MAINT MANUAL/]
  9802
  9803					SUBTTL	TEST FOR PROPER OPERATION OF THE HEAD UNLOAD SEQUENCE
  9804					 	XLIST
  9805					 	LIST
  9806						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-218
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF THE HEAD UNLOAD SEQUENCE                              SEQ 0414

  9807					S^;*********************************************************************^
  9808					;*TEST-166 TESTING FOR PROPER HEAD UNLOAD OPERATION
  9809					S^;*********************************************************************^
  9810
  9811					COMMENT	$
  9812
  9813						TEST DESCRIPTION
  9814						---------------- 
  9815						THIS TEST VERIFIES THAT THE HEAD UNLOAD SEQUENCE WILL OPERATE
  9816						CORRECTLY AND ERROR FREE.
  9817
  9818						RECOMMENDED DEBUG PROCEDURE
  9819						--------------------------- 
  9820						THIS TEST COULD FAIL FOR ANY ONE OF A NUMBER OF REASONS.
  9821						MODULE CALLOUT IS IMPRACTICAL SINCE SO MANY THINGS COULD CAUSE
  9822						A FAULT IN THE SEQUENCE.
  9823						IF THIS TEST FAILS IT WILL DUMP STATUS AND ERROR
  9824						REGISTERS. THERE IS A TROUBLESHOOTING PROCEDURE FOR
  9825						THIS PROBLEM IN THE APPENDIX OF THE MAINT
  9826						MANUAL FOR THIS DRIVE.
  9827						$
  9828					 	SALL
  9829
  9830
  9831	040006	201 01 0 00 000166 	TST166:	MOVEI	1,166		;GET THE TEST NUMBER
  9832	040007	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  9833
  9834	040010	260 17 0 00 060522 	T166S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  9835	040011	263 17 0 00 000000 		RTN			;TRIED ALL
  9836	040012	255 00 0 00 000000 		JFCL			;NEXT SELECTED
  9837
  9838	040013	260 17 0 00 077352 	T166L:	GO	DEVREQ		;REQUEST THE DEVICE
  9839
  9840	040014	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
  9841
  9842	040015	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAES
  9843	040016	260 17 0 00 057601 		GO	RRPDS		;READ THE STATUS REGISTER
  9844	040017	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
  9845	040020	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
  9846	040021	202 01 0 00 077637 		MOVEM	1,SRPDS		;SAVE RESULTS
  9847
  9848	040022	640 01 0 00 010000 		TRC	1,1B23		;COMPLEMENT THE MOL-BIT
  9849	040023	602 01 0 00 050077 		TRNE	1,1B21!1B23!77	;SEE IF STATUS IS CORRECT
  9850	040024	254 00 0 00 040105 		JRST	T166SF		;STATUS ERROR. NOT ON LINE OR ERROR
  9851
  9852	040025	336 00 0 00 077255 	T166SA:	SKIPN	ATEND		;STATUS OK. DRIVE IS ON-LINE. OPERATOR?
  9853	040026	254 00 0 00 040010 		JRST	T166S		;NO OPERATOR INTERVENTION
  9854	040027	255 00 0 00 000000 		JFCL			;RUNNING WITH OPERATOR INTERVENTION
  9855	040030	260 17 0 00 061373 	T166SB:	GO	TELTST		;TELL WHICH TEST
  9856						TEXTF	[ASCIZ/USING THE START-STOP SWITCH,
  9857	040031	031 00 0 00 066322 	CYCLE/]
  9858	040032	260 17 0 00 061364 		GO	TELWHO		;TELL WHICH DEVICE
  9859	040033	031 00 0 00 066332 		TEXTF	[ASCIZ/OFF LINE. HIT <CR> WHEN READY  /]
  9860	040034	037 01 0 00 000026 		PFORCE			;FORCE PRINT THE MESSAGE
  9861	040035	201 00 0 00 000015 		MOVEI	0,15		;LOOK FOR A CAR RTN
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-219
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF THE HEAD UNLOAD SEQUENCE                              SEQ 0415

  9862	040036	260 17 0 00 061324 		GO	CHARIN		;TO THE INPUT ROUTINE
  9863	040037	254 00 0 00 040030 		JRST	T166SB		;TIMEOUT. NO RESPONSE
  9864	040040	254 00 0 00 040030 		JRST	T166SB		;ERROR. WRONG CHARACTER
  9865	040041	255 00 0 00 000000 		JFCL			;CR HAS BEEN STRUCK
  9866
  9867					;HEADS SHOULD NOW BE UNLOADED. TEST FOR PROPER STATUS
  9868
  9869	040042	260 17 0 00 077352 	T166SC:	GO	DEVREQ		;REQUEST THE DEVICE
  9870
  9871	040043	260 17 0 00 037731 		GO	SNPSE		;GO SNAPSHOT ERROR & STATUS REGS
  9872
  9873	040044	200 01 0 00 077637 		MOVE	1,SRPDS		;GET VALUE OF STATUS REG
  9874	040045	602 01 0 00 050077 		TRNE	1,1B21!1B23!77	;SEE IF STATUS CORRECT
  9875	040046	476 00 0 00 000010 		SETOM	ERFLG		;UNLOAD FAILURE OR COMPOSITE ERROR
  9876	040047	027 00 0 00 040123 		SCOPE	TB166A		;CALL THE SCOPE ROUTINE
  9877	040050	254 00 0 00 040052 		JRST	T166SD		;LOOP
  9878	040051	254 00 0 00 040062 		JRST	T166SE		;CONTINUE
  9879
  9880	040052	260 17 0 00 061373 	T166SD:	GO	TELTST		;TELL WHICH TEST
  9881						TEXTF	[ASCIZ/
  9882	040053	031 00 0 00 066341 	CYCLE THE DRIVE BACK UP. HIT <CR> WHEN READY  /]
  9883	040054	037 01 0 00 000026 		PFORCE			;FORCE PRINT ABOVE MESSAGE
  9884	040055	201 00 0 00 000015 		MOVEI	0,15		;CR CHAR
  9885	040056	260 17 0 00 061324 		GO	CHARIN		;LOOK FOR INPUT
  9886	040057	254 00 0 00 040052 		JRST	T166SD		;NO RESPONSE. TIMEOUT
  9887	040060	254 00 0 00 040052 		JRST	T166SD		;WRONG CHARACTER INPUT
  9888	040061	254 00 0 00 040013 		JRST	T166L		;CORRECT CHARACTER (CR)
  9889
  9890	040062	260 17 0 00 077352 	T166SE:	GO	DEVREQ		;REQUEST THE DEVICE
  9891
  9892	040063	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERROR CONDITIONS IF ANY
  9893
  9894	040064	260 17 0 00 061373 		GO	TELTST		;TELL WHICH TEST
  9895						TEXTF	[ASCIZ/
  9896	040065	031 00 0 00 066341 	CYCLE THE DRIVE BACK UP. HIT <CR> WHEN READY  /]
  9897	040066	037 01 0 00 000026 		PFORCE			;FORCE PRINT THE ABOVE MESSAGE
  9898	040067	201 00 0 00 000015 		MOVEI	0,15		;CODE FOR A CR
  9899	040070	260 17 0 00 061324 		GO	CHARIN		;DO TTY INPUT
  9900	040071	254 00 0 00 040062 		JRST	T166SE		;TIMEOUT. NO RESPONSE
  9901	040072	254 00 0 00 040062 		JRST	T166SE		;CHARACTER ILLEGAL
  9902	040073	255 00 0 00 000000 		JFCL			;CHARACTER IS CORRECT
  9903
  9904					;HEADS SHOUDL NOW BE LOADED. TEST FOR PROPER STATUS
  9905
  9906	040074	260 17 0 00 077352 		GO	DEVREQ		;REQUEST THE DEVICE
  9907
  9908	040075	260 17 0 00 037731 		GO	SNPSE		;SNAPSHOT STATUS AND ERROR REG'S
  9909
  9910	040076	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REG DATA
  9911	040077	640 01 0 00 010000 		TRC	1,1B23		;COMP MOL BIT
  9912	040100	602 01 0 00 050077 		TRNE	1,1B21!1B23!77	;CHECK FOR CORRECT STATUS
  9913	040101	476 00 0 00 000010 		SETOM	ERFLG		;LOAD SEQ ERROR OR COMPOSITE ERROR
  9914	040102	027 00 0 00 040131 		SCOPE	TB166B		;CALL THE SCOPE ROUTINE
  9915	040103	254 00 0 00 040010 		JRST	T166S		;LOOP. (ALWAYS PROCEED)
  9916	040104	254 00 0 00 040010 		JRST	T166S		;CONTINUE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-220
DSRPA2	MAC	 2-Mar-79 10:47		TEST FOR PROPER OPERATION OF THE HEAD UNLOAD SEQUENCE                              SEQ 0416

  9917
  9918	040105	260 17 0 00 061373 	T166SF:	GO	TELTST		;TELL WHICH TEST
  9919						TEXTF	[ASCIZ/
  9920	040106	031 00 0 00 066353 	QUESTIONABLE STATUS/]
  9921	040107	260 17 0 00 061364 		GO	TELWHO		;TELL WHICH DEVICE
  9922						TEXTF	[ASCIZ/
  9923					IT SHOULD BE ON LINE
  9924	040110	031 00 0 00 066360 	/]
  9925	040111	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS
  9926	040112	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
  9927
  9928	040113	260 17 0 00 061373 	T166SG:	GO	TELTST		;TELL WHICH TEST
  9929						TEXTF	[ASCIZ/
  9930	040114	031 00 0 00 066365 	PUT DRIVE ON LINE. HIT <CR> WHEN READY  /]
  9931	040115	037 01 0 00 000026 		PFORCE			;FORCE PRINT THE MESSAGE
  9932	040116	201 00 0 00 000015 		MOVEI	0,15		;EXPECT A <CR>
  9933	040117	260 17 0 00 061324 		GO	CHARIN		;GET TTY INPUT
  9934	040120	254 00 0 00 040113 		JRST	T166SG		;TIMEOUT. NO RESPONSE
  9935	040121	254 00 0 00 040113 		JRST	T166SG		;WRONG CHARACTER
  9936	040122	254 00 0 00 040013 		JRST	T166L		;CHAR WAS A CR
  9937
  9938					;SCOPE TABLES FOR THIS TEST
  9939
  9940	040123	000000	037760		TB166A:	0,,PNTSE		;DEFINE ADDR OF PRINT ROUTINE
  9941	040124	100000	066376			NOINH![ASCIZ/HEAD UNLOAD SEQUENCE DID NOT WORK PROPERLY/]
  9942	040125	100000	066407			NOINH![ASCIZ/A STATUS ERROR OR COMPOSITE ERROR EXISTS/]
  9943	040126	400000	077775			HIPROB!RG
  9944	040127	600000	077747			LOPROB!MB
  9945	040130	020000	066420			LAST![ASCIZ/REFER TO MANUAL FOR TROUBLESHOOTING PROCEDURE/]
  9946
  9947	040131	000000	037760		TB166B:	0,,PNTSE		;DEFINE ADDR OF PRINT ROUTINE
  9948	040132	100000	066432			NOINH![ASCIZ/QUESTIONABLE STATUS FOLLOWING HEAD RELOAD/]
  9949	040133	100000	066443			NOINH![ASCIZ/HEAD LOAD SHOULD WORK FROM TEST-165/]
  9950	040134	020000	066453			LAST![ASCIZ/RETRY SEQUENCE OR FALL BACK TO TEST-165/]
  9951						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1
DSRPA3	MAC	23-Feb-79 09:36		TEST FOR PROPER OPERATION OF THE HEAD UNLOAD SEQUENCE                              SEQ 0417

  9952						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-1
DSRPA3	MAC	23-Feb-79 09:36		TEST OPERATION OF PACK ACKNOWLEDGE AND VOLUME VALID BITS                           SEQ 0418

  9953					SUBTTL	TEST OPERATION OF PACK ACKNOWLEDGE AND VOLUME VALID BITS
  9954					 	XLIST
  9955					 	LIST
  9956						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-2
DSRPA3	MAC	23-Feb-79 09:36		TEST OPERATION OF PACK ACKNOWLEDGE AND VOLUME VALID BITS                           SEQ 0419

  9957					S^;*********************************************************************^
  9958					;*TEST-167 VV AND PACK ACK OPERATIONAL TESTS
  9959					S^;*********************************************************************^
  9960
  9961					COMMENT	$
  9962
  9963						TEST DESCRIPTION
  9964						---------------- 
  9965						THIS IS A SERIES OF 4 SUBTESTS DESIGNED TO TEST
  9966						THAT THE VOLUME VALID STATUS BIT IS WORKING IN CONJUNCTION
  9967						WITH THE PACK ACKNOWLEDGE COMMAND. THE SUBTESTS ARE:
  9968						A.  ISSUE PACK ACKNOWLEDGE WITH DRIVE CYCLED UP AND
  9969						    INSURE THAT VV GETS SET
  9970						B.  VERIFY THAT ISSUING PACK ACKNOWLEDGE DOES NOT CAUSE
  9971						    ERRORS
  9972						C.  TAKE DRIVE OFF-LINE WITH VV SET AND INSURE THAT
  9973						    IT STAYS SET
  9974						D.  WITH VV SET, CYCLE DRIVE DOWN AND UP AND INSURE THAT
  9975						    VV GETS CLEARED.
  9976
  9977						RECOMMENDED DEBUG PROCEDURE
  9978						--------------------------- 
  9979						NONE.
  9980						$
  9981					 	SALL
  9982
  9983
  9984	040135	201 01 0 00 200167 	TST167:	MOVEI	1,200167	;GET THE TEST NUMBER
  9985	040136	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
  9986	040137	336 00 0 00 077255 		SKIPN	ATEND		;OPERATOR INTERVENTION DESIRED?
  9987	040140	263 17 0 00 000000 		RTN			;NO. EXIT
  9988
  9989	040141	260 17 0 00 060522 	T167S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
  9990	040142	263 17 0 00 000000 		RTN			;TRIED ALL
  9991									;NEXT IS READY
  9992
  9993	040143	200 01 0 00 066463 	T167AL:	MOVE	1,[SIXBIT/167-A/] ;UPDATE SUB TEST NUMBER
  9994	040144	202 01 0 00 077346 		MOVEM	1,TSTNUM
  9995	040145	260 17 0 00 055707 		GO	OFFCK		;ASK TO CYCLE DRIVE DOWN
  9996	040146	260 17 0 00 055644 		GO	ONCK		;AS TO CYCLE DRIVE UP AGAIN
  9997
  9998	040147	260 17 0 00 077352 		GO	DEVREQ		;REQUEST THE DRIVE
  9999
 10000	040150	260 17 0 00 060723 		GO	MSTCLR		;CLEARS ERRORS
 10001
 10002	040151	200 01 0 00 066464 		MOVE	1,[1B14!23]	;PACK ACKNOWLEDGE COMMAND
 10003	040152	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 10004	040153	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10005
 10006	040154	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 10007	040155	260 17 0 00 057601 		GO	RRPDS		;READ STATUS REGISTER
 10008	040156	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10009	040157	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 10010
 10011	040160	606 01 0 00 000100 		TRNN	1,1B29		;IS VOLUME VALID SET
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-3
DSRPA3	MAC	23-Feb-79 09:36		TEST OPERATION OF PACK ACKNOWLEDGE AND VOLUME VALID BITS                           SEQ 0420

 10012	040161	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 10013	040162	027 00 0 00 040256 		SCOPE	TB167A		;YES. CALL SCOPE ROUTINE
 10014	040163	254 00 0 00 040143 		JRST	T167AL		;LOOP
 10015	040164	255 00 0 00 000000 		JFCL			;CONTINUE. TO NEXT SUBTEST
 10016
 10017	040165	200 01 0 00 066465 	T167BL:	MOVE	1,[SIXBIT/167-B/] ;UPDATE THE SUB TEST
 10018	040166	202 01 0 00 077346 		MOVEM	1,TSTNUM
 10019	040167	260 17 0 00 055644 		GO	ONCK		;ASKS TO CYCLE DRIVE UP
 10020
 10021	040170	260 17 0 00 077352 		GO	DEVREQ		;REQUEST THE DEVICE
 10022
 10023	040171	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 10024
 10025	040172	200 01 0 00 066464 		MOVE	1,[1B14!23]	;A PACK ACK COMMAND
 10026	040173	260 17 0 00 057402 		GO	LRPCS1		;LOAD CONTROL REGISTER
 10027	040174	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10028
 10029	040175	260 17 0 00 037731 		GO	SNPSE		;SNAPSHOT STATUS AND ERROR REGS
 10030
 10031	040176	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REGISTER DATA
 10032	040177	602 01 0 00 040000 		TRNE	1,1B21		;COMPOSITE ERROR?
 10033	040200	476 00 0 00 000010 		SETOM	ERFLG		;YES.
 10034	040201	027 00 0 00 040261 		SCOPE	TB167B		;NO. CALL SCOPE ROUTINE
 10035	040202	254 00 0 00 040165 		JRST	T167BL		;LOOP
 10036	040203	255 00 0 00 000000 		JFCL			;CONTINUE. TO NEXT SUBTEST
 10037
 10038	040204	200 01 0 00 066466 	T167CL:	MOVE	1,[SIXBIT/167-C/] ;UPDATE THE TEST NUMBER
 10039	040205	202 01 0 00 077346 		MOVEM	1,TSTNUM
 10040	040206	260 17 0 00 055644 		GO	ONCK		;ASK TO CYCLE DRIVE ON-LINE
 10041
 10042	040207	260 17 0 00 077352 		GO	DEVREQ		;REQUEST THE DEVICE
 10043
 10044	040210	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ALL ERRORS
 10045
 10046	040211	200 01 0 00 066464 		MOVE	1,[1B14!23]	;A PACK ACK COMMAND
 10047	040212	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 10048	040213	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10049
 10050	040214	260 17 0 00 055707 		GO	OFFCK		;ASK TO CYCLE DRIVE DOWN
 10051
 10052	040215	260 17 0 00 077352 		GO	DEVREQ		;REQUEST THE DRIVE
 10053
 10054	040216	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ALL ERRORS
 10055
 10056	040217	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 10057	040220	260 17 0 00 057601 		GO	RRPDS		;READ STATUS REGISTER
 10058	040221	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10059	040222	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 10060
 10061	040223	606 01 0 00 000100 		TRNN	1,1B29		;IS VV SET
 10062	040224	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 10063	040225	027 00 0 00 040264 		SCOPE	TB167C		;YES. CALL SCOPE ROUTINE
 10064	040226	254 00 0 00 040204 		JRST	T167CL		;LOOP
 10065	040227	260 17 0 00 055644 		GO	ONCK		;GET THE DEVICE ON LINE
 10066	040230	255 00 0 00 000000 		JFCL			;CONTINUE. TO NEXT SUBTEST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-4
DSRPA3	MAC	23-Feb-79 09:36		TEST OPERATION OF PACK ACKNOWLEDGE AND VOLUME VALID BITS                           SEQ 0421

 10067
 10068	040231	200 01 0 00 066467 	T167DL:	MOVE	1,[SIXBIT/167-D/] ;UPDATE THE TEST NUMBER
 10069	040232	202 01 0 00 077346 		MOVEM	1,TSTNUM
 10070	040233	260 17 0 00 055644 		GO	ONCK		;ASK TO CYCLE UP DRIVE
 10071
 10072	040234	260 17 0 00 077352 		GO	DEVREQ		;REQUEST THE DEVICE
 10073
 10074	040235	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 10075
 10076	040236	200 01 0 00 066464 		MOVE	1,[1B14!23]	;A PACK ACK COMMAND
 10077	040237	260 17 0 00 057405 		GO	LRPDS		;LOAD CONTROL COMMAND
 10078	040240	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10079
 10080	040241	260 17 0 00 055707 		GO	OFFCK		;ASK TO CYCLE DOWN
 10081	040242	260 17 0 00 055644 		GO	ONCK		;ASK TO CYCLE UP
 10082
 10083	040243	260 17 0 00 077352 		GO	DEVREQ		;REQUEST DEVICE
 10084
 10085	040244	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 10086
 10087	040245	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 10088	040246	260 17 0 00 057601 		GO	RRPDS		;READ STATUS REGISTER
 10089	040247	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10090	040250	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 10091
 10092	040251	602 01 0 00 000100 		TRNE	1,1B29		;IS VV CLEAR
 10093	040252	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 10094	040253	027 00 0 00 040267 		SCOPE	TB167D		;YES. CALL SCOPE ROUTINE
 10095	040254	254 00 0 00 040231 		JRST	T167DL		;LOOP
 10096	040255	254 00 0 00 040141 		JRST	T167S		;CONTINUE
 10097
 10098					;SCOPE TABLES
 10099
 10100	040256	000000	062461		TB167A:	0,,REGPNT
 10101	040257	100000	066470			NOINH![ASCIZ/PACK ACK WILL NOT SET THE VOLUME VALID BIT/]
 10102	040260	040000	040271			GOTO!TB167E
 10103	040261	000000	037760		TB167B:	0,,PNTSE		;DEFINE ADDRESS OF PRINT ROUTINE
 10104	040262	100000	066501			NOINH![ASCIZ/ISSUING PACK ACK IS CAUSING COMPOSITE ERROR?/]
 10105	040263	040000	040271			GOTO!TB167E
 10106	040264	000000	062461		TB167C:	0,,REGPNT
 10107	040265	100000	066512			NOINH![ASCIZ/TAKING DRIVE OFF-LINE SHOULD NOT CLEAR VV BIT/]
 10108	040266	040000	040271			GOTO!TB167E
 10109	040267	000000	062461		TB167D:	0,,REGPNT
 10110	040270	100000	066524			NOINH![ASCIZ/VV IS NOT CLEARING WHEN DRIVE COMES ON-LINE/]
 10111	040271	400000	077775		TB167E:	HIPROB!RG
 10112	040272	620000	077771			LAST!LOPROB!DP
 10113
 10114					SUBTTL	MISC READIN/VV/GO-BIT LOGIC TESTS
 10115					 	XLIST
 10116					 	LIST
 10117						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-5
DSRPA3	MAC	23-Feb-79 09:36		MISC READIN/VV/GO-BIT LOGIC TESTS                                                  SEQ 0422

 10118					S^;*********************************************************************^
 10119					;*TEST-170 TEST VV/COMP ERR INTERLOCK
 10120					S^;*********************************************************************^
 10121
 10122					COMMENT	$
 10123
 10124						TEST DESCRIPTION
 10125						---------------- 
 10126						THIS TEST VERIFIES THAT VV WILL NOT SET IF A COMPOSITE ERROR
 10127						EXISTS WHEN THE COMMAND IS ISSUED. THE FOLLOWING SEQUENCE IS ISSUED.
 10128						A.  CYCLE DRIVE DOWN AND UP TO CLEAR VV.
 10129						B.  WRITE AN ERROR REGISTER TO FORCE COMPOSITE ERROR.
 10130						C.  ISSUE A PACK ACK COMMAND.
 10131						D.  READ STATUS AND CONTROL REGISTER.
 10132						E.  INSURE THAT THE GO BIT IS CLEAR
 10133
 10134						RECOMMENDED DEBUG PROCEDURE
 10135						--------------------------- 
 10136						NONE.
 10137						$
 10138					 	SALL
 10139
 10140
 10141	040273	201 01 0 00 200170 	TST170:	MOVEI	1,200170	;GET THE TEST NUMBER
 10142	040274	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 10143	040275	336 00 0 00 077255 		SKIPN	ATEND		;ATTENDED
 10144	040276	263 17 0 00 000000 		RTN			;NO. EXIT
 10145
 10146	040277	260 17 0 00 060522 	T170S:	GO	DEVSEL		;SELECT A DEVICE
 10147	040300	263 17 0 00 000000 		RTN			;TRIED ALL
 10148	040301	255 00 0 00 000000 		JFCL			;NEXT IS READY
 10149
 10150	040302	260 17 0 00 055707 	T170L:	GO	OFFCK		;ASK TO CYCLE DRIVE DOWN
 10151	040303	260 17 0 00 055644 		GO	ONCK		;ASK TO CYCLE DRIVE BACK UP
 10152
 10153	040304	260 17 0 00 077352 		GO	DEVREQ		;REQUEST THE DEVICE
 10154
 10155	040305	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 10156
 10157	040306	200 01 0 00 066535 		MOVE	1,[1B14!1B20]	;SETS DCK BIT
 10158	040307	260 17 0 00 057410 		GO	LRPER1		;LOADS ERROR REG-1
 10159	040310	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10160	040311	255 00 0 00 000000 		JFCL			;THIS HAS CAUSED COMPOSITE ERROR
 10161
 10162	040312	200 01 0 00 066464 		MOVE	1,[1B14!23]	;A PACK ACK COMMAND
 10163	040313	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 10164	040314	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10165
 10166	040315	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 10167	040316	260 17 0 00 057576 		GO	RRPCS1		;READ CONTROL REGISTER
 10168	040317	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10169	040320	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 10170
 10171	040321	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 10172	040322	260 17 0 00 057601 		GO	RRPDS		;READ THE STATUS REGISTER
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-6
DSRPA3	MAC	23-Feb-79 09:36		MISC READIN/VV/GO-BIT LOGIC TESTS                                                  SEQ 0423

 10173	040323	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10174	040324	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 10175	040325	202 01 0 00 077637 		MOVEM	1,SRPDS		;SAVE RESULTS
 10176
 10177	040326	602 01 0 00 000100 		TRNE	1,1B29		;IS VV SET
 10178	040327	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
 10179	040330	027 00 0 00 040341 		SCOPE	TB170A		;NO. CALL SCOPE ROUTINE
 10180	040331	254 00 0 00 040302 		JRST	T170L		;LOOP
 10181	040332	255 00 0 00 000000 		JFCL			;CONTINUE
 10182
 10183	040333	200 01 0 00 077632 		MOVE	1,SRPCS1	;GET CONTROL REGISTER DATA
 10184	040334	602 01 0 00 000001 		TRNE	1,1B35		;IS GO BIT CLEAR
 10185	040335	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 10186	040336	027 00 0 00 040345 		SCOPE	TB170B		;YES. CALL SCOPE ROUTINE
 10187	040337	254 00 0 00 040302 		JRST	T170L		;LOOP
 10188	040340	254 00 0 00 040277 		JRST	T170S		;CONTINUE
 10189
 10190					;SCOPE TABLES
 10191
 10192	040341	000000	062461		TB170A:	0,,REGPNT
 10193	040342	100000	066536			NOINH![ASCIZ/ISSUING PACK ACK WITH A COMPOSITE ERROR SHOULD INHIBIT/]
 10194	040343	100000	066551			NOINH![ASCIZ/THE SETTING OF VV AND IT DOESN'T/]
 10195	040344	420000	077775			LAST!HIPROB!RG
 10196
 10197	040345	000000	062461		TB170B:	0,,REGPNT
 10198	040346	100000	066560			NOINH![ASCIZ/ISSUING PACK ACK WITH COMPOSITE ERROR HAS CAUSED/]
 10199	040347	100000	066572			NOINH![ASCIZ/THE GO-BIT TO BE STUCK AT 1/]
 10200	040350	420000	077775			LAST!HIPROB!RG
 10201
 10202					 	XLIST
 10203					 	LIST
 10204						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-7
DSRPA3	MAC	23-Feb-79 09:36		MISC READIN/VV/GO-BIT LOGIC TESTS                                                  SEQ 0424

 10205					S^;*********************************************************************^
 10206					;*TEST-171 SEE THAT READIN PRESET WILL SET VV
 10207					S^;*********************************************************************^
 10208
 10209					COMMENT	$
 10210
 10211						TEST DESCRIPTION
 10212						---------------- 
 10213						THIS INSURES THAT READIN PRESET SETS VV AND DOES NOT
 10214						CAUSE COMPOSITE ERROR IN DOING SO.
 10215
 10216						RECOMMENDED DEBUG PROCEDURE
 10217						--------------------------- 
 10218						NONE.
 10219						$
 10220					 	SALL
 10221
 10222
 10223	040351	201 01 0 00 200171 	TST171:	MOVEI	1,200171	;GET THE TEST NUMBER
 10224	040352	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 10225	040353	336 00 0 00 077255 		SKIPN	ATEND		;OPERATOR INTERVENTION REQUESTED
 10226	040354	263 17 0 00 000000 		RTN			;NO. EXIT
 10227
 10228	040355	260 17 0 00 060522 	T171S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 10229	040356	263 17 0 00 000000 		RTN			;TRIED ALL
 10230	040357	255 00 0 00 000000 		JFCL			;NEXT READY
 10231
 10232	040360	260 17 0 00 055707 	T171L:	GO	OFFCK		;ASK TO CYCLE DRIVE - DOWN
 10233	040361	260 17 0 00 055644 		GO	ONCK		;ASK TO CYCLE DRIVE - UP
 10234
 10235	040362	260 17 0 00 077352 		GO	DEVREQ		;REQUEST A DEVICE
 10236
 10237	040363	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 10238
 10239	040364	200 01 0 00 066600 		MOVE	1,[1B14!21]	;READIN PRESET COMMAND
 10240	040365	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 10241	040366	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10242
 10243	040367	260 17 0 00 037731 		GO	SNPSE		;SNAPSHOT STATUS & ERROR REGISTERS
 10244
 10245	040370	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REGISTER DATA
 10246	040371	606 01 0 00 000100 		TRNN	1,1B29		;IS VV SET
 10247	040372	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 10248	040373	027 00 0 00 040404 		SCOPE	TB171A		;YES. CALL THE SCOPE ROUTINE
 10249	040374	254 00 0 00 040360 		JRST	T171L		;LOOP
 10250	040375	255 00 0 00 000000 		JFCL			;CONTINUE
 10251
 10252	040376	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REGISTER DATA
 10253	040377	602 01 0 00 040000 		TRNE	1,1B21		;IS COMPOSITE ERROR SET.
 10254	040400	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
 10255	040401	027 00 0 00 040410 		SCOPE	TB171B		;NO. CALL SCOPE ROUTINE
 10256	040402	254 00 0 00 040360 		JRST	T171L		;LOOP
 10257	040403	254 00 0 00 040355 		JRST	T171S		;CONTINUE
 10258
 10259					;SCOPE TABLES
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-8
DSRPA3	MAC	23-Feb-79 09:36		MISC READIN/VV/GO-BIT LOGIC TESTS                                                  SEQ 0425

 10260
 10261	040404	000000	062461		TB171A:	0,,REGPNT
 10262	040405	100000	066601			NOINH![ASCIZ/READIN PRESET DOES NOT SET VV/]
 10263	040406	100000	066607			NOINH![ASCIZ/SUSPECT COMMAND DECODE OF READIN INCORRECT/]
 10264	040407	420000	077775			LAST!HIPROB!RG
 10265
 10266	040410	000000	037760		TB171B:	0,,PNTSE		;DEFINE A PRINT ROUTINE
 10267	040411	100000	066620			NOINH![ASCIZ/ISSUING READIN HAS CAUSED AN ERROR TO OCCUR/]
 10268	040412	420000	077775			LAST!HIPROB!RG
 10269
 10270					 	XLIST
 10271					 	LIST
 10272						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-9
DSRPA3	MAC	23-Feb-79 09:36		MISC READIN/VV/GO-BIT LOGIC TESTS                                                  SEQ 0426

 10273					S^;*********************************************************************^
 10274					;*TEST-172 TEST STO-GO RESET LOGIC
 10275					S^;*********************************************************************^
 10276
 10277					COMMENT	$
 10278
 10279						TEST DESCRIPTION
 10280						---------------- 
 10281						THIS VERIFIES THAT THE "GO" AND "STO-GO" RESET LOGIC IS
 10282						PARTIALLY OPERATIONAL. THE FOLLOWING SEQUENCE IS USED.
 10283						A. CLEAR PREVIOUS ERRORS
 10284						B. ISSUE PACK ACK TO SET VV
 10285					 	C. ISSUE ANOTHER PACK ACK TO TRANSFER "STO-GO" TO "GO"
 10286						D. READ THE CONTROL REGISTER AND INSURE THAT "GO" IS CLEAR
 10287
 10288						RECOMMENDED DEBUG PROCEDURE
 10289						--------------------------- 
 10290						   IF THE FAULT DOES NOT GO AWAY AFTER REPLACING RG
 10291						AND DP BOARDS, WE PROBABLY HAVE MALFUNCTIONING LOGIC ON (RG0)
 10292						AT THE "GO MAS RES ONE SHOT." ONE OF THE INPUTS TO THE
 10293						8 INPUT "OR" GATE IS PROBABLY STUCK LOW KEEPING THE
 10294						ONE SHOT FROM FIRING. FIND OUT WHICH ONE IS STUCK LOW AND
 10295						REPLACE THE DRIVING BOARD OR SCOPE BACK TO FIND THE FAULT
 10296						$
 10297					 	SALL
 10298
 10299
 10300	040413	201 01 0 00 000172 	TST172:	MOVEI	1,172		;GET THE TEST NUMBER
 10301	040414	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 10302  
 10303	040415	260 17 0 00 060522 	T172S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 10304	040416	263 17 0 00 000000 		RTN			;TRIED ALL
 10305	040417	255 00 0 00 000000 		JFCL			;NXT READY
 10306
 10307	040420	260 17 0 00 077352 	T172L:	GO	DEVREQ		;REQUEST THE DEVICE
 10308
 10309	040421	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 10310
 10311	040422	200 01 0 00 066631 		MOVE	1,[1B14!1B23]	;PACK ACK COMMAND
 10312	040423	260 17 0 00 057402 		GO	LRPCS1		;LOAD CONTROL REGISTER
 10313	040424	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10314	040425	255 00 0 00 000000 		JFCL			;VV IS NOW SET
 10315
 10316	040426	200 01 0 00 066631 		MOVE	1,[1B14!1B23]	;A SECOND PACK ACK
 10317	040427	260 17 0 00 057402 		GO	LRPCS1		;LOAD CONTROL REGISTER
 10318	040430	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10319
 10320	040431	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 10321	040432	260 17 0 00 057576 		GO	RRPCS1		;READ CONTROL REGISTER
 10322	040433	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10323	040434	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 10324
 10325	040435	602 01 0 00 000001 		TRNE	1,1B35		;IS GO-BIT HUNG
 10326	040436	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
 10327	040437	027 00 0 00 040442 		SCOPE	TB172		;NO. CALL THE SCOPE ROUTINE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-10
DSRPA3	MAC	23-Feb-79 09:36		MISC READIN/VV/GO-BIT LOGIC TESTS                                                  SEQ 0427

 10328	040440	254 00 0 00 040420 		JRST	T172L		;LOOP
 10329	040441	254 00 0 00 040415 		JRST	T172S		;CONTINUE
 10330
 10331					;SCOPE TABLE
 10332
 10333	040442	000000	062461		TB172:	0,,REGPNT
 10334	040443	100000	066632			NOINH![ASCIZ/FAULTY RESET LOGIC TO "STO-GO" OR "GO" FLOPS/]
 10335	040444	100000	066643			NOINH![ASCIZ/"GO" IS STUCK AT 1 FOLLOWING A PACK ACKNOWLEDGE/]
 10336	040445	420000	077775			LAST!HIPROB!RG
 10337
 10338					SUBTTL	A BASIC MAINT MODE TEST
 10339					 	XLIST
 10340					 	LIST
 10341						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-11
DSRPA3	MAC	23-Feb-79 09:36		A BASIC MAINT MODE TEST                                                            SEQ 0428

 10342					S^;*********************************************************************^
 10343					;*TEST-173 VERIFY THAT M-MODE DISCONNECTS SECTOR CLOCK
 10344					S^;*********************************************************************^
 10345
 10346					COMMENT	$
 10347
 10348						TEST DESCRIPTION
 10349						---------------- 
 10350						THIS IS A BASIC TEST TO VERIFY THAT GOING INTO MAINTENANCE
 10351						MODE ACTUALLY DOES SOMETHING EFFECTIVE. THE LOOK AHEAD
 10352						REGISTER IS USED HERE AS A TOOL. THE FOLLOWING METHOD IS USED.
 10353						1. POWER UP THE SPINDLE
 10354						2. GO INTO MAINT MODE
 10355						3. READ LOOK AHEAD REGISTER FOR REFERENCE.
 10356						4. READ LOOK AHEAD REGISTER 20 MORE TIMES TO INSURE
 10357						   THAT IT DOES NOT CHANGE. THIS INSURES THAT WE'VE
 10358						   DISCONNECTED FROM THE DRIVES INDEX AND SECTOR CLOCK.
 10359
 10360						RECOMMENDED DEBUG PROCEDURE
 10361						--------------------------- 
 10362						NONE.
 10363						$
 10364					 	SALL
 10365
 10366
 10367	040446	201 01 0 00 000173 	TST173:	MOVEI	1,173		;GET TEST NUMBER
 10368	040447	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 10369
 10370	040450	260 17 0 00 060522 	T173S:	GO	DEVSEL		;SELECT A DEVICE
 10371	040451	263 17 0 00 000000 		RTN			;TRIED ALL
 10372
 10373	040452	260 17 0 00 055644 	T173L:	GO	ONCK		;ASK TO CYCLE UP THE DRIVE
 10374
 10375	040453	260 17 0 00 077352 		GO	DEVREQ		;REQUEST THE DEVICE
 10376
 10377	040454	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 10378
 10379	040455	260 17 0 00 056000 		GO	MMODE		;PUTS DRIVE IN MAINT MODE
 10380
 10381	040456	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 10382	040457	260 17 0 00 057623 		GO	RRPLA		;READ LOOK AHEAD REGISTER
 10383	040460	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10384	040461	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 10385	040462	200 04 0 00 000001 		MOVE	4,1		;SAVE AS REF. IN AC4
 10386
 10387	040463	205 02 0 00 777754 		MOVSI	2,^D-20		;A COUNTER
 10388	040464	402 00 0 00 000003 		SETZM	3		;CLEAR THE REFERENCE AC
 10389	040465	205 01 0 00 000010 	T173R:	MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 10390	040466	260 17 0 00 057623 		GO	RRPLA		;READ THE LOOK AHEAD REG
 10391	040467	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10392	040470	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 10393
 10394	040471	434 03 0 00 000001 		IOR	3,1		;ACCUMULATE IN AC3
 10395	040472	253 02 0 00 040465 		AOBJN	2,T173R		;READ 20 TIMES. BRANCH IF NO
 10396
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-12
DSRPA3	MAC	23-Feb-79 09:36		A BASIC MAINT MODE TEST                                                            SEQ 0429

 10397	040473	312 04 0 00 000003 		CAME	4,3		;YES. SEE IF WE'VE CHANGED
 10398	040474	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
 10399	040475	027 00 0 00 040500 		SCOPE	TB173		;NO. CALL THE SCOPE ROUTINE
 10400	040476	254 00 0 00 040452 		JRST	T173L		;LOOP
 10401	040477	254 00 0 00 040450 		JRST	T173S		;CONTINUE
 10402
 10403					;SCOPE TABLE
 10404
 10405	040500	000000	000000		TB173:	0,,0
 10406	040501	100000	066655			NOINH![ASCIZ/MAINT MODE DOESN'T STOP LOOK AHEAD REG FROM COUNTING/]
 10407	040502	100000	066670			NOINH![ASCIZ/IN FACT! BULLETS PROBABLY CAN'T STOP IT/]
 10408	040503	420000	077771			LAST!HIPROB!DP
 10409
 10410					SUBTTL	MISC. SEEK/GO/DRY TESTS
 10411					 	XLIST
 10412					 	LIST
 10413						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-13
DSRPA3	MAC	23-Feb-79 09:36		MISC. SEEK/GO/DRY TESTS                                                            SEQ 0430

 10414					S^;*********************************************************************^
 10415					;*TEST-174 TEST THAT THE GO BIT CAN BE SET
 10416					S^;*********************************************************************^
 10417
 10418					COMMENT	$
 10419
 10420						TEST DESCRIPTION
 10421						---------------- 
 10422						THIS TEST INSURES THAT THE GO-BIT CAN BE SET. THE
 10423						FOLLOWING SEQUENCE IS USED.
 10424						1. ISSUE MASTER RESET
 10425						2. PUT DRIVE IN MAINT MODE	(NO SECTOR CLOCKS CAN OCCUR)
 10426						3. ISSUE A SEEK COMMAND.	(GO SHOULD STAY HUNG BECAUSE
 10427							A SEEK COMMAND CAN'T COMPLETE WITHOUT SECTOR CLOCKS)
 10428						4. READ THE CONTROL REGISTER AND VERIFY THAT GO IS SET
 10429
 10430						RECOMMENDED DEBUG PROCEDURE
 10431						--------------------------- 
 10432						NONE.
 10433						$
 10434					 	SALL
 10435
 10436
 10437	040504	201 01 0 00 000174 	TST174:	MOVEI	1,174		;GET THE TEST NUMBER
 10438	040505	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 10439
 10440	040506	260 17 0 00 060522 	T174S:	GO	DEVSEL		;SELECT A DEVICE
 10441	040507	263 17 0 00 000000 		RTN			;TRIED ALL
 10442	040510	255 00 0 00 000000 		JFCL			;NEXT IS READY
 10443
 10444	040511	260 17 0 00 055673 	T174L:	GO	ONCHK		;GET ON-LINE WITH VV SET
 10445
 10446	040512	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ALL ERRORS
 10447
 10448	040513	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT-MODE
 10449
 10450	040514	260 17 0 00 040531 		GO	CYLDIF		;MAKE DCA AND CCA DIFFERENT
 10451
 10452	040515	200 01 0 00 066700 		MOVE	1,[1B14!5]	;A SEEK COMMAND
 10453	040516	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 10454	040517	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10455
 10456	040520	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 10457	040521	260 17 0 00 057576 		GO	RRPCS1		;READ THE CONTROL REGISTER
 10458	040522	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10459	040523	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 10460
 10461	040524	606 01 0 00 000001 		TRNN	1,1B35		;DID GO-BIT SET
 10462	040525	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 10463	040526	027 00 0 00 040545 		SCOPE	TB174		;YES. CALL SCOPE ROUTINE
 10464	040527	254 00 0 00 040511 		JRST	T174L		;LOOP
 10465	040530	254 00 0 00 040506 		JRST	T174S		;CONTINUE
 10466
 10467					;A ROUTINE TO GUARANTEE THAT CCA AND DCA ARE NOT EQUAL
 10468
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-14
DSRPA3	MAC	23-Feb-79 09:36		MISC. SEEK/GO/DRY TESTS                                                            SEQ 0431

 10469	040531	261 17 0 00 000001 	CYLDIF:	PUT	1		;SAVE AC1
 10470	040532	205 01 0 00 000010 		MOVSI	1,(1B14)	;DONT REPORT RAE'S
 10471	040533	260 17 0 00 057637 		GO	RRPCC		;READ CURRENT CYLINDER ADDRESS
 10472	040534	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 10473	040535	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 10474
 10475	040536	405 01 0 00 000001 		ANDI	1,1		;SAVE ONLY LOW ORDER BIT
 10476	040537	640 01 0 00 000001 		TRC	1,1		;AND THEN COMPLEMENT IT
 10477	040540	661 01 0 00 000010 		TLO	1,(1B14)	;READY TO WRITE DESIRED CYL NOW
 10478	040541	260 17 0 00 057440 		GO	LRPDC		;WRITE A DESIRED CYLINDER ADDR
 10479	040542	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 10480	040543	262 17 0 00 000001 		GET	1		;RESTORE THE AC
 10481	040544	263 17 0 00 000000 		RTN			;AND EXIT
 10482
 10483					;SCOPE TABLE
 10484
 10485	040545	000000	062461		TB174:	0,,REGPNT
 10486	040546	100000	066701			NOINH![ASCIZ/CAN'T SET GO BIT WITH A SEEK COMMAND/]
 10487	040547	400000	077775			HIPROB!RG
 10488	040550	620000	077765			LAST!LOPROB!SS
 10489
 10490					 	XLIST
 10491					 	LIST
 10492						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-15
DSRPA3	MAC	23-Feb-79 09:36		MISC. SEEK/GO/DRY TESTS                                                            SEQ 0432

 10493					S^;*********************************************************************^
 10494					;*TEST-175 CHECK THAT RHCLR WILL CLEAR HUNG GO-BIT
 10495					S^;*********************************************************************^
 10496
 10497					COMMENT	$
 10498
 10499						TEST DESCRIPTION
 10500						---------------- 
 10501						A HUNG GO-BIT IS SIMULATED BY ISSUING A SEEK WHILE IN MAINT-MODE.
 10502						THE FOLLOWING SEQUENCE IS USED
 10503						1. ISSUE RHCLR TO CLEAR ERRORS
 10504						2. PUT DRIVE IN MAINT-MODE	(STOPS SECTOR CLOCK FROM COMING)
 10505						3. ISSUE A SEEK			(TO SET THE GO-BIT)
 10506						4. ISSUE ANOTHER RHCLR		(TO RESET THE GO-BIT)
 10507						5. READ CONTROL REGISTER AND VERIFY THAT GO IS CLEAR
 10508
 10509						RECOMMENDED DEBUG PROCEDURE
 10510						--------------------------- 
 10511						NONE.
 10512						$
 10513					 	SALL
 10514
 10515
 10516	040551	201 01 0 00 000175 	TST175:	MOVEI	1,175		;GET THE TEST NUMBER
 10517	040552	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 10518
 10519	040553	260 17 0 00 060522 	T175S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 10520	040554	263 17 0 00 000000 		RTN			;TRIED ALL
 10521	040555	255 00 0 00 000000 		JFCL			;NXT RDY
 10522
 10523	040556	260 17 0 00 055673 	T175L:	GO	ONCHK		;PUT DRIVE ON LINE WITH VV SET
 10524
 10525	040557	260 17 0 00 060723 		GO	MSTCLR		;ISSUES 1ST RHCLR
 10526
 10527	040560	260 17 0 00 056000 		GO	MMODE		;PUT DRIVE IN MAINT MODE
 10528
 10529	040561	260 17 0 00 040531 		GO	CYLDIF		;MAKE SURE CCA AND DCA NOT EQUAL
 10530
 10531	040562	200 01 0 00 066700 		MOVE	1,[1B14!5]	;A SEEK COMMAND
 10532	040563	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 10533	040564	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10534
 10535	040565	260 17 0 00 060723 		GO	MSTCLR		;ISSUE 2ND RHCLR
 10536
 10537	040566	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 10538	040567	260 17 0 00 057576 		GO	RRPCS1		;READ THE CONTROL REGISTER
 10539	040570	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10540	040571	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 10541
 10542	040572	602 01 0 00 000001 		TRNE	1,1B35		;IS THE GO-BIT CLEAR?
 10543	040573	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 10544	040574	027 00 0 00 040577 		SCOPE	TB175		;YES. CALL THE SCOPE ROUTINE
 10545	040575	254 00 0 00 040556 		JRST	T175L		;LOOP
 10546	040576	254 00 0 00 040553 		JRST	T175S		;CONTINUE
 10547
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-16
DSRPA3	MAC	23-Feb-79 09:36		MISC. SEEK/GO/DRY TESTS                                                            SEQ 0433

 10548					;SCOPE TABLE
 10549
 10550	040577	000000	062461		TB175:	0,,REGPNT
 10551	040600	100000	066711			NOINH![ASCIZ/RHCLR WILL NOT RESET A HUNG GO-BIT/]
 10552	040601	420000	077775			LAST!HIPROB!RG
 10553
 10554					 	XLIST
 10555					 	LIST
 10556						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-17
DSRPA3	MAC	23-Feb-79 09:36		MISC. SEEK/GO/DRY TESTS                                                            SEQ 0434

 10557					S^;*********************************************************************^
 10558					;*TEST-176 TEST THAT "GO" AND "DRY" ARE COMPLEMENTS
 10559					S^;*********************************************************************^
 10560
 10561					COMMENT	$
 10562
 10563						TEST DESCRIPTION
 10564						---------------- 
 10565						THIS TEST INSURES THAT "GO" AND "DRY" ARE COMPLEMENTS WHEN
 10566						"GO" IS SET. WE SET "GO" BY ISSUING A SEEK WHILE IN
 10567						MAINT MODE.
 10568
 10569						RECOMMENDED DEBUG PROCEDURE
 10570						--------------------------- 
 10571						NONE.
 10572						$
 10573					 	SALL
 10574
 10575
 10576	040602	201 01 0 00 000176 	TST176:	MOVEI	1,176		;GET THE TEST NUMBER
 10577	040603	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 10578
 10579	040604	260 17 0 00 060522 	T176S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 10580	040605	263 17 0 00 000000 		RTN			;TRIED ALL
 10581	040606	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
 10582
 10583	040607	260 17 0 00 055673 	T176L:	GO	ONCHK		;GET DRIVE ON-LINE WITH VV SET
 10584
 10585	040610	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 10586
 10587	040611	260 17 0 00 056000 		GO	MMODE		;PUT DRIVE IN MAINT MODE
 10588
 10589	040612	260 17 0 00 040531 		GO	CYLDIF		;MAKE SURE CCA AND DCA ARE NOT EQUAL
 10590
 10591	040613	200 01 0 00 066700 		MOVE	1,[1B14!5]	;GET A SEEK COMMAND
 10592	040614	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 10593	040615	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10594
 10595	040616	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 10596	040617	260 17 0 00 057576 		GO	RRPCS1		;READ CONTROL REG
 10597	040620	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10598	040621	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 10599	040622	202 01 0 00 077632 		MOVEM	1,SRPCS1	;SAVE RESULTS
 10600
 10601	040623	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 10602	040624	260 17 0 00 057601 		GO	RRPDS		;READ STATUS REGISTER
 10603	040625	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10604	040626	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 10605	040627	202 01 0 00 077637 		MOVEM	1,SRPDS		;SAVE RESULTS
 10606
 10607	040630	602 01 0 00 000200 		TRNE	1,1B28		;IS "DRY" A 0?
 10608	040631	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 10609	040632	027 00 0 00 040644 		SCOPE	TB176		;YES. CALL SCOPE ROUTINE
 10610	040633	254 00 0 00 040607 		JRST	T176L		;LOOP
 10611	040634	254 00 0 00 040604 		JRST	T176S		;CONTINUE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-18
DSRPA3	MAC	23-Feb-79 09:36		MISC. SEEK/GO/DRY TESTS                                                            SEQ 0435

 10612
 10613					;A PRINT ROUTINE FOR THIS TEST
 10614
 10615	040635	261 17 0 00 000001 	T176PT:	PUT	1		;SAVE AC
 10616	040636	200 01 0 00 077632 		MOVE	1,SRPCS1	;GET CONTROL REGISTER DATA
 10617	040637	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
 10618	040640	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REGISTER DATA
 10619	040641	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
 10620	040642	262 17 0 00 000001 		GET	1		;RESTORE THE AC
 10621	040643	263 17 0 00 000000 		RTN			;RETURN
 10622
 10623					;SCOPE TABLE
 10624
 10625	040644	000000	040635		TB176:	0,,T176PT
 10626	040645	100000	066720			NOINH![ASCIZ/"GO-BIT" (C00 REG-00) AND "DRY" (C07 REG-01)/]
 10627	040646	100000	066731			NOINH![ASCIZ/SHOULD BE COMPLEMENTS. GO SHOULD NOW BE SET/]
 10628	040647	420000	077775			LAST!HIPROB!RG
 10629
 10630					SUBTTL	A MISC TEST OF THE CONTROL REGISTER
 10631					 	XLIST
 10632					 	LIST
 10633						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-19
DSRPA3	MAC	23-Feb-79 09:36		A MISC TEST OF THE CONTROL REGISTER                                                SEQ 0436

 10634					S^;*********************************************************************^
 10635					;*TEST-177 FLOAT A ONE DOWN C01-C05 OF CONTROL REG
 10636					S^;*********************************************************************^
 10637
 10638					COMMENT	$
 10639
 10640						TEST DESCRIPTION
 10641						---------------- 
 10642						TEST MERELY VERIFIES THAT ALL BITS CAN BE SET. SOME HAVE
 10643						ALREADY BEEN TESTED
 10644
 10645						RECOMMENDED DEBUG PROCEDURE
 10646						--------------------------- 
 10647						NONE.
 10648						$
 10649					 	SALL
 10650
 10651
 10652	040650	201 01 0 00 000177 	TST177:	MOVEI	1,177		;GET TEST NUMBER
 10653	040651	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 10654
 10655	040652	260 17 0 00 060522 	T177S:	GO	DEVSEL		;SELECT A DEVICE
 10656	040653	263 17 0 00 000000 		RTN			;TRIED ALL
 10657	040654	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
 10658
 10659	040655	201 01 0 00 000040 		MOVEI	1,40		;A 1 TO C05
 10660	040656	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE CURRENT PATTERN
 10661
 10662	040657	260 17 0 00 055673 	T177L:	GO	ONCHK		;GET DEVICE ON-LINE WITH VV SET
 10663
 10664	040660	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 10665
 10666	040661	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
 10667	040662	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 10668	040663	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10669
 10670	040664	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 10671	040665	434 01 0 00 077314 		IOR	1,PATRN		;INCLUDE CURRENT PATTERN
 10672	040666	260 17 0 00 057402 		GO	LRPCS1		;LOAD CONTROL REGISTER
 10673	040667	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10674
 10675	040670	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 10676	040671	260 17 0 00 057576 		GO	RRPCS1		;READ CONTROL REGISTER
 10677	040672	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10678	040673	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 10679
 10680	040674	135 00 0 00 066742 		LDB	0,[POINT 6,1,35]  ;GET DATA TO AC0
 10681	040675	312 00 0 00 077314 		CAME	0,PATRN		;IS DATA AS EXPECTED
 10682	040676	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 10683	040677	027 00 0 00 040720 		SCOPE	TB177		;YES. CALL THE SCOPE ROUTINE
 10684	040700	254 00 0 00 040657 		JRST	T177L		;LOOP
 10685	040701	255 00 0 00 000000 		JFCL			;CONTINUE. UPDATE PATTERN
 10686
 10687	040702	200 00 0 00 077314 		MOVE	0,PATRN		;GET CURRENT PATTERN
 10688	040703	242 00 0 00 777777 		LSH	0,-1		;SHIFT BIT TO RIGHT
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-20
DSRPA3	MAC	23-Feb-79 09:36		A MISC TEST OF THE CONTROL REGISTER                                                SEQ 0437

 10689	040704	202 00 0 00 077314 		MOVEM	0,PATRN		;SAVE NEW PATTERN
 10690	040705	302 00 0 00 000001 		CAIE	0,1		;HAVE WE TRIED LAST PATTERN
 10691	040706	254 00 0 00 040657 		JRST	T177L		;NO. LOOP
 10692	040707	254 00 0 00 040652 		JRST	T177S		;DONE WITH FLOAT
 10693
 10694					;PRINT ROUTINE FOR THIS TEST
 10695
 10696	040710	261 17 0 00 000000 	T177PT:	PUT	0		;SAVE AC0
 10697	040711	260 17 0 00 062461 		GO	REGPNT		;PRINT CONTENTS OF CONTROL REG
 10698	040712	030 00 0 00 066743 		TEXT	[ASCIZ/C00-C05 SHOULD HAVE BEEN /]
 10699	040713	200 00 0 00 077314 		MOVE	0,PATRN		;GET CORRECT PATTERN
 10700	040714	037 02 0 00 000000 		PNT2			;PRINT 2 OCTAL DIGITS
 10701	040715	260 17 0 00 063452 		GO	.CRLF		;PRINT A CRLF
 10702	040716	262 17 0 00 000000 		GET	0		;RESTORE THE AC
 10703	040717	263 17 0 00 000000 		RTN			;AND EXIT
 10704
 10705					;SCOPE TABLE
 10706
 10707	040720	000000	040710		TB177:	0,,T177PT
 10708	040721	100000	066751			NOINH![ASCIZ/CAN'T FLOAT A 1 DOWN C01-C05 OF REG-00/]
 10709	040722	420000	077775			LAST!HIPROB!RG
 10710
 10711					SUBTTL	PARTIAL TESTING OF THE "PIP" BIT
 10712					 	XLIST
 10713					 	LIST
 10714						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-21
DSRPA3	MAC	23-Feb-79 09:36		PARTIAL TESTING OF THE "PIP" BIT                                                   SEQ 0438

 10715					S^;*********************************************************************^
 10716					;*TEST-200 TESTING OF "PIP" WITH A SEEK COMMAND
 10717					S^;*********************************************************************^
 10718
 10719					COMMENT	$
 10720
 10721						TEST DESCRIPTION
 10722						---------------- 
 10723						THIS TEST IS DESIGNED TO CHECK OPERATION OF "PIP" IN CONJUNCTION
 10724						WITH A SEEK COMMAND ISSUED IN MAINT MODE. THREE SUBTESTS
 10725						ARE REQUIRED.
 10726						A. READ PIP WITH NO COMMAND TO INSURE THAT IT IS NOT STUCK AT 1
 10727						B. ISSUE A MAINT MODE SEEK WITH NO "GO-BIT" AND INSURE "PIP" DOES
 10728						   NOT SET.
 10729						C. ISSUE A MAINT MODE SEEK WITH "GO-BIT" AND INSURE THAT THE
 10730						   "PIP" GETS SET.
 10731
 10732						RECOMMENDED DEBUG PROCEDURE
 10733						--------------------------- 
 10734						NONE.
 10735						$
 10736					 	SALL
 10737
 10738
 10739	040723	201 01 0 00 000200 	TST200:	MOVEI	1,200		;GET THE TEST NUMBER
 10740	040724	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 10741
 10742	040725	260 17 0 00 060522 	T200S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 10743	040726	263 17 0 00 000000 		RTN			;TRIED ALL
 10744	040727	255 00 0 00 000000 		JFCL			;NEXT READY
 10745
 10746	040730	260 17 0 00 055673 	T200AL:	GO	ONCHK		;GET DRIVE ON LINE WITH VV-SET
 10747
 10748	040731	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 10749
 10750	040732	260 17 0 00 056000 		GO	MMODE		;IN MAINT MODE
 10751
 10752	040733	260 17 0 00 040531 		GO	CYLDIF		;MAKE SURE CCA AND DCA ARE DIFFERENT
 10753
 10754	040734	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
 10755	040735	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 10756	040736	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10757
 10758	040737	260 17 0 00 041002 		GO	SNPCS		;SNAPSHOT CONTROL AND STATUS REGS
 10759
 10760	040740	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REG DATA
 10761	040741	602 01 0 00 020000 		TRNE	1,1B22		;IS "PIP" SET
 10762	040742	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
 10763	040743	027 00 0 00 041026 		SCOPE	TB200A		;NO. CALL THE SCOPE ROUTINE
 10764	040744	254 00 0 00 040730 		JRST	T200AL		;LOOP
 10765	040745	255 00 0 00 000000 		JFCL			;CONTINUE TO NEXT SUBTEST
 10766
 10767	040746	260 17 0 00 055673 	T200BL:	GO	ONCHK		;GET ON-LINE WITH VV-SET
 10768
 10769	040747	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-22
DSRPA3	MAC	23-Feb-79 09:36		PARTIAL TESTING OF THE "PIP" BIT                                                   SEQ 0439

 10770
 10771	040750	260 17 0 00 056000 		GO	MMODE		;INTO MAINT MODE
 10772	040751	260 17 0 00 040531 		GO	CYLDIF		;MAKE SURE CCA AND DCA ARE NOT SAME
 10773
 10774	040752	200 01 0 00 066761 		MOVE	1,[1B14!4]	;SEEK WITH NO "GO-BIT"
 10775	040753	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 10776	040754	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10777	040755	260 17 0 00 041002 		GO	SNPCS		;SNAPSHOT CONTROL & STATUS REGS
 10778
 10779	040756	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REGISTER DATA
 10780	040757	602 01 0 00 020000 		TRNE	1,1B22		;IS "PIP" SET
 10781	040760	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
 10782	040761	027 00 0 00 041031 		SCOPE	TB200B		;NO. CALL THE SCOPE ROUTINE
 10783	040762	254 00 0 00 040746 		JRST	T200BL		;LOOP
 10784	040763	255 00 0 00 000000 		JFCL			;CONTINUE. FALL TO NEXT SUBTEST
 10785
 10786	040764	260 17 0 00 055673 	T200CL:	GO	ONCHK		;GET ON-LINE WITH VV-SET
 10787
 10788	040765	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 10789
 10790	040766	260 17 0 00 056000 		GO	MMODE		;PUT DRIVE IN MAINT MODE
 10791
 10792	040767	260 17 0 00 040531 		GO	CYLDIF		;MAKE SURE CCA AND DCA ARE NOT THE SAME
 10793
 10794	040770	200 01 0 00 066700 		MOVE	1,[1B14!5]	;A REAL SEEK COMMAND
 10795	040771	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 10796	040772	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10797
 10798	040773	260 17 0 00 041002 		GO	SNPCS		;SNAPSHOT CONTROL AND STATUS REGS
 10799
 10800	040774	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REGISTER DATA
 10801	040775	606 01 0 00 020000 		TRNN	1,1B22		;IS "PIP" SET
 10802	040776	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 10803	040777	027 00 0 00 041034 		SCOPE	TB200C		;YES. CALL THE SCOPE ROUTINE
 10804	041000	254 00 0 00 040764 		JRST	T200CL		;LOOP
 10805	041001	254 00 0 00 040725 		JRST	T200S		;CONTINUE
 10806
 10807					;ROUTINE TO SNAPSHOT CONTROL AND STATUS REGISTERS
 10808
 10809	041002	261 17 0 00 000001 	SNPCS:	PUT	1		;SAVE AC1
 10810	041003	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 10811	041004	260 17 0 00 057576 		GO	RRPCS1		;READ CONTROL REGISTER
 10812	041005	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10813	041006	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 10814	041007	202 01 0 00 077632 		MOVEM	1,SRPCS1	;SAVE RESULTS
 10815
 10816	041010	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 10817	041011	260 17 0 00 057601 		GO	RRPDS		;READ STATUS REGISTER
 10818	041012	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10819	041013	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 10820	041014	202 01 0 00 077637 		MOVEM	1,SRPDS		;SAVE RESULTS
 10821	041015	262 17 0 00 000001 		GET	1		;RESTORE THE AC
 10822	041016	263 17 0 00 000000 		RTN			;AND EXIT
 10823
 10824					;ROUTINE TO DUMP CONTROL AND STATUS DATA
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-23
DSRPA3	MAC	23-Feb-79 09:36		PARTIAL TESTING OF THE "PIP" BIT                                                   SEQ 0440

 10825
 10826	041017	261 17 0 00 000001 	PNTCS:	PUT	1		;SAVE THE AC
 10827	041020	200 01 0 00 077632 		MOVE	1,SRPCS1	;GET CONTROL REGISTER DATA
 10828	041021	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
 10829	041022	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REGISTER DATA
 10830	041023	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
 10831	041024	262 17 0 00 000001 		GET	1		;RESTORE THE AC
 10832	041025	263 17 0 00 000000 		RTN			;AND EXIT
 10833
 10834					;SCOPE TABLES
 10835
 10836	041026	000000	041017		TB200A:	0,,PNTCS		;DEFINE A PRINT ROUTINE
 10837	041027	100000	066762			NOINH![ASCIZ/"PIP" (C13 REG-01) APPEARS TO BE STUCK AT/]
 10838	041030	420000	077775			LAST!HIPROB!RG
 10839
 10840	041031	000000	041017		TB200B:	0,,PNTCS		;DEFINE A PRINT ROUTINE
 10841	041032	100000	066773			NOINH![ASCIZ/ISSUING A SEEK WITH NO "GO-BIT" HAS SET "PIP" (C13 REG-01)/]
 10842	041033	420000	077775			LAST!HIPROB!RG
 10843
 10844	041034	000000	041017		TB200C:	0,,PNTCS		;DEFINE A PRINT ROUTINE
 10845	041035	100000	067007			NOINH![ASCIZ/"PIP" (C13 REG-01) FAILED TO SET WITH A SEEK COMMAND/]
 10846	041036	420000	077775			LAST!HIPROB!RG
 10847
 10848					SUBTTL	ADDITIONAL OFFSET REGISTER CLEAR TEST
 10849					 	XLIST
 10850					 	LIST
 10851						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-24
DSRPA3	MAC	23-Feb-79 09:36		ADDITIONAL OFFSET REGISTER CLEAR TEST                                              SEQ 0441

 10852					S^;*********************************************************************^
 10853					;*TEST-201 VERIFY THAT READIN CLEARS OFFSET REGISTER
 10854					S^;*********************************************************************^
 10855
 10856					COMMENT	$
 10857
 10858						TEST DESCRIPTION
 10859						---------------- 
 10860						THIS TEST VERIFIES THAT THE READIN PRESET COMMAND CLEARS
 10861						C10-C12 OF THE OFFSET REGISTER.
 10862
 10863						RECOMMENDED DEBUG PROCEDURE
 10864						--------------------------- 
 10865						NONE.
 10866						$
 10867					 	SALL
 10868
 10869	041037	201 01 0 00 000201 	TST201:	MOVEI	1,201		;GET THE TEST NUMBER
 10870	041040	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 10871
 10872	041041	260 17 0 00 060522 	T201S:	GO	DEVSEL		;SELECT A DEVICE
 10873	041042	263 17 0 00 000000 		RTN			;TRIED ALL
 10874	041043	476 00 0 00 077330 		SETOM	SHMODE		;NEXT READY. SET PRINTOUT MODE
 10875
 10876	041044	260 17 0 00 055673 	T201L:	GO	ONCHK		;GET DRIVE ON-LINE WITH VV-SET
 10877
 10878	041045	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 10879
 10880	041046	200 01 0 00 067022 		MOVE	1,[1B14!16000]	;ONES TO C10-C12
 10881	041047	260 17 0 00 057435 		GO	LRPOF		;LOAD THE OFFSET REGISTER
 10882	041050	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10883
 10884	041051	200 01 0 00 066600 		MOVE	1,[1B14!21]	;A READIN PRESET COMMAND
 10885	041052	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 10886	041053	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10887
 10888	041054	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 10889	041055	260 17 0 00 057631 		GO	RRPOF		;READ THE OFFSET REGISTER
 10890	041056	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10891	041057	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 10892
 10893	041060	602 01 0 00 016000 		TRNE	1,16000		;DID C10-C12 REG-11 CLEAR
 10894	041061	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 10895	041062	027 00 0 00 041065 		SCOPE	TB201		;YES. CALL THE SCOPE ROUTINE
 10896	041063	254 00 0 00 041044 		JRST	T201L		;LOOP
 10897	041064	254 00 0 00 041041 		JRST	T201S		;CONTINUE
 10898
 10899					;SCOPE TABLE
 10900
 10901	041065	000000	062461		TB201:	0,,REGPNT
 10902	041066	100000	067023			NOINH![ASCIZ/C10-C12 OF REG-11 WON'T CLEAR WITH A READIN COMMAND/]
 10903	041067	420000	077775			LAST!HIPROB!RG
 10904
 10905					SUBTTL	ADDITIONAL DESIRED CYLINDER ADDRESS REGISTER CLEAR TEST
 10906					 	XLIST
 10907					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-25
DSRPA3	MAC	23-Feb-79 09:36		ADDITIONAL DESIRED CYLINDER ADDRESS REGISTER CLEAR TEST                            SEQ 0442

 10908						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-26
DSRPA3	MAC	23-Feb-79 09:36		ADDITIONAL DESIRED CYLINDER ADDRESS REGISTER CLEAR TEST                            SEQ 0443

 10909					S^;*********************************************************************^
 10910					;*TEST-202 VERIFY THAT READIN CLEARS DES. CYL. REGISTER
 10911					S^;*********************************************************************^
 10912
 10913					COMMENT	$
 10914
 10915						TEST DESCRIPTION
 10916						---------------- 
 10917						THIS TEST VERIFIES THAT THE READIN PRESET COMMAND CLEARS
 10918						C00-C09 OF THE DESIRED CYLINDER ADDRESS REGISTER
 10919
 10920						RECOMMENDED DEBUG PROCEDURE
 10921						--------------------------- 
 10922						NONE.
 10923						$
 10924					 	SALL
 10925
 10926
 10927	041070	201 01 0 00 000202 	TST202:	MOVEI	1,202		;GET THE TEST NUMBER
 10928	041071	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 10929
 10930	041072	260 17 0 00 060522 	T202S:	GO	DEVSEL		;SELECT A DEVICE
 10931	041073	263 17 0 00 000000 		RTN			;TRIED ALL
 10932	041074	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
 10933
 10934	041075	260 17 0 00 055673 	T202L:	GO	ONCHK		;GET ON-LINE WITH VV-SET
 10935
 10936	041076	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 10937
 10938	041077	200 01 0 00 065577 		MOVE	1,[1B14!1777]	;C00-C09 ARE SET TO 1'S
 10939	041100	260 17 0 00 057440 		GO	LRPDC		;LOAD DESIRED CYLINDER REG
 10940	041101	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10941
 10942	041102	200 01 0 00 066600 		MOVE	1,[1B14!21]	;A READIN PRESET COMMAND
 10943	041103	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 10944	041104	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10945
 10946	041105	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 10947	041106	260 17 0 00 057634 		GO	RRPDC		;READ DESIRED CYLINDER REG
 10948	041107	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 10949	041110	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 10950
 10951	041111	602 01 0 00 001777 		TRNE	1,1777		;DID C00-C09 CLEAR?
 10952	041112	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 10953	041113	027 00 0 00 041116 		SCOPE	TB202		;YES. CALL THE SCOPE ROUTINE
 10954	041114	254 00 0 00 041075 		JRST	T202L		;LOOP
 10955	041115	254 00 0 00 041072 		JRST	T202S		;CONTINUE
 10956
 10957
 10958					;SCOPE TABLE
 10959
 10960	041116	000000	062461		TB202:	0,,REGPNT
 10961	041117	100000	067036			NOINH![ASCIZ/C00-C09 OF REG-12 WON'T CLEAR WITH A READIN COMMAND/]
 10962	041120	420000	077765			LAST!HIPROB!SS
 10963
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-27
DSRPA3	MAC	23-Feb-79 09:36		ADDITIONAL DESIRED TRACK/SECT REGISTER RESET TEST                                  SEQ 0444

 10964					SUBTTL	ADDITIONAL DESIRED TRACK/SECT REGISTER RESET TEST
 10965					 	XLIST
 10966					 	LIST
 10967						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-28
DSRPA3	MAC	23-Feb-79 09:36		ADDITIONAL DESIRED TRACK/SECT REGISTER RESET TEST                                  SEQ 0445

 10968					S^;*********************************************************************^
 10969					;*TEST-203 VERIFY THAT READIN WILL CLEAR DESIRED TRK/SECT REG
 10970					S^;*********************************************************************^
 10971
 10972					COMMENT	$
 10973
 10974						TEST DESCRIPTION
 10975						---------------- 
 10976						THIS TEST IS TO VERIFY THAT ISSUING A READIN PRESET COMMAND
 10977						WILL CLEAR C00-C04 AND C08-C12 OF THE DESIRED TRACK/SECTOR
 10978						ADDRESS REGISTER
 10979
 10980						RECOMMENDED DEBUG PROCEDURE
 10981						--------------------------- 
 10982						NONE.
 10983						$
 10984					 	SALL
 10985
 10986
 10987	041121	201 01 0 00 000203 	TST203:	MOVEI	1,203		;GET THE TEST NUMBER
 10988	041122	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 10989
 10990	041123	260 17 0 00 060522 	T203S:	GO	DEVSEL		;SELECT A DEVICE
 10991	041124	263 17 0 00 000000 		RTN			;TRIED ALL
 10992	041125	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
 10993
 10994	041126	260 17 0 00 055673 	T203L:	GO	ONCHK		;GET ON-LINE WITH VV-SET
 10995
 10996	041127	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 10997
 10998	041130	200 01 0 00 065637 		MOVE	1,[1B14!17437]	;1'S TO IMPLEMENTED D.A. BITS
 10999	041131	260 17 0 00 057421 		GO	LRPDA		;LOAD THE DESIRED ADDRESS REGISTER
 11000	041132	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 11001
 11002	041133	200 01 0 00 066600 		MOVE	1,[1B14!21]	;A READIN COMMAND
 11003	041134	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 11004	041135	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 11005
 11006	041136	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 11007	041137	260 17 0 00 057615 		GO	RRPDA		;READ THE D.A. REG
 11008	041140	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 11009	041141	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 11010
 11011	041142	602 01 0 00 017437 		TRNE	1,17437		;DID IMPLEMENTED BITS CLEAR
 11012	041143	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 11013	041144	027 00 0 00 041147 		SCOPE	TB203		;YES. CALL THE SCOPE ROUTINE
 11014	041145	254 00 0 00 041126 		JRST	T203L		;LOOP
 11015	041146	254 00 0 00 041123 		JRST	T203S		;CONTINUE
 11016
 11017
 11018					;SCOPE TABLE
 11019
 11020	041147	000000	062461		TB203:	0,,REGPNT
 11021	041150	100000	067051			NOINH[ASCIZ/READIN COMMAND FAILS TO CLEAR DESIRED ADR REGISTER/]
 11022	041151	100000	067064			NOINH![ASCIZ/REG-05 IMPLEMENTED BITS C00-C04 AND C08-C12/]
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-29
DSRPA3	MAC	23-Feb-79 09:36		ADDITIONAL DESIRED TRACK/SECT REGISTER RESET TEST                                  SEQ 0446

 11023	041152	420000	077765			LAST!HIPROB!SS
 11024
 11025					SUBTTL	ADDITIONAL CONTROL REGISTER TEST
 11026					 	XLIST
 11027					 	LIST
 11028						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-30
DSRPA3	MAC	23-Feb-79 09:36		ADDITIONAL CONTROL REGISTER TEST                                                   SEQ 0447

 11029					S^;*********************************************************************^
 11030					;*TEST-204 A TEST OF THE CONTROL REGISTER MUX
 11031					S^;*********************************************************************^
 11032
 11033					COMMENT	$
 11034
 11035						TEST DESCRIPTION
 11036						---------------- 
 11037						THIS TEST VERIFIES THAT THE CONTROL REGISTER MUX (RG6) IS ACTUALLY
 11038						RETURNING 0'S IN THE GUARANTEED TO BE 0 BIT POSITIONS WHICH
 11039						ARE C06 AND C08 THRU C10 AND C12 THRU C15
 11040
 11041						RECOMMENDED DEBUG PROCEDURE
 11042						--------------------------- 
 11043						NONE.
 11044						$
 11045					 	SALL
 11046
 11047
 11048	041153	201 01 0 00 000204 	TST204:	MOVEI	1,204		;GET THE TEST NUMBER
 11049	041154	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 11050
 11051	041155	260 17 0 00 060522 	T204S:	GO	DEVSEL		;SELECT A DEVICE
 11052	041156	263 17 0 00 000000 		RTN			;TRIED ALL
 11053	041157	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
 11054
 11055	041160	260 17 0 00 077352 	T204L:	GO	DEVREQ		;REQUEST THE DEVICE
 11056
 11057	041161	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 11058
 11059	041162	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
 11060	041163	260 17 0 00 057402 		GO	LRPCS1		;CLEARS THE CONTROL REGISTER
 11061	041164	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 11062
 11063	041165	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 11064	041166	260 17 0 00 057576 		GO	RRPCS1		;READ THE CONTROL REG
 11065	041167	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 11066	041170	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 11067
 11068	041171	602 01 0 00 173500 		TRNE	1,173500	;SEE THAT ZERO BITS ARE CLEAR
 11069	041172	476 00 0 00 000010 		SETOM	ERFLG		;SOME ARE NOT. ERROR
 11070	041173	027 00 0 00 041176 		SCOPE	TB204		;CALL SCOPE ROUTINE
 11071	041174	254 00 0 00 041160 		JRST	T204L		;LOOP
 11072	041175	254 00 0 00 041155 		JRST	T204S		;CONTINUE
 11073
 11074					;SCOPE TABLE
 11075
 11076	041176	000000	062461		TB204:	0,,REGPNT
 11077	041177	100000	067075			NOINH![ASCIZ/NOT ALL GUARANTEED 0 BITS IN REG-00 ARE 0/]
 11078	041200	100000	067106			NOINH![ASCIZ/C06 C08-C10 AND C12-C15 SHOULD BE ZERO/]
 11079	041201	420000	077775			LAST!HIPROB!RG
 11080
 11081					SUBTTL	ILLEGAL FUNCTION TEST
 11082					 	XLIST
 11083					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-31
DSRPA3	MAC	23-Feb-79 09:36		ILLEGAL FUNCTION TEST                                                              SEQ 0448

 11084						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-32
DSRPA3	MAC	23-Feb-79 09:36		ILLEGAL FUNCTION TEST                                                              SEQ 0449

 11085					S^;*********************************************************************^
 11086					;*TEST-205 TEST THAT ILLEGAL COMMANDS CAUSE "ILF" ERROR
 11087					S^;*********************************************************************^
 11088
 11089					COMMENT	$
 11090
 11091						TEST DESCRIPTION
 11092						---------------- 
 11093						THIS TEST ISSUES THE ILLEGAL COMMANDS TO GUARANTEE THAT
 11094						THE DRIVE RECOGNIZES "ILF" FOR EACH ONE. THE "GO-BIT" IS TESTED
 11095						AFTER EACH OPERATION ALSO TO INSURE THAT IT GOT RESET.
 11096
 11097						RECOMMENDED DEBUG PROCEDURE
 11098						--------------------------- 
 11099						ALL FAULTS ARE LOCAL TO THE RG BOARDS. THE FOLLOWING ARE POSSIBLE:
 11100						A. FUNCTION DECODER FAULT (RG3)
 11101						B. "ILF" OR-GATE FAULT (RG4)
 11102						C. DIRECT SET FAULT ON "ILF" FLOP (RG0)
 11103						D. "ILF" INPUT FAULT TO MAS. RES. SINGLE SHOT (RG0)
 11104						E. INSURE THAT NONE OF THE INPUTS TO THE 8 INPUT -OR-
 11105						   GATE (RG0) FOR GO-MAS-RESET ARE NOT AT A CONSTANT
 11106						   ZERO. THIS CONDITION WILL HANG THE GO-BIT. 
 11107						$
 11108					 	SALL
 11109
 11110
 11111	041202	201 01 0 00 000205 	TST205:	MOVEI	1,205		;GET THE TEST NUMBER
 11112	041203	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 11113
 11114	041204	260 17 0 00 060522 	T205S:	GO	DEVSEL		;SELECT A DEVICE
 11115	041205	263 17 0 00 000000 		RTN			;TRIED ALL
 11116	041206	255 00 0 00 000000 		JFCL			;NEXT READY. SET PRINTOUT MODE
 11117
 11118	041207	200 02 0 00 041260 		MOVE	2,BP205		;AC2 WILL HAD BYTE POINTER
 11119	041210	135 00 0 00 000002 		LDB	0,2		;GET 1ST FUNCTION
 11120	041211	202 00 0 00 077314 		MOVEM	0,PATRN		;WE'LL SAVE INITIAL PATTERN
 11121
 11122	041212	260 17 0 00 055673 	T205L:	GO	ONCHK		;GET ON-LINE WITH VV-SET
 11123
 11124	041213	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 11125
 11126	041214	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 11127	041215	434 01 0 00 077314 		IOR	1,PATRN		;INCLUDE CURRENT ILLEGAL FUNCTION
 11128	041216	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 11129	041217	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 11130
 11131	041220	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 11132	041221	260 17 0 00 057576 		GO	RRPCS1		;READ CONTROL REGISTER
 11133	041222	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 11134	041223	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 11135	041224	202 01 0 00 077632 		MOVEM	1,SRPCS1	;SAVE RESULTS
 11136
 11137	041225	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 11138	041226	260 17 0 00 057604 		GO	RRPER1		;READ ERROR REG-01
 11139	041227	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-33
DSRPA3	MAC	23-Feb-79 09:36		ILLEGAL FUNCTION TEST                                                              SEQ 0450

 11140	041230	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 11141	041231	202 01 0 00 077640 		MOVEM	1,SRPER1	;SAVE RESULTS
 11142
 11143	041232	606 01 0 00 000001 		TRNN	1,1B35		;DID "ILF" SET
 11144	041233	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 11145	041234	027 00 0 00 041264 		SCOPE	TB205A		;YES. CALL THE SCOPE ROUTINE
 11146	041235	254 00 0 00 041212 		JRST	T205L		;LOOP
 11147	041236	255 00 0 00 000000 		JFCL			;CONTINUE
 11148
 11149	041237	200 01 0 00 077632 		MOVE	1,SRPCS1	;GET CONTROL REGISTER DATA
 11150	041240	602 01 0 00 000001 		TRNE	1,1B35		;IS GO-BIT CLEAR
 11151	041241	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 11152	041242	027 00 0 00 041267 		SCOPE	TB205B		;YES. CALL SCOPE ROUTINE
 11153	041243	254 00 0 00 041212 		JRST	T205L		;LOOP
 11154	041244	255 00 0 00 000000 		JFCL			;CONTINUE. UPDATE PATTERN
 11155
 11156	041245	134 00 0 00 000002 		ILDB	0,2		;LOAD NEXT ILF FROM TABLE
 11157	041246	202 00 0 00 077314 		MOVEM	0,PATRN		;SAVE AS NEXT FUNCTION
 11158	041247	322 00 0 00 041204 		JUMPE	0,T205S		;ELSE LOOP ON NXT FUNCTION
 11159	041250	254 00 0 00 041212 		JRST	T205L		;AND LOOP
 11160
 11161					;ROUTINE TO PRINT CONTROL REGISTER AND ERROR REG-1
 11162
 11163	041251	261 17 0 00 000001 	PNTCE1:	PUT	1		;SAVE THE AC
 11164	041252	200 01 0 00 077632 		MOVE	1,SRPCS1	;GET CONTROL REGISTER DATA
 11165	041253	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
 11166	041254	200 01 0 00 077640 		MOVE	1,SRPER1	;GET ER-1 DATA
 11167	041255	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
 11168	041256	262 17 0 00 000001 		GET	1		;RESTORE THE AC
 11169	041257	263 17 0 00 000000 		RTN			;AND EXIT
 11170
 11171					;HERE IS THE INITIAL BYTE POINTER FOR TABLE FETCH
 11172
 11173	041260	36 06 0 00 041261 	BP205:	POINT 6,TBL205,5
 11174
 11175					;HERE IS THE TABLE OF ILLEGAL FUNCTIONS STORED 6 PER WORD
 11176
 11177	041261	25 27 33 35 37 41 	TBL205:	BYTE	(6)	25,27,33,35,37,41
 11178	041262	43 45 47 55 57 65 		BYTE	(6)	43,45,47,55,57,65
 11179	041263	67 75 77 00 00 00 		BYTE	(6)	67,75,77,0,0,0
 11180
 11181					;SCOPE TABLES
 11182
 11183	041264	000000	041251		TB205A:	0,,PNTCE1		;DEFINE A PRINT ROUTINE
 11184	041265	100000	067116			NOINH![ASCIZ/"ILF" FAILED TO SET WITH ILLEGAL FUNCTION ISSUED/]
 11185	041266	420000	077775			LAST!HIPROB!RG
 11186
 11187	041267	000000	041251		TB205B:	0,,PNTCE1		;DEFINE A PRINT ROUTINE
 11188	041270	100000	067130			NOINH![ASCIZ/GO-BIT WON'T CLEAR FOLLOWING AN ILLEGAL FUNCTION/]
 11189	041271	420000	077775			LAST!HIPROB!RG
 11190
 11191					SUBTTL	REGISTER-05, REGISTER-07 MUX TESTS
 11192					 	XLIST
 11193					 	LIST
 11194						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-34
DSRPA3	MAC	23-Feb-79 09:36		REGISTER-05, REGISTER-07 MUX TESTS                                                 SEQ 0451

 11195					S^;*********************************************************************^
 11196					;*TEST-206 REG-05 MUX TEST
 11197					S^;*********************************************************************^
 11198
 11199					COMMENT	$
 11200
 11201						TEST DESCRIPTION
 11202						---------------- 
 11203						READ REGISTER-05 AND VERIFY THAT THE GUARANTEED 0 BITS
 11204						(C05-C07 AND C13-C15) ARE ZERO'S.
 11205
 11206						RECOMMENDED DEBUG PROCEDURE
 11207						--------------------------- 
 11208						NONE.
 11209						$
 11210					 	SALL
 11211
 11212
 11213	041272	201 01 0 00 000206 	TST206:	MOVEI	1,206		;GET THE TEST NUMBER
 11214	041273	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 11215
 11216	041274	260 17 0 00 060522 	T206S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 11217	041275	263 17 0 00 000000 		RTN			;TRIED ALL
 11218	041276	476 00 0 00 077330 		SETOM	SHMODE		;NEXT READY. SET PRINTOUT MODE
 11219
 11220	041277	260 17 0 00 077352 	T206L:	GO	DEVREQ		;REQUEST THE DEVICE
 11221
 11222	041300	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 11223
 11224	041301	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 11225	041302	260 17 0 00 057615 		GO	RRPDA		;READ THE DESIRED ADDRESS REGISTER
 11226	041303	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 11227	041304	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 11228
 11229	041305	602 01 0 00 160340 		TRNE	1,160340	;GUARANTEED 0 BITS CORRECT?
 11230	041306	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 11231	041307	027 00 0 00 041312 		SCOPE	TB206		;YES. CALL SCOPE ROUTINE
 11232	041310	254 00 0 00 041277 		JRST	T206L		;LOOP
 11233	041311	254 00 0 00 041274 		JRST	T206S		;CONTINUE
 11234
 11235					;SCOPE TABLE
 11236
 11237	041312	000000	062461		TB206:	0,,REGPNT
 11238	041313	100000	067142			NOINH![ASCIZ/DESIRED ADDRESS REGISTER MUX FAULT/]
 11239	041314	100000	067151			NOINH![ASCIZ/C05-C07 AND C13-C15 OF REG-05 SHOULD BE 0/]
 11240	041315	420000	077765			LAST!HIPROB!SS
 11241
 11242					 	XLIST
 11243					 	LIST
 11244						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-35
DSRPA3	MAC	23-Feb-79 09:36		REGISTER-05, REGISTER-07 MUX TESTS                                                 SEQ 0452

 11245					S^;*********************************************************************^
 11246					;*TEST-207 REG-07 MUX TEST
 11247					S^;*********************************************************************^
 11248
 11249					COMMENT	$
 11250
 11251						TEST DESCRIPTION
 11252						---------------- 
 11253						READ REGISTER-07 AND VERIFY THAT THE GUARANTEED 0 BITS
 11254						(C00-C03 AND C11-C15) ARE ZERO.
 11255
 11256						RECOMMENDED DEBUG PROCEDURE
 11257						--------------------------- 
 11258						NONE.
 11259						$
 11260					 	SALL
 11261
 11262
 11263	041316	201 01 0 00 000207 	TST207:	MOVEI	1,207		;GET THE TEST NUMBER
 11264	041317	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 11265
 11266	041320	260 17 0 00 060522 	T207S:	GO	DEVSEL		;SELECT THE DRIVE
 11267	041321	263 17 0 00 000000 		RTN			;TRIED ALL
 11268	041322	476 00 0 00 077330 		SETOM	SHMODE		;NEXT RDY. SET PRINTOUT MOE
 11269
 11270	041323	260 17 0 00 077352 	T207L:	GO	DEVREQ		;REQUEST THE DEVICE
 11271
 11272	041324	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 11273
 11274	041325	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 11275	041326	260 17 0 00 057623 		GO	RRPLA		;READ THE LOOK AHEAD REGISTER
 11276	041327	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 11277	041330	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 11278
 11279	041331	602 01 0 00 174013 		TRNE	1,174013	;GUARANTEED 0 BITS CORRECT
 11280	041332	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 11281	041333	027 00 0 00 041336 		SCOPE	TB207		;YES. CALL SCOPE ROUTINE
 11282	041334	254 00 0 00 041323 		JRST	T207L		;LOOP
 11283	041335	254 00 0 00 041320 		JRST	T207S		;CONTINUE
 11284
 11285					;SCOPE TABLE
 11286
 11287	041336	000000	062461		TB207:	0,,REGPNT
 11288	041337	100000	067162			NOINH![ASCIZ/LOOK AHEAD REGISTER MUX FAULT/]
 11289	041340	100000	067170			NOINH![ASCIZ/C00-C03 AND C11-C15 OF REG-07 SHOULD BE 0/]
 11290	041341	420000	077765			LAST!HIPROB!SS
 11291
 11292					SUBTTL	SOME BASIC DRIVE TYPE REGISTER TESTS
 11293					 	XLIST
 11294					 	LIST
 11295						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-36
DSRPA3	MAC	23-Feb-79 09:36		SOME BASIC DRIVE TYPE REGISTER TESTS                                               SEQ 0453

 11296					S^;*********************************************************************^
 11297					;*TEST-210 REG-06 GUARANTEED 0'S TEST
 11298					S^;*********************************************************************^
 11299
 11300					COMMENT	$
 11301
 11302						TEST DESCRIPTION
 11303						---------------- 
 11304						READ THE DRIVE TYPE REGISTER AND VERIFY THAT THE
 11305						GUARANTEED 0 BITS ARE CORRECT. THEY ARE: C0,C02-C03,
 11306						C05-C10, C12, C14-C15
 11307
 11308						RECOMMENDED DEBUG PROCEDURE
 11309						--------------------------- 
 11310						FAULTS ARE MOST LIKELY ON THE EC BOARD BUT THERE IS
 11311						A REMOTE POSSIBILITY THAT A REGISTER SELECTION PROBLEM
 11312						STILL EXISTS ON RG
 11313						$
 11314					 	SALL
 11315
 11316
 11317	041342	201 01 0 00 000210 	TST210:	MOVEI	1,210		;GET THE TEST NUMBER
 11318	041343	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 11319
 11320	041344	260 17 0 00 060522 	T210S:	GO	DEVSEL		;SELECT DEVICE
 11321	041345	263 17 0 00 000000 		RTN			;TRIED ALL
 11322	041346	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MDE
 11323
 11324	041347	260 17 0 00 077352 	T210L:	GO	DEVREQ		;REQUEST THE DEVICE
 11325
 11326	041350	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 11327
 11328	041351	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 11329	041352	260 17 0 00 057620 		GO	RRPDT		;READ DRIVE TYPE REG
 11330	041353	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 11331	041354	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 11332
 11333	041355	602 01 0 00 153755 		TRNE	1,153755	;GUARANTEED ZERO BITS CORRECT?
 11334	041356	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 11335	041357	027 00 0 00 041362 		SCOPE	TB210		;YES. CALL SCOPE ROUTINE
 11336	041360	254 00 0 00 041347 		JRST	T210L		;LOOP
 11337	041361	254 00 0 00 041344 		JRST	T210S		;CONTINUE
 11338
 11339					;SCOPE TABLE
 11340
 11341	041362	000000	062461		TB210:	0,,REGPNT
 11342	041363	100000	067201			NOINH![ASCIZ/DRIVE TYPE REG FAULT (RG-06)/]
 11343	041364	100000	067207			NOINH![ASCIZ/C0,C02-C03, C05-C10, C12, C14-C15 SHOULD BE 0/]
 11344	041365	400000	077755			HIPROB!EC
 11345	041366	620000	077775			LAST!LOPROB!RG
 11346
 11347					 	XLIST
 11348					 	LIST
 11349						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-37
DSRPA3	MAC	23-Feb-79 09:36		SOME BASIC DRIVE TYPE REGISTER TESTS                                               SEQ 0454

 11350					S^;*********************************************************************^
 11351					;*TEST-211 REG-06 GUARANTEED 1'S TEST
 11352					S^;*********************************************************************^
 11353
 11354					COMMENT	$
 11355
 11356						TEST DESCRIPTION
 11357						---------------- 
 11358						READ AND VERIFY THAT C01,C04 AND C13 OF REGISTER-06
 11359						ARE 1
 11360
 11361						RECOMMENDED DEBUG PROCEDURE
 11362						--------------------------- 
 11363						THE EC BOARD MUX IS THE MOST LIKELY FAULT. THERE IS
 11364						HOWEVER, A REMOTE POSSIBILITY THAT A REGISTER SELECT
 11365						PROBLEM EXISTS ON THE RG BOARD
 11366						$
 11367					 	SALL
 11368
 11369
 11370	041367	201 01 0 00 000211 	TST211:	MOVEI	1,211		;GET THE TEST NUMBER
 11371	041370	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 11372
 11373	041371	260 17 0 00 060522 	T211S:	GO	DEVSEL		;SELECT A DEVICE
 11374	041372	263 17 0 00 000000 		RTN			;TRIED ALL
 11375	041373	476 00 0 00 077330 		SETOM	SHMODE		;NEXT READY. SET PRINTOUT MODE
 11376
 11377	041374	260 17 0 00 077352 	T211L:	GO	DEVREQ		;REQUEST THE DEVICE
 11378
 11379	041375	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 11380
 11381	041376	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 11382	041377	260 17 0 00 057620 		GO	RRPDT		;READ DRIVE TYPE REGISTER
 11383	041400	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 11384	041401	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 11385
 11386	041402	460 00 0 00 000001 		SETCM	0,1		;COMP DATA TO AC0
 11387	041403	602 00 0 00 020022 		TRNE	0,1B22!1B31!1B34  ;GUARANTEED 1 BITS CORRECT?
 11388	041404	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 11389	041405	027 00 0 00 041410 		SCOPE	TB211		;YES. CALL SCOPE ROUTINE
 11390	041406	254 00 0 00 041374 		JRST	T211L		;LOOP
 11391	041407	254 00 0 00 041371 		JRST	T211S		;CONTINUE
 11392
 11393					;SCOPE TABLE
 11394
 11395	041410	000000	062461		TB211:	0,,REGPNT
 11396	041411	100000	067221			NOINH![ASCIZ/DRIVE TYPE REGISTER FAULT/]
 11397	041412	100000	067227			NOINH![ASCIZ/C01,C04 AND C13 (REG-06) SHOULD BE 1'S/]
 11398	041413	400000	000000			HIPROB1EC
 11399	041414	620000	077775			LAST!LOPROB!RG
 11400
 11401					SUBTTL	DESIRED CYLINDER ADDRESS REGISTER TEST
 11402					 	XLIST
 11403					 	LIST
 11404						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-38
DSRPA3	MAC	23-Feb-79 09:36		DESIRED CYLINDER ADDRESS REGISTER TEST                                             SEQ 0455

 11405					S^;*********************************************************************^
 11406					;*TEST-212 REG-12 GUARANTEED 0 TEST
 11407					S^;*********************************************************************^
 11408
 11409					COMMENT	$
 11410
 11411						TEST DESCRIPTION
 11412						---------------- 
 11413						READ REG-12 AND VERIFY THAT C10-C15 ARE 0.
 11414
 11415						RECOMMENDED DEBUG PROCEDURE
 11416						--------------------------- 
 11417						THESE BITS ARE NOT EVEN HOOKED ONTO THE CONTROL BUS. IF
 11418						THIS TEST FAILS, YOU HAVE A MUX FAULT OR REGISTER SELECTION
 11419						FAILURE.
 11420						$
 11421					 	SALL
 11422
 11423
 11424	041415	201 01 0 00 000212 	TST212:	MOVEI	1,212		;GET THE TEST NUMBER
 11425	041416	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 11426
 11427	041417	260 17 0 00 060522 	T212S:	GO	DEVSEL		;SELECT A DEVICE
 11428	041420	263 17 0 00 000000 		RTN			;TRIED ALL
 11429	041421	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
 11430
 11431	041422	260 17 0 00 077352 	T212L:	GO	DEVREQ		;REQUEST THE DEVICE
 11432
 11433	041423	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 11434
 11435	041424	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 11436	041425	260 17 0 00 057634 		GO	RRPDC		;READ DES. CYL. REG
 11437	041426	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 11438	041427	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 11439
 11440	041430	602 01 0 00 176000 		TRNE	1,176000	;GUARANTEED 0 BITS CORRECT?
 11441	041431	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 11442	041432	027 00 0 00 041435 		SCOPE	TB212		;YES. CALL SCOPE ROUTINE
 11443	041433	254 00 0 00 041422 		JRST	T212L		;LOOP
 11444	041434	254 00 0 00 041417 		JRST	T212S		;CONTINUE
 11445
 11446					;SCOPE TABLE
 11447
 11448	041435	000000	062461		TB212:	0,,REGPNT
 11449	041436	100000	067237			NOINH![ASCIZ/REGISTER-12 GUARANTEED 0 FAULT/]
 11450	041437	100000	067246			NOINH![ASCIZ/C10-C15 SHOULD BE 0/]
 11451	041440	400000	077775			HIPROB!RG
 11452	041441	600000	077765			LOPROB!SS
 11453	041442	600000	077771			LOPROB!DP
 11454	041443	620000	077755			LAST!LOPROB!EC
 11455
 11456					SUBTTL	A CURRENT CYLINDER ADDRESS REGISTER TEST
 11457					 	XLIST
 11458					 	LIST
 11459						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-39
DSRPA3	MAC	23-Feb-79 09:36		A CURRENT CYLINDER ADDRESS REGISTER TEST                                           SEQ 0456

 11460					S^;*********************************************************************^
 11461					;*TEST-213 REG-13 GUARANTEED 0 TEST
 11462					S^;*********************************************************************^
 11463
 11464					COMMENT	$
 11465
 11466						TEST DESCRIPTION
 11467						---------------- 
 11468						READ REGISTER-13 AND GUARANTEE THAT C10-C15 ARE 0
 11469
 11470						RECOMMENDED DEBUG PROCEDURE
 11471						--------------------------- 
 11472						THESE BITS ARE NOT EVEN WIRED TO CONTROL BUS. IF THIS TEST
 11473						FAILS, THERE IS A MUX FAULT OR FAULTY REGISTER SELECT LOGIC
 11474						$
 11475					 	SALL
 11476
 11477
 11478	041444	201 01 0 00 000213 	TST213:	MOVEI	1,213		;GET THE TEST NUMBER
 11479	041445	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 11480
 11481	041446	260 17 0 00 060522 	T213S:	GO	DEVSEL		;SELECT A DEVICE
 11482	041447	263 17 0 00 000000 		RTN			;TRIED ALL
 11483	041450	476 00 0 00 077330 		SETOM	SHMODE		;NXT RDY. SET PRINTOUT MODE
 11484
 11485	041451	260 17 0 00 077352 	T213L:	GO	DEVREQ		;REQUEST THE DEVICE
 11486
 11487	041452	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 11488
 11489	041453	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 11490	041454	260 17 0 00 057637 		GO	RRPCC		;READ CURRENT CYL. ADR. REG.
 11491	041455	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 11492	041456	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 11493
 11494	041457	602 01 0 00 176000 		TRNE	1,176000	;GUARANTEED ZERO BITS CORRECT
 11495	041460	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 11496	041461	027 00 0 00 041464 		SCOPE	TB213		;YES. CALL SCOPE ROUTINE
 11497	041462	254 00 0 00 041451 		JRST	T213L		;LOOP
 11498	041463	254 00 0 00 041446 		JRST	T213S		;CONTINUE
 11499
 11500					;SCOPE TABLE
 11501
 11502	041464	000000	062461		TB213:	0,,REGPNT
 11503	041465	100000	067252			NOINH![ASCIZ/REGISTER-13 GUARANTEED 0 FAULT/]
 11504	041466	100000	067246			NOINH![ASCIZ/C10-C15 SHOULD BE 0/]
 11505	041467	400000	077775			HIPROB!RG
 11506	041470	400000	077765			HIPROB!SS
 11507	041471	400000	077771			HIPROB!DP
 11508	041472	620000	077755			LAST!LOPROB!EC
 11509
 11510					SUBTTL	SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS
 11511					 	XLIST
 11512					 	LIST
 11513						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-40
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0457

 11514					S^;*********************************************************************^
 11515					;*TEST-214 A BASIC RESET TEST
 11516					S^;*********************************************************************^
 11517
 11518					COMMENT	$
 11519
 11520						TEST DESCRIPTION
 11521						---------------- 
 11522						A TEST TO VERIFY THAT INDEX WILL CLEAR THE LOW ORDER
 11523						7 FLOPS OF THE EXTENTION COUNTER. THE FOLLOWING SEQUENCE IS USED
 11524						A. PUT IN MAINT MODE (20 SECTOR MODE)
 11525						B. ISSUE INDEX (A GENERAL RESET)
 11526						C. 127. SECTOR CLOCKS TO FILL LOW ORDER 7 BITS
 11527						D. ISSUE INDEX TO TRY AND RESET THE LOW ORDER 7 FLOPS
 11528						E. 127. SECTOR CLOCKS TO XFER LOW ORDER 7 FLOPS TO A READABLE AREA
 11529						F. READ SECTOR COUNTER
 11530						G. VERIFY THAT FRACTION IS 00 
 11531
 11532						RECOMMENDED DEBUG PROCEDURE
 11533						--------------------------- 
 11534						NONE.
 11535						$
 11536					 	SALL
 11537
 11538
 11539	041473	201 01 0 00 000214 	TST214:	MOVEI	1,214		;GET THE TEST NUMBER
 11540	041474	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 11541
 11542	041475	260 17 0 00 060522 	T214S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 11543	041476	263 17 0 00 000000 		RTN			;TRIED ALL
 11544	041477	255 00 0 00 000000 		JFCL			;NXT READY
 11545
 11546	041500	260 17 0 00 077352 	T214L:	GO	DEVREQ		;REQUEST THE DEVICE
 11547
 11548	041501	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 11549
 11550	041502	260 17 0 00 056104 		GO	MODE20		;PUT DRIVE IN 20 SECTOR MODE
 11551
 11552	041503	260 17 0 00 056000 		GO	MMODE		;INTO MAINT MODE
 11553
 11554	041504	260 17 0 00 056015 		GO	INDEX		;ISSUE THE INDEX PULSE
 11555
 11556	041505	201 01 0 00 000177 		MOVEI	1,^D127		;# OF CLOCKS
 11557	041506	260 17 0 00 056047 		GO	SECTCK		;ISSUE A BURST OF SECTOR CLOCKS
 11558
 11559	041507	260 17 0 00 056015 		GO	INDEX		;SHOULD CLEAR ALL FLOPS
 11560
 11561	041510	201 01 0 00 000177 		MOVEI	1,^D127		;# OF CLOCKS
 11562	041511	260 17 0 00 056047 		GO	SECTCK		;ISSUE A BURST OF SECTOR CLOCKS
 11563
 11564	041512	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 11565	041513	260 17 0 00 057623 		GO	RRPLA		;READ THE LOOK AHEAD REGISTER
 11566	041514	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 11567	041515	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 11568
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-41
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0458

 11569	041516	602 01 0 00 177777 		TRNE	1,177777	;SEE IF ITS ZERO
 11570	041517	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 11571	041520	027 00 0 00 041523 		SCOPE	TB214		;YES. CALL THE SCOPE ROUTINE
 11572	041521	254 00 0 00 041500 		JRST	T214L		;LOOP
 11573	041522	254 00 0 00 041475 		JRST	T214S		;CONTINUE
 11574
 11575					;SCOPE TABLE
 11576
 11577	041523	000000	062461		TB214:	0,,REGPNT
 11578	041524	100000	067261			NOINH![ASCIZ/INDEX NOT ZEROING LOOK AHEAD REG OR MUX FAULT/]
 11579	041525	100000	067273			NOINH![ASCIZ/DIAGNOSTIC CAN'T DETERMINE WHICH BITS ARE FAILING/]
 11580	041526	400000	077771			HIPROB!DP
 11581	041527	620000	077765			LAST!LOPROB!SS
 11582
 11583					 	XLIST
 11584					 	LIST
 11585						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-42
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0459

 11586					S^;*********************************************************************^
 11587					;*TEST-215 SECTOR CONTROL TEST
 11588					S^;*********************************************************************^
 11589
 11590					COMMENT	$
 11591
 11592						TEST DESCRIPTION
 11593						---------------- 
 11594						VERIFY THAT THE SECTOR COUNTER FLOPS DON'T COUNT TO RAPIDLY
 11595						USING THE FOLLOWING SEQUENCE:
 11596						A. PUT IN MAINT MODE (20 SECTOR MODE)
 11597						B. ISSUE INDEX (TO ZERO THE COUNTER)
 11598						C. 127. SECTOR CLOCKS
 11599						D. READ THE LOOK AHEAD REGISTER
 11600						E. VERIFY THAT WE ARE STILL AT SECTOR-00 EXTENTION-00
 11601
 11602						RECOMMENDED DEBUG PROCEDURE
 11603						--------------------------- 
 11604						NONE.
 11605						$
 11606					 	SALL
 11607
 11608
 11609	041530	201 01 0 00 000215 	TST215:	MOVEI	1,215		;GET THE TEST NUMBER
 11610	041531	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 11611
 11612	041532	260 17 0 00 060522 	T215S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 11613	041533	263 17 0 00 000000 		RTN			;TRIED ALL
 11614	041534	255 00 0 00 000000 		JFCL			;NEXT READY
 11615
 11616	041535	402 00 0 00 077325 		SETZM	SECT#		;SET UP EXPECTED SECT
 11617	041536	402 00 0 00 077275 		SETZM	EXT#		;SET UP EXPECT EXTENTION
 11618
 11619	041537	260 17 0 00 077352 	T215L:	GO	DEVREQ		;REQUEST THE DEVICE
 11620
 11621	041540	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 11622
 11623	041541	260 17 0 00 056104 		GO	MODE20		;PUT IN 20 SECTOR MODE
 11624
 11625	041542	260 17 0 00 056000 		GO	MMODE		;PUT IN MAINT MODE
 11626
 11627	041543	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 11628
 11629	041544	201 01 0 00 000177 		MOVEI	1,^D127		;# OF SECTOR CLOCKS
 11630	041545	260 17 0 00 056047 		GO	SECTCK		;BURST OF SECTOR CLOCKS
 11631
 11632	041546	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 11633	041547	260 17 0 00 057623 		GO	RRPLA		;READ THE LOOK AHEAD REG
 11634	041550	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 11635	041551	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 11636
 11637	041552	602 01 0 00 177777 		TRNE	1,177777	;IS L.A. REG ZERO?
 11638	041553	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 11639	041554	027 00 0 00 041601 		SCOPE	LATBL		;YES. CALL THE SCOPE ROUTINE
 11640	041555	254 00 0 00 041537 		JRST	T215L		;LOOP
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-43
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0460

 11641	041556	254 00 0 00 041532 		JRST	T215S		;CONTINUE
 11642
 11643									;GENERAL PRINT ROUTINE FOR LOOK AHEAD REGISTER TESTS
 11644
 11645	041557	261 17 0 00 000000 	LAPNT:	PUT	0		;SAVE AC'S
 11646	041560	260 17 0 00 062461 		GO	REGPNT		;PRINT VALUE OF REG
 11647	041561	030 00 0 00 067305 		TEXT	[ASCIZ/REG-07 (LOOK AHEAD REG) FAULT IN /]
 11648	041562	200 00 0 00 077306 		MOVE	0,MODE
 11649	041563	037 02 0 00 000000 		PNT2
 11650						TEXT	[ASCIZ/ SECTOR MODE
 11651	041564	030 00 0 00 067314 	SHOULD BE SECT-/]
 11652	041565	200 00 0 00 077325 		MOVE	0,SECT
 11653	041566	260 17 0 00 063470 		GO	POCT
 11654	041567	030 00 0 00 067322 		TEXT	[ASCIZ/ EXT-/]
 11655	041570	200 00 0 00 077275 		MOVE	0,EXT
 11656	041571	260 17 0 00 063470 		GO	POCT
 11657	041572	030 00 0 00 067324 		TEXT	[ASCIZ/ AFTER /]
 11658	041573	200 00 0 00 077322 		MOVE	0,SCLK
 11659	041574	260 17 0 00 063457 		GO	PSDN
 11660	041575	030 00 0 00 067326 		TEXT	[ASCIZ/ SECTOR CLOCKS/]
 11661	041576	260 17 0 00 063452 		GO	.CRLF
 11662	041577	262 17 0 00 000000 		GET	0
 11663	041600	263 17 0 00 000000 		RTN
 11664
 11665					;SCOPE TABLE
 11666
 11667	041601	000000	041557		LATBL:	0,,LAPNT
 11668	041602	400000	077771			LATBL1:	HIPROB!DP
 11669	041603	620000	077765			LAST!LOPROB!SS
 11670
 11671					 	XLIST
 11672					 	LIST
 11673						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-44
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0461

 11674					S^;*********************************************************************^
 11675					;*TEST-216 SECTOR COUNTER TEST
 11676					S^;*********************************************************************^
 11677
 11678					COMMENT	$
 11679
 11680						TEST DESCRIPTION
 11681						---------------- 
 11682						VERIFY THAT THE SECTOR COUNTER IS NOT COUNTING TO SLOWLY USING
 11683						THE FOLLOWING TEST SEQUENCE:
 11684						A. PUT IN MAINT MODE (20 SECTOR MODE)
 11685						B. ISSUE INDEX (CLEARS COUNTER
 11686						C. 128. SECTOR CLOCKS (NOW INTO 1ST EXTENTION)
 11687						D. READ L.A. REG.
 11688						E. VERIFY THAT WE ARE AT SECTOR-00 EXTENTION-20
 11689
 11690						RECOMMENDED DEBUG PROCEDURE
 11691						--------------------------- 
 11692						NONE.
 11693						$
 11694					 	SALL
 11695
 11696
 11697	041604	201 01 0 00 000216 	TST216:	MOVEI	1,216		;GET THE TEST NUMBER
 11698	041605	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 11699
 11700	041606	260 17 0 00 060522 	T216S:	GO	DEVSEL		;SELECT A DEVICE
 11701	041607	263 17 0 00 000000 		RTN			;TRIED ALL
 11702	041610	255 00 0 00 000000 		JFCL			;NEXT IS READY
 11703
 11704	041611	201 00 0 00 000020 		MOVEI	0,20		;CORRECT EXTENTION
 11705	041612	202 00 0 00 077275 		MOVEM	0,EXT
 11706	041613	402 00 0 00 077325 		SETZM	SECT		;CORRECT SECTOR
 11707
 11708	041614	260 17 0 00 077352 	T216L:	GO	DEVREQ		;REQUEST A DEVICE
 11709
 11710	041615	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 11711
 11712	041616	260 17 0 00 056104 		GO	MODE20		;PUT IN 20 SECTOR MODE
 11713
 11714	041617	260 17 0 00 056000 		GO	MMODE		;PUT IN MAINT MODE
 11715
 11716	041620	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 11717
 11718	041621	201 01 0 00 000200 		MOVEI	1,^D128		;# OF SECTOR CLOCKS
 11719	041622	260 17 0 00 056047 		GO	SECTCK		;BURST OF SECTOR CLOCKS
 11720
 11721	041623	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 11722	041624	260 17 0 00 057623 		GO	RRPLA		;READ THE LOOK AHEAD REG
 11723	041625	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 11724	041626	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 11725
 11726	041627	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET DATA
 11727	041630	302 00 0 00 000020 		CAIE	0,20		;IS IT CORRECT
 11728	041631	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-45
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0462

 11729	041632	027 00 0 00 041601 		SCOPE	LATBL		;YES. CALL SCOPE ROUTINE
 11730	041633	254 00 0 00 041614 		JRST	T216L		;LOOP
 11731	041634	254 00 0 00 041606 		JRST	T216S		;CONTINUE
 11732
 11733					 	XLIST
 11734					 	LIST
 11735						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-46
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0463

 11736					S^;*********************************************************************^
 11737					;*TEST-217 SECTOR COUNTER TEST
 11738					S^;*********************************************************************^
 11739
 11740					COMMENT	$
 11741
 11742						TEST DESCRIPTION
 11743						---------------- 
 11744						VERIFY THAT SECTOR COUNTER IS COUNTING PROPERLY USING THE
 11745						FOLLOWING SEQUENCE:
 11746						A. INTO MAINT MODE (20 SECTOR MODE)
 11747						B. INDEX (CLEARS COUNTER)
 11748						C. 255. SECTOR CLOCKS (TO START OF EXT-20)
 11749						D. READ SECTOR COUNTER
 11750						E. VERIFY THAT WE ARE AT SECT-00 EXT-20
 11751
 11752						RECOMMENDED DEBUG PROCEDURE
 11753						--------------------------- 
 11754						NONE.
 11755						$
 11756					 	SALL
 11757
 11758
 11759	041635	201 01 0 00 000217 	TST217:	MOVEI	1,217		;GET THE TEST NUMBER
 11760	041636	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 11761
 11762	041637	260 17 0 00 060522 	T217S:	GO	DEVSEL		;SELECT A DEVICE
 11763	041640	263 17 0 00 000000 		RTN			;TRIED ALL
 11764	041641	255 00 0 00 000000 		JFCL			;NEXT IS READY
 11765
 11766	041642	402 00 0 00 077325 		SETZM	SECT		;SET CORRECT SECTOR
 11767	041643	201 00 0 00 000020 		MOVEI	0,20		;SET CORRECT EXTENTION
 11768	041644	202 00 0 00 077275 		MOVEM	0,EXT
 11769
 11770	041645	260 17 0 00 077352 	T217L:	GO	DEVREQ		;REQUEST THE DEVICE
 11771
 11772	041646	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 11773
 11774	041647	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 11775
 11776	041650	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 11777
 11778	041651	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 11779
 11780	041652	201 01 0 00 000377 		MOVEI	1,^D255		;# OF CLOCKS
 11781	041653	260 17 0 00 056047 		GO	SECTCK		;BURST OF SECTOR CLOCKS
 11782
 11783	041654	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 11784	041655	260 17 0 00 057623 		GO	RRPLA		;READ SECTOR COUNTER
 11785	041656	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 11786	041657	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 11787
 11788	041660	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET DATA FIELD
 11789	041661	302 00 0 00 000020 		CAIE	0,20		;IS IT CORRECT?
 11790	041662	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-47
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0464

 11791	041663	027 00 0 00 041601 		SCOPE	LATBL		;YES. CALL SCOPE ROUTINE
 11792	041664	254 00 0 00 041645 		JRST	T217L		;LOOP
 11793	041665	254 00 0 00 041637 		JRST	T217S		;CONTINUE
 11794
 11795					 	XLIST
 11796					 	LIST
 11797						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-48
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0465

 11798					S^;*********************************************************************^
 11799					;*TEST-220 SECTOR COUNTER TEST
 11800					S^;*********************************************************************^
 11801
 11802					COMMENT	$
 11803
 11804						TEST DESCRIPTION
 11805						---------------- 
 11806						VERIFY THAT SECTOR COUNTER IS COUNTING PROPERLY USING THE
 11807						FOLLOWING SEQUENCE:
 11808						A. GO INTO MAINT MODE (20-SECTOR MODE)
 11809						B. ISSUE INDEX (CLEAR THE REGISTER)
 11810						C. 256. SECTOR CLOCKS. (TO START OF EXT-40)
 11811						D. READ SECTOR COUNTER REGISTER
 11812						E. VERIFY THAT WE'RE AT SECT-00 EXT-40
 11813
 11814						RECOMMENDED DEBUG PROCEDURE
 11815						--------------------------- 
 11816						NONE.
 11817						$
 11818					 	SALL
 11819
 11820
 11821	041666	201 01 0 00 000220 	TST220:	MOVEI	1,220		;GET THE TEST NUMBER
 11822	041667	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 11823
 11824	041670	260 17 0 00 060522 	T220S:	GO	DEVSEL		;SELECT A DEVICE
 11825	041671	263 17 0 00 000000 		RTN			;TRIED ALL
 11826	041672	255 00 0 00 000000 		JFCL			;NEXT READY
 11827
 11828	041673	201 00 0 00 000040 		MOVEI	0,40		;SET CORRECT EXTENTION
 11829	041674	202 00 0 00 077275 		MOVEM	0,EXT
 11830	041675	402 00 0 00 077325 		SETZM	SECT		;SET CORRECT SECTOR
 11831
 11832	041676	260 17 0 00 077352 	T220L:	GO	DEVREQ		;REQUEST THE DEVICE
 11833
 11834	041677	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 11835
 11836	041700	260 17 0 00 056104 		GO	MODE20		;GO INTO 20-SECTOR MODE
 11837
 11838	041701	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 11839
 11840	041702	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 11841
 11842	041703	201 01 0 00 000400 		MOVEI	1,^D256		;# OF SECTOR CLOCKS
 11843	041704	260 17 0 00 056047 		GO	SECTCK		;BURST OF SECTOR CLOCKS
 11844
 11845	041705	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 11846	041706	260 17 0 00 057623 		GO	RRPLA		;READ LOOK AHEAD REGISTER
 11847	041707	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 11848	041710	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 11849
 11850	041711	135 00 0 00 065515 		LDB	0,[POINT 15,1,35]  ;GET REGISTER DATA
 11851	041712	302 00 0 00 000040 		CAIE	0,40		;IS DATA CORRECT?
 11852	041713	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-49
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0466

 11853	041714	027 00 0 00 041601 		SCOPE	LATBL		;YES. CALL THE SCOPE ROUTINE
 11854	041715	254 00 0 00 041676 		JRST	T220L		;LOOP
 11855	041716	254 00 0 00 041670 		JRST	T220S		;CONTINUE
 11856
 11857					 	XLIST
 11858					 	LIST
 11859						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-50
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0467

 11860					S^;*********************************************************************^
 11861					;*TEST-221 A SECTOR COUNTER TEST
 11862					S^;*********************************************************************^
 11863
 11864					COMMENT	$
 11865
 11866						TEST DESCRIPTION
 11867						---------------- 
 11868						VERIFY THAT THE SECTOR COUNTER IS COUNTING CORRECTLY USING THE
 11869						FOLLOWING SEQUENCE:
 11870						A. GO INTO MAINT MODE (20 SECTOR MODE)
 11871						B. ISSUE INDEX (CLEAR REGISTER)
 11872						C. 511. CLOCKS (TO END OF EXT-40)
 11873						D. READ THE LOOK AHEAD REGISTER
 11874						E. VERIFY THAT WE'RE AT SECT-00 EXT-40
 11875
 11876						RECOMMENDED DEBUG PROCEDURE
 11877						--------------------------- 
 11878						NONE.
 11879						$
 11880					 	SALL
 11881
 11882
 11883	041717	201 01 0 00 000221 	TST221:	MOVEI	1,221		;GET THE TEST NUMBER
 11884	041720	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 11885
 11886	041721	260 17 0 00 060522 	T221S:	GO	DEVSEL		;SELECT A DEVICE
 11887	041722	263 17 0 00 000000 		RTN			;TRIED ALL
 11888	041723	255 00 0 00 000000 		JFCL			;NXT RDY
 11889
 11890	041724	201 00 0 00 000040 		MOVEI	0,40		;SET CORRECT EXTENTION
 11891	041725	202 00 0 00 077275 		MOVEM	0,EXT
 11892	041726	402 00 0 00 077325 		SETZM	SECT		;SET CORRECT SECTOR
 11893
 11894	041727	260 17 0 00 077352 	T221L:	GO	DEVREQ		;REQUEST THE DEVICE
 11895
 11896	041730	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 11897
 11898	041731	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 11899
 11900	041732	260 17 0 00 056000 		GO	MMODE		;INTO MAINT MODE
 11901
 11902	041733	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 11903
 11904	041734	201 01 0 00 000777 		MOVEI	1,^D511		;# OF SECTOR CLOCKS
 11905	041735	260 17 0 00 056047 		GO	SECTCK		;BURST OF SECTOR CLOCKS
 11906
 11907	041736	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 11908	041737	260 17 0 00 057623 		GO	RRPLA		;READ LOOK AHEAD REGISTER
 11909	041740	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 11910	041741	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 11911
 11912	041742	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET REGISTER DATA
 11913	041743	302 00 0 00 000040 		CAIE	0,40		;IS IT CORRECT?
 11914	041744	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-51
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0468

 11915	041745	027 00 0 00 041601 		SCOPE	LATBL		;YES. CALL SCOPE ROUTINE
 11916	041746	254 00 0 00 041727 		JRST	T221L		;LOOP
 11917	041747	254 00 0 00 041721 		JRST	T221S		;CONTINUE
 11918
 11919					 	XLIST
 11920					 	LIST
 11921						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-52
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0469

 11922					S^;*********************************************************************^
 11923					;*TEST-222 A SECTOR COUNTER TEST
 11924					S^;*********************************************************************^
 11925
 11926					COMMENT	$
 11927
 11928						TEST DESCRIPTION
 11929						---------------- 
 11930						VERIFY THAT THE SECTOR COUNTER IS COUNTING PROPERLY USING
 11931						THE FOLLOWING SEQUENCE:
 11932						A. GO INTO MAINT MODE (20 SECTOR MODE)
 11933						B. ISSUE INDEX
 11934						C. 512. SECTOR CLOCKS (TO START OF EXT-60)
 11935						D. READ THE LOOK AHEAD REGISTER
 11936						E. VERIFY THAT WE ARE AT SECT-00 EXT-60
 11937
 11938						RECOMMENDED DEBUG PROCEDURE
 11939						--------------------------- 
 11940						NONE.
 11941						$
 11942					 	SALL
 11943
 11944
 11945	041750	201 01 0 00 000222 	TST222:	MOVEI	1,222		;GET THE TEST NUMBER
 11946	041751	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 11947
 11948	041752	260 17 0 00 060522 	T222S:	GO	DEVSEL		;SELECT A DEVICE
 11949	041753	263 17 0 00 000000 		RTN			;TRIED ALL
 11950	041754	255 00 0 00 000000 		JFCL			;NEXT READY
 11951
 11952	041755	201 00 0 00 000060 		MOVEI	0,60		;SET EXPECTED EXT
 11953	041756	202 00 0 00 077275 		MOVEM	0,EXT
 11954	041757	402 00 0 00 077325 		SETZM	SECT		;SET EXPECTED SECTOR
 11955
 11956	041760	260 17 0 00 077352 	T222L:	GO	DEVREQ		;REQUEST THE DEVICE
 11957
 11958	041761	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 11959
 11960	041762	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 11961
 11962	041763	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 11963
 11964	041764	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 11965
 11966	041765	201 01 0 00 001000 		MOVEI	1,^D512		;# OF SECTOR CLOCKS
 11967	041766	260 17 0 00 056047 		GO	SECTCK		;ISSUE A BURST OF SECTOR CLOCKS
 11968
 11969	041767	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 11970	041770	260 17 0 00 057623 		GO	RRPLA		;READ SECTOR COUNTER
 11971	041771	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 11972	041772	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 11973
 11974	041773	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET REGISTER DATA
 11975	041774	302 00 0 00 000060 		CAIE	0,60		;IS DATA CORRECT
 11976	041775	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-53
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0470

 11977	041776	027 00 0 00 041601 		SCOPE	LATBL		;YES. CALL THE SCOPE ROUTINE
 11978	041777	254 00 0 00 041760 		JRST	T222L		;LOOP
 11979	042000	254 00 0 00 041752 		JRST	T222S		;CONTINUE
 11980
 11981					 	XLIST
 11982					 	LIST
 11983						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-54
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0471

 11984					S^;*********************************************************************^
 11985					;*TEST-223 A SECTOR COUNTER TEST
 11986					S^;*********************************************************************^
 11987
 11988					COMMENT	$
 11989
 11990						TEST DESCRIPTION
 11991						---------------- 
 11992						VERIFY THAT THE SECTOR COUNTER IS COUNTING CORRECTLY USING
 11993						THE FOLLOWING SEQUENCE:
 11994						A. GO INTO MAINT MODE (22 SECTOR MODE)
 11995						B. ISSUE INDEX (TO CLEAR THE REGISTER)
 11996						C. 608. SECTOR CLOCKS (TO END OF EXT-60)
 11997						D. READ LOOK AHEAD REGISTER
 11998						E. VERIFY THAT WE ARE AT SECT-00 EXT-60
 11999
 12000						RECOMMENDED DEBUG PROCEDURE
 12001						--------------------------- 
 12002						NONE.
 12003						$
 12004					 	SALL
 12005
 12006
 12007	042001	201 01 0 00 000223 	TST223:	MOVEI	1,223		;GET THE TEST NUMBER
 12008	042002	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 12009
 12010	042003	260 17 0 00 060522 	T223S:	GO	DEVSEL		;SELECT A DEVICE
 12011	042004	263 17 0 00 000000 		RTN			;TRIED ALL
 12012	042005	255 00 0 00 000000 		JFCL			;NEXT READY
 12013
 12014	042006	201 00 0 00 000060 		MOVEI	0,60		;SET UP CORRECT EXTENTION
 12015	042007	202 00 0 00 077275 		MOVEM	0,EXT
 12016	042010	402 00 0 00 077325 		SETZM	SECT		;SET UP CORRECT SECTOR
 12017
 12018	042011	260 17 0 00 077352 	T223L:	GO	DEVREQ		;REQUEST THE DEVICE
 12019
 12020	042012	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 12021
 12022	042013	260 17 0 00 056121 		GO	MODE22		;GO INTO 22 SECTOR MODE
 12023
 12024	042014	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 12025
 12026	042015	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 12027
 12028	042016	201 01 0 00 001140 		MOVEI	1,^D608		;# OF SECTOR CLOCKS
 12029	042017	260 17 0 00 056047 		GO	SECTCK		;BURST OF SECTOR CLOCKS
 12030
 12031	042020	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 12032	042021	260 17 0 00 057623 		GO	RRPLA		;READ LOOK AHEAD REGISTER
 12033	042022	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 12034	042023	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 12035
 12036	042024	135 00 0 00 065515 		LDB	0,[POINT 15,1,35]  ;GET REGISTER DATA
 12037	042025	302 00 0 00 000060 		CAIE	0,60		;IS DATA CORRECT?
 12038	042026	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-55
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0472

 12039	042027	027 00 0 00 041601 		SCOPE	LATBL		;YES. CALL SCOPE ROUTINE
 12040	042030	254 00 0 00 042011 		JRST	T223L		;LOOP
 12041	042031	254 00 0 00 042003 		JRST	T223S		;CONTINUE
 12042
 12043					 	XLIST
 12044					 	LIST
 12045						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-56
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0473

 12046					S^;*********************************************************************^
 12047					;*TEST-224 A SECTOR COUNTER TEST
 12048					S^;*********************************************************************^
 12049
 12050					COMMENT	$
 12051
 12052						TEST DESCRIPTION
 12053						---------------- 
 12054						VERIFY THAT THE SECTOR COUNTER COUNTS CORRECTLY USING
 12055						THE FOLLOWING SEQUENCE:
 12056						A. GO INTO MAINT MODE (22 SECTOR MODE)
 12057						B. ISSUE INDEX (CLEAR COUNTER)
 12058						C. 609. CLOCKS (STEPS YOU OUT OF EXT-60)
 12059						D. READ THE SECTOR COUNTER
 12060						E. VERIFY THAT WE ARE AT THE SECT-01 EXT-00
 12061
 12062						RECOMMENDED DEBUG PROCEDURE
 12063						--------------------------- 
 12064						NONE.
 12065						$
 12066					 	SALL
 12067
 12068
 12069	042032	201 01 0 00 000224 	TST224:	MOVEI	1,224		;GET THE TEST NUMBER
 12070	042033	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 12071
 12072	042034	260 17 0 00 060522 	T224S:	GO	DEVSEL		;SELECT A DEVICE
 12073	042035	263 17 0 00 000000 		RTN			;TRIED ALL
 12074	042036	255 00 0 00 000000 		JFCL			;NXT READY
 12075
 12076	042037	402 00 0 00 077275 		SETZM	EXT		;SET CORRECT EXT
 12077	042040	201 00 0 00 000001 		MOVEI	0,1		;SET CORRECT SECTOR
 12078	042041	202 00 0 00 077325 		MOVEM	0,SECT
 12079
 12080	042042	260 17 0 00 077352 	T224L:	GO	DEVREQ		;REQUEST A DEVICE
 12081
 12082	042043	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 12083
 12084	042044	260 17 0 00 056121 		GO	MODE22		;GO INTO 22 SECTOR MODE
 12085
 12086	042045	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 12087
 12088	042046	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 12089
 12090	042047	201 01 0 00 001141 		MOVEI	1,^D609		;# OF SECTOR CLOCKS
 12091	042050	260 17 0 00 056047 		GO	SECTCK		;BURST THE SECTOR CLOCKS
 12092
 12093	042051	260 17 0 00 057623 		GO	RRPLA		;DON'T REPORT RAE'S
 12094	042052	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 12095	042053	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 12096
 12097	042054	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET REGISTER DATA
 12098	042055	302 00 0 00 000100 		CAIE	0,0100		;IS DATA CORRECT?
 12099	042056	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 12100	042057	027 00 0 00 041601 		SCOPE	LATBL		;YES. CALL THE SCOPE ROUTINE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-57
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0474

 12101	042060	254 00 0 00 042042 		JRST	T224L		;LOOP
 12102	042061	254 00 0 00 042034 		JRST	T224S		;CONTINUE
 12103
 12104					 	XLIST
 12105					 	LIST
 12106						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-58
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0475

 12107					S^;*********************************************************************^
 12108					;*TEST-225 A SECTOR COUNTER TEST
 12109					S^;*********************************************************************^
 12110
 12111					COMMENT	$
 12112
 12113						TEST DESCRIPTION
 12114						---------------- 
 12115						VERIFY THAT THE SECTOR COUNTER IS COUNTING CORRECTLY USING
 12116						THE FOLLOWING SEQUENCE:
 12117						A. GO INTO MAINT MODE (20 SECTOR MODE)
 12118						B. ISSUE INDEX (TO CLEAR THE COUNTER)
 12119						C. 671. CLOCKS (STEP TO THE END OF EXT-60)
 12120						D. READ THE LOOK AHEAD REGISTER
 12121						E. VERIFY THAT WE ARE AT SECT-00 EXT-60
 12122
 12123						RECOMMENDED DEBUG PROCEDURE
 12124						--------------------------- 
 12125						NONE.
 12126						$
 12127					 	SALL
 12128
 12129
 12130	042062	201 01 0 00 000225 	TST225:	MOVEI	1,225		;GET THE TEST NUMBER
 12131	042063	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 12132
 12133	042064	260 17 0 00 060522 	T225S:	GO	DEVSEL		;SELECT A DEVICE
 12134	042065	263 17 0 00 000000 		RTN			;TRIED ALL
 12135	042066	255 00 0 00 000000 		JFCL			;NXT RDY
 12136
 12137	042067	402 00 0 00 077325 		SETZM	SECT		;SET UP CORRECT SECTOR
 12138	042070	201 00 0 00 000060 		MOVEI	0,60		;SET UP CORRECT EXT
 12139	042071	202 00 0 00 077275 		MOVEM	0,EXT
 12140
 12141	042072	260 17 0 00 077352 	T225L:	GO	DEVREQ		;REQUEST A DEVICE
 12142
 12143	042073	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 12144
 12145	042074	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 12146
 12147	042075	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 12148
 12149	042076	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 12150
 12151	042077	201 01 0 00 001237 		MOVEI	1,^D671		;# OF SECTOR CLOCKS
 12152	042100	260 17 0 00 056047 		GO	SECTCK		;BURST SECTOR CLOCKS
 12153
 12154	042101	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 12155	042102	260 17 0 00 057623 		GO	RRPLA		;READ LOOK AHEAD REG
 12156	042103	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 12157	042104	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 12158
 12159	042105	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET REGISTER DATA
 12160	042106	302 00 0 00 000060 		CAIE	0,60		;IS DATA CORRECT?
 12161	042107	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-59
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0476

 12162	042110	027 00 0 00 041601 		SCOPE	LATBL		;YES. CALL THE SCOPE ROUTINE
 12163	042111	254 00 0 00 042072 		JRST	T225L		;LOOP
 12164	042112	254 00 0 00 042064 		JRST	T225S		;CONTINUE
 12165
 12166					 	XLIST
 12167					 	LIST
 12168						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-60
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0477

 12169					S^;*********************************************************************^
 12170					;*TEST-226 A SECTOR COUNTER TEST
 12171					S^;*********************************************************************^
 12172
 12173					COMMENT	$
 12174
 12175						TEST DESCRIPTION
 12176						---------------- 
 12177						VERIFY THAT THE SECTOR COUNTER IS COUNTING CORRECTLY USING
 12178						THE FOLLOWING SEQUENCE:
 12179						A. GO INTO MAINT MODE (20 SECTOR MODE)
 12180						B. ISSUE INDEX (CLEAR COUNTER)
 12181						C. 672. SECTOR CLOCKS (TO START OF SECT-01 EXT-00)
 12182						D. READ LOOK AHEAD REGISTER
 12183						E. VERIFY THAT WE ARE AT SECT-01 EXT-00
 12184
 12185						RECOMMENDED DEBUG PROCEDURE
 12186						--------------------------- 
 12187						NONE.
 12188						$
 12189					 	SALL
 12190
 12191
 12192	042113	201 01 0 00 000226 	TST226:	MOVEI	1,226		;GET THE TEST NUMBER
 12193	042114	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 12194
 12195	042115	260 17 0 00 060522 	T226S:	GO	DEVSEL		;SELECT A DEVICE
 12196	042116	263 17 0 00 000000 		RTN			;TRIED ALL
 12197	042117	255 00 0 00 000000 		JFCL			;NEXT IS READY
 12198
 12199	042120	201 00 0 00 000001 		MOVEI	0,1		;SET UP CORRECT SECTOR
 12200	042121	202 00 0 00 077325 		MOVEM	0,SECT
 12201	042122	402 00 0 00 077275 		SETZM	EXT		;SET CORRECT EXTENTION
 12202
 12203	042123	260 17 0 00 077352 	T226L:	GO	DEVREQ		;REQUEST THE DEVICE
 12204
 12205	042124	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 12206
 12207	042125	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 12208
 12209	042126	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 12210
 12211	042127	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 12212
 12213	042130	201 01 0 00 001240 		MOVEI	1,^D672		;# OF SECTOR CLOCKS
 12214	042131	260 17 0 00 056047 		GO	SECTCK		;BURST THE SECTOR CLOCKS
 12215
 12216	042132	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 12217	042133	260 17 0 00 057623 		GO	RRPLA		;READ LOOK AHEAD REGISTER
 12218	042134	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 12219	042135	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 12220
 12221	042136	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET REGISTER DATA
 12222	042137	302 00 0 00 000100 		CAIE	0,0100		;IS DATA CORRECT?
 12223	042140	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-61
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0478

 12224	042141	027 00 0 00 041601 		SCOPE	LATBL		;YES. CALL THE SCOPE ROUTINE
 12225	042142	254 00 0 00 042123 		JRST	T226L		;LOOP
 12226	042143	254 00 0 00 042115 		JRST	T226S		;CONTINUE
 12227
 12228					 	XLIST
 12229					 	LIST
 12230						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-62
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0479

 12231					S^;*********************************************************************^
 12232					;*TEST-227 A SECTOR COUNTER TEST
 12233					S^;*********************************************************************^
 12234
 12235					COMMENT	$
 12236
 12237						TEST DESCRIPTION
 12238						---------------- 
 12239						VERIFY THAT THE LOW ORDER 9 BITS OF THE SECTOR FRACTION
 12240						COUNTER CAN BE CLEARED WITH INDEX. THIS PARTICULAR SUBTEST
 12241						WILL ONLY TEST THE 128. AND 256. WEIGHTED FLOPS. THE
 12242						FOLLOWING SEQUENCE IS USED:
 12243						A. GO INTO MAINT MODE (20 SECTOR MODE)
 12244						B. ISSUE INDEX (TO CLEAR THE COUNTER)
 12245						C. 511. SECTOR CLOCKS SETS LOW ORDER 9 BITS
 12246						D. ISSUE INDEX (SHOULD CLEAR)
 12247						E. READ THE REGISTER
 12248						F. VERIFY THAT WE ARE AT SECT-00 EXT-00
 12249
 12250						RECOMMENDED DEBUG PROCEDURE
 12251						--------------------------- 
 12252						NONE.
 12253						$
 12254					 	SALL
 12255
 12256
 12257	042144	201 01 0 00 000227 	TST227:	MOVEI	1,227		;GET THE TEST NUMBER
 12258	042145	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 12259
 12260	042146	260 17 0 00 060522 	T227S:	GO	DEVSEL		;SELECT A DEVICE
 12261	042147	263 17 0 00 000000 		RTN			;TRIED ALL
 12262	042150	255 00 0 00 000000 		JFCL			;NXT RDY
 12263
 12264	042151	260 17 0 00 077352 	T227L:	GO	DEVREQ		;REQUEST A DEVICE
 12265
 12266	042152	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 12267
 12268	042153	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 12269
 12270	042154	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 12271
 12272	042155	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 12273
 12274	042156	201 01 0 00 000777 		MOVEI	1,^D511		;# OF SECTOR CLOCKS
 12275	042157	260 17 0 00 056047 		GO	SECTCK		;BURST OF SECTOR CLOCKS
 12276
 12277	042160	260 17 0 00 056015 		GO	INDEX		;ISSUE SECOND INDEX
 12278
 12279	042161	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 12280	042162	260 17 0 00 057623 		GO	RRPLA		;READ THE LOOK AHEAD REG.
 12281	042163	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 12282	042164	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 12283
 12284	042165	602 01 0 00 177777 		TRNE	1,177777	;IS DATA CORRECT?
 12285	042166	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-63
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0480

 12286	042167	027 00 0 00 042172 		SCOPE	TB227		;YES. CALL THE SCOPE ROUTINE
 12287	042170	254 00 0 00 042151 		JRST	T227L		;LOOP
 12288	042171	254 00 0 00 042146 		JRST	T227S		;CONTINUE
 12289
 12290					;SCOPE TABLE
 12291
 12292	042172	000000	062461		TB227:	0,,REGPNT
 12293	042173	100000	067331			NOINH![ASCIZ/LOOK AHEAD REGISTER FAULT/]
 12294	042174	100000	067337			NOINH![ASCIZ/INDEX PULSE WILL NOT RESET 128. AND-OR 256. WEIGHTED/]
 12295	042175	100000	067352			NOINH![ASCIZ/FLOPS IN THE FRACTION COUNTER/]
 12296	042176	040000	041602			GOTO!LATBL1
 12297
 12298					 	XLIST
 12299					 	LIST
 12300						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-64
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0481

 12301					S^;*********************************************************************^
 12302					;*TEST-230 A SECTOR COUNTER TEST
 12303					S^;*********************************************************************^
 12304
 12305					COMMENT	$
 12306
 12307						TEST DESCRIPTION
 12308						---------------- 
 12309						VERIFY THAT THE LOW ORDER 9 BITS OF THE SECTOR FRACTION COUNTER
 12310						CAN BE CLEARED BY INDEX. THIS TEST WILL PICK UP THE RESETS
 12311						OF THE 1 THRU 64. WEIGHTED BITS. THE FOLLOWING SEQUENCE IS USED:
 12312						A. GO INTO MAINT MODE (20 SECTOR MODE)
 12313						B. ISSUE INDEX PULSE
 12314						C. 511. SECTOR CLOCKS (SETS LOW ORDER 9 BITS)
 12315						D. ISSUE 2ND INDEX (SHOULD CLEAR)
 12316						E. 127. SECTOR CLOCKS (MOVES INVISIBLE BITS TO WHERE THEY CAN BE SEEN)
 12317						F. READ SECTOR COUNTER
 12318						G. VERIFY THAT IT IS AT SECT-00 EXT-00
 12319
 12320						RECOMMENDED DEBUG PROCEDURE
 12321						--------------------------- 
 12322						NONE.
 12323						$
 12324					 	SALL
 12325
 12326
 12327	042177	201 01 0 00 000230 	TST230:	MOVEI	1,230		;GET THE TEST NUMBER
 12328	042200	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 12329
 12330	042201	260 17 0 00 060522 	T230S:	GO	DEVSEL		;SELECT A DEVICE
 12331	042202	263 17 0 00 000000 		RTN			;TRIED ALL
 12332	042203	255 00 0 00 000000 		JFCL			;NXT READY
 12333
 12334	042204	260 17 0 00 077352 	T230L:	GO	DEVREQ		;REQUEST THE DEVICE
 12335
 12336	042205	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 12337
 12338	042206	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 12339
 12340	042207	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 12341
 12342	042210	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 12343
 12344	042211	201 01 0 00 000777 		MOVEI	1,^D511		;# OF SECTOR CLOCKS
 12345	042212	260 17 0 00 056047 		GO	SECTCK		;BURST OF SECTOR CLOCKS
 12346
 12347	042213	260 17 0 00 056015 		GO	INDEX		;ISSUE A 2ND INDEX
 12348
 12349	042214	201 01 0 00 000177 		MOVEI	1,^D127		;# OF SECTOR CLOCKS
 12350	042215	260 17 0 00 056047 		GO	SECTCK		;BURST OF SECTOR CLOCKS
 12351
 12352	042216	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 12353	042217	260 17 0 00 057623 		GO	RRPLA		;READ THE LOOK AHEAD REGISTER
 12354	042220	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 12355	042221	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-65
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0482

 12356
 12357	042222	602 01 0 00 177777 		TRNE	1,177777	;IS DATA CORRECT?
 12358	042223	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 12359	042224	027 00 0 00 042227 		SCOPE	TB230		;YES. CALL THE SCOPE ROUTINE
 12360	042225	254 00 0 00 042204 		JRST	T230L		;LOOP
 12361	042226	254 00 0 00 042201 		JRST	T230S		;CONTINUE
 12362
 12363					;SCOPE TABLE
 12364
 12365	042227	000000	062461		TB230:	0,,REGPNT
 12366	042230	100000	067331			NOINH![ASCIZ/LOOK AHEAD REGISTER FAULT/]
 12367	042231	100000	067360			NOINH![ASCIZ/INDEX PULSE WILL NOT CLEAR ALL BITS OF EXTENTION COUNTER/]
 12368	042232	100000	067374			NOINH![ASCIZ/IMPOSSIBLE TO DETERMINE WHICH BITS ARE FAULTY/]
 12369	042233	040000	041602			GOTO!LATBL1
 12370
 12371					 	XLIST
 12372					 	LIST
 12373						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-66
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0483

 12374					S^;*********************************************************************^
 12375					;*TEST-231 A SECTOR COUNTER TEST
 12376					S^;*********************************************************************^
 12377
 12378					COMMENT	$
 12379
 12380						TEST DESCRIPTION
 12381						---------------- 
 12382						VERIFY THAT INDEX CAN CLEAR ALL OF THE LOW ORDER 10 BITS
 12383						OF THE SECTOR FRACTION COUNTER. THIS TEST PICKS UP THE HIGH
 12384						ORDER BIT (512. WEIGHT). THE FOLLOWING SEQUENCE IS USED:
 12385						A. GO INTO MAINT MODE (20 SECTOR MODE)
 12386						B. ISSUE INDEX (CLEARS COUNTER)
 12387						C. 512. CLOCKS (SET HIGH ORDER BIT)
 12388						D. ISSUE INDEX (SHOULD CLEAR)
 12389						E. READ SECTOR COUNTER
 12390						F. VERIFY THAT IT IS ZERO
 12391
 12392						RECOMMENDED DEBUG PROCEDURE
 12393						--------------------------- 
 12394						NONE.
 12395						$
 12396					 	SALL
 12397
 12398
 12399	042234	201 01 0 00 000231 	TST231:	MOVEI	1,231		;GET TEST NUMBER
 12400	042235	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 12401
 12402	042236	260 17 0 00 060522 	T231S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 12403	042237	263 17 0 00 000000 		RTN			;TRIED ALL
 12404	042240	255 00 0 00 000000 		JFCL			;NXT RDY
 12405
 12406	042241	260 17 0 00 077352 	T231L:	GO	DEVREQ		;REQUEST THE DEVICE
 12407
 12408	042242	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 12409
 12410	042243	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 12411
 12412	042244	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 12413
 12414	042245	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 12415
 12416	042246	201 01 0 00 001000 		MOVEI	1,^D512		;# OF SECTOR CLOCKS
 12417	042247	260 17 0 00 056047 		GO	SECTCK		;BURST THE SECTOR CLOCKS
 12418
 12419	042250	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX (SHOULD CLEAR)
 12420
 12421	042251	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 12422	042252	260 17 0 00 057623 		GO	RRPLA		;READ LOOK AHEAD
 12423	042253	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 12424	042254	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 12425
 12426	042255	602 01 0 00 177777 		TRNE	1,177777	;IS DATA CORRECT?
 12427	042256	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 12428	042257	027 00 0 00 042262 		SCOPE	TB231		;YES. CALL SCOPE ROUTINE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-67
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0484

 12429	042260	254 00 0 00 042241 		JRST	T231L		;LOOP
 12430	042261	254 00 0 00 042236 		JRST	T231S		;CONTINUE
 12431
 12432					;SCOPE TABLE
 12433
 12434	042262	000000	062461		TB231:	0,,REGPNT
 12435	042263	100000	067331			NOINH![ASCIZ/LOOK AHEAD REGISTER FAULT/]
 12436	042264	100000	067406			NOINH![ASCIZ/512. WEIGHT FLOP IN FRACTION COUNTER WILL NOT CLEAR WITH INDEX/]
 12437	042265	040000	041602			GOTO!LATBL1
 12438
 12439					 	XLIST
 12440					 	LIST
 12441						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-68
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0485

 12442					S^;*********************************************************************^
 12443					;*TEST-232 A SECTOR COUNTER TEST
 12444					S^;*********************************************************************^
 12445
 12446					COMMENT	$
 12447
 12448						TEST DESCRIPTION
 12449						---------------- 
 12450						VERIFY THAT THE HIGH ORDER 3 STAGES OF THE SECTOR FRACTION COUNTER,
 12451						EDGE LOAD TO ZEROS PROPERLY AT SECTOR PULSE TIME. THE FOLLOWING
 12452						SEQUENCE IS USED:
 12453						A. GO INTO MAINT MODE (20 SECTOR MODE)
 12454						B. ISSUE INDEX (CLEARS SECTOR COUNTER)
 12455						C. 672. CLOCKS (TAKES YOU TO 1ST SECTOR, CAUSING SECTOR PULSE. THE
 12456							FRACTION COUNTER SHOULD HAVE EDGE LOADED WITH 0'S)
 12457						D. READ THE LOOK AHEAD REGISTER.
 12458						E. VERIFY THAT WE ARE AT SECT-01 EXT-00
 12459
 12460						RECOMMENDED DEBUG PROCEDURE
 12461						--------------------------- 
 12462						NONE.
 12463						$
 12464					 	SALL
 12465
 12466
 12467	042266	201 01 0 00 000232 	TST232:	MOVEI	1,232		;GET THE TEST NUMBER
 12468	042267	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 12469
 12470	042270	260 17 0 00 060522 	T232S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 12471	042271	263 17 0 00 000000 		RTN			;TRIED ALL
 12472	042272	255 00 0 00 000000 		JFCL			;NEXT READY
 12473
 12474	042273	201 00 0 00 000001 		MOVEI	0,1		;SET UP CORRECT SECTOR
 12475	042274	202 00 0 00 077325 		MOVEM	0,SECT
 12476	042275	402 00 0 00 077275 		SETZM	EXT		;SET UP CORRECT EXTENTION
 12477
 12478	042276	260 17 0 00 077352 	T232L:	GO	DEVREQ		;REQUEST THE DEVICE
 12479
 12480	042277	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 12481
 12482	042300	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 12483
 12484	042301	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 12485
 12486	042302	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 12487
 12488	042303	201 01 0 00 001240 		MOVEI	1,^D672		;# OF SECTOR CLOCKS
 12489	042304	260 17 0 00 056047 		GO	SECTCK		;BURST THE SECTOR CLOCKS
 12490
 12491	042305	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 12492	042306	260 17 0 00 057623 		GO	RRPLA		;READ THE LOOK AHEAD REG
 12493	042307	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 12494	042310	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 12495
 12496	042311	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET REGISTER DATA
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-69
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0486

 12497	042312	302 00 0 00 000100 		CAIE	0,0100		;IS DATA CORRECT?
 12498	042313	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 12499	042314	027 00 0 00 041601 		SCOPE	LATBL		;YES. CALL SCOPE ROUTINE
 12500	042315	254 00 0 00 042276 		JRST	T232L		;LOOP
 12501	042316	254 00 0 00 042270 		JRST	T232S		;CONTINUE
 12502
 12503					 	XLIST
 12504					 	LIST
 12505						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-70
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0487

 12506					S^;*********************************************************************^
 12507					;*TEST-233 A SECTOR COUNTER TEST
 12508					S^;*********************************************************************^
 12509
 12510					COMMENT	$
 12511
 12512						TEST DESCRIPTION
 12513						---------------- 
 12514						VERIFY THAT THE LOW ORDER 7 FLOPS OF THE SECTOR FRACTION
 12515						COUNTER EDGE LOAD TO ZERO'S AT THE OCCURANCE OF SECTOR
 12516						PULSE. THE FOLLOWING SEQUENCE IS USED:
 12517						A. GO INTO MAINT MODE (20 SECTOR MODE)
 12518						B. ISSUE INDEX  (TO CLEAR COUNTER)
 12519						C. 672. CLOCKS (CAUSES SECTOR PULSE WHICH SHOULD EDGE LOAD
 12520						   THE LOW ORDER 7 BITS WITH ZERO'S)
 12521						D. 127. CLOCKS (STEPS THE LOW ORDER 7 BIT MAGNITUDE TO A
 12522						   VISIBLE AREA IN THE REGISTER.)
 12523						E. READ THE LOOK AHEAD REGISTER
 12524						F. VERIFY THAT WE ARE AT SECT-01 EXT-00
 12525
 12526						RECOMMENDED DEBUG PROCEDURE
 12527						--------------------------- 
 12528						NONE.
 12529						$
 12530					 	SALL
 12531
 12532
 12533	042317	201 01 0 00 000233 	TST233:	MOVEI	1,233		;GET THE TEST NUMBER
 12534	042320	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 12535
 12536	042321	260 17 0 00 060522 	T233S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 12537	042322	263 17 0 00 000000 		RTN			;TRIED ALL
 12538	042323	255 00 0 00 000000 		JFCL			;NXT RDY
 12539
 12540	042324	201 00 0 00 000001 		MOVEI	0,1		;SET UP CORRECT SECTOR
 12541	042325	202 00 0 00 077325 		MOVEM	0,SECT
 12542	042326	402 00 0 00 077275 		SETZM	EXT		;SET UP CORRECT EXTENTION
 12543
 12544	042327	260 17 0 00 077352 	T233L:	GO	DEVREQ		;REQUEST THE DEVICE
 12545
 12546	042330	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 12547
 12548	042331	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 12549
 12550	042332	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 12551
 12552	042333	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 12553
 12554	042334	200 01 0 00 067423 		MOVE	1,[^D672 + ^D127]  ;# OF CLOCKS NECESSARY
 12555	042335	260 17 0 00 056047 		GO	SECTCK		;BURST OF SECTOR CLOCKS
 12556
 12557	042336	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 12558	042337	260 17 0 00 057623 		GO	RRPLA		;READ THE LOOK AHEAD REG
 12559	042340	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 12560	042341	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-71
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0488

 12561
 12562	042342	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET REGISTER DATA
 12563	042343	302 00 0 00 000100 		CAIE	0,0100		;IS IT CORRECT?
 12564	042344	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 12565	042345	027 00 0 00 041601 		SCOPE	LATBL		;YES. CALL SCOPE ROUTINE
 12566	042346	254 00 0 00 042327 		JRST	T233L		;LOOP
 12567	042347	254 00 0 00 042321 		JRST	T233S		;CONTINUE
 12568
 12569					 	XLIST
 12570					 	LIST
 12571						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-72
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0489

 12572					S^;*********************************************************************^
 12573					;*TEST-234 A SECTOR COUNTER TEST
 12574					S^;*********************************************************************^
 12575
 12576					COMMENT	$
 12577
 12578						TEST DESCRIPTION
 12579						---------------- 
 12580						VERIFY THAT THE SECTOR COUNTER AND OVERFLOW DECODE WORK IN
 12581						20 SECTOR MODE. THE FOLLOWING SEQUENCE IS USED:
 12582						A. GO INTO MAINT MODE (20 SECTOR MODE)
 12583						B. ISSUE INDEX
 12584						C. 12767. SECTOR CLOCKS (TO END OF 2ND LAST SECTOR)
 12585						D. READ THE SECTOR COUNTER
 12586						E. VERIFY THAT WE ARE AT SECT-22 EXT-60
 12587
 12588						RECOMMENDED DEBUG PROCEDURE
 12589						--------------------------- 
 12590						NONE.
 12591						$
 12592					 	SALL
 12593
 12594
 12595	042350	201 01 0 00 000234 	TST234:	MOVEI	1,234		;GET THE TEST NUMBER
 12596	042351	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 12597
 12598	042352	260 17 0 00 060522 	T234S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 12599	042353	263 17 0 00 000000 		RTN			;TRIED ALL
 12600	042354	255 00 0 00 000000 		JFCL			;NEXT IS READY
 12601
 12602	042355	201 00 0 00 000022 		MOVEI	0,22		;SET UP CORRECT SECTOR
 12603	042356	202 00 0 00 077325 		MOVEM	0,SECT
 12604	042357	201 00 0 00 000060 		MOVEI	0,60		;SET UP CORRECT EXTENTION
 12605	042360	202 00 0 00 077275 		MOVEM	0,EXT
 12606
 12607	042361	260 17 0 00 077352 	T234L:	GO	DEVREQ		;REQUEST THE DEVICE
 12608
 12609	042362	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 12610
 12611	042363	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 12612
 12613	042364	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 12614
 12615	042365	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 12616
 12617	042366	201 01 0 00 030737 		MOVEI	1,^D12767	;# OF SECTOR CLOCKS
 12618	042367	260 17 0 00 056047 		GO	SECTCK		;BURST THE SECTOR CLOCKS
 12619
 12620	042370	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 12621	042371	260 17 0 00 057623 		GO	RRPLA		;READ LOOK AHEAD REG
 12622	042372	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 12623	042373	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 12624
 12625	042374	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET REGISTER DATA
 12626	042375	302 00 0 00 002260 		CAIE	0,2260		;IS IT CORRECT?
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-73
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0490

 12627	042376	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 12628	042377	027 00 0 00 041601 		SCOPE	LATBL		;YES. CALL SCOPE ROUTINE
 12629	042400	254 00 0 00 042361 		JRST	T234L		;LOOP
 12630	042401	254 00 0 00 042352 		JRST	T234S		;CONTINUE
 12631
 12632					 	XLIST
 12633					 	LIST
 12634						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-74
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0491

 12635					S^;*********************************************************************^
 12636					;*TEST-235 A SECTOR COUNTER TEST
 12637					S^;*********************************************************************^
 12638
 12639					COMMENT	$
 12640
 12641						TEST DESCRIPTION
 12642						---------------- 
 12643						VERIFY THAT THE SECTOR COUNTER AND OVERFLOW DECODE WORK CORRECTLY
 12644						IN 20 SECTOR MODE. THE FOLLOWING SEQUENCE IS USED:
 12645						A. GO INTO MAINT MODE (20 SECTOR MODE)
 12646						B. ISSUE INDEX (CLEARS COUNTER)
 12647						C. 12768. SECTOR CLOCKS (TO START OF LAST SECTOR)
 12648						D. READ THE SECTOR COUNTER
 12649						E. VERIFY THAT WE ARE AT SECT-23 EXT-00
 12650
 12651						RECOMMENDED DEBUG PROCEDURE
 12652						--------------------------- 
 12653						NONE.
 12654						$
 12655					 	SALL
 12656
 12657
 12658	042402	201 01 0 00 000235 	TST235:	MOVEI	1,235		;GET THE TEST NUMBER
 12659	042403	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 12660
 12661	042404	260 17 0 00 060522 	T235S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 12662	042405	263 17 0 00 000000 		RTN			;TRIED ALL
 12663	042406	255 00 0 00 000000 		JFCL			;NXT READY
 12664
 12665	042407	201 00 0 00 000023 		MOVEI	0,23		;SET UP CORRECT SECTOR
 12666	042410	202 00 0 00 077325 		MOVEM	0,SECT
 12667	042411	402 00 0 00 077275 		SETZM	EXT		;SET UP CORRECT EXTENTION
 12668
 12669	042412	260 17 0 00 077352 	T235L:	GO	DEVREQ		;REQUEST THE DEVICE
 12670
 12671	042413	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 12672
 12673	042414	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 12674
 12675	042415	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 12676
 12677	042416	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 12678
 12679	042417	201 01 0 00 030740 		MOVEI	1,^D12768	;# OF SECTOR CLOCKS
 12680	042420	260 17 0 00 056047 		GO	SECTCK		;BURST OF SECTOR CLOCKS
 12681
 12682	042421	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 12683	042422	260 17 0 00 057623 		GO	RRPLA		;READ LOOK AHEAD REG
 12684	042423	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 12685	042424	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 12686
 12687	042425	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET THE REGISTER DATA
 12688	042426	302 00 0 00 002300 		CAIE	0,2300		;IS DATA CORRECT?
 12689	042427	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-75
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0492

 12690	042430	027 00 0 00 041601 		SCOPE	LATBL		;YES. CALL SCOPE ROUTINE
 12691	042431	254 00 0 00 042412 		JRST	T235L		;LOOP
 12692	042432	254 00 0 00 042404 		JRST	T235S		;CONTINUE
 12693
 12694					 	XLIST
 12695					 	LIST
 12696						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-76
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0493

 12697					S^;*********************************************************************^
 12698					;*TEST-236 A SECTOR COUNTER TEST
 12699					S^;*********************************************************************^
 12700
 12701					COMMENT	$
 12702
 12703						TEST DESCRIPTION
 12704						---------------- 
 12705						VERIFY THAT THE SECTOR COUNTER AND OVERFLOW DECODE ARE WORKING
 12706						CORRECTLY IN 20 SECTOR MODE USING THE FOLLOWING SEQUENCE:
 12707						A. GO INTO MAINT MODE (20 SECTOR MODE)
 12708						B. ISSUE INDEX (CLEAR COUNTER)
 12709						C. 13567. (TAKES YOU TO INVALID SECTOR IF DECODE FAILS)
 12710						D. READ THE RSECTOR COUNTER
 12711						E. VERIFY THAT WE ARE AT SECT-23 EXT-00
 12712
 12713						RECOMMENDED DEBUG PROCEDURE
 12714						--------------------------- 
 12715						NONE.
 12716						$
 12717					 	SALL
 12718
 12719
 12720	042433	201 01 0 00 000236 	TST236:	MOVEI	1,236		;GET THE TEST NUMBER
 12721	042434	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 12722
 12723	042435	260 17 0 00 060522 	T236S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 12724	042436	263 17 0 00 000000 		RTN			;TRIED ALL
 12725	042437	255 00 0 00 000000 		JFCL			;NXT READY
 12726
 12727	042440	201 00 0 00 000023 		MOVEI	0,23		;SET UP CORRECT SECT
 12728	042441	202 00 0 00 077325 		MOVEM	0,SECT
 12729	042442	402 00 0 00 077275 		SETZM	EXT		;SET UP CORRECT EXT
 12730
 12731	042443	260 17 0 00 077352 	T236L:	GO	DEVREQ		;REQUEST THE DEVICE
 12732
 12733	042444	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 12734
 12735	042445	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 12736
 12737	042446	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 12738
 12739	042447	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 12740
 12741	042450	201 01 0 00 032377 		MOVEI	1,^D13567	;# OF SECTOR CLOCKS
 12742	042451	260 17 0 00 056047 		GO	SECTCK		;BURST OF SECTOR CLOCKS
 12743
 12744	042452	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 12745	042453	260 17 0 00 057623 		GO	RRPLA		;READ LOOK AHEAD REG
 12746	042454	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 12747	042455	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 12748
 12749	042456	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET REG. DATA
 12750	042457	302 00 0 00 002300 		CAIE	0,2300		;IS IT CORRECT?
 12751	042460	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-77
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0494

 12752	042461	027 00 0 00 041601 		SCOPE	LATBL		;YES. CALL THE SCOPE ROUTINE
 12753	042462	254 00 0 00 042443 		JRST	T236L		;LOOP
 12754	042463	254 00 0 00 042435 		JRST	T236S		;CONTINUE
 12755
 12756					 	XLIST
 12757					 	LIST
 12758						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-78
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0495

 12759					S^;*********************************************************************^
 12760					;*TEST-237 A SECTOR COUNTER TEST
 12761					S^;*********************************************************************^
 12762
 12763					COMMENT	$
 12764
 12765						TEST DESCRIPTION
 12766						---------------- 
 12767						VERIFY THAT THE SECTOR COUNTER AND OVERFLOW DECODER WORK PROPERLY
 12768						IN 22 SECTOR MODE USING THE FOLLOWING SEQUENCE:
 12769						A. GO INTO MAINT MODE 22 SECTOR MODE
 12770						B. ISSUE INDEX (ZERO THE COUNTER)
 12771						C. 12788. SECTOR CLOCKS (TO END OF 2ND LAST SECTOR)
 12772						D. READ THE SECTOR COUNTER
 12773						E. VERIFY THAT WE ARE AT SECT-24 EXT-60
 12774
 12775						RECOMMENDED DEBUG PROCEDURE
 12776						--------------------------- 
 12777						NONE.
 12778						$
 12779					 	SALL
 12780
 12781
 12782	042464	201 01 0 00 000237 	TST237:	MOVEI	1,237		;GET THE TEST NUMBER
 12783	042465	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 12784
 12785	042466	260 17 0 00 060522 	T237S:	GO	DEVSEL		;SELECT A DEVICE
 12786	042467	263 17 0 00 000000 		RTN			;TRIED ALL
 12787	042470	255 00 0 00 000000 		JFCL			;NXT RDY
 12788
 12789	042471	201 00 0 00 000024 		MOVEI	0,24		;SET UP CORRECT SECTOR
 12790	042472	202 00 0 00 077325 		MOVEM	0,SECT
 12791	042473	201 00 0 00 000060 		MOVEI	0,60		;SET UP CORRECT EXT
 12792	042474	202 00 0 00 077275 		MOVEM	0,EXT
 12793
 12794	042475	260 17 0 00 077352 	T237L:	GO	DEVREQ		;REQUEST THE DEVICE
 12795
 12796	042476	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 12797
 12798	042477	260 17 0 00 056121 		GO	MODE22		;GO INTO 22 SECTOR MODE
 12799
 12800	042500	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 12801
 12802	042501	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 12803
 12804	042502	201 01 0 00 030764 		MOVEI	1,^D12788	;# OF SECTOR CLOCKS
 12805	042503	260 17 0 00 056047 		GO	SECTCK		;BURST THE SECTOR CLOCKS
 12806
 12807	042504	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 12808	042505	260 17 0 00 057623 		GO	RRPLA		;READ SECTOR COUNTER
 12809	042506	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 12810	042507	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 12811
 12812	042510	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET REGISTER DATA
 12813	042511	302 00 0 00 002460 		CAIE	0,2460		;IS IT CORRECT?
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-79
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0496

 12814	042512	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 12815	042513	027 00 0 00 041601 		SCOPE	LATBL		;YES. CALL SCOPE ROUTINE
 12816	042514	254 00 0 00 042475 		JRST	T237L		;LOOP
 12817	042515	254 00 0 00 042466 		JRST	T237S		;CONTINUE
 12818
 12819					 	XLIST
 12820					 	LIST
 12821						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-80
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0497

 12822					S^;*********************************************************************^
 12823					;*TEST-240 A SECTOR COUNTER TEST
 12824					S^;*********************************************************************^
 12825
 12826					COMMENT	$
 12827
 12828						TEST DESCRIPTION
 12829						---------------- 
 12830						VERIFY THAT THE SECTOR COUNTER AND OVERFLOW DECODE WORK PROPERLY
 12831						IN 22 SECTOR MODE USING THE FOLLOWING SEQUENCE:
 12832						A. GO INTO MAINT MODE (22 SECTOR MODE)
 12833						B. ISSUE INDEX (TO CLEAR COUNTER)
 12834						C. 12789. SECTOR CLOCKS (TO START OF LAST SECTOR)
 12835						D. READ THE SECTOR COUNTER
 12836						E. VERIFY THAT WE ARE AT SECT-25 EXT-00
 12837
 12838						RECOMMENDED DEBUG PROCEDURE
 12839						--------------------------- 
 12840						NONE.
 12841						$
 12842					 	SALL
 12843
 12844
 12845	042516	201 01 0 00 000240 	TST240:	MOVEI	1,240		;GET THE TEST NUMBER
 12846	042517	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 12847
 12848	042520	260 17 0 00 060522 	T240S:	GO	DEVSEL		;SELECT A DEVICE
 12849	042521	263 17 0 00 000000 		RTN			;TRIED ALL
 12850	042522	255 00 0 00 000000 		JFCL			;NXT RDY
 12851
 12852	042523	201 00 0 00 000025 		MOVEI	0,25		;SET UP CORRECT SECTOR
 12853	042524	202 00 0 00 077325 		MOVEM	0,SECT
 12854	042525	402 00 0 00 077275 		SETZM	EXT		;SET UP CORRECT EXTENTION
 12855
 12856	042526	260 17 0 00 077352 	T240L:	GO	DEVREQ		;REQUEST THE DEVICE
 12857
 12858	042527	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 12859
 12860	042530	260 17 0 00 056121 		GO	MODE22		;GO INTO 22 SECTOR MODE
 12861
 12862	042531	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 12863
 12864	042532	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 12865
 12866	042533	201 01 0 00 030765 		MOVEI	1,^D12789	;# OF SECTOR CLOCKS
 12867	042534	260 17 0 00 056047 		GO	SECTCK		;BURST SECTOR CLOCKS
 12868
 12869	042535	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 12870	042536	260 17 0 00 057623 		GO	RRPLA		;READ THE SECTOR COUNTER
 12871	042537	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 12872	042540	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 12873
 12874	042541	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET REGISTER DATA
 12875	042542	302 00 0 00 002500 		CAIE	0,2500		;IS IT CORRECT?
 12876	042543	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-81
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0498

 12877	042544	027 00 0 00 041601 		SCOPE	LATBL		;YES. CALL SCOPE ROUTINE
 12878	042545	254 00 0 00 042526 		JRST	T240L		;LOOP
 12879	042546	254 00 0 00 042520 		JRST	T240S		;CONTINUE
 12880
 12881					 	XLIST
 12882					 	LIST
 12883						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-82
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0499

 12884					S^;*********************************************************************^
 12885					;*TEST-241 A SECTOR COUNTER TEST
 12886					S^;*********************************************************************^
 12887
 12888					COMMENT	$
 12889
 12890						TEST DESCRIPTION
 12891						---------------- 
 12892						VERIFY THAT THE SECTOR COUNTER AND OVERFLOW DECODE FUNCTION
 12893						PROPERLY IN 22 SECTOR MODE USING THE FOLLOWING SEQUENCE:
 12894						A. GO INTO MAINT MODE (22 SECTOR MODE)
 12895						B. ISSUE INDEX (CLEAR THE COUNTER)
 12896						C. 13489. SECTOR CLOCKS (INTO INVALID SECTOR IF OVERFLOW FAILS)
 12897						D. READ THE SECTOR COUNTER
 12898						E. VERIFY THAT WE ARE AT SECT-25 EXT-00
 12899
 12900						RECOMMENDED DEBUG PROCEDURE
 12901						--------------------------- 
 12902						NONE.
 12903						$
 12904					 	SALL
 12905
 12906
 12907	042547	201 01 0 00 000241 	TST241:	MOVEI	1,241		;GET THE TEST NUMBER
 12908	042550	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 12909
 12910	042551	260 17 0 00 060522 	T241S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 12911	042552	263 17 0 00 000000 		RTN			;TRIED ALL
 12912	042553	255 00 0 00 000000 		JFCL			;NXT RDY
 12913
 12914	042554	201 00 0 00 000025 		MOVEI	0,25		;SET UP CORRECT SECTOR
 12915	042555	202 00 0 00 077325 		MOVEM	0,SECT
 12916	042556	402 00 0 00 077275 		SETZM	EXT		;SET UP CORRECT EXT
 12917
 12918	042557	260 17 0 00 077352 	T241L:	GO	DEVREQ		;REQUEST THE DEVICE
 12919
 12920	042560	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 12921
 12922	042561	260 17 0 00 056121 		GO	MODE22		;GO INTO 22 SECTOR MODE
 12923
 12924	042562	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 12925
 12926	042563	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 12927
 12928	042564	201 01 0 00 032261 		MOVEI	1,^D13489	;# OF SECTOR CLOCKS
 12929	042565	260 17 0 00 056047 		GO	SECTCK		;BURST THE SECTOR CLOCKS
 12930
 12931	042566	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 12932	042567	260 17 0 00 057623 		GO	RRPLA		;READ LOOK AHEAD REG
 12933	042570	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILUE
 12934	042571	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 12935
 12936	042572	135 00 0 00 063764 		LDB	0,[POINT 16,1,35]  ;GET THE REGISTER DATA
 12937	042573	302 00 0 00 002500 		CAIE	0,2500		;IS DATA CORRECT?
 12938	042574	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-83
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0500

 12939	042575	027 00 0 00 041601 		SCOPE	LATBL		;YES. CALL SCOPE ROUTINE
 12940	042576	254 00 0 00 042557 		JRST	T241L		;LOOP
 12941	042577	254 00 0 00 042551 		JRST	T241S		;CONTINUE
 12942
 12943					 	XLIST
 12944					 	LIST
 12945						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-84
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0501

 12946					S^;*********************************************************************^
 12947					;*TEST-242 A SECTOR COUNTER TEST
 12948					S^;*********************************************************************^
 12949
 12950					COMMENT	$
 12951
 12952						TEST DESCRIPTION
 12953						---------------- 
 12954						VERIFIES THAT THE 4 LOW ORDER BITS OF SECTOR FLOPS CLEAR
 12955						WITH INDEX PULSE. THE FOLLOWING SEQUENCE IS USED:
 12956						A. GO INTO MAINT MODE (22 SECTOR MODE)
 12957						B. ISSUE INDEX (CLEAR THE REGISTER)
 12958						C. 9135. CLOCKS (SET LOW ORDER 4 FLOPS IN SECTOR REG)
 12959						D. ISSUE INDEX (SHOULD CLEAR THE REGISTER)
 12960						E. READ THE SECTOR COUNTER
 12961						F. INSURE THAT WE ARE AT SECT-00 EXT-00
 12962
 12963						RECOMMENDED DEBUG PROCEDURE
 12964						--------------------------- 
 12965						NONE.
 12966						$
 12967					 	SALL
 12968
 12969
 12970	042600	201 01 0 00 000242 	TST242:	MOVEI	1,242		;GET THE TEST NUMBER
 12971	042601	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 12972
 12973	042602	260 17 0 00 060522 	T242S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 12974	042603	263 17 0 00 000000 		RTN			;TRIED ALL
 12975	042604	255 00 0 00 000000 		JFCL			;NEXT READY
 12976
 12977	042605	260 17 0 00 077352 	T242L:	GO	DEVREQ		;REQUEST THE DEVICE
 12978
 12979	042606	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 12980
 12981	042607	260 17 0 00 056121 		GO	MODE22		;GO INTO 22 SECTOR MODE
 12982
 12983	042610	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 12984
 12985	042611	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 12986
 12987	042612	201 01 0 00 021657 		MOVEI	1,^D9135	;# OF SECTOR CLOCKS
 12988	042613	260 17 0 00 056047 		GO	SECTCK		;BURST THE SECTOR CLOCKS
 12989
 12990	042614	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 12991
 12992	042615	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 12993	042616	260 17 0 00 057623 		GO	RRPLA		;READ SECTOR COUNTER
 12994	042617	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 12995	042620	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 12996
 12997	042621	602 01 0 00 177777 		TRNE	1,177777	;IS DATA CORRECT?
 12998	042622	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 12999	042623	027 00 0 00 042626 		SCOPE	TB242		;YES. CALL THE SCOPE ROUTINE
 13000	042624	254 00 0 00 042605 		JRST	T242L		;LOOP
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-85
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0502

 13001	042625	254 00 0 00 042602 		JRST	T242S		;CONTINUE
 13002
 13003					;SCOPE TABLE
 13004
 13005	042626				TB242:
 13006	042626	000000	062461		TB243:	0,,REGPNT
 13007	042627	100000	067424			NOINH![ASCIZ/SECTOR COUNTER FAULT. SOME BITS NOT CLEAR AFTER INDEX/]
 13008	042630	040000	041602			GOTO!LATBL1
 13009
 13010					 	XLIST
 13011					 	LIST
 13012						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-86
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0503

 13013					S^;*********************************************************************^
 13014					;*TEST-243 A SECTOR COUNTER TEST
 13015					S^;*********************************************************************^
 13016
 13017					COMMENT	$
 13018
 13019						TEST DESCRIPTION
 13020						---------------- 
 13021						VERIFY THAT THE HIGH ORDER BIT OF THE SECTOR COUNTER
 13022						WILL CLEAR WITH INDEX. THE FOLLOWING SEQUENCE IS USED:
 13023						A. GO INTO MAINT MODE (22 SECTOR MODE)
 13024						B. ISSUE INDEX (CLEARS COUNTER)
 13025						C. 9744. CLOCKS (SETS HIGH ORDER FLOP)
 13026						D. ISSUE INDEX (SHOULD CLEAR FLOPS)
 13027						E. READ THE SECTOR COUNTER
 13028						F. VERIFY THAT WE ARE AT SECT-00 EXT-00
 13029
 13030						RECOMMENDED DEBUG PROCEDURE
 13031						--------------------------- 
 13032						NONE.
 13033						$
 13034					 	SALL
 13035
 13036
 13037	042631	201 01 0 00 000243 	TST243:	MOVEI	1,243		;GET TEST NUMBER
 13038	042632	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 13039
 13040	042633	260 17 0 00 060522 	T243S:	GO	DEVSEL		;SELECT A DEVICE
 13041	042634	263 17 0 00 000000 		RTN			;TRIED ALL
 13042	042635	255 00 0 00 000000 		JFCL			;NXT RDY
 13043
 13044	042636	260 17 0 00 077352 	T243L:	GO	DEVREQ		;REQUEST THE DEVICE
 13045
 13046	042637	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 13047
 13048	042640	260 17 0 00 056121 		GO	MODE22		;GO INTO 22 SECTOR MODE
 13049
 13050	042641	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 13051
 13052	042642	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 13053
 13054	042643	201 01 0 00 023020 		MOVEI	1,^D9744	;# OF SECTOR CLOCKS
 13055	042644	260 17 0 00 056047 		GO	SECTCK		;BURST THE SECTOR COUNTER
 13056
 13057	042645	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX
 13058
 13059	042646	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13060	042647	260 17 0 00 057623 		GO	RRPLA		;READ LOOK AHEAD REG
 13061	042650	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13062	042651	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 13063
 13064	042652	602 01 0 00 177777 		TRNE	1,177777	;IS DATA CORRECT?
 13065	042653	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 13066	042654	027 00 0 00 042626 		SCOPE	TB243		;YES. CALL SCOPE ROUTINE
 13067	042655	254 00 0 00 042636 		JRST	T243L		;LOOP
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-87
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0504

 13068	042656	254 00 0 00 042633 		JRST	T243S		;CONTINUE
 13069
 13070					 	XLIST
 13071					 	LIST
 13072						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-88
DSRPA3	MAC	23-Feb-79 09:36		SECTOR COUNTER (LOOK AHEAD REGISTER) TESTS                                         SEQ 0505

 13073					S^;*********************************************************************^
 13074					;*TEST-244 A SECTOR COUNTER MUX TEST
 13075					S^;*********************************************************************^
 13076
 13077					COMMENT	$
 13078
 13079						TEST DESCRIPTION
 13080						---------------- 
 13081
 13082						RECOMMENDED DEBUG PROCEDURE
 13083						--------------------------- 
 13084						$
 13085					 	SALL
 13086
 13087
 13088	042657	201 01 0 00 000244 	TST244:	MOVEI	1,244
 13089	042660	260 17 0 00 060630 		GO	TRACE
 13090	042661	263 17 0 00 000000 		RTN			;SORRY, CAN'T DO ON RH11
 13091
 13092						XLIST
 13093						LIST
 13094
 13095					SUBTTL	SECTOR CLOCK AND INDEX TEST
 13096					 	XLIST
 13097					 	LIST
 13098						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-89
DSRPA3	MAC	23-Feb-79 09:36		SECTOR CLOCK AND INDEX TEST                                                        SEQ 0506

 13099					S^;*********************************************************************^
 13100					;*TEST-245 VERIFY THAT SECTOR CLOCKS COME DOWN FROM DRIVE
 13101					S^;*********************************************************************^
 13102
 13103					COMMENT	$
 13104
 13105						TEST DESCRIPTION
 13106						---------------- 
 13107						UNDER PROGRAM CONTROL, THE ONLY THING THE DIAGNOSTIC CAN TELL
 13108						YOU ABOUT SECTOR CLOCK IS THAT IT IS PRESENT OR NOT PRESENT.
 13109						THIS TEST CHECKS FOR ITS PRESENCE USING THE FOLLOWING SEQUENCE.
 13110						A.  GO INTO MAINT MODE (STOPS LOOK AHEAD REGISTER)
 13111						B.  ISSUE A DIAG INDEX PULSE (CLEARS THE LOOK AHEAD REGISTER)
 13112						C.  TAKE DRIVE OUT OF MAINT MODE WITH A MASTER CLEAR.
 13113						    THIS ALLOWS SECTOR CLOCK TO INCREMENT THE LOOK AHEAD
 13114						    REGISTER.
 13115						D.  READ THE LOOK AHEAD REGISTER UP TO A MAXIMUM OF 200
 13116						    TIMES (MORE THAN ENOUGH TO SEE IT INCREMENT)
 13117						E.  IF NO CHANGE OCCURS (LOOK AHEAD STILL SECT-00 EXT-00)
 13118						    IT IS SAFE TO ASSUME THAT ITS NOT INCREMENTING
 13119						    BECAUSE EITHER SECTOR CLOCK IS NOT COMING DOWN
 13120						    OR INDEX COMING DOWN FROM THE DRIVE IS STUCK HIGH.
 13121
 13122						RECOMMENDED DEBUG PROCEDURE
 13123						--------------------------- 
 13124						EXAMINE THE INDEX PULSE AND SECTOR PULSES COMING ON TO
 13125						THE DP BOARD. THIS IS A SIMPLE PROBLEM TO FIX. SCOPE THE
 13126						FAULTY LOGIC BACK FROM THE DP BOARD.
 13127						$
 13128					 	SALL
 13129
 13130
 13131	042662	201 01 0 00 000245 	TST245:	MOVEI	1,245		;GET THE TEST NUMBER
 13132	042663	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 13133
 13134	042664	260 17 0 00 060522 	T245S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 13135	042665	263 17 0 00 000000 		RTN			;TRIED ALL
 13136	042666	255 00 0 00 000000 		JFCL			;NEXT READY
 13137
 13138	042667	260 17 0 00 077352 	T245L:	GO	DEVREQ		;REQUEST A DEVICE
 13139
 13140	042670	260 17 0 00 055673 		GO	ONCHK
 13141
 13142	042671	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 13143
 13144	042672	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 13145
 13146	042673	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX PULSE
 13147
 13148	042674	260 17 0 00 060723 		GO	MSTCLR		;TAKES OUT OF MAINT MODE
 13149
 13150	042675	201 02 0 00 000310 		MOVEI	2,^D200		;A MAXIMUM COUNT
 13151	042676	205 01 0 00 000010 	T245RD:	MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13152	042677	260 17 0 00 057623 		GO	RRPLA		;READ LOOK AHEAD REGISTER
 13153	042700	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-90
DSRPA3	MAC	23-Feb-79 09:36		SECTOR CLOCK AND INDEX TEST                                                        SEQ 0507

 13154	042701	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 13155	042702	602 01 0 00 177777 		TRNE	1,177777	;ALL BITS ZERO?
 13156	042703	254 00 0 00 042706 		JRST	T245SC		;NO. THEN WERE OK
 13157	042704	367 02 0 00 042676 		SOJG	2,T245RD	;YES. JUMP IF STILL TRYING
 13158	042705	476 00 0 00 000010 		SETOM	ERFLG		;ERROR. NO CHANGE
 13159	042706	027 00 0 00 042711 	T245SC:	SCOPE	TBL245		;CALL THE SCOPE ROUTINE
 13160	042707	254 00 0 00 042667 		JRST	T245L		;LOOP
 13161	042710	254 00 0 00 042664 		JRST	T245S		;CONTINUE
 13162
 13163					;SCOPE TABLE
 13164
 13165	042711	000000	062461		TBL245:	0,,REGPNT
 13166	042712	100000	067437			NOINH![ASCIZ/SECTOR CLOCK SEEMS TO BE MISSING/]
 13167	042713	100000	067446			NOINH![ASCIZ/SECTOR COUNTER (THAT WORKS IN MAINT MODE)/]
 13168	042714	100000	067457			NOINH![ASCIZ/WILL NOT INCREMENT WHEN NOT IN MAINT MODE/]
 13169	042715	400000	077771			HIPROB!DP
 13170	042716	400000	077747			HIPROB!MB
 13171	042717	600000	100046			LOPROB!D02
 13172	042720	600000	100060			LOPROB!D04
 13173	042721	600000	100106			LOPROB!D15
 13174	042722	600000	100113			LOPROB!D16
 13175	042723	620000	067470			LAST!LOPROB![ASCIZ/POSSIBLE FAULTY SERVO HEAD/]
 13176
 13177					 	XLIST
 13178					 	LIST
 13179						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-91
DSRPA3	MAC	23-Feb-79 09:36		SECTOR CLOCK AND INDEX TEST                                                        SEQ 0508

 13180					S^;*********************************************************************^
 13181					;*TEST-246 TEST FOR THE PRESENCE OF INDEX PULSE
 13182					S^;*********************************************************************^
 13183
 13184					COMMENT	$
 13185
 13186						TEST DESCRIPTION
 13187						---------------- 
 13188						THIS TEST IS MERELY TO INSURE THAT INDEX PULSE IS COMING DOWN
 13189						FROM THE DRIVE. THE TEST IS BASED ON THE FACT THAT IF INDEX
 13190						PULSE IS MISSING, THE SECTOR COUNTER WILL COUNT UP AND STICK
 13191						AT SECTOR 25 (OCTAL). THIS IS THE MAXIMUM COUNT POSSIBLE IN
 13192						20 SECTOR MODE. THE FOLLOWING SEQUENCE IS USED:
 13193						A.  GO INTO 20. SECTOR MODE
 13194						B.  READ THE LOOK AHEAD REGISTER UP TO 100 TIMES LOOKING FOR
 13195						    A NON SECTOR 25 VALUE INDICATING THAT INDEX PULSE HAS
 13196						    COME.
 13197
 13198						RECOMMENDED DEBUG PROCEDURE
 13199						--------------------------- 
 13200						THIS IS AN EASY PROBLEM TO SCOPE IF YOU WORK BACKWARDS
 13201						FROM THE DP BOARD (DPG) WHERE THE SIGNAL IS ACTUALLY
 13202						USED.
 13203						$
 13204					 	SALL
 13205
 13206
 13207	042724	201 01 0 00 000246 	TST246:	MOVEI	1,246		;GET THE TEST NUMBER
 13208	042725	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 13209
 13210	042726	260 17 0 00 060522 	T246S:	GO	DEVSEL		;SELECT A DEVICE
 13211	042727	263 17 0 00 000000 		RTN			;TRIED ALL
 13212	042730	255 00 0 00 000000 		JFCL			;NEXT IS READY
 13213
 13214	042731	260 17 0 00 077352 	T246L:	GO	DEVREQ		;REQUEST THE DEVICE
 13215
 13216	042732	260 17 0 00 055673 		GO	ONCHK		;GET IT ON-LINE
 13217
 13218	042733	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 13219
 13220	042734	260 17 0 00 056104 		GO	MODE20		;INTO 22 SECT MODE
 13221
 13222	042735	201 02 0 00 000144 		MOVEI	2,^D100		;A COUNTER
 13223
 13224	042736	205 01 0 00 000010 	T246RD:	MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13225	042737	260 17 0 00 057623 		GO	RRPLA		;READ LOOK AHEAD REGISTER
 13226	042740	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13227	042741	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 13228
 13229	042742	135 00 0 00 067476 		LDB	[POINT 5,1,29]	;GET SECTOR FIELD
 13230	042743	302 00 0 00 000025 		CAIE	0,25		;IS IT AT 25
 13231	042744	254 00 0 00 042747 		JRST	.+3		;NO. POTENTIAL ERROR
 13232	042745	367 02 0 00 042736 		SOJG	2,T246RD	;YES. RE-READ UP TO 100. TIMES
 13233	042746	476 00 0 00 000010 		SETOM	ERFLG		;ERROR.
 13234	042747	027 00 0 00 042752 		SCOPE	TB246		;CALL SCOPE ROUTINE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-92
DSRPA3	MAC	23-Feb-79 09:36		SECTOR CLOCK AND INDEX TEST                                                        SEQ 0509

 13235	042750	254 00 0 00 042731 		JRST	T246L		;LOOP
 13236	042751	254 00 0 00 042726 		JRST	T246S		;CONTINUE
 13237
 13238					;SCOPE TABLE
 13239
 13240	042752	000000	062461		TB246:	0,,REGPNT
 13241	042753	100000	067477			NOINH![ASCIZ/INDEX PULSE APPEARS TO BE MISSING, CAUSING THE/]
 13242	042754	100000	067511			NOINH![ASCIZ/LOOK AHEAD REGISTER TO BE STUCK AT SECTOR-25/]
 13243	042755	400000	077771			HIPROB!DP
 13244	042756	400000	077747			HIPROB!MB
 13245	042757	600000	100046			LOPROB!D02
 13246	042760	600000	100060			LOPROB!D04
 13247	042761	620000	100106			LAST!LOPROB!D15
 13248
 13249					SUBTTL	COMMAND DECODE AND PIP TEST
 13250					 	XLIST
 13251					 	LIST
 13252						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-93
DSRPA3	MAC	23-Feb-79 09:36		COMMAND DECODE AND PIP TEST                                                        SEQ 0510

 13253					S^;*********************************************************************^
 13254					;*TEST-247 CHECK PIP AND ILF WITH POSITIONING COMMANDS
 13255					S^;*********************************************************************^
 13256
 13257					COMMENT	$
 13258
 13259						TEST DESCRIPTION
 13260						---------------- 
 13261						VERIFY THE SEEK,OFFSET,RETURN TO CENTERLINE, RECAL CAUSE
 13262						THE PIP BIT TO SET AND DON'T CAUSE ILF TO BE SET. THE
 13263						FOLLOWING SEQUENCE IS USED:
 13264						A.  GO INTO MAINT MODE
 13265						B.  SET DA=0 AND DCY NOT EQUAL TO CCY
 13266						C.  ISSUE A POSITION COMMAND
 13267						D.  READ THE CONTROL, STATUS, AND ERROR REG-#1
 13268						E.  TEST FOR PRESENCE OF PIP AND THAT ILF IS NOT SET
 13269
 13270						RECOMMENDED DEBUG PROCEDURE
 13271						--------------------------- 
 13272						ALL FAULTS WOULD BE ON THE RG BOARD
 13273						A.  WRONG FUNCTION DECODED
 13274						B.  PIP NOT SETTING BECAUSE OF -OR- GATE LOGIC FAULT
 13275						C.  PIP RESETTING TO RAPIDLY
 13276						$
 13277					 	SALL
 13278
 13279
 13280	042762	201 01 0 00 000247 	TST247:	MOVEI	1,247		;GET THE TEST NUMBER
 13281	042763	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 13282
 13283	042764	260 17 0 00 060522 	T247S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 13284	042765	263 17 0 00 000000 		RTN			;EXIT
 13285	042766	255 00 0 00 000000 		JFCL			;NEXT IS READY
 13286
 13287	042767	200 02 0 00 043073 		MOVE	2,BP247		;GET BYTE POINTER TO AC2
 13288	042770	135 00 0 00 000002 		LDB	0,2		;FETCH FIRST POSITION COMMAND
 13289	042771	202 00 0 00 077314 		MOVEM	0,PATRN		;SAVE IT
 13290
 13291	042772	260 17 0 00 055673 	T247L:	GO	ONCHK		;GET DEVICE ON-LINE
 13292
 13293	042773	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 13294
 13295	042774	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 13296
 13297	042775	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ALL ZEROS
 13298	042776	260 17 0 00 057421 		GO	LRPDA		;SETS DA REG TO ZERO
 13299	042777	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 13300
 13301	043000	205 01 0 00 000010 		MOVSI	1,(1B14)	;DONT REPORT RAE'S
 13302	043001	260 17 0 00 057637 		GO	RRPCC		;READ CCY
 13303	043002	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13304	043003	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 13305	043004	405 01 0 00 000001 		ANDI	1,1		;SAVE LOW ORDER BIT
 13306
 13307	043005	640 01 0 00 000001 		TRC	1,1		;COMP BIT. (SEND IT TO DCY)
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-94
DSRPA3	MAC	23-Feb-79 09:36		COMMAND DECODE AND PIP TEST                                                        SEQ 0511

 13308	043006	661 01 0 00 000010 		TLO	1,(1B14)	;SET THE DON'T REPORT RAE BIT
 13309	043007	260 17 0 00 057440 		GO	LRPDC		;LOAD THE DCY (NOW DIFFERENT FROM CCY)
 13310	043010	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13311
 13312	043011	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13313	043012	434 01 0 00 077314 		IOR	1,PATRN		;INCLUDE THE COMMAND
 13314	043013	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 13315	043014	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13316
 13317	043015	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13318	043016	260 17 0 00 057576 		GO	RRPCS1		;READ THE CONTROL REGISTER
 13319	043017	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13320	043020	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 13321	043021	202 01 0 00 077632 		MOVEM	1,SRPCS1	;SAVE RESULTS
 13322
 13323	043022	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13324	043023	260 17 0 00 057601 		GO	RRPDS		;READ THE STATUS REGISTER
 13325	043024	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13326	043025	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 13327	043026	202 01 0 00 077637 		MOVEM	1,SRPDS		;SAVE THE RESULTS
 13328
 13329	043027	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13330	043030	260 17 0 00 057604 		GO	RRPER1		;READ ER-1
 13331	043031	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13332	043032	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 13333	043033	202 01 0 00 077640 		MOVEM	1,SRPER1	;SAVE RESULTS
 13334
 13335	043034	602 01 0 00 000001 		TRNE	1,1		;DO WE HAVE ILLEGAL FUNCTION?
 13336	043035	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
 13337	043036	027 00 0 00 043075 		SCOPE	TB247A		;CALL THE SCOPE ROUTINE
 13338	043037	254 00 0 00 042772 		JRST	T247L		;LOOP
 13339	043040	255 00 0 00 000000 		JFCL			;CONTINUE
 13340
 13341	043041	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REG DATA
 13342	043042	606 01 0 00 020000 		TRNN	1,1B22		;DID PIP SET?
 13343	043043	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 13344	043044	027 00 0 00 043100 		SCOPE	TB247B		;YES. CALL SCOPE ROUTINE
 13345	043045	254 00 0 00 042772 		JRST	T247L		;LOOP
 13346	043046	255 00 0 00 000000 		JFCL			;CONTINUE
 13347
 13348	043047	134 00 0 00 000002 		ILDB	0,2		;GET NEXT COMMAND
 13349	043050	202 00 0 00 077314 		MOVEM	0,PATRN		;SAVE IT
 13350	043051	332 00 0 00 000000 		SKIPE	0		;SKIP IF WE'RE DONE
 13351	043052	254 00 0 00 042772 		JRST	T247L		;ELSE LOOP TO NXT PATRN
 13352	043053	260 17 0 00 043066 		GO	T247EX		;TAKE OUT OF OFFSET MODE
 13353	043054	254 00 0 00 042764 		JRST	T247S		;SELECT NEXT DRIVE
 13354
 13355
 13356					;ROUTINE TO PRINT CONTENTS OF CONTROL, STATUS AND ERROR REG #1
 13357
 13358	043055	261 17 0 00 000001 	PNTCSE:	PUT	1		;SAVE AC
 13359	043056	200 01 0 00 077632 		MOVE	1,SRPCS1	;GET CONTROL REGISTER DATA
 13360	043057	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
 13361	043060	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REGISTER DATA
 13362	043061	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-95
DSRPA3	MAC	23-Feb-79 09:36		COMMAND DECODE AND PIP TEST                                                        SEQ 0512

 13363	043062	200 01 0 00 077640 		MOVE	1,SRPER1	;GET ER-1 DATA
 13364	043063	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
 13365	043064	262 17 0 00 000001 		GET	1		;RESTORE THE AC
 13366	043065	263 17 0 00 000000 		RTN			;AND EXIT
 13367
 13368
 13369
 13370					; THIS IS SPECIAL EXIT CODE. IT IS USED TO TAKE THE DRIVE OUT OF
 13371					; OFFSET MODE. IF NOT DONE, SOME FOLLOWING TEST WILL FAIL.
 13372
 13373	043066	260 17 0 00 055673 	T247EX:	GO	ONCHK		;MAKE SURE DRIVE STILL THERE
 13374
 13375	043067	260 17 0 00 060723 		GO	MSTCLR		;TAKES HIM OUT  OF M-MODE
 13376
 13377	043070	260 17 0 00 056324 		GO	RTNCTL		;ISSUE A RTN TO CTR LINE.
 13378	043071	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR ERROR
 13379									;	WE JUST TESTED THIS ?
 13380
 13381	043072	263 17 0 00 000000 		RTN			;AND FINALLY EXIT THE TEST CLEANLY
 13382
 13383					;BYTE PRINTER AND TABL2 OF POSITION COMMANDS
 13384
 13385	043073	36 06 0 00 043074 	BP247:	POINT	6,TBL247,5
 13386	043074	05 15 17 07 00 00 	TBL247:	BYTE(6)	05,15,17,07,00,00
 13387
 13388					;SCOPE TABLE
 13389
 13390	043075	000000	043055		TB247A:	0,,PNTCSE		;DEVICE A PRINT ROUTINE
 13391	043076	100000	067522			NOINH![ASCIZ/ISSUING A POSITION COMMAND HAS CAUSED "ILF"/]
 13392	043077	420000	077775			LAST!HIPROB!RG
 13393
 13394	043100	000000	043055		TB247B:	0,,PNTCSE		;DEFINE A PRINT ROUTINE
 13395	043101	100000	067533			NOINH![ASCIZ/ISSUING A POSITION COMMAND HAS FAILED TO SET "PIP"/]
 13396	043102	420000	077775			LAST!HIPROB!RG
 13397
 13398					SUBTTL	INVALID ADDRESS LOGIC TESTS
 13399					 	XLIST
 13400					 	LIST
 13401						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-96
DSRPA3	MAC	23-Feb-79 09:36		INVALID ADDRESS LOGIC TESTS                                                        SEQ 0513

 13402					S^;*********************************************************************^
 13403					;*TEST-250 VERIFY THAT A LEGAL CYL ADDRESS DECODES CORRECTLY
 13404					S^;*********************************************************************^
 13405
 13406					COMMENT	$
 13407
 13408						TEST DESCRIPTION
 13409						---------------- 
 13410						THIS TEST IS TO VERIFY THAT WE CAN ISSUE A MAINT MODE
 13411						SEEK TO EVERY LEGAL CYLINDER WITHOUT GETTING ANY INVALID
 13412						ADDRESS ERRORS. THE FOLLOWING SEQUENCE IS USED:
 13413						1.  ISSUE MASTER CLEAR (CLEAR ERRORS)
 13414						2.  GO INTO MAINT MODE
 13415						3.  LOAD DESIRED ADDRESS REGISTER WITH ZEROS
 13416						4.  LOAD THE DESIRED CYLINDER REGISTER WITH CYLINDER NUMBER
 13417						5.  ISSUE A SEEK COMMAND (STROBES THE "IAE" FLOP)
 13418						6.  READ CONTROL, STATUS, ER1 AND DCY
 13419						7.  VERIFY THAT "IAE" IS NOT SET 
 13420
 13421						RECOMMENDED DEBUG PROCEDURE
 13422						--------------------------- 
 13423						THERE IS EITHER A COMPARITOR FAULT (SS4) OR MUX FAULT (RG2) 
 13424						$
 13425					 	SALL
 13426
 13427
 13428	043103	201 01 0 00 000250 	TST250:	MOVEI	1,250		;GET THE TEST NUMBER
 13429	043104	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 13430
 13431	043105	260 17 0 00 060522 	T250S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 13432	043106	263 17 0 00 000000 		RTN			;TRIED ALL
 13433	043107	255 00 0 00 000000 		JFCL			;NEXT READY
 13434	043110	201 07 0 00 710200 		MOVEI	RGLIST,710200	;REGISTER LIST
 13435	043111	200 02 0 00 067546 		MOVE	2,[-^D814,,0]	;CTR,,ADDR
 13436
 13437	043112	260 17 0 00 055673 	T250L:	GO	ONCHK		;GET DEVICE ON LINE
 13438
 13439	043113	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 13440
 13441	043114	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 13442
 13443	043115	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13444	043116	260 17 0 00 057421 		GO	LRPDA		;LOAD DESIRED ADDRESS REGISTER
 13445	043117	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13446
 13447	043120	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13448	043121	540 01 0 00 000002 		HRR	1,2		;INCLUDE CYLINDER FROM AC2
 13449	043122	260 17 0 00 057440 		GO	LRPDC		;LOAD DESIRED CYLINDER REGISTER
 13450	043123	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13451
 13452	043124	200 01 0 00 066700 		MOVE	1,[1B14!5]	;A SEEK OP-CODE
 13453	043125	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 13454	043126	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13455
 13456	043127	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-97
DSRPA3	MAC	23-Feb-79 09:36		INVALID ADDRESS LOGIC TESTS                                                        SEQ 0514

 13457	043130	260 17 0 00 057604 		GO	RRPER1		;READ ER-1
 13458	043131	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13459	043132	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 13460
 13461	043133	602 01 0 00 002000 		TRNE	1,1B25		;IS "IAE" CLEAR?
 13462	043134	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 13463	043135	027 00 0 00 043141 		SCOPE	TB250		;YES. CALL SCOPE ROUTINE
 13464	043136	254 00 0 00 043112 		JRST	T250L		;LOOP
 13465	043137	253 02 0 00 043112 		AOBJN	2,T250L		;CONTINUE JUMP UNTIL ALL TRIED
 13466	043140	254 00 0 00 043105 		JRST	T250S		;DONE
 13467
 13468					;SCOPE TABLE
 13469
 13470	043141	057274	057316		TB250:	SNAPS,,DUMPS		;DEFINE SNAPSHOT AND PRINT ROUTINE
 13471	043142	100000	067547			NOINH![ASCIZ/ISSUING A SEEK TO A LEGAL CYL. HAS CAUSED "IAE"/]
 13472	043143	400000	077765			HIPROB!SS
 13473	043144	620000	077775			LAST!LOPROB!RG
 13474
 13475					 	XLIST
 13476					 	LIST
 13477						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-98
DSRPA3	MAC	23-Feb-79 09:36		INVALID ADDRESS LOGIC TESTS                                                        SEQ 0515

 13478					S^;*********************************************************************^
 13479					;*TEST-251 VERIFY THAT ILLEGAL CYL ADDRESS DECODES CORRECTLY
 13480					S^;*********************************************************************^
 13481
 13482					COMMENT	$
 13483
 13484						TEST DESCRIPTION
 13485						---------------- 
 13486						VERIFY THAT ISSUING A SEEK TO AN INVALID CYLINDER CAUSES
 13487						AN "IAE" ERROR. THE FOLLOWING SEQUENCE IS USED:
 13488						1.  ISSUE MASTER CLEAR (TO CLEAR ERRORS)
 13489						2.  GO INTO MAINT MODE
 13490						3.  LOAD DA REG WITH ZEROS.
 13491						4.  LOAD DESIRED CYLINDER REGISTER WITH 815. (ILLEGAL ADDRESS)
 13492						5.  ISSUE A SEEK COMMAND (TO STROBE "IAE" FLOP)
 13493						6.  READ ERROR REGISTER #1
 13494						7.  VERIFY THAT "IAE" IS SET
 13495
 13496						RECOMMENDED DEBUG PROCEDURE
 13497						--------------------------- 
 13498						POSSIBLE FAULTS
 13499						1.  "IAE" MUX ON (RG2) FAULTY
 13500						2.  "IAE" FLOP, COMPARITOR, ONE SHOT STROBE FAULT (SS4)
 13501						$
 13502					 	SALL
 13503
 13504
 13505	043145	201 01 0 00 000251 	TST251:	MOVEI	1,251		;GET THE TEST NUMBER
 13506	043146	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 13507
 13508	043147	260 17 0 00 060522 	T251S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 13509	043150	263 17 0 00 000000 		RTN			;TRIED ALL
 13510	043151	255 00 0 00 000000 		JFCL			;NEXT IS READY
 13511
 13512	043152	201 07 0 00 710200 		MOVEI	RGLIST,710200	;REGISTER LIST
 13513
 13514	043153	260 17 0 00 055673 	T251L:	GO	ONCHK		;GET DEVICE ON LINE
 13515
 13516	043154	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 13517
 13518	043155	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 13519
 13520	043156	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13521	043157	260 17 0 00 057440 		GO	LRPDC		;LOAD DA REGISTER
 13522	043160	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13523
 13524	043161	201 01 0 00 001457 		MOVEI	1,^D815		;THIS IS AN ILLEGAL CYLINDER
 13525	043162	661 01 0 00 000010 		TLO	1,(1B14)	;SET DON'T REPORT RAE ERRORS
 13526	043163	260 17 0 00 057440 		GO	LRPDC		;LOAD THE DESIRED CYLINDER ADDRESS REG
 13527	043164	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13528
 13529	043165	200 01 0 00 066700 		MOVE	1,[1B14!5]	;A SEEK COMMAND
 13530	043166	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 13531	043167	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13532
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-99
DSRPA3	MAC	23-Feb-79 09:36		INVALID ADDRESS LOGIC TESTS                                                        SEQ 0516

 13533	043170	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13534	043171	260 17 0 00 057604 		GO	RRPER1		;READ ERROR REG-1
 13535	043172	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13536	043173	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 13537
 13538	043174	606 01 0 00 002000 		TRNN	1,1B25		;IS "IAE" SET
 13539	043175	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 13540	043176	027 00 0 00 043201 		SCOPE	TB251		;YES, CALL SCOPE ROUTINE
 13541	043177	254 00 0 00 043153 		JRST	T251L		;LOOP
 13542	043200	254 00 0 00 043147 		JRST	T251S		;CONTINUE
 13543
 13544					;SCOPE TABLE
 13545
 13546	043201	057274	057316		TB251:	SNAPS,,DUMPS		;DEFINE A SNAPSHOT AND DUMP ROUTINE
 13547	043202	100000	067561			NOINH![ASCIZ/ISSUING A SEEK TO CYL-815. DOES NOT CAUSE "IAE"/]
 13548	043203	400000	077765			HIPROB!SS
 13549	043204	620000	077775			LAST!LOPROB!RG
 13550
 13551					 	XLIST
 13552					 	LIST
 13553						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-100
DSRPA3	MAC	23-Feb-79 09:36		INVALID ADDRESS LOGIC TESTS                                                        SEQ 0517

 13554					S^;*********************************************************************^
 13555					;*TEST-252 VERIFY THAT A LEGAL TRACK ADDRESS DECODES CORRECTLY
 13556					S^;*********************************************************************^
 13557
 13558					COMMENT	$
 13559
 13560						TEST DESCRIPTION
 13561						---------------- 
 13562						VERIFY THAT ISSUING SEEKS TO EACH OF THE LEGAL TRACK ADDRESSES
 13563						DOES NOT CAUSE AN "IAE" TO OCCUR. THE FOLLOWING SEQUENCE
 13564						IS USED:
 13565						1.  ISSUE MASTER CLEAR (TO CLEAR ERRORS)
 13566						2.  GO INTO MAINT MODE
 13567						3.  CLEAR DESIRED CYLINDER ADDRESS REGISTER
 13568						4.  LOAD SECTOR=0 AND DESIRED TRACK
 13569						5.  ISSUE A SEEK COMMAND (STROBE THE "IAE" FLOP)
 13570						6.  READ ER1 AND VERIFY THAT "IAE" IS NOT SET.
 13571
 13572						RECOMMENDED DEBUG PROCEDURE
 13573						--------------------------- 
 13574						NONE
 13575						$
 13576					 	SALL
 13577
 13578
 13579	043205	201 01 0 00 000252 	TST252:	MOVEI	1,252		;GET THE TEST NUMBER
 13580	043206	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 13581
 13582	043207	260 17 0 00 060522 	T252S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 13583	043210	263 17 0 00 000000 		RTN			;TRIED ALL
 13584	043211	255 00 0 00 000000 		JFCL			;NEXT IS READY
 13585
 13586	043212	201 07 0 00 710200 		MOVEI	RGLIST,710200	;REGISTER LIST FOR THIS TEST
 13587	043213	200 02 0 00 067573 		MOVE	2,[-^D19,,0]	;COUNTER,, TRACK ADDRESS
 13588
 13589	043214	260 17 0 00 055673 	T252L:	GO	ONCHK		;GET DEVICE ON-LINE
 13590
 13591	043215	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ALL ERRORS
 13592
 13593	043216	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 13594
 13595	043217	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13596	043220	260 17 0 00 057440 		GO	LRPDC		;LOAD DESIRED CYL REG
 13597	043221	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13598
 13599	043222	550 01 0 00 000002 		HRRZ	1,2		;GET CURRENT TRACK
 13600	043223	242 01 0 00 000010 		LSH	1,^D8		;POSITION IT
 13601	043224	661 01 0 00 000010 		TLO	1,(1B14)	;SET DON'T REPORT RAE BIT
 13602	043225	260 17 0 00 057421 		GO	LRPDA		;LOAD DA REGISTER
 13603	043226	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13604
 13605	043227	200 01 0 00 066700 		MOVE	1,[1B14!5]	;GET A SEEK COMMAND
 13606	043230	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 13607	043231	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13608
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-101
DSRPA3	MAC	23-Feb-79 09:36		INVALID ADDRESS LOGIC TESTS                                                        SEQ 0518

 13609	043232	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13610	043233	260 17 0 00 057604 		GO	RRPER1		;READ ER-2
 13611	043234	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13612	043235	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 13613
 13614	043236	602 01 0 00 002000 		TRNE	1,1B25		;IS "IAE" SET
 13615	043237	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
 13616	043240	027 00 0 00 043244 		SCOPE	TB252		;NO. CALL THE SCOPE ROUTINE
 13617	043241	254 00 0 00 043214 		JRST	T252L		;LOOP
 13618	043242	253 02 0 00 043214 		AOBJN	2,T252L		;CONTINUE. LOOP TILL DONE
 13619	043243	254 00 0 00 043207 		JRST	T252S		;DONE
 13620
 13621					;SCOPE TABLE
 13622
 13623	043244	057274	057316		TB252:	SNAPS,,DUMPS		;DEFINE A SNAPSHOT AND PRINT ROUTINE
 13624	043245	100000	067574			NOINH![ASCIZ/SEEK TO A LEGAL TRACK HAS CAUSED "IAE"/]
 13625	043246	420000	077765			LAST!HIPROB!SS
 13626
 13627					 	XLIST
 13628					 	LIST
 13629						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-102
DSRPA3	MAC	23-Feb-79 09:36		INVALID ADDRESS LOGIC TESTS                                                        SEQ 0519

 13630					S^;*********************************************************************^
 13631					;*TEST-253 VERIFY THAT AN ILLEGAL TRACK ADR CAUSES "IAE"
 13632					S^;*********************************************************************^
 13633
 13634					COMMENT	$
 13635
 13636						TEST DESCRIPTION
 13637						---------------- 
 13638						VERIFY THAT AN ATTEMPT TO SEEK TO TRACK 19. WILL CAUSE "IAE"
 13639						TO SET. THE FOLLOWING SEQUENCE IS USED:
 13640						1.  MASTER CLEAR (TO CLEAR ERRORS)
 13641						2.  GO INTO MAINT MODE
 13642						3.  WRITE ZEROS TO DESIRED CYLINDER REGISTER
 13643						4.  WRITE ZERO TO DESIRED SECTOR AND SET UP FOR TRACK 19.
 13644						5.  ISSUE A SEEK COMMAND
 13645						6.  READ ER-1
 13646						7.  VERIFY THAT "IAE" IS SET 
 13647
 13648						RECOMMENDED DEBUG PROCEDURE
 13649						--------------------------- 
 13650						NONE
 13651						$
 13652					 	SALL
 13653
 13654
 13655	043247	201 01 0 00 000253 	TST253:	MOVEI	1,253		;GET THE TEST NUMBER
 13656	043250	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE NUMBER
 13657
 13658	043251	260 17 0 00 060522 	T253S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 13659	043252	263 17 0 00 000000 		RTN			;TRIED ALL
 13660	043253	255 00 0 00 000000 		JFCL			;NEXT IS READY
 13661
 13662	043254	201 07 0 00 710200 		MOVEI	RGLIST,710200	;SET UP REGISTER LIST
 13663
 13664	043255	260 17 0 00 055673 	T253L:	GO	ONCHK		;GET DEVICE ON LINE
 13665
 13666	043256	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 13667
 13668	043257	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 13669
 13670	043260	205 01 0 00 000010 		MOVSI	1,(1B14)	;SET DON'T REPORT RAE'S
 13671	043261	260 17 0 00 057440 		GO	LRPDC		;LOAD DESIRED CYLINDER
 13672	043262	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13673
 13674	043263	201 01 0 00 000023 		MOVEI	1,^D19		;GET ILLEGAL TRACK 19.
 13675	043264	242 01 0 00 000010 		LSH	1,^D8		;POSITION TO TRACK FIELD
 13676	043265	661 01 0 00 000010 		TLO	1,(1B14)	;SET DON'T REPORT RAE BIT
 13677	043266	260 17 0 00 057421 		GO	LRPDA		;LOAD DA REGISTER
 13678	043267	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13679
 13680	043270	200 01 0 00 066700 		MOVE	1,[1B14!5]	;A SEEK COMMAND
 13681	043271	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 13682	043272	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13683
 13684	043273	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-103
DSRPA3	MAC	23-Feb-79 09:36		INVALID ADDRESS LOGIC TESTS                                                        SEQ 0520

 13685	043274	260 17 0 00 057604 		GO	RRPER1		;READ ER-1
 13686	043275	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 13687	043276	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 13688
 13689	043277	606 01 0 00 002000 		TRNN	1,1B25		;IS "IAE" SET?
 13690	043300	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 13691	043301	027 00 0 00 043304 		SCOPE	TB253		;YES. CALL SCOPE ROUTINE
 13692	043302	254 00 0 00 043255 		JRST	T253L		;LOOP
 13693	043303	254 00 0 00 043251 		JRST	T253S		;CONTINUE
 13694
 13695					;SCOPE TABLE FOR THIS TEST
 13696
 13697	043304	057274	057316		TB253:	SNAPS,,DUMPS		;DEFINE SNAPSHOT AND DUMP ROUTINE
 13698	043305	100000	067604			NOINH![ASCIZ/ATTEMPTING A SEEK TO TRACK 19. HAS NOT CAUSED "IAE"/]
 13699	043306	420000	077765			LAST!HIPROB!SS
 13700
 13701					 	XLIST
 13702					 	LIST
 13703						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-104
DSRPA3	MAC	23-Feb-79 09:36		INVALID ADDRESS LOGIC TESTS                                                        SEQ 0521

 13704					S^;*********************************************************************^
 13705					;*TEST-254 VERIFY THAT LEGAL SECTORS DON'T CAUSE IAE'S 
 13706					S^;*********************************************************************^
 13707
 13708					COMMENT	$
 13709
 13710						TEST DESCRIPTION
 13711						---------------- 
 13712						VERIFY (IN 20 SECTOR MODE) THAT ISSUING SEEKS TO THE LEGAL
 13713						SECTORS DOES NOT CAUSE "IAE" TO SET. THE FOLLOWING SEQUENCE
 13714						IS USED:
 13715						1.  MAST  RESET (TO CLEAR ERRORS)
 13716						2.  GO INTO MAINT MODE
 13717						3.  GO INTO 20 SECTOR MODE
 13718						4.  LOAD 0'S TO DESIRED CYLINDER REGISTER
 13719						5.  LOAD DA REG WITH TRACK=0 CURRENT SECTOR
 13720						6.  ISSUE A SEEK COMMAND (STROBE THE "IAE" FLOP)
 13721						7.  READ ER-1
 13722						8.  VERIFY THAT "IAE" IS NOT SET
 13723
 13724						RECOMMENDED DEBUG PROCEDURE
 13725						--------------------------- 
 13726						NONE
 13727						$
 13728					 	SALL
 13729
 13730
 13731	043307	201 01 0 00 000254 	TST254:	MOVEI	1,254		;GET THE TEST NUMBER
 13732	043310	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 13733
 13734	043311	260 17 0 00 060522 	T254S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 13735	043312	263 17 0 00 000000 		RTN			;TRIED ALL
 13736	043313	255 00 0 00 000000 		JFCL			;NEXT READY
 13737
 13738	043314	201 07 0 00 710200 		MOVEI	RGLIST,710200	;SET UP THE REGISTER LIST
 13739	043315	200 02 0 00 067573 		MOVE	2,[-^D19,,0]	;COUNTER,, SECTOR
 13740
 13741	043316	260 17 0 00 055673 	T254L:	GO	ONCHK		;GET DEVICE ON LINE
 13742
 13743	043317	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 13744
 13745	043320	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 13746
 13747	043321	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 13748
 13749	043322	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13750	043323	260 17 0 00 057440 		GO	LRPDC		;LOAD THE DESIRED CYLINDER REG
 13751	043324	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13752
 13753	043325	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13754	043326	540 01 0 00 000002 		HRR	1,2		;GET SECTOR ADDRESS FROM AC2
 13755	043327	260 17 0 00 057421 		GO	LRPDA		;LOAD DA REGISTER
 13756	043330	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13757
 13758	043331	200 01 0 00 066700 		MOVE	1,[1B14!5]	;GET A SEEK COMMAND
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-105
DSRPA3	MAC	23-Feb-79 09:36		INVALID ADDRESS LOGIC TESTS                                                        SEQ 0522

 13759	043332	260 17 0 00 057402 		GO	LRPCS1		;ISSUE A SEEK COMMAND
 13760	043333	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13761
 13762	043334	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13763	043335	260 17 0 00 057604 		GO	RRPER1		;READ ERROR REG-1
 13764	043336	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13765	043337	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 13766
 13767	043340	602 01 0 00 002000 		TRNE	1,1B25		;IS "IAE" SET
 13768	043341	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
 13769	043342	027 00 0 00 043346 		SCOPE	TB254		;NO. CALL SCOPE ROUTINE
 13770	043343	254 00 0 00 043316 		JRST	T254L		;LOOP
 13771	043344	253 02 0 00 043316 		AOBJN	2,T254L		;CONTINUE. JUMP UNTIL DONE
 13772	043345	254 00 0 00 043311 		JRST	T254S		;DONE
 13773
 13774					;SCOPE TABLE
 13775
 13776	043346	057274	057316		TB254:	SNAPS,,DUMPS		;DEFINE SNAPSHOT AND PRINT ROUTINE
 13777	043347	100000	067617			NOINH![ASCIZ/SEEKING TO A VALID SECTOR HAS CAUSED "IAE"/]
 13778	043350	100000	067630			NOINH![ASCIZ/DRIVE IS IN 20 SECTOR MODE/]
 13779	043351	420000	077765			LAST!HIPROB!SS
 13780
 13781					 	XLIST
 13782					 	LIST
 13783						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-106
DSRPA3	MAC	23-Feb-79 09:36		INVALID ADDRESS LOGIC TESTS                                                        SEQ 0523

 13784					S^;*********************************************************************^
 13785					;*TEST-255 VERIFY THAT ILLEGAL SECTOR CAUSES "IAE"
 13786					S^;*********************************************************************^
 13787
 13788					COMMENT	$
 13789
 13790						TEST DESCRIPTION
 13791						---------------- 
 13792						VERIFY (IN 20 SECTOR MODE) THAT ISSUING A SEEK TO SECTOR 20.
 13793						CAUSES "IAE" TO BE SET. THE FOLLOWING SEQUENCE IS USED:
 13794						1.  ISSUE MASTER CLEAR (CLEARS ERRORS)
 13795						2.  GO INTO MAINT MODE
 13796						3.  GO INTO 20 SECTOR MODE
 13797						4.  WRITE 0'S TO DESIRED CYLLINDER ADDRESS REGISTER
 13798						5.  WRITE DA REG WITH TRACK=0 AND SECTOR =20.
 13799						6.  ISSUE A SEEK COMMAND (STROBE "IAE" FLOP)
 13800						7.  READ ER-1
 13801						8.  VERIFY THAT "IAE" IS SET
 13802
 13803						RECOMMENDED DEBUG PROCEDURE
 13804						--------------------------- 
 13805						NONE
 13806						$
 13807					 	SALL
 13808
 13809
 13810	043352	201 01 0 00 000255 	TST255:	MOVEI	1,255		;GET THE TEST NUMBER
 13811	043353	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 13812
 13813	043354	260 17 0 00 060522 	T255S:	GO	DEVSEL		;SELECT A DEVICE
 13814	043355	263 17 0 00 000000 		RTN			;TRIED ALL
 13815	043356	255 00 0 00 000000 		JFCL			;NEXT READY
 13816
 13817	043357	201 07 0 00 710200 		MOVEI	RGLIST,710200
 13818
 13819	043360	260 17 0 00 055673 	T255L:	GO	ONCHK		;GET DRIVE ON-LINE
 13820
 13821	043361	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 13822
 13823	043362	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 13824
 13825	043363	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 13826
 13827	043364	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13828	043365	260 17 0 00 057440 		GO	LRPDC		;LOAD DESIRED CYL ADR REG
 13829	043366	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 13830
 13831	043367	200 01 0 00 067636 		MOVE	1,[1B14!^D20]	;GET ILLEGAL SECTOR
 13832	043370	260 17 0 00 057421 		GO	LRPDA		;LOAD DA REGISTER
 13833	043371	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13834
 13835	043372	200 01 0 00 066700 		MOVE	1,[1B14!5]	;GET A SEEK COMMAND
 13836	043373	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 13837	043374	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13838
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-107
DSRPA3	MAC	23-Feb-79 09:36		INVALID ADDRESS LOGIC TESTS                                                        SEQ 0524

 13839	043375	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13840	043376	260 17 0 00 057604 		GO	RRPER1		;READ ER-1
 13841	043377	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13842	043400	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 13843
 13844	043401	606 01 0 00 002000 		TRNN	1,1B25		;IS "IAE" SET
 13845	043402	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 13846	043403	027 00 0 00 043406 		SCOPE	TB255		;YES. CALL SCOPE ROUTINE
 13847	043404	254 00 0 00 043360 		JRST	T255L		;LOOP
 13848	043405	254 00 0 00 043354 		JRST	T255S		;CONTINUE
 13849
 13850					;SCOPE TABLE
 13851
 13852	043406	057274	057316		TB255:	SNAPS,,DUMPS		;DEFINE SNAPSHOT AND PRINT TOUTINE
 13853	043407	100000	067637			NOINH![ASCIZ/A SEEK TO SECTOR 20. DID NOT CAUSE "IAE"/]
 13854	043410	100000	067630			NOINH![ASCIZ/DRIVE IS IN 20 SECTOR MODE/]
 13855	043411	420000	077765			LAST!HIPROB!SS
 13856
 13857					 	XLIST
 13858					 	LIST
 13859						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-108
DSRPA3	MAC	23-Feb-79 09:36		INVALID ADDRESS LOGIC TESTS                                                        SEQ 0525

 13860					S^;*********************************************************************^
 13861					;*TEST-256 VERIFY THAT LEGAL SECTORS DON'T CAUSE "IAE"
 13862					S^;*********************************************************************^
 13863
 13864					COMMENT	$
 13865
 13866						TEST DESCRIPTION
 13867						---------------- 
 13868						VERIFY (IN 22 SECTOR MODE) THAT SEEKING TO LEGAL SECTORS
 13869						DOES NOT CAUSE "IAE". THE FOLLOWING SEQUENCE IS USED:
 13870						1.  MASTER CLEAR (CLEAR ERRORS)
 13871						2.  GO INTO 22 SECTOR MODE
 13872						3.  GO INTO MAINT MODE
 13873						4.  WRITE 0'S TO DESIRED CYLINDER REGISTER
 13874						5.  WRITE DA REG WITH TRACK=0 CURRENT SECTOR
 13875						6.  ISSUE A SEEK (STROBE THE "IAE" FLOP)
 13876						7.  READ ER-1
 13877						8.  VERIFY THAT "IAE" IS NOT DETECTED
 13878
 13879						RECOMMENDED DEBUG PROCEDURE
 13880						--------------------------- 
 13881						NONE
 13882						$
 13883					 	SALL
 13884
 13885
 13886	043412	201 01 0 00 000256 	TST256:	MOVEI	1,256		;GET TEST NUMBER
 13887	043413	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 13888
 13889	043414	260 17 0 00 060522 	T256S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 13890	043415	263 17 0 00 000000 		RTN			;TRIED ALL
 13891	043416	255 00 0 00 000000 		JFCL			;NEXT READY
 13892
 13893	043417	201 07 0 00 710200 		MOVEI	RGLIST,710200	;SET UP REGISTER LIST
 13894	043420	200 02 0 00 067650 		MOVE	2,[-^D22,,0]	;COUNTER,, SECTOR
 13895
 13896	043421	260 17 0 00 055673 	T256L:	GO	ONCHK		;GET DEVICE ON LINE
 13897
 13898	043422	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 13899
 13900	043423	260 17 0 00 056121 		GO	MODE22		;GO INTO 22 SECTOR MODE
 13901
 13902	043424	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 13903
 13904	043425	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13905	043426	260 17 0 00 057440 		GO	LRPDC		;LOAD DESIRED CYLINDER REG
 13906	043427	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13907
 13908	043430	550 01 0 00 000002 		HRRZ	1,2		;GET CURRENT SECTOR
 13909	043431	661 01 0 00 000010 		TLO	1,(1B14)	;SET DON'T REPORT RAE BIT
 13910	043432	260 17 0 00 057421 		GO	LRPDA		;LOAD THE DA REG
 13911	043433	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13912
 13913	043434	200 01 0 00 066700 		MOVE	1,[1B14!5]	;GET A SEEK COMMAND
 13914	043435	260 17 0 00 057402 		GO	LRPCS1		;LOAD CONTROL REGISTER
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-109
DSRPA3	MAC	23-Feb-79 09:36		INVALID ADDRESS LOGIC TESTS                                                        SEQ 0526

 13915	043436	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13916
 13917	043437	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13918	043440	260 17 0 00 057604 		GO	RRPER1		;READ ER-1
 13919	043441	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13920	043442	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 13921
 13922	043443	602 01 0 00 002000 		TRNE	1,1B25		;IS "IAE" SET
 13923	043444	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
 13924	043445	027 00 0 00 043451 		SCOPE	TB256		;NO. CALL THE SCOPE ROUTINE
 13925	043446	254 00 0 00 043421 		JRST	T256L		;LOOP
 13926	043447	253 02 0 00 043421 		AOBJN	2,T256L		;CONTINUE. JUMP IF NOT DONE
 13927	043450	254 00 0 00 043414 		JRST	T256S		;DONE
 13928
 13929					;SCOPE TABLE
 13930
 13931	043451	057274	057316		TB256:	SNAPS,,DUMPS		;DEFINE SNAPSHOT AND PRINT ROUTINES
 13932	043452	100000	067651			NOINH![ASCIZ/SEEK TO A LEGAL SECTOR HAS CAUSED "IAE"/]
 13933	043453	100000	067661			NOINH![ASCIZ/DRIVE IS IN 22 SECTOR MODE/]
 13934	043454	420000	077765			LAST!HIPROB!SS
 13935
 13936					 	XLIST
 13937					 	LIST
 13938						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-110
DSRPA3	MAC	23-Feb-79 09:36		INVALID ADDRESS LOGIC TESTS                                                        SEQ 0527

 13939					S^;*********************************************************************^
 13940					;*TEST-257 VERIFY THAT ILLEGAL SECTOR CAUSES "IAE"
 13941					S^;*********************************************************************^
 13942
 13943					COMMENT	$
 13944
 13945						TEST DESCRIPTION
 13946						---------------- 
 13947						VERIFY (IN 22 SECTOR MODE) THAT ISSUING A SEEK TO SECTOR 22.
 13948						CAUSES "IAE" TO OCCUR. THE FOLLOWING SEQUENCE IS USED:
 13949						1.  ISSUE MASTER RESET (TO CLEAR ERRORS)
 13950						2.  GO INTO 22 SECTOR MODE
 13951						3.  GO INTO MAINT MODE
 13952						4.  WRITE 0'S TO DESIRED CYLINDER ADDRESS REGISTER
 13953						5.  WRITE TRACK=0 AND SECTOR=22. TO DA REGISTER
 13954						6.  ISSUE A SEEK COMMAND. (STROBE THE "IAE" FLOP)
 13955						7.  READ ERROR REG-1
 13956						8.  VERIFY THAT "IAE" IS SET
 13957
 13958						RECOMMENDED DEBUG PROCEDURE
 13959						--------------------------- 
 13960						NONE
 13961						$
 13962					 	SALL
 13963
 13964
 13965	043455	201 01 0 00 000257 	TST257:	MOVEI	1,257		;GET TEST NUMBER
 13966	043456	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 13967
 13968	043457	260 17 0 00 060522 	T257S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 13969	043460	263 17 0 00 000000 		RTN			;TRIED ALL
 13970	043461	255 00 0 00 000000 		JFCL			;NXT READY
 13971
 13972	043462	201 07 0 00 710200 		MOVEI	RGLIST,710200	;SET UP REGISTER LIST
 13973
 13974	043463	260 17 0 00 055673 	T257L:	GO	ONCHK		;GET DEVICE ON LINE
 13975
 13976	043464	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 13977
 13978	043465	260 17 0 00 056121 		GO	MODE22		;GO INTO 22-SECTOR MODE
 13979
 13980	043466	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 13981
 13982	043467	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13983	043470	260 17 0 00 057440 		GO	LRPDC		;LOAD DESIRED CYLINDER REG
 13984	043471	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 13985
 13986	043472	201 01 0 00 000026 		MOVEI	1,^D22		;GET ILLEGAL SECTOR
 13987	043473	661 01 0 00 000010 		TLO	1,(1B14)	;SET DON'T REPORT RAE BIT
 13988	043474	260 17 0 00 057421 		GO	LRPDA		;LOAD THE DA REGISTER
 13989	043475	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13990
 13991	043476	200 01 0 00 066700 		MOVE	1,[1B14!5]	;GET A SEEK COMMAND
 13992	043477	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 13993	043500	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-111
DSRPA3	MAC	23-Feb-79 09:36		INVALID ADDRESS LOGIC TESTS                                                        SEQ 0528

 13994
 13995	043501	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 13996	043502	260 17 0 00 057604 		GO	RRPER1		;READ ER-1
 13997	043503	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 13998	043504	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 13999
 14000	043505	606 01 0 00 002000 		TRNN	1,1B25		;IS "IAE" SET
 14001	043506	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 14002	043507	027 00 0 00 043512 		SCOPE	TB257		;YES. CALL THE ERROR RETURN
 14003	043510	254 00 0 00 043463 		JRST	T257L		;LOOP
 14004	043511	254 00 0 00 043457 		JRST	T257S		;CONTINUE
 14005
 14006					;SCOPE TABLE
 14007
 14008	043512	057274	057316		TB257:	SNAPS,,DUMPS		;DEFINE A SNAPSHOT AND PRINT ROUTINE
 14009	043513	100000	067667			NOINH![ASCIZ/SEEK TO SECTOR=22. FAILED TO SET "IAE"/]
 14010	043514	100000	067661			NOINH![ASCIZ/DRIVE IS IN 22 SECTOR MODE/]
 14011	043515	420000	077765			LAST!HIPROB!SS
 14012
 14013					SUBTTL	A SEEK CONTROL LOGIC TEST
 14014					 	XLIST
 14015					 	LIST
 14016						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-112
DSRPA3	MAC	23-Feb-79 09:36		A SEEK CONTROL LOGIC TEST                                                          SEQ 0529

 14017					S^;*********************************************************************^
 14018					;*TEST-260 SEEK CONTROL WITH "IAE" SELECTED
 14019					S^;*********************************************************************^
 14020
 14021					COMMENT	$
 14022
 14023						TEST DESCRIPTION
 14024						---------------- 
 14025						TEST ESSENTIAL VERIFIES A SIGNAL "SS4 BAD ADR L" CAUSES:
 14026						A.  "SEEK GO CLEAR" TO CLEAR THE GO BIT
 14027						B.  INHIBITS THE SETTING OF "SS0 SEEK GO"
 14028						THE FOLLOWING TEST SEQUENCE IS USED:
 14029						1.  ISSUE MASTER CLEAR (TO CLEAR ERRORS)
 14030						2.  GO INTO MAINT MODE AND SET CCY TO ZERO
 14031						3.  LOAD DCY WITH ILLEGAL CYLINDER (815.)
 14032						4.  ISSUE A SEEK
 14033						5.  READ ER-1 AND CONTROL REGISTER
 14034						6.  ISSUE RHCLR
 14035						7.  READ DCY AND CCY
 14036						8.  VERIFY THAT GO IS ZERO AND THAT CCY IS NOT 815.
 14037
 14038						RECOMMENDED DEBUG PROCEDURE
 14039						--------------------------- 
 14040						NONE
 14041						$
 14042					 	SALL
 14043
 14044
 14045	043516	201 01 0 00 000260 	TST260:	MOVEI	1,260		;GET THE TEST NUMBER
 14046	043517	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 14047
 14048	043520	260 17 0 00 060522 	T260S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 14049	043521	263 17 0 00 000000 		RTN			;TRIED ALL
 14050	043522	255 00 0 00 000000 		JFCL			;NEXT READY
 14051
 14052	043523	260 17 0 00 055673 	T260L:	GO	ONCHK		;GET DRIVE ON LINE
 14053
 14054	043524	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 14055
 14056	043525	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 14057
 14058	043526	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 14059	043527	260 17 0 00 057440 		GO	LRPDC		;LOAD DESIRED CYLINDER
 14060	043530	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 14061
 14062	043531	200 01 0 00 066700 		MOVE	1,[1B14!5]	;GET A SEEK COMMAND
 14063	043532	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 14064	043533	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 14065
 14066	043534	260 17 0 00 060723 		GO	MSTCLR		;XFERS DCY TO CCY
 14067
 14068	043535	260 17 0 00 056000 		GO	MMODE		;BACK INTO MAINT MODE
 14069
 14070	043536	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 14071	043537	435 01 0 00 001457 		IORI	1,^D815		;GET ILLEGAL CYLINDER
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-113
DSRPA3	MAC	23-Feb-79 09:36		A SEEK CONTROL LOGIC TEST                                                          SEQ 0530

 14072	043540	260 17 0 00 057440 		GO	LRPDC		;LOAD DESIRED CYLINDER ADDR REG
 14073	043541	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 14074
 14075	043542	200 01 0 00 066700 		MOVE	1,[1B14!5]	;GET A SEEK COMMAND
 14076	043543	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 14077	043544	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 14078
 14079	043545	201 07 0 00 700000 		MOVEI	RGLIST,700000	;SELECT REGISTERS TO BE SNAPSHOT
 14080	043546	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT CR,ER-1,SR
 14081
 14082	043547	260 17 0 00 060723 		GO	MSTCLR		;ISSUE RHCLR
 14083
 14084	043550	201 07 0 00 000300 		MOVEI	RGLIST,300	;SELECT REGISTERS TO BE SNAPSHOT
 14085	043551	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT DCY,CCY
 14086
 14087	043552	201 07 0 00 700300 		MOVEI	RGLIST,700300	;SET UP FOR PRINTING ALL THOSE READ
 14088
 14089	043553	200 01 0 00 077632 		MOVE	1,SRPCS1	;GET CONTROL REGISTER DATA
 14090	043554	602 01 0 00 000001 		TRNE	1,1		;IS GO BIT CLEAR
 14091	043555	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 14092	043556	027 00 0 00 043572 		SCOPE	TB260A		;YES. CALL SCOPE ROUTINE
 14093	043557	254 00 0 00 043523 		JRST	T260L		;LOOP
 14094	043560	255 00 0 00 000000 		JFCL			;CONTINUE
 14095
 14096	043561	135 00 0 00 067677 		LDB	[POINT 9,SRPCC,35] ;GET CURRENT CYLINDER
 14097	043562	306 00 0 00 001457 		CAIN	0,^D815		;DID DCA MOVE TO CCA
 14098	043563	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
 14099	043564	027 00 0 00 043577 		SCOPE	TB260B		;NO. CALL SCOPE ROUTINE
 14100	043565	254 00 0 00 043523 		JRST	T260L		;LOOP
 14101	043566	254 00 0 00 043520 		JRST	T260S		;CONTINUE
 14102
 14103					;A PRINT ROUTINE FOR THIS TEST
 14104
 14105	043567	201 07 0 00 700300 	PNT260:	MOVEI	RGLIST,700300	;Q REGISTER FOR PRINTING
 14106	043570	260 17 0 00 057316 		GO	DUMPS		;CAN THE DUMP ROUTINE
 14107	043571	263 17 0 00 000000 		RTN			;AND EXIT
 14108
 14109					;SCOPE TABLES
 14110
 14111	043572	000000	043567		TB260A:	0,,PNT260		;DEFINE A PRINT ROUTINE
 14112	043573	100000	067700			NOINH![ASCIZ/GO-BIT NOT CLEARING WHEN SEEKING TO ILLEGAL ADDRESS/]
 14113	043574	400000	077765			HIPROB!SS
 14114	043575	400000	077775			HIPROB!RG
 14115	043576	620000	077761			LAST!LOPROB!SN
 14116
 14117	043577	000000	043567		TB260B:	0,,PNT260		;DEFINE A PRINT ROUTINE
 14118	043600	100000	067713			NOINH![ASCIZ/"BAD ADR" IS NOT INHIBITING THE SETTING OF THE "SEEK GO" FLOP/]
 14119	043601	100000	067730			NOINH![ASCIZ/PROOF: DCY HAS TRANSFERED TO CCY/]
 14120	043602	420000	077765			LAST!HIPROB!SS
 14121
 14122					SUBTTL	A DATA TEST OF THE CURRENT CYLINDER ADDRESS REGISTER
 14123					 	XLIST
 14124					 	LIST
 14125						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-114
DSRPA3	MAC	23-Feb-79 09:36		A DATA TEST OF THE CURRENT CYLINDER ADDRESS REGISTER                               SEQ 0531

 14126					S^;*********************************************************************^
 14127					;*TEST-261 CURRENT CYLINDER ADDRESS REGISTER TEST
 14128					S^;*********************************************************************^
 14129
 14130					COMMENT	$
 14131
 14132						TEST DESCRIPTION
 14133						---------------- 
 14134						DATA TEST THE CURRENT CYLINDER ADDRESS REGISTER BY TRANSFERRING
 14135						VARIOUS PATTERNS INTO IT FROM THE DESIRED ADDRESS REGISTER. THE
 14136						FOLLOWING TEST SEQUENCE IS USED:
 14137						1.  ISSUE MASTER CLEAR (CLEARS ERRORS)
 14138						2.  GO INTO MAINT MODE
 14139						3.  LOAD PATTERN INTO DESIRED CYLINDER ADR REG
 14140						4.  ISSUE A SEEK COMMAND
 14141						5.  ISSUE MASTER CLEAR (TERMINATES SEEK XFERS DCY TO CCY)
 14142						6.  READ CONTROL REG, DCY,CCY
 14143						7.  VERIFY THAT DCY COPIED TO CCY CORRECTLY
 14144
 14145						RECOMMENDED DEBUG PROCEDURE
 14146						--------------------------- 
 14147						THE FOLLOWING FAULTS COULD CAUSE A FAILURE TO BE DETECTED
 14148						1.  DIFFERENCE COUNTER FAULT INHIBITED XFER (SS2)
 14149						2.  FAULTY CONTROL LOGIC (SS0)
 14150						3.  CCY REG FAULT (SS1)
 14151						4.  CCY MUX FAULT (SS6)
 14152						5.  RESET LOGIC FAULT COMING FROM (RG)
 14153						6.  RESET -OR- GATE FAILURE TO CCY REGISTER (SS1)
 14154						$
 14155					 	SALL
 14156
 14157
 14158	043603	201 01 0 00 000261 	TST261:	MOVEI	1,261		;GET THE TEST NUMBER
 14159	043604	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 14160
 14161	043605	260 17 0 00 060522 	T261S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 14162	043606	263 17 0 00 000000 		RTN			;TRIED ALL
 14163	043607	476 00 0 00 077330 		SETOM	SHMODE		;NEXT READY. SET PRINTOUT MODE
 14164
 14165	043610	201 07 0 00 710300 		MOVEI	RGLIST,710300	;FOR PRINTING DCY AND CCY
 14166	043611	402 00 0 00 000002 		SETZM	2		;AN INDEX REG FOR FETCHING PATTERN
 14167
 14168	043612	260 17 0 00 055673 	T261L:	GO	ONCHK		;GET DEVICE ON-LINE
 14169
 14170	043613	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 14171
 14172	043614	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 14173
 14174	043615	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ZEROS
 14175	043616	260 17 0 00 057421 		GO	LRPDA		;CLEAR THE DA REGISTER
 14176	043617	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 14177
 14178	043620	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 14179	043621	260 17 0 00 057440 		GO	LRPDC		;LOAD DESIRED CYL ADR WITH 0'S
 14180	043622	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-115
DSRPA3	MAC	23-Feb-79 09:36		A DATA TEST OF THE CURRENT CYLINDER ADDRESS REGISTER                               SEQ 0532

 14181
 14182	043623	200 01 0 00 066700 		MOVE	1,[1B14!5]	;GET A SEEK COMMAND
 14183	043624	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 14184	043625	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 14185
 14186	043626	260 17 0 00 060723 		GO	MSTCLR		;XFERS 0'S FROM DCY TO CCY
 14187	043627	255 00 0 00 000000 		JFCL			;CCY=DCY=0 FOR INITIALIZATION
 14188	043630	260 17 0 00 056000 		GO	MMODE		;GO BACK INTO MAINT MODE
 14189
 14190	043631	200 01 0 02 043655 		MOVE	1,TBL261(2)	;GET NEXT DATA PATTERN
 14191	043632	661 01 0 00 000010 		TLO	1,(1B14)	;SET DON'T REPORT RAE BIT
 14192	043633	260 17 0 00 057440 		GO	LRPDC		;LOAD DCY
 14193	043634	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 14194
 14195	043635	200 01 0 00 066700 		MOVE	1,[1B14!5]	;GET A SEEK COMMAND
 14196	043636	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 14197	043637	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 14198
 14199	043640	260 17 0 00 060723 		GO	MSTCLR		;ABORT SEEK. XFER DCY TO CCY
 14200
 14201	043641	260 17 0 00 057274 		GO	SNAPS		;READS DCY AND CCY INTO CODE
 14202
 14203	043642	200 01 0 00 077650 		MOVE	1,SRPDC		;GETS DCY DATA TO AC1
 14204	043643	430 01 0 00 077651 		XOR	1,SRPCC		;EXCLUSIVE-OR DCY AND CCY DATA
 14205	043644	602 01 0 00 177777 		TRNE	1,177777	;NOW SEE IF DATA FIELDS ARE DIFFERENT
 14206	043645	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
 14207	043646	027 00 0 00 043703 		SCOPE	TB261		;NO. CALL SCOPE ROUTINE
 14208	043647	254 00 0 00 043612 		JRST	T261L		;LOOP
 14209	043650	255 00 0 00 000000 		JFCL			;CONTINUE
 14210
 14211					;UPDATE POINTER AND SEE IF DONE
 14212
 14213	043651	350 00 0 00 000002 		AOS	2		;BUMP INDEX REGISTER
 14214	043652	200 00 0 02 043655 		MOVE	0,TBL261(2)	;FETCH NEXT DATA PATTERN
 14215	043653	322 00 0 00 043605 		JUMPE	0,T261S		;ZERO'S MEANS WERE DONE
 14216	043654	254 00 0 00 043612 		JRST	T261L		;OTHERWISE LOOP
 14217
 14218					;DATA PATTERN TABLE FOR THIS TEST
 14219
 14220					 	XLIST
 14221						LIST
 14222
 14223	043655	000000	000000		TBL261:	0000
 14224	043656	000000	001000			1000
 14225	043657	000000	000400			0400
 14226	043660	000000	000200			0200
 14227	043661	000000	000100			0100
 14228	043662	000000	000040			0040
 14229	043663	000000	000020			0020
 14230	043664	000000	000010			0010
 14231	043665	000000	000004			0004
 14232	043666	000000	000002			0002
 14233	043667	000000	000001			0001
 14234	043670	000000	000777			0777
 14235	043671	000000	000577			0577
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-116
DSRPA3	MAC	23-Feb-79 09:36		A DATA TEST OF THE CURRENT CYLINDER ADDRESS REGISTER                               SEQ 0533

 14236	043672	000000	001177			1177
 14237	043673	000000	001377			1377
 14238	043674	000000	001337			1337
 14239	043675	000000	001357			1357
 14240	043676	000000	001367			1367
 14241	043677	000000	001373			1373
 14242	043700	000000	001375			1375
 14243	043701	000000	001376			1376
 14244	043702	000000	000000			0000
 14245
 14246					 	XLIST
 14247						LIST
 14248
 14249					;SCOPE TABLE FOR THIS TEST
 14250
 14251	043703	000000	057316		TB261:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 14252	043704	100000	067737			NOINH![ASCIZ/DATA NOT XFERING FROM DCY TO CCY CORRECTLY/]
 14253	043705	100000	067750			NOINH![ASCIZ/CORRECT PATTERN IS IN DCY. INCORRECT IN CCY/]
 14254	043706	400000	077765			HIPROB!SS
 14255	043707	620000	077775			LAST!LOPROB!RG
 14256
 14257					SUBTTL	PARTIAL TEST OF THE SUBTRACTOR LOGIC
 14258					 	XLIST
 14259					 	LIST
 14260						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-117
DSRPA3	MAC	23-Feb-79 09:36		PARTIAL TEST OF THE SUBTRACTOR LOGIC                                               SEQ 0534

 14261					S^;*********************************************************************^
 14262					;*TEST-262 VERIFY THAT SUBTRACTOR WORKS CORRECTLY FOR CCY=DCY
 14263					S^;*********************************************************************^
 14264
 14265					COMMENT	$
 14266
 14267						TEST DESCRIPTION
 14268						---------------- 
 14269						THIS TEST VERIFIES THAT THE SUBTRACTOR DOES NOT COME UP WITH
 14270						A DIFFERENCE WHEN CCY=DCY (DONE FOR ALL CYLINDERS)
 14271						THE FOLLOWING TEST SEQUENCE IS USED:
 14272						1.  ISSUE MASTER CLEAR
 14273						2.  GO INTO MAINT MODE
 14274						3.  LOAD DCY WITH CYLINDER
 14275						4.  ISSUE A SEEK COMMAND
 14276						5.  ISSUE MSTCLR (TERMINATE SEEK XFER DCY TO CCY)
 14277						6.  BACK INTO MAINT MODE (DCY NOW EQUALS CCY)
 14278						7.  ISSUE A SEEK COMMAND
 14279						8.  READ THE CONTROL REGISTER
 14280						9.  VERIFY THAT THE GO BIT IS CLEAR. IT SHOULD BE CLEAR
 14281						    BECAUSE THE DIFFERENCE SHOULD BE ZERO. ISSUING A SEEK
 14282						    WHEN DCY=CCY SHOULD INHIBIT THE SEEK FROM OCCURING AND
 14283						    AND GENERATE "SS0 SK GO CLR H" (SS0) TO CLEAR GO.
 14284
 14285						RECOMMENDED DEBUG PROCEDURE
 14286						--------------------------- 
 14287						POSSIBLE FAULTS:
 14288						1.  ANYTHING IN THE SUBTRACTOR LOGIC (SS2)
 14289						2.  SEEK CONTROL LOGIC FAULT (SS0)
 14290						$
 14291					 	SALL
 14292
 14293
 14294	043710	201 01 0 00 000262 	TST262:	MOVEI	1,262		;GET THE TEST NUMBER
 14295	043711	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 14296
 14297	043712	260 17 0 00 060522 	T262S:	GO	DEVSEL		;SELECTA DEVICE FOR TEST
 14298	043713	263 17 0 00 000000 		RTN			;TRIED ALL
 14299	043714	255 00 0 00 000000 		JFCL			;NEXT IS READY
 14300
 14301	043715	201 07 0 00 400300 		MOVEI	RGLIST,400300	;REGISTERS TO SNAPSHOT
 14302	043716	402 00 0 00 000002 		SETZM	2		;HOLD CYLINDER WE'RE WORKING ON
 14303
 14304	043717	260 17 0 00 055673 	T262L:	GO	ONCHK		;GET DEVICE ON-LINE
 14305
 14306	043720	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 14307
 14308	043721	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 14309
 14310	043722	200 01 0 00 000002 		MOVE	1,2		;GET DATA TO AC0
 14311	043723	661 01 0 00 000010 		TLO	1,(1B14)	;SET DON'T REPORT RAE BIT
 14312	043724	260 17 0 00 057440 		GO	LRPDC		;LOAD DESIRED CYLINDER REG
 14313	043725	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 14314
 14315	043726	200 01 0 00 066700 		MOVE	1,[1B14!5]	;GET A SEEK COMMAND
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-118
DSRPA3	MAC	23-Feb-79 09:36		PARTIAL TEST OF THE SUBTRACTOR LOGIC                                               SEQ 0535

 14316	043727	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 14317	043730	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 14318
 14319	043731	260 17 0 00 060723 		GO	MSTCLR		;TERMINATE SEEK. XFER DCY TO CCY
 14320
 14321	043732	260 17 0 00 056000 		GO MMODE		;GO BACK INTO MAINT MODE
 14322
 14323	043733	200 01 0 00 066700 		MOVE	1,[1B14!5]	;GET A SEEK COMMAND
 14324	043734	260 17 0 00 057402 		GO	LRPCS1		;ISSUE A SEEK WITH CCY=DCY
 14325	043735	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 14326
 14327	043736	260 17 0 00 057274 		GO	SNAPS		;READ CR,CCY,DCY
 14328
 14329	043737	200 01 0 00 077632 		MOVE	1,SRPCS1	;GET CONTROL REGISTER DATA
 14330	043740	602 01 0 00 000001 		TRNE	1,1		;IS GO CLEAR?
 14331	043741	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 14332	043742	027 00 0 00 043751 		SCOPE	TB262		;YES. CALL THE SCOPE ROUTINE
 14333	043743	254 00 0 00 043717 		JRST	T262L		;LOOP
 14334	043744	255 00 0 00 000000 		JFCL			;CONTINUE
 14335
 14336					;INCREMENT CYLINDER AND SEE IF DONE
 14337
 14338	043745	350 00 0 00 000002 		AOS	2		;INCREMENT CYLINDER
 14339					 	XLIST
 14340						LIST
 14341	043746	303 02 0 00 001456 		CAILE	2,^D814		;DONE
 14342					 	XLIST
 14343						LIST
 14344	043747	254 00 0 00 043712 		JRST	T262S		;YES
 14345	043750	254 00 0 00 043717 		JRST	T262L		;NO. LOOP
 14346
 14347					;SCOPE TABLE
 14348
 14349	043751	000000	057316		TB262:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 14350	043752	100000	067761			NOINH![ASCIZ/SUSPECT A SUBTRACTOR LOGIC FAULT/]
 14351	043753	100000	067770			NOINH![ASCIZ/DCL THINKS DCY IS NOT EQUAL TO CCY/]
 14352	043754	100000	067777			NOINH![ASCIZ/AND IS TRYING TO ISSUE A SEEK/]
 14353	043755	420000	077765			LAST!HIPROB!SS
 14354
 14355					SUBTTL	RECALIBRATE TEST
 14356					 	XLIST
 14357					 	LIST
 14358						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-119
DSRPA3	MAC	23-Feb-79 09:36		RECALIBRATE TEST                                                                   SEQ 0536

 14359					S^;*********************************************************************^
 14360					;*TEST-264 A FULL SPEED RECAL TEST
 14361					S^;*********************************************************************^
 14362
 14363					COMMENT	$
 14364
 14365						TEST DESCRIPTION
 14366						---------------- 
 14367						THIS TEST ISSUES A RECAL, WAITS FOR COMPLETION, TEST FOR
 14368						ERRORS FOLLOWING COMPLETION.
 14369						THE RECAL CAN ONLY BE TESTED AT FULL SPEED (FUNCTIONALLY)
 14370
 14371						RECOMMENDED DEBUG PROCEDURE
 14372						--------------------------- 
 14373						THERE ARE 2 FAILURE POSSIBILITIES:
 14374						A.  DEVICE TIMES OUT IN WHICH CASE IT WILL BE USEFUL TO
 14375						    REFER TO THE RECALIBRATE TIMING DIAGRAM
 14376						    IN AN ATTEMPT TO DETERMINE THE FAULTY AREA IN
 14377						    THE RECALIBRATE SEQUENCE.
 14378						B.  THE RECALIBRATE OPERATION HAS CAUSED SOME SORT OF ERROR.
 14379						    RECOMMEND SCOPING BACK FROM THE PARTICULAR ERROR FLOP
 14380						    TO DETERMINE WHAT THE FAULT ACTUALLY IS. TOO MANY
 14381						    MODULES ARE INVOLVED TO EVEN ATTEMPT A GUESS.
 14382						$
 14383					 	SALL
 14384
 14385
 14386	043756	201 01 0 00 000264 	TST264:	MOVEI	1,264		;GET THE TEST NUMBER
 14387	043757	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 14388
 14389	043760	260 17 0 00 060522 	T264S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 14390	043761	263 17 0 00 000000 		RTN			;TRIED ALL
 14391	043762	255 00 0 00 000000 		JFCL			;NXT RDY
 14392
 14393	043763	201 07 0 00 700160 		MOVEI	RGLIST,700160	;SET UP TO SNAPSHOT (CR,ER1,ER2,ER3,SR,CCY)
 14394
 14395	043764	260 17 0 00 055673 	T264L:	GO	ONCHK		;GET ON-LINE
 14396
 14397	043765	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 14398
 14399	043766	200 01 0 00 070005 		MOVE	1,[1B14!7]	;A BASIC RECAL COMMAND
 14400	043767	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REIGSTER
 14401	043770	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 14402
 14403	043771	260 17 0 00 056451 		GO	WAITGO		;WAIT TILL COMPLETION (GO=0)
 14404	043772	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT
 14405	043773	255 00 0 00 000000 		JFCL			;NO TIMEOUT
 14406
 14407	043774	205 01 0 00 000010 		MOVSI	1,(1B14)	;DONT REPORT RAE'S
 14408	043775	260 17 0 00 057601 		GO	RRPDS		;READ STATUS REGISTER
 14409	043776	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 14410	043777	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 14411
 14412	044000	602 01 0 00 040000 		TRNE	1,1B21		;COMPOSITE ERROR?
 14413	044001	476 00 0 00 000010 		SETOM	ERFLG		;YES, ERROR.
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-120
DSRPA3	MAC	23-Feb-79 09:36		RECALIBRATE TEST                                                                   SEQ 0537

 14414	044002	027 00 0 00 044005 		SCOPE	TB264		;NO, CALL SCOPE ROUTINE
 14415	044003	254 00 0 00 043764 		JRST	T264L		;LOOP
 14416	044004	254 00 0 00 043760 		JRST	T264S		;CONTINUE
 14417
 14418					;SCOPE TABLE
 14419
 14420	044005	057274	057316		TB264:	SNAPS,,DUMPS		;DEFINE SNAPSHOT AND DUMP ROUTINE
 14421	044006	100000	070006			NOINH![ASCIZ/RECALIBRATE COMMAND NOT WORKING CORRECTLY/]
 14422	044007	120000	070017			LAST!NOINH![ASCIZ/REFER TO DEBUG PROCEDURE IN THE LISTING/]
 14423
 14424					SUBTTL	A DCY RESET TEST
 14425					 	XLIST
 14426					 	LIST
 14427						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-121
DSRPA3	MAC	23-Feb-79 09:36		A DCY RESET TEST                                                                   SEQ 0538

 14428					S^;*********************************************************************^
 14429					;*TEST-265 TEST RESET OF CURRENT CYL ADR. REG
 14430					S^;*********************************************************************^
 14431
 14432					COMMENT	$
 14433
 14434						TEST DESCRIPTION
 14435						---------------- 
 14436						THIS TEST VERIFIES THAT ALL FLOPS IN THE CCY REGISTER
 14437						WILL RESET WITH A RECAL PULSE.  THE FOLLOWING SEQUENCE IS
 14438						USED: (TWO PATTERNS ARE REQUIRED (377 AND 1400 OCTAL))
 14439						1.  ISSUE MASTER RESET (TO CLEAR ERRORS)
 14440						2.  GO INTO MAINT MODE
 14441						3.  LOAD PATTERN INTO DESIRED CYLINDER ADDRESS REGISTER
 14442						4.  ISSUE A SEEK COMMAND
 14443						5.  ISSUE MASTER CLEAR (TO XFER DCY TO CCY)
 14444						6.  ISSUE A RECAL (SHOULD CLEAR CCY)
 14445						7.  READ CURRENT CYLINDER REGISTER
 14446						8.  IT SHOULD BE ZERO
 14447
 14448						RECOMMENDED DEBUG PROCEDURE
 14449						--------------------------- 
 14450						POSSIBLE FAULTS:
 14451						1.  STUCK FLOPS CCY REGISTER (SS)
 14452						2.  NO RECAL PULSE (RG)
 14453						3.  NO MODULE SELECT (SN) 
 14454						$
 14455					 	SALL
 14456
 14457
 14458	044010	201 01 0 00 000265 	TST265:	MOVEI	1,265		;GET THE TEST NUMBER
 14459	044011	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 14460
 14461	044012	260 17 0 00 060522 	T265S:	GO	DEVSEL		;SELECT A DEVICE
 14462	044013	263 17 0 00 000000 		RTN			;TRIED ALL
 14463	044014	255 00 0 00 000000 		JFCL			;NEXT IS READY
 14464
 14465	044015	201 02 0 00 001400 		MOVEI	2,1400		;1ST PATTERN
 14466
 14467	044016	201 07 0 00 600300 		MOVEI	RGLIST,600300	;REGISTERS (CR,SR,CKCY,DCY)
 14468
 14469	044017	260 17 0 00 055673 	T265L:	GO	ONCHK		;GET DEVICE ON-LINE
 14470
 14471	044020	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 14472
 14473	044021	260 17 0 00 056000 		GO	MMODE		;DO INTO MAINT MODE
 14474
 14475	044022	200 01 0 00 000002 		MOVE	1,2		;GET DATA PATTERN
 14476	044023	661 01 0 00 000010 		TLO	1,(1B14)	;SET DONT REPORT RAE BIT
 14477	044024	260 17 0 00 057440 		GO	LRPDC		;LOAD DESIRED CYL ADR REG
 14478	044025	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 14479
 14480	044026	200 01 0 00 066700 		MOVE	1,[1B14!5]	;GET A SEEK COMMAND
 14481	044027	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 14482	044030	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-122
DSRPA3	MAC	23-Feb-79 09:36		A DCY RESET TEST                                                                   SEQ 0539

 14483
 14484	044031	260 17 0 00 060723 		GO	MSTCLR		;TERMINATE SEEK. XFER DCY TO CCY
 14485
 14486	044032	260 17 0 00 056136 		GO	.RECAL		;ISSUE A RECAL
 14487	044033	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 14488
 14489	044034	260 17 0 00 057274 		GO	SNAPS		;NO ERROR. SNAPSHOT REGISTERS
 14490	044035	135 00 0 00 070027 		LDB	0,[POINT 16,SRPCC,35]  ;GET CCY DATA
 14491	044036	332 00 0 00 000000 		SKIPE	0		;DATA 0'S
 14492	044037	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 14493	044040	027 00 0 00 044047 		SCOPE	TB265		;CALL SCOPE ROUTINE
 14494	044041	254 00 0 00 044017 		JRST	T265L		;LOOP
 14495	044042	255 00 0 00 000000 		JFCL			;CONTINUE
 14496
 14497					;UPDATE FOR NEXT PATTERN, SEE IF DONE
 14498
 14499	044043	302 02 0 00 001400 		CAIE	2,1400		;PATTERN 1400?
 14500	044044	254 00 0 00 044012 		JRST	T265S		;NO, THEN WERE DONE
 14501	044045	640 02 0 00 001777 		TRC	2,1777		;NOT DONE CREATE NEXT PATTERN
 14502	044046	254 00 0 00 044017 		JRST	T265L		;AND LOOP
 14503
 14504					;SCOPE TABLE
 14505
 14506	044047	000000	057316		TB265:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 14507	044050	100000	070030			NOINH![ASCIZ/SOME BITS OF CCY DID NOT CLEAR WITH RECAL PULSE/]
 14508	044051	400000	077765			HIPROB!SS
 14509	044052	400000	077775			HIPROB!RG
 14510	044053	620000	077761			LAST!LOPROB!SN
 14511
 14512					SUBTTL	A TEST OF THE SUBTRACTOR LOGIC
 14513					 	XLIST
 14514					 	LIST
 14515						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-123
DSRPA3	MAC	23-Feb-79 09:36		A TEST OF THE SUBTRACTOR LOGIC                                                     SEQ 0540

 14516					S^;*********************************************************************^
 14517					;*TEST-266 TEST SUBTRACTOR LOGIC WITH A SERIES OF PATTERNS
 14518					S^;*********************************************************************^
 14519
 14520					COMMENT	$
 14521
 14522						TEST DESCRIPTION
 14523						---------------- 
 14524						THIS TEST APPLIES A SET OF PATTERNS TO CCY AND DCY AND
 14525						LOOKS FOR THE FACT THAT A DIFFERENCE WAS DETECTED. THE PATTERNS
 14526						COME FROM A LOOK UP TABLE. THE PATTERNS CHOSEN WILL CATCH
 14527						A VERY HIGH PERCENTAGE OF SUBTRACTOR FAULTS.
 14528
 14529						RECOMMENDED DEBUG PROCEDURE
 14530						--------------------------- 
 14531						NONE
 14532						$
 14533					 	SALL
 14534
 14535
 14536	044054	201 01 0 00 000266 	TST266:	MOVEI	1,266		;GET THE TEST NUMBER
 14537	044055	260 17 0 00 060630 		GO	TRACE		;CALL T TRACE ROUTINE
 14538	044056	260 17 0 00 060522 	T266S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 14539	044057	263 17 0 00 000000 		RTN			;TRIED ALL
 14540	044060	255 00 0 00 000000 		JFCL			;NEXT READY
 14541
 14542	044061	201 07 0 00 700300 		MOVEI	RGLIST,700300	;REGISTERS SELECTED
 14543	044062	200 02 0 00 067650 		MOVE	2,[-^D22,,0]	;INDEX FOR TABLE FETCH
 14544
 14545	044063	260 17 0 00 055673 	T266L:	GO	ONCHK		;GET DEVICE ON LINE
 14546
 14547	044064	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 14548
 14549	044065	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 14550
 14551	044066	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ZERO
 14552	044067	260 17 0 00 057421 		GO	LRPDA		;CLEARS THE DA REG
 14553	044070	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 14554
 14555	044071	554 01 0 02 044124 		HLRZ	1,TBL266(2)	;GET VALUE FOR CCY
 14556	044072	661 01 0 00 000010 		TLO	1,(1B14)	;SET DONT REPORT RAE BIT
 14557	044073	260 17 0 00 057440 		GO	LRPDC		;LOAD DCY
 14558	044074	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 14559
 14560	044075	200 01 0 00 066700 		MOVE	1,[1B14!5]	;GET A SEEK COMMAND
 14561	044076	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 14562	044077	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 14563
 14564	044100	260 17 0 00 060723 		GO	MSTCLR		;XFERS DCY TO CCY
 14565
 14566	044101	260 17 0 00 056000 		GO	MMODE		;GO BACK INTO MAINT MODE
 14567
 14568	044102	550 01 0 02 044124 		HRRZ	1,TBL266(2)	;FETCH DATA FOR DCY
 14569	044103	661 01 0 00 000010 		TLO	1,(1B14)	;SET DONT REPORT RAE BIT
 14570	044104	260 17 0 00 057440 		GO	LRPDC		;LOAD DCY
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-124
DSRPA3	MAC	23-Feb-79 09:36		A TEST OF THE SUBTRACTOR LOGIC                                                     SEQ 0541

 14571	044105	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 14572
 14573	044106	200 01 0 00 066700 		MOVE	1,[1B14!5]	;GET A SEEK COMMAND
 14574	044107	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 14575	044110	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 14576
 14577	044111	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT STATE OF HARDWARE
 14578
 14579	044112	200 01 0 00 077632 		MOVE	1,SRPCS1	;GET CONTROL REGISTER DATA
 14580	044113	606 01 0 00 000001 		TRNN	1,1		;IS GO - BIT SET
 14581	044114	476 00 0 00 000010 		SETOM	ERFLG		;NO, ERROR. NO DIFFERENCE DETECTED
 14582	044115	027 00 0 00 044121 		SCOPE	TB266		;YES. CALL THE SCOPE ROUTINE
 14583	044116	254 00 0 00 044063 		JRST	T266L		;LOOP
 14584	044117	253 02 0 00 044063 		AOBJN	2,T266L		;CONTINUE WITH NEXT PATTERN
 14585	044120	254 00 0 00 044056 		JRST	T266S		;DONE WITH ALL PATTERNS
 14586
 14587					;SCOPE TABLE FOR THIS TEST
 14588
 14589	044121	000000	057316		TB266:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 14590	044122	100000	070042			NOINH![ASCIZ/SUBTRACTOR LOGIC DETECTS THAT CCY AND DCY ARE EQUAL/]
 14591	044123	420000	077765			LAST!HIPROB!SS
 14592
 14593					;DATA PATTERN TABLE FOR THIS TEST (LEFT FOR CCY; RIGHT FOR DCY)
 14594					 	XLIST
 14595						IFN RP06,<LIST
 14596
 14597	044124	001000	000000		TBL266:	1000,,0
 14598	044125	000400	000000			400,,0
 14599	044126	000200	000000			200,,0
 14600	044127	000100	000000			100,,0
 14601	044130	000040	000000			40,,0
 14602	044131	000020	000000			20,,0
 14603	044132	000010	000000			10,,0
 14604	044133	000004	000000			4,,0
 14605	044134	000002	000000			2,,0
 14606	044135	000001	000000			1,,0
 14607	044136	001000	000777			1000,,777
 14608	044137	000400	000777			400,,777
 14609	044140	000200	000777			200,,777
 14610	044141	000100	000777			100,,777
 14611	044142	000040	000777			40,,777
 14612	044143	000020	000777			20,,777
 14613	044144	000010	000777			10,,777
 14614	044145	000004	000777			4,,777
 14615	044146	000002	000777			2,,777
 14616	044147	000001	000777			1,,777
 14617	044150	001000	001377			1000,,1377
 14618	044151	000400	001377			400,,1377
 14619					 	XLIST>
 14620					 	LIST
 14621	044152	000000	000000			000,,000
 14622
 14623					SUBTTL	SOME SEEK TESTS
 14624					 	XLIST
 14625					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-125
DSRPA3	MAC	23-Feb-79 09:36		SOME SEEK TESTS                                                                    SEQ 0542

 14626						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-126
DSRPA3	MAC	23-Feb-79 09:36		SOME SEEK TESTS                                                                    SEQ 0543

 14627					S^;*********************************************************************^
 14628					;*TEST-267 BASIC SEEK TEST
 14629					S^;*********************************************************************^
 14630
 14631					COMMENT	$
 14632
 14633						TEST DESCRIPTION
 14634						---------------- 
 14635						THIS TEST MERELY ISSUES A 1 CYLINDER SEEK AT FULL SPEED
 14636						AND TESTS FOR THE FOLLOWING SITUATIONS:
 14637						1.  DRIVE DOES NOT HANG
 14638						2.  NO ERRORS ARE CAUSED
 14639						3.  THAT DCY=CCY=1
 14640
 14641						RECOMMENDED DEBUG PROCEDURE
 14642						--------------------------- 
 14643						MODULE CALLOUT IS TOO DIFFICULT IN A FUNCTIONAL TEST LIKE THIS.
 14644						THIS TEST HAS WORKED PREVIOUSLY IN MAINT MODE. IF A FAILURE
 14645						IS DETECTED BY THIS TEST, IT IS RECOMMENDED THAT YOU USE
 14646						THE SEEK TIMING DIAGRAM
 14647						    IF THE DEVICE TIMES OUT (HANGS), THERE IS PROBABLY
 14648						A BASIC INTERFACE SIGNAL PROBLEM BETWEEN THE DCL AND DRIVE LOGIC.
 14649						    IF AN SKI OR OCYL ERROR CONDITION OCCUR, THERE IS
 14650						PROBABLY A DCL FAULT. CHECK FOR INCORRECT DIFFERENCE BEING
 14651						SENT TO THE DRIVE.
 14652						    IF ANY OTHER ERROR CONDITION OCCURS, IT WOULD BE
 14653						BEST TO TRACE BACK FROM THE ERROR LATCH UNTIL THE CAUSE
 14654						CAN BE DETERMINED.
 14655						$
 14656					 	SALL
 14657
 14658
 14659	044153	201 01 0 00 000267 	TST267:	MOVEI	1,267		;GET THE TEST NUMBER
 14660	044154	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 14661
 14662	044155	260 17 0 00 060522 	T267S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 14663	044156	263 17 0 00 000000 		RTN			;TRIED ALL
 14664	044157	255 00 0 00 000000 		JFCL			;NEXT READY
 14665
 14666	044160	201 07 0 00 700360 	T267L:	MOVEI	RGLIST,700360	;SET UP REGISTERS FOR SNAPSHOT
 14667
 14668	044161	260 17 0 00 055673 		GO	ONCHK		;GET DRIVE ON-LINE
 14669
 14670	044162	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 14671
 14672	044163	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 14673	044164	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR ERROR
 14674	044165	255 00 0 00 000000 		JFCL			;NO ERROR
 14675
 14676	044166	201 01 0 00 000001 		MOVEI	1,1		;DESIRED CYLINDER
 14677	044167	260 17 0 00 056167 		GO	.SEEK		;ISSUE A SEEK COMMAND
 14678	044170	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR ERROR
 14679
 14680	044171	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 14681
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-127
DSRPA3	MAC	23-Feb-79 09:36		SOME SEEK TESTS                                                                    SEQ 0544

 14682	044172	027 00 0 00 044205 		SCOPE	TB267A		;CALL SCOPE ROUTINE
 14683	044173	254 00 0 00 044160 		JRST	T267L		;LOOP
 14684	044174	255 00 0 00 000000 		JFCL			;CONTINUE
 14685
 14686	044175	201 07 0 00 400300 		MOVEI	RGLIST,400300	;SETUP REGS TO DUMP
 14687	044176	200 01 0 00 077651 		MOVE	1,SRPCC		;GET CCY DATA
 14688	044177	405 01 0 00 177777 		ANDI	1,177777	;SAVE 16 DATA BITS
 14689	044200	302 01 0 00 000001 		CAIE	1,1		;IS CCY=1
 14690	044201	476 00 0 00 000010 		SETOM	ERFLG		;NO, ERROR
 14691	044202	027 00 0 00 044210 		SCOPE	TB267B		;YES, CALL SCOPE ROUTINE
 14692	044203	254 00 0 00 044160 		JRST	T267L		;LOOP
 14693	044204	254 00 0 00 044155 		JRST	T267S		;CONTINUE
 14694
 14695					;SCOPE	TABLES FOR THIS TEST
 14696
 14697	044205	000000	057316		TB267A:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 14698	044206	100000	070055			NOINH![ASCIZ/BASIC SEEK FAILURE. CAN'T SEEK FROM 0 TO 1/]
 14699	044207	120000	070066		TB267C:	LAST!NOINH![ASCIZ/MODULE CALLOUT NOT POSSIBLE/]
 14700
 14701	044210	000000	057316		TB267B:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 14702	044211	100000	070074			NOINH![ASCIZ/OCY DID NOT XFER TO CCY AFTER SEEK TO CYL-1/]
 14703	044212	040000	044207			GOTO!TB267C
 14704
 14705					 	XLIST
 14706					 	LIST
 14707						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-128
DSRPA3	MAC	23-Feb-79 09:36		SOME SEEK TESTS                                                                    SEQ 0545

 14708					S^;*********************************************************************^
 14709					;*TEST-270 TEST OF "SKI" LOGIC
 14710					S^;*********************************************************************^
 14711
 14712					COMMENT	$
 14713
 14714						TEST DESCRIPTION
 14715						---------------- 
 14716						THIS TEST VERIFIES THAT THE SEEK INCOMPLETE LOGIC IS CAPABLE
 14717						OF DETECTING SUCH AN ERROR CONDITION. THE FOLLOWING SEQUENCE IS
 14718						USED TO TEST THE "SKI" LOGIC:
 14719						1.  CLEAR ERRORS
 14720						2. RECAL	(POSITIONER TO CYLINDER 0)
 14721						3.  SEEK TO CYLINDER-1	(POSITIONER TO CYLINDER-1)
 14722						4.  LOAD 400 INTO THE CCY (HARDWARE NOW OUT OF SYNCH)
 14723						5.  ISSUE A SEEK TO CYLINDER-375
 14724							THIS SHOULD CAUSE AN "SKI" ERROR. THE POSITIONER IS ALREADY
 14725							OVER CYLINDER-1 BUT IT THINKS A 4-CYL REVERSE SEEK
 14726							MUST BE DONE BECUASE CCY IS SITTING AT 400.
 14727						6.  READ ERROR REGISTER AND CCY REGISTER.
 14728						7.  VERIFY THAT "SKI" HAS OCCURRED.
 14729						8.  VERIFY THAT CCY IS NOW CLEAR. THIS IS TRUE BECAUSE "SKI"
 14730							CAUSES THE DRIVE TO INITIATE AN AUTOMATIC RECAL PULSE
 14731							WHICH CAUSES A "RESET REGS" TO OCCUR
 14732							AND RESET CCY IF THE SEQUENCE WORKS CORRECTLY.
 14733
 14734						RECOMMENDED DEBUG PROCEDURE
 14735						--------------------------- 
 14736						MODUE CALLOUT AGAIN IS TOO DIFFICULT IN THIS TEST TO BE
 14737						ACCURATE. ALTHOUGH THE REPORTED MODUES ARE POSSIBLY FAULTY,
 14738						IT IS NOT A COMPLETE SET AND SCOPING THE SEQUENCE WILL
 14739						PROBABLY BE NECESSARY.
 14740						$
 14741					 	SALL
 14742
 14743
 14744	044213	201 01 0 00 000270 	TST270:	MOVEI	1,270		;GET THE TEST NUMBER
 14745	044214	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 14746
 14747	044215	260 17 0 00 060522 	T270S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 14748	044216	263 17 0 00 000000 		RTN			;TRIED ALL
 14749	044217	255 00 0 00 000000 		JFCL			;NEXT READY
 14750
 14751	044220	201 07 0 00 700360 	T270L:	MOVEI	RGLIST,700360	;REGISTERS TO SNAPSHOT
 14752
 14753	044221	260 17 0 00 055673 		GO	ONCHK		;GET THE DRIVE ON-LINE
 14754
 14755	044222	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 14756
 14757	044223	260 17 0 00 056136 		GO	.RECAL		;POSITIONER TO CYL-0
 14758	044224	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 14759
 14760	044225	201 01 0 00 000001 		MOVEI	1,1		;WANT CYLINDER-1
 14761	044226	260 17 0 00 056167 		GO	.SEEK		;SEEK TO CYLINDER-1
 14762	044227	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-129
DSRPA3	MAC	23-Feb-79 09:36		SOME SEEK TESTS                                                                    SEQ 0546

 14763
 14764					;NOW POSITIONED OVER CYLINDER-1
 14765					;HERE IS CODE TO SET CCY=400, THUS PUTTING CCY OUT OF SYNC WITH POSITIONER
 14766
 14767	044230	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 14768
 14769	044231	200 01 0 00 070105 		MOVE	1,[1B14!400]	;GET VALUE FOR DCY
 14770	044232	260 17 0 00 057440 		GO	LRPDC		;LOAD DCY
 14771	044233	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 14772
 14773	044234	200 01 0 00 066700 		MOVE	1,[1B14!5]	;GET A SEEK COMMAND
 14774	044235	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 14775	044236	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 14776
 14777	044237	260 17 0 00 060723 		GO	MSTCLR		;TERMINATE SEEK. XFER DCY TO CCY
 14778
 14779					;TEST FOR ERRORS THUS FAR. THERE SHOULD BE NONE.  ALL PREVIOUS
 14780					;STEPS ARE KNOWN TO WORK. NO SENSE IN PROCEEDING IF WE'VE FAILED
 14781					;THE SET UP PROCEDURE. CCY=DCY=400 SHOULD BE PRESENT STATE.
 14782
 14783	044240	205 01 0 00 000010 		MOVSI	1,(1B14)	;DONT REPORT RAE'S
 14784	044241	260 17 0 00 057637 		GO	RRPCC		;READ CCY
 14785	044242	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 14786	044243	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 14787
 14788	044244	135 00 0 00 063764 		LDB	0,[POINT 16,1,35] ;GET REGISTER DATA
 14789	044245	302 00 0 00 000400 		CAIE	0,400		;IS IT 400
 14790	044246	476 00 0 00 000010 		SETOM	ERFLG		;NO, ERROR
 14791	044247	336 00 0 00 000010 		SKIPN	ERFLG		;ANY ERRORS SO FAR?
 14792	044250	254 00 0 00 044254 		JRST	T270NX		;NO, TO NEXT PART OF TEST
 14793	044251	027 00 0 00 044317 		SCOPE	TB270A		;YES
 14794	044252	254 00 0 00 044220 		JRST	T270L		;LOOP
 14795	044253	254 00 0 00 044215 		JRST	T270S		;CONTINUE, NO POINT IN CONTINUING
 14796
 14797					;MADE IT THROUGH SET UP PROCEDURE, ERROR FREE.  WE NOW HAVE
 14798					;POSITIONER OUT OF SYNC WITH DCL. POSITIONER IS OVER CYL-1 BUT
 14799					;CCY IS AT 400. A SEEK TO CYL-375 SHOULD NOW CAUSE "SKI"
 14800					;BECAUSE THE POSITIONER IS DRIVEN TO OUTER GUARD BAND
 14801
 14802	044254	201 01 0 00 000375 	T270NX:	MOVEI	1,375		;WANT CYL-375
 14803	044255	260 17 0 00 056167 		GO	.SEEK		;SEEK TO CYL-375
 14804	044256	255 00 0 00 000000 		JFCL			;ERROR OR TIMEOUT (EXPECT THIS)
 14805	044257	255 00 0 00 000000 		JFCL			;DONT EXPECT THIS
 14806
 14807	044260	260 17 0 00 057274 		GO	SNAPS		;READ REGISTERS
 14808	044261	332 00 0 00 000010 		SKIPE	ERFLG		;WAS THERE AN ERROR ?
 14809	044262	260 17 0 00 044303 		GO	ECOCHK		;YES. THEN PERFORM AN EXTRA CHECK
 14810	044263	402 00 0 00 000010 		SETZM	ERFLG		;I EXPECTED AN ERROR
 14811
 14812
 14813	044264	200 01 0 00 077653 		MOVE	1,SRPER3	;GET ER-3 DATA
 14814	044265	606 01 0 00 040000 		TRNN	1,1B21		;IS "SKI" SET
 14815	044266	476 00 0 00 000010 		SETOM	ERFLG		;NO, ERROR
 14816	044267	027 00 0 00 044321 		SCOPE	TB270B		;YES, CALL THE SCOPE ROUTINE
 14817	044270	254 00 0 00 044220 		JRST	T270L		;LOOP
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-130
DSRPA3	MAC	23-Feb-79 09:36		SOME SEEK TESTS                                                                    SEQ 0547

 14818	044271	255 00 0 00 000000 		JFCL			;CONTINUE
 14819
 14820	044272	135 00 0 00 070027 		LDB	0,[POINT 16,SRPCC,35] ;GET CCY DATA
 14821	044273	332 00 0 00 000000 		SKIPE	0		;DATA SHOULD BE ZERO
 14822	044274	476 00 0 00 000010 		SETOM	ERFLG		;CCY NOT CLEARD
 14823	044275	200 00 0 00 077653 		MOVE	0,SRPER3	;GET ER-3 DATA
 14824	044276	606 00 0 00 040000 		TRNN	0,1B21		;WAS THERE A SKI ERROR?
 14825	044277	402 00 0 00 000010 		SETZM	ERFLG		;NO, THATS WHY CCY IS NOT ZERO
 14826	044300	027 00 0 00 044324 		SCOPE	TB270C		;CALL THE SCOPE ROUTINE
 14827	044301	254 00 0 00 044220 		JRST	T270L		;LOOP
 14828	044302	254 00 0 00 044215 		JRST	T270S		;CONTINUE
 14829
 14830
 14831
 14832					;SPECIAL CODE TO INSURE THAT: - - FOLLOWING A SKI ERROR, THE
 14833					;GO BIT DOES NOT GET RESET UNTIL THE DRIVE HAS COMPLETED THE
 14834					;AUTO-RECAL. THIS IS AN ECO TO THE SS-BOARD
 14835
 14836	044303	260 17 0 00 055673 	ECOCHK:	GO	ONCHK		;MAKE SURE WE'RE ON LINE
 14837
 14838	044304	260 17 0 00 060723 		GO	MSTCLR		;SHOULD CLEAR SKI
 14839
 14840	044305	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 14841	044306	260 17 0 00 057645 		GO	RRPER3		;READ ER-2
 14842	044307	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 14843	044310	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 14844	044311	606 01 0 00 040000 		TRNN	1,1B21		;IS SKI CLEAR ?
 14845	044312	263 17 0 00 000000 		RTN			;YES. THEN WE'RE OK
 14846	044313	476 00 0 00 000010 		SETOM	ERFLG		;NO.
 14847	044314	027 00 0 00 044330 		SCOPE	TB270E		;CALL	 THE SCOPE ROUTINE
 14848	044315	254 00 0 00 044303 		JRST	ECOCHK		;WAIT FOR RECAL TO COMPLETE
 14849	044316	254 00 0 00 044303 		JRST	ECOCHK		;LIKEWISE
 14850
 14851					;SCOPE	TABLES FOR THIS TEST
 14852
 14853	044317	057274	057316		TB270A:	SNAPS,,DUMPS
 14854	044320	120000	070106			LAST!NOINH![ASCIZ/FAILURE IN TEST-270 SETUP STEPS/]
 14855
 14856	044321	000000	057316		TB270B:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 14857	044322	100000	070115			NOINH![ASCIZ/FAILED TO CAUSE AN "SKI" ERROR/]
 14858	044323	120000	070124		TB270D:	LAST!NOINH![ASCIZ/REFER TO LISTING FOR TEST SEQUENCE/]
 14859
 14860	044324	000000	057316		TB270C:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 14861	044325	100000	070133			NOINH![ASCIZ/AUTO-RECAL AFTER "SKI" ERROR DID NOT CLEAR CCY/]
 14862	044326	400000	077765			HIPROB!SS
 14863	044327	040000	044323			GOTO!TB270D
 14864
 14865	044330	000000	000000		TB270E:	0,,0
 14866	044331	100000	070145			NOINH![ASCIZ/GO-BIT IS CLEARING BEFORE THE FILE IS READY/]
 14867	044332	100000	070156			NOINH![ASCIZ/FOLLOWING A SKI ERROR/]
 14868	044333	100000	070163			NOINH![ASCIZ/THERE IS AN SS-BOARD ECO THAT FIXES THIS/]
 14869	044334	420000	077765			HIPROB!SS!LAST
 14870
 14871					 	XLIST
 14872					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-131
DSRPA3	MAC	23-Feb-79 09:36		SOME SEEK TESTS                                                                    SEQ 0548

 14873						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-132
DSRPA3	MAC	23-Feb-79 09:36		SOME SEEK TESTS                                                                    SEQ 0549

 14874					S^;*********************************************************************^
 14875					;*TEST-271 A TEST OF SUBTRACTOR DIFFERENCE LOGIC
 14876					S^;*********************************************************************^
 14877
 14878					COMMENT	$
 14879
 14880						TEST DESCRIPTION
 14881						---------------- 
 14882						THIS SET OF 2 SUBTESTS CAUSES SEEKS WITH ALL POSSIBLE
 14883						POSITIVE AND NEGATIVE SUBTRACTOR DIFFERENCES.
 14884						PHILOSOPHY:
 14885						THESE ARE FUNCTIONAL TESTS DESIGNED TO DETECT BUT NOT DIAGNOSE
 14886						A CLASS OF SEEK CONTROL LOGIC FAULTS.  SINCE THE OUTPUT OF THE
 14887						DIFFERENCE. LOGIC IS NOT VISIBLE, THIS TEST HAS TO BE VERY
 14888						FUNCTIONAL. IF WE SLIP POSITION DURING THE TEST SEQUENCE,
 14889						THE ERROR WILL ACCUMULATE AND AT SOME POINT IN THE
 14890						SEQUENCE, FORCE THE POSITIONER TO ONE OF THE GUARD
 14891						BANDS CAUSING A "SKI" TO OCCUR. UNFORTUNATELY, THE ONLY
 14892						THING WE CAN SAY ABOUT A FAULT DETECTED IN THIS TEST IS
 14893						THAT "A POSITIONER MALFUNCTION" EXISTS.
 14894						THE FOLLOWING TEST SEQUENCE IS USED:
 14895
 14896						FOR SUBTEST-#1
 14897						1.  N=1
 14898						2.  RHCLR
 14899						3.  RECAL
 14900						4.  SEEK TO CYL-N AND TEST FOR ERROR
 14901						5.  SEEK TO CYL-0 AND TEST FOR ERROR
 14902						6.  N=N+1
 14903						7.  DONE IF N=814. IF NOT DONE GO TO STEP-4
 14904
 14905						FOR SUBTEST-#2
 14906						1.  N=813.
 14907						2.  RHCLR
 14908						3.  RECAL
 14909						4.  SEEK TO CYL-814.
 14910						5.  SEEK TO CYL-N AND TEST FOR ERROR
 14911						6.  SEEK TO CYL-814. AND TEST FOR ERROR
 14912						7.  N=N-1
 14913						8.  DONE IF (N .LT. 0) OTHERWISE GO TO STEP-5
 14914
 14915						DO TO THE WAY IN WHICH THIS TEST COULD FAIL, THE STANDARD
 14916						SCOPE LOOP TECHNIQUE IS NOT USED. UPON DETECTING AN ERROR, THIS
 14917						TEST WILL REPORT, CLEAR AND REMEMBER THE FACT THAT AN ERROR
 14918						WAS COMMITTED. AFTER CYCLING THROUGH THE ENTIRE TEST, IT WILL
 14919						BE REPEATED IF LOOP ON ERROR HAS BEEN SELECTED AND AN ERROR
 14920						WAS DETECTED SOMEWHERE ALONG THE WAY
 14921
 14922						RECOMMENDED DEBUG PROCEDURE
 14923						--------------------------- 
 14924						POSITIONER ACCESS TIMES SHOULD BE CHECKED
 14925						ALONG WITH TACHOMETER GAIN ADJUSTMENTS
 14926						NONE
 14927						$
 14928					 	SALL
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-133
DSRPA3	MAC	23-Feb-79 09:36		SOME SEEK TESTS                                                                    SEQ 0550

 14929
 14930
 14931	044335	201 01 0 00 000271 	TST271:	MOVEI	1,271		;GET THE TEST NUMBER
 14932	044336	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 14933
 14934	044337	260 17 0 00 060522 	T271S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 14935	044340	263 17 0 00 000000 		RTN			;TRIED ALL
 14936	044341	201 07 0 00 700360 		MOVEI	RGLIST,700360	;NEXT IS READY
 14937
 14938					;SUBTEST#1
 14939
 14940	044342	402 00 0 00 077344 	T271AL:	SETZM	TMP#		;A TEMPORARY FLAG
 14941	044343	201 02 0 00 000001 		MOVEI	2,1		;COUNTER TO CYLINDER#1
 14942
 14943	044344	260 17 0 00 055673 		GO	ONCHK		;REQUEST THE DEVICE
 14944
 14945	044345	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 14946
 14947	044346	260 17 0 00 056136 		GO	.RECAL		;POSITION TO CYL-0
 14948	044347	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR ERROR
 14949	044350	255 00 0 00 000000 		JFCL			;NO ERROR
 14950
 14951	044351	334 00 0 00 000000 		SKIPA			;SKIP ON 1ST TIME THRU
 14952	044352	260 17 0 00 055673 	T271BL:	GO	ONCHK		;REQUEST THE DEVICE
 14953
 14954	044353	200 01 0 00 000002 		MOVE	1,2		;GET CYLINDER#
 14955	044354	260 17 0 00 056167 		GO	.SEEK		;SEEK TO IT
 14956	044355	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 14957	044356	255 00 0 00 000000 		JFCL			;NO ERROR
 14958
 14959	044357	027 00 0 00 044472 		SCOPE	TB271A		;CALL SCOPE ROUTINE
 14960	044360	476 00 0 00 077344 		SETOM	TMP		;LOOP. POSTPONE BY REMEMBERING
 14961	044361	255 00 0 00 000000 		JFCL			;CONTINUE
 14962
 14963	044362	260 17 0 00 055673 		GO	ONCHK		;REQUEST THE DEVICE
 14964
 14965	044363	402 00 0 00 000001 		SETZM	1		;BACK TO CYL=0
 14966	044364	260 17 0 00 056167 		GO	.SEEK		;SEEK
 14967	044365	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 14968
 14969	044366	027 00 0 00 044472 		SCOPE	TB271A		;CALL THE SCOPE ROUTINE
 14970	044367	476 00 0 00 077344 		SETOM	TMP		;LOOP. POSTPONE BUT REMEMBER
 14971	044370	255 00 0 00 000000 		JFCL			;CONTINUE
 14972
 14973	044371	350 00 0 00 000002 		AOS	2		;BUMP CYL#
 14974	044372	307 02 0 00 001456 		CAIG	2,^D814		;ARE WE DONE
 14975	044373	254 00 0 00 044352 		JRST	T271BL		;NO
 14976	044374	336 00 0 00 077344 		SKIPN	TMP		;YES, ERRORS SO FAR?
 14977	044375	254 00 0 00 044402 		JRST	T271CL		;NO, TO NXT SUBTST
 14978	044376	200 00 0 00 030046 		MOVE	0,CONSW		;YES, GET SWITCHES
 14979	044377	603 00 0 00 004000 		TLNE	0,(1B6)		;WANT TO LOOP?
 14980	044400	254 00 0 00 044342 		JRST	T271AL		;YES, REPEAT ENTIRE SUBTEST
 14981	044401	254 00 0 00 044402 		JRST	T271CL		;NO, TO NEXT SUBTEST
 14982
 14983					;SUBTEST#2
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-134
DSRPA3	MAC	23-Feb-79 09:36		SOME SEEK TESTS                                                                    SEQ 0551

 14984
 14985	044402	402 00 0 00 077344 	T271CL:	SETZM	TMP		;CLEAR TEMPORARY LOCATION
 14986	044403	201 02 0 00 001455 		MOVEI	2,^D813		;INITIAL CYLINDER
 14987
 14988	044404	260 17 0 00 055673 		GO	ONCHK		;REQUEST THE DEVICE
 14989
 14990	044405	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 14991
 14992	044406	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE POSITIONER
 14993	044407	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 14994	044410	255 00 0 00 000000 		JFCL			;NO ERROR
 14995
 14996	044411	201 01 0 00 001456 		MOVEI	1,^D814		;GET CYL=814
 14997	044412	260 17 0 00 056167 		GO	.SEEK		;SEEK TO IT
 14998	044413	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 14999	044414	255 00 0 00 000000 		JFCL			;NO, ERROR
 15000
 15001	044415	334 00 0 00 000000 		SKIPA			;SKIP ON 1ST TIME THROUGH
 15002	044416	260 17 0 00 055673 	T271DL:	GO	ONCHK		;REQUEST THE DEVICE
 15003
 15004	044417	200 01 0 00 000002 		MOVE	1,2		;GET CYLINDER NUMBER
 15005	044420	260 17 0 00 056167 		GO	.SEEK		;SEEK TO IT
 15006	044421	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR ERROR
 15007	044422	255 00 0 00 000000 		JFCL			;NO ERROR
 15008
 15009	044423	027 00 0 00 044474 		SCOPE	TB271B		;CALL THE SCOPE ROUTINE
 15010	044424	476 00 0 00 077344 		SETOM	TMP		;LOOP. POSTPONE BUT REMEMBER
 15011	044425	255 00 0 00 000000 		JFCL			;CONTINUE
 15012
 15013	044426	260 17 0 00 055673 		GO	ONCHK		;REQUEST THE DEVICE AGAIN
 15014
 15015	044427	201 01 0 00 001456 		MOVEI	1,^D814		;BACK TO CYL-814
 15016	044430	260 17 0 00 056167 		GO	.SEEK		;SEEK
 15017	044431	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 15018	044432	255 00 0 00 000000 		JFCL			;NO ERROR
 15019
 15020	044433	027 00 0 00 044474 		SCOPE	TB271B		;CALL THE SCOPE ROUTINE
 15021	044434	476 00 0 00 077344 		SETOM	TMP		;LOOP. POSTPONE BUT REMEMBER
 15022	044435	255 00 0 00 000000 		JFCL			;CONTINUE
 15023
 15024	044436	275 02 0 00 000001 		SUBI	2,1		;DECREMENT BYL BY 1
 15025	044437	325 02 0 00 044416 		JUMPGE	2,T271DL	;JUMP IF NOT DONE
 15026	044440	336 00 0 00 077344 		SKIPN	TMP		;ANY ERROS SO FAR?
 15027	044441	254 00 0 00 044337 		JRST	T271S		;NO, GO SELECT NEXT DRIVE
 15028	044442	200 00 0 00 030046 		MOVE	0,CONSW		;YES, T CONSOLE SWITCHES
 15029	044443	607 00 0 00 004000 		TLNN	0,(1B6)		;WANT TO LOOP
 15030	044444	254 00 0 00 044337 		JRST	T271S		;NO, GO SELECT NEXT DRIVE
 15031	044445	254 00 0 00 044402 		JRST	T271CL		;YES, THEN REPEAT SUBTEST
 15032
 15033					;THE CLEAR AND RE-INITIALIZE ROUTINE FOR SUBTEST-#1
 15034
 15035	044446	402 00 0 00 000010 	SUBT1:	SETZM	ERFLG		;CLEAR ERROR FLAG
 15036
 15037	044447	260 17 0 00 057274 		GO 	SNAPS		;SNAPSHOT REGISTERS
 15038
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-135
DSRPA3	MAC	23-Feb-79 09:36		SOME SEEK TESTS                                                                    SEQ 0552

 15039	044450	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 15040
 15041	044451	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE POSITIONER
 15042	044452	476 00 0 00 000010 		SETOM	ERFLG		;RECAL ERROR
 15043
 15044	044453	476 00 0 00 000010 		SETOM	ERFLG		;RECOVER ERROR FLAG
 15045	044454	263 17 0 00 000000 		RTN			;AND EXIT
 15046
 15047					;THE CLEAR AND RE-INITIALIZE ROUTINE FOR SUBTEST-#2
 15048
 15049	044455	261 17 0 00 000001 	SUBT2:	PUT 1			;SAVE AC1
 15050	044456	402 00 0 00 000010 		SETZM	ERFLG		;CLEAR ERROR FLAG
 15051
 15052	044457	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 15053
 15054	044460	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 15055
 15056	044461	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 15057	044462	476 00 0 00 000010 		SETOM	ERFLG		;RECAL ERROR
 15058	044463	255 00 0 00 000000 		JFCL			;NO ERROR
 15059
 15060	044464	201 01 0 00 001456 		MOVEI	1,^D814		;GET CYL#
 15061	044465	260 17 0 00 056167 		GO	.SEEK		;SEEK
 15062	044466	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 15063	044467	476 00 0 00 000010 		SETOM	ERFLG		;RESTORE THE ERROR FLAG
 15064
 15065	044470	262 17 0 00 000001 		GET	1
 15066	044471	263 17 0 00 000000 		RTN			;AND EXIT
 15067
 15068					;SCOPE TABLE FOR THIS TEST
 15069
 15070	044472	044446	057316		TB271A:	SUBT1,,DUMPS		;DEFINE I/O AND PRINT ROUTINES
 15071	044473	040000	044475			GOTO!TB271C
 15072
 15073	044474	044455	057316		TB271B:	SUBT2,,DUMPS		;DEFINE I/O AND PRINT ROUTINES
 15074	044475	100000	070174		TB271C:	NOINH![ASCIZ/POSITIONER PROBLEM DURING INCREMENTAL SEEKS/]
 15075	044476	100000	070205			NOINH![ASCIZ/ACCESS TIMES SHOULD BE CHECKED/]
 15076	044477	120000	070214			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE. REFER TO LISTING/]
 15077
 15078					SUBTTL	A "NOP" TEST
 15079					 	XLIST
 15080					 	LIST
 15081						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-136
DSRPA3	MAC	23-Feb-79 09:36		A "NOP" TEST                                                                       SEQ 0553

 15082					S^;*********************************************************************^
 15083					;*TEST-272 VERIFY THAT A NO-OP COMMAND IS OPERATIONAL
 15084					S^;*********************************************************************^
 15085
 15086					COMMENT	$
 15087
 15088						TEST DESCRIPTION
 15089						---------------- 
 15090						ISSUE A NO-OP COMMAND IN MAINT MODE AND INSURE THAT THE
 15091						GO BIT IS NOT SET. THIS GIVES SOME CONFIDENCE THAT THE COMMAND
 15092						WAS NOT DECODED INCORRECTLY
 15093
 15094						RECOMMENDED DEBUG PROCEDURE
 15095						--------------------------- 
 15096						1.  LOOK FOR WRONG OR MULTI-COMMANDS DECODED
 15097						2.  LOOK FOR FAULT IN THE RESET-GO PATH
 15098						$
 15099					 	SALL
 15100
 15101
 15102	044500	201 01 0 00 000272 	TST272:	MOVEI	1,272		;GET THE TEST NUMBER
 15103	044501	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 15104
 15105	044502	260 17 0 00 060522 	T272S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 15106	044503	263 17 0 00 000000 		RTN			;TRIED ALL
 15107	044504	255 00 0 00 000000 		JFCL			;NEXT READY
 15108
 15109	044505	201 07 0 00 700060 		MOVEI	RGLIST,700060	;Q REGISTERS FOR SNAPSHOT
 15110
 15111	044506	260 17 0 00 055673 	T272L:	GO	ONCHK		;GET DEV ON-LINE
 15112
 15113	044507	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 15114
 15115	044510	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 15116
 15117	044511	200 01 0 00 064447 		MOVE	1,[1B14!1]	;A NO-OP COMMAND
 15118	044512	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REG
 15119	044513	260 17 0 00 060733 	 	GO	CBTOER		;HANDSHAKE FAILURE
 15120
 15121	044514	260 17 0 00 057274 		GO	SNAPS		;NOW SNAPSHOT CR,SR,ER1,ER2,ER3
 15122
 15123	044515	200 00 0 00 077632 		MOVE	0,SRPCS1	;GET CONTROL REG DATA
 15124
 15125	044516	602 00 0 00 000001 		TRNE	0,1		;IS GO-BIT SET?
 15126	044517	476 00 0 00 000010 		SETOM	ERFLG		;YES, ERROR
 15127	044520	027 00 0 00 044531 		SCOPE	TB272A		;NO, CALL SCOPE ROUTINE
 15128	044521	254 00 0 00 044506 		JRST	T272L		;LOOP
 15129	044522	255 00 0 00 000000 		JFCL			;CONTINUE
 15130
 15131	044523	200 00 0 00 077637 		MOVE	0,SRPDS		;GET STATUS REG DATA
 15132	044524	602 00 0 00 040000 		TRNE	0,1B21		;COMPOSITE ERROR?
 15133	044525	476 00 0 00 000010 		SETOM	ERFLG		;YES, ERROR
 15134	044526	027 00 0 00 044534 		SCOPE	TB272B		;NO, CALL SCOPE ROUTINE
 15135	044527	254 00 0 00 044506 		JRST	T272L		;LOOP
 15136	044530	254 00 0 00 044502 		JRST	T272S		;CONTINUE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-137
DSRPA3	MAC	23-Feb-79 09:36		A "NOP" TEST                                                                       SEQ 0554

 15137
 15138					;SCOPE TABLES
 15139
 15140	044531	000000	057316		TB272A:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 15141	044532	100000	070225			NOINH![ASCIZ/GO-BIT NOT RESET AFTER A NO-OP COMMAND/]
 15142	044533	420000	077775			LAST!HIPROB!RG
 15143
 15144	044534	000000	057316		TB272B:	0,,DUMPS
 15145	044535	100000	070235			NOINH![ASCIZ/A NO-OP COMMAND HAS CAUSED COMPOSITE ERROR TO SET/]
 15146	044536	420000	077775			LAST!HIPROB!RG
 15147
 15148					SUBTTL	AN OPI TEST
 15149					 	XLIST
 15150					 	LIST
 15151						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-138
DSRPA3	MAC	23-Feb-79 09:36		AN OPI TEST                                                                        SEQ 0555

 15152					S^;*********************************************************************^
 15153					;*TEST-273 VERIFY OPERATION OF "OPI" ERROR LOGIC
 15154					S^;*********************************************************************^
 15155
 15156					COMMENT	$
 15157
 15158						TEST DESCRIPTION
 15159						---------------- 
 15160						THE FOLLOWING SEQUENCE IS USED TO VERIFY PART OF THE "OPI"
 15161						ERROR DETECTION LOGIC:
 15162						1.  ISSUE MASTER CLEAR (TO CLEAR ERRORS)
 15163						2.  ISSUE RECAL (SYNCHRONIZE POSITIONER)
 15164						3.  GO INTO MAINT MODE
 15165						4.  ISSUE A SEARCH FOR SURF=0 SECT=0
 15166						5.  ISSUE INDEX
 15167						6.  ISSUE INDEX
 15168						7.  VERIFY THAT "OPI" IS NOT SET TO EARLY
 15169						8.  ISSUE INDEX
 15170						9.  VERIFY THAT "OPI" DID SET 
 15171
 15172						RECOMMENDED DEBUG PROCEDURE
 15173						--------------------------- 
 15174						POSSIBLE FAULTS:
 15175						A.  OPI FAULT NOT SETTING (RG0)
 15176						B.  OPI SHIFT REG FAULT (SS0)
 15177						C.  CLEAR LOGIC FAULT TO SHIFT REG FOR OPI (SCOPE THE PROBLEM) 
 15178						$
 15179					 	SALL
 15180
 15181
 15182	044537	201 01 0 00 000273 	TST273:	MOVEI	1,273		;GET THE TEST NUMBER
 15183	044540	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 15184
 15185	044541	260 17 0 00 060522 	T273S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 15186	044542	263 17 0 00 000000 		RTN			;TRIED ALL
 15187	044543	255 00 0 00 000000 		JFCL			;NEXT IS READY
 15188
 15189	044544	201 07 0 00 700000 		MOVEI	RGLIST,700000 	;Q REGS FOR SNAPSHOT
 15190
 15191	044545	260 17 0 00 055673 	T273L:	GO	ONCHK		;GET DEVICE ON LINE
 15192
 15193	044546	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 15194
 15195	044547	260 17 0 00 056136 		GO	.RECAL		;RECAL
 15196	044550	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR ERROR
 15197	044551	255 00 0 00 000000 		JFCL			;NO ERROR
 15198
 15199	044552	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 15200
 15201	044553	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
 15202	044554	260 17 0 00 057421 		GO	LRPDA		;LOAD DA REG
 15203	044555	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 15204
 15205	044556	200 01 0 00 070247 		MOVE	1,[1B14!31]	;GET A SEARCH COMMAND
 15206	044557	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REG
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-139
DSRPA3	MAC	23-Feb-79 09:36		AN OPI TEST                                                                        SEQ 0556

 15207	044560	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 15208	044561	260 17 0 00 056036 		GO	INDX		;ISSUE 1ST INDEX
 15209	044562	260 17 0 00 056036 		GO	INDX		;ISSUE 2ND INDEX
 15210
 15211	044563	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 15212
 15213	044564	200 01 0 00 077640 		MOVE	1,SRPER1	;GET ER-1 DATA
 15214	044565	602 01 0 00 020000 		TRNE	1,1B22		;DO WE HAVE "OPI"
 15215	044566	476 00 0 00 000010 		SETOM	ERFLG		;YES, ERROR
 15216	044567	027 00 0 00 044603 		SCOPE	TB273A		;NO, CALL THE SCOPE ROUTINE
 15217	044570	254 00 0 00 044545 		JRST	T273L		;LOOP
 15218	044571	255 00 0 00 000000 		JFCL			;CONTINUE
 15219
 15220	044572	260 17 0 00 077352 		GO	DEVREQ		;REQUEST DEVICE AGAIN
 15221
 15222	044573	260 17 0 00 056036 		GO	INDX		;ISSUE 3RD INDEX
 15223
 15224	044574	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT DEVICE REGISTERS
 15225
 15226	044575	200 01 0 00 077640 		MOVE	1,SRPER1	;GET ER-1 DATA
 15227	044576	606 01 0 00 020000 		TRNN	1,1B22		;DO WE HAVE "OPI"
 15228	044577	476 00 0 00 000010 		SETOM	ERFLG		;NO, ERROR
 15229	044600	027 00 0 00 044606 		SCOPE	TB273B		;YES
 15230	044601	254 00 0 00 044545 		JRST	T273L		;LOOP
 15231	044602	254 00 0 00 044541 		JRST	T273S		;CONTINUE
 15232
 15233					;SCOPE TABLES
 15234
 15235	044603	000000	057316		TB273A:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 15236	044604	100000	070250			NOINH![ASCIZ/"OPI"  SET BEFORE 3 INDEX PULSES OCCURRED/]
 15237	044605	040000	044610			GOTO!TB273C
 15238
 15239	044606	000000	057316		TB273B:	0,,DUMPS
 15240	044607	100000	070261			NOINH![ASCIZ/"OPI" DID NOT SET AFTER 3 INDEX PULSES OCCURRED/]
 15241	044610	100000	070273		TB273C:	NOINH![ASCIZ/WHILE A (MAINT MODE) SEARCH WAS IN PROGRESS/]
 15242	044611	400000	077765			HIPROB!SS
 15243	044612	420000	077775			LAST!HIPROB!RG
 15244
 15245					SUBTTL	RMR TESTS
 15246					 	XLIST
 15247					 	LIST
 15248						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-140
DSRPA3	MAC	23-Feb-79 09:36		RMR TESTS                                                                          SEQ 0557

 15249					S^;*********************************************************************^
 15250					;*TEST-274 VERIFY THAT RMR CAN OCCUR
 15251					S^;*********************************************************************^
 15252
 15253					COMMENT	$
 15254
 15255						TEST DESCRIPTION
 15256						---------------- 
 15257						CAUSE AN RMR CONDITION AND VERIFY THAT THE DRIVE
 15258						RESPONDS CORRECTLY USING THE FOLLOWING SEQUENCE:
 15259						1.  MASTER CLEAR
 15260						2.  ISSUE A RECAL
 15261						3.  GO INTO MAINT MODE (ALLOWS SEEK TO HANG)
 15262						4.  SEEK TO CYL-1 (SETS GO BIT)
 15263						5.  WRITE 0 TO DCY (SHOULD CAUSE RMR)
 15264						6.  READ R1 AND DCY
 15265						7.  VERIFY THAT RMR OCCURRED
 15266						8.  VERIFY THAT DCY WAS NOT LOADED
 15267
 15268						RECOMMENDED DEBUG PROCEDURE
 15269						--------------------------- 
 15270						NONE
 15271						$
 15272					 	SALL
 15273
 15274
 15275	044613	201 01 0 00 000274 	TST274:	MOVEI	1,274		;GET THE TEST NUMBER
 15276	044614	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 15277
 15278	044615	260 17 0 00 060522 	T274S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 15279	044616	263 17 0 00 000000 		RTN			;TRIED ALL
 15280	044617	255 00 0 00 000000 		JFCL			;NEXT READY
 15281
 15282	044620	201 07 0 00 700300 		MOVEI	RGLIST,700300 	;Q REGISTERS FOR SNAPSHOT
 15283
 15284	044621	260 17 0 00 055673 	T274L:	GO	ONCHK		;GET DEVICE ON LINE
 15285
 15286	044622	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 15287
 15288	044623	260 17 0 00 056136 		GO	.RECAL		;RECAL
 15289	044624	476 00 0 00 000010 		SETOM	ERFLG		;RECAL ERROR
 15290	044625	255 00 0 00 000000 		JFCL			;NO ERROR
 15291
 15292	044626	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 15293
 15294	044627	200 01 0 00 064447 		MOVE	1,[1B14!1]	;WANT TO SEEK TO CYL-1
 15295	044630	260 17 0 00 057440 		GO	LRPDC		;LOAD DCY
 15296	044631	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 15297
 15298	044632	200 01 0 00 066700 		MOVE	1,[1B14!5]	;GET A SEEK COMMAND
 15299	044633	260 17 0 00 057402 		GO	LRPCS1		;LOAD CONTROL REG
 15300	044634	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 15301
 15302	044635	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA OF 0'S
 15303	044636	260 17 0 00 057440 		GO	LRPDC		;ATTEMPT TO LOAD DCY (WITH GO=1)
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-141
DSRPA3	MAC	23-Feb-79 09:36		RMR TESTS                                                                          SEQ 0558

 15304	044637	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 15305
 15306	044640	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT DRIVE REGISTERS
 15307
 15308	044641	200 01 0 00 077640 		MOVE	1,SRPER1	;GET ER1 DATA
 15309	044642	606 01 0 00 000004 		TRNN	1,4		;DID "RMR" SET
 15310	044643	476 00 0 00 000010 		SETOM	ERFLG		;NO, ERROR
 15311	044644	027 00 0 00 044655 		SCOPE	TB274A		;YES, CALL SCOPE ROUTINE
 15312	044645	254 00 0 00 044621 		JRST	T274L		;LOOP
 15313	044646	255 00 0 00 000000 		JFCL			;CONTINUE
 15314
 15315	044647	135 01 0 00 070304 		LDB	1,[POINT 16,SRPDC,35] ;GET DCY DATA
 15316	044650	302 01 0 00 000001 		CAIE	1,1		;IS IT STILL "1" FROM THE SEEK?
 15317	044651	476 00 0 00 000010 		SETOM	ERFLG		;NO, ERROR
 15318	044652	027 00 0 00 044660 		SCOPE	TB274B		;YES, CALL THE SCOPE ROUTINE
 15319	044653	254 00 0 00 044621 		JRST	T274L		;LOOP
 15320	044654	254 00 0 00 044615 		JRST	T274S		;CONTINUE
 15321
 15322					;SCOPE TABLE
 15323
 15324	044655	000000	057316		TB274A:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 15325	044656	100000	070305			NOINH![ASCIZ/WRITING DCY WITH GO-BIT SET FAILED TO CAUSE "RMR"/]
 15326	044657	040000	044663			GOTO!TB274C
 15327
 15328	044660	000000	057316		TB274B:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 15329	044661	100000	070317			NOINH![ASCIZ/RMR CONDITION DID NOT INHIBIT WRITING OF DCY/]
 15330	044662	100000	070330			NOINH![ASCIZ/WROTE 0 TO DCY WHILE SEEK WAS IN PROGRESS GO=1/]
 15331	044663	420000	077775		TB274C:	LAST!HIPROB!RG
 15332
 15333					 	XLIST
 15334					 	LIST
 15335						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-142
DSRPA3	MAC	23-Feb-79 09:36		RMR TESTS                                                                          SEQ 0559

 15336					S^;*********************************************************************^
 15337					;*TEST-275 VERIFY THAT WRITING "ATA" DOES NOT CAUSE RMR
 15338					S^;*********************************************************************^
 15339
 15340					COMMENT	$
 15341
 15342						TEST DESCRIPTION
 15343						---------------- 
 15344						WRITE THE ATTENTION SUMMARY REGISTER WITH THE GO-BIT SET
 15345						AND VERIFY THAT "RMR" DOES NOT OCCUR.
 15346						1.  MASTER CLEAR
 15347						2.  RECAL
 15348						3.  GO INTO MAINT MODE (ALLOWS SEEK TO HANG)
 15349						4.  SEEK TO CYL-1 (SETS GO-BIT)
 15350						5.  WRITE THE ATA REG WITH ZEROS
 15351						6.  READ ER-1
 15352						7.  VERIFY THAT "RMR" DID NOT SET
 15353
 15354						RECOMMENDED DEBUG PROCEDURE
 15355						--------------------------- 
 15356						REMOTE POSSIBILITY OF REGISTER SELECT FAILURE WHILE WRITING ATA
 15357						$
 15358					 	SALL
 15359
 15360
 15361	044664	201 01 0 00 000275 	TST275:	MOVEI	1,275		;GET THE TEST NUMBER
 15362	044665	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 15363
 15364	044666	260 17 0 00 060522 	T275S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 15365	044667	263 17 0 00 000000 		RTN			;TRIED ALL
 15366	044670	255 00 0 00 000000 		JFCL			;NEXT READY
 15367
 15368	044671	201 07 0 00 700300 		MOVEI	RGLIST,700300 ;Q REGISTERS FOR SNAPSHOT
 15369
 15370	044672	260 17 0 00 055673 	T275L:	GO	ONCHK		;GET DEVICE ON LINE
 15371
 15372	044673	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 15373	044674	260 17 0 00 056136 		GO	.RECAL		;RECAL
 15374	044675	476 00 0 00 000010 		SETOM	ERFLG		;RECAL ERROR
 15375	044676	255 00 0 00 000000 		JFCL			;NO, ERROR
 15376
 15377	044677	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 15378
 15379	044700	200 01 0 00 064447 		MOVE	1,[1B14!1]	;WANT CYL-1
 15380	044701	260 17 0 00 057440 		GO	LRPDC		;LOAD DCY
 15381	044702	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 15382
 15383	044703	200 01 0 00 066700 		MOVE	1,[1B14!5]	;GET A SEEK COMMAND
 15384	044704	260 17 0 00 057402 		GO	LRPCS1		;LOAD CONTROL REG
 15385	044705	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 15386
 15387	044706	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
 15388	044707	260 17 0 00 057416 		GO	LRPAS		;LOAD ATA REG
 15389	044710	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 15390
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-143
DSRPA3	MAC	23-Feb-79 09:36		RMR TESTS                                                                          SEQ 0560

 15391	044711	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT FAILURE
 15392
 15393	044712	200 01 0 00 077640 		MOVE	1,SRPER1	;GET ER1 DATA
 15394	044713	602 01 0 00 000004 		TRNE	1,4		;IS "RMR" SET
 15395	044714	476 00 0 00 000010 		SETOM	ERFLG		;YES, ERROR
 15396	044715	027 00 0 00 044720 		SCOPE	TB275		;NO, CALL SCOPE ROUTINE
 15397	044716	254 00 0 00 044672 		JRST	T275L		;LOOP
 15398	044717	254 00 0 00 044666 		JRST	T275S		;CONTINUE
 15399
 15400					;SCOPE TABLE
 15401
 15402	044720	000000	057316		TB275:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 15403	044721	100000	070342			NOINH![ASCIZ/WRITING 0'S TO ATA (REG-04) WITH GO=1 CAUSED "RMR"/]
 15404	044722	420000	077775			LAST!HIPROB!RG
 15405
 15406					SUBTTL	SEARCH TESTS
 15407					 	XLIST
 15408					 	LIST
 15409						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-144
DSRPA3	MAC	23-Feb-79 09:36		SEARCH TESTS                                                                       SEQ 0561

 15410					S^;*********************************************************************^
 15411					;*TEST-276 BASIC SEARCH FUNCTION IN MAINT MODE
 15412					S^;*********************************************************************^
 15413
 15414					COMMENT	$
 15415
 15416						TEST DESCRIPTION
 15417						---------------- 
 15418						THIS TEST IS A BASIC VERIFICATION OF THE SEARCH COMMAND DECODE.
 15419						THE FOLLOWING TEST SEQUENCE IS USED:
 15420						A.  MASTER CLEAR, (TO CLEAR ERRORS)
 15421						B.  RECAL (CAUSES CCY=0)
 15422						C.  SET DA REG FOR CYL=0, SECT=0
 15423						D.  GO INTO MAINT MODE (NO SECT PULSE FREEZES COMMAND)
 15424						E.  ISSUE A SEARCH
 15425						F.  READ CONTROL, STATUS AND ERROR REGS.
 15426							TEST FOR CORRECT STATUS
 15427							GO BIT=1
 15428							PIP=0
 15429							COMPOSITE ERROR=0 
 15430
 15431						RECOMMENDED DEBUG PROCEDURE
 15432						--------------------------- 
 15433
 15434						FAULT: GO BIT NOT SET
 15435						A.  CHECK FOR WRONG OR MULTI COMMAND DECODE (RG3)
 15436						B.  POSSIBLY GO-BIT RESET IMMEDIATELY BECAUSE OF FAULTY RESET
 15437						    LOGIC "SS0 SEARCH COMP L" (SS0)
 15438						C.  SOME COMPOSITE ERROR CONDITION CAUSED GO-BIT TO CLEAR
 15439						    (RESET GO LOGIC RG0)
 15440						FAULT: PIP GOT SET
 15441						A.  WRONG COMMAND OR MULTI COMMAND DECODED (RG3)
 15442						FAULT: COMPOSITE ERROR CREATED. MUST TRACE PROBLEM
 15443						       BACK FROM APPROPRIATE ERROR FLOP.
 15444						$
 15445					 	SALL
 15446
 15447
 15448	044723	201 01 0 00 000276 	TST276:	MOVEI	1,276		;GET THE TEST NUMBER
 15449	044724	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 15450
 15451	044725	260 17 0 00 060522 	T276S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 15452	044726	263 17 0 00 000000 		RTN			;TRIED ALL
 15453	044727	255 00 0 00 000000 		JFCL			;NEXT READY
 15454
 15455	044730	201 07 0 00 710060 	T276L:	MOVEI	RGLIST,710060	;REGISTERS FOR SNAPSHOT
 15456
 15457	044731	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON LINE
 15458
 15459	044732	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 15460
 15461	044733	260 17 0 00 056136 		GO	.RECAL		;ISSUE RECAL
 15462	044734	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 15463	044735	255 00 0 00 000000 		JFCL			;NO ERROR
 15464
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-145
DSRPA3	MAC	23-Feb-79 09:36		SEARCH TESTS                                                                       SEQ 0562

 15465	044736	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ZERO
 15466	044737	260 17 0 00 057421 		GO	LRPDA		;LOAD THE DA REGISTER
 15467	044740	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 15468
 15469	044741	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 15470
 15471	044742	200 01 0 00 070247 		MOVE	1,[1B14!31]	;GET A SEARCH COMMAND
 15472	044743	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REG
 15473	044744	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 15474
 15475	044745	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 15476
 15477	044746	200 00 0 00 077632 		MOVE	0,SRPCS1	;GET CONTROL REG DATA
 15478	044747	606 00 0 00 000001 		TRNN	0,1		;IS GO-BIT SET
 15479	044750	476 00 0 00 000010 		SETOM	ERFLG		;NO, ERROR
 15480	044751	027 00 0 00 044767 		SCOPE	TB276A		;YES, CALL SCOPE ROUTINE
 15481	044752	254 00 0 00 044730 		JRST	T276L		;LOOP
 15482	044753	255 00 0 00 000000 		JFCL			;CONTINUE
 15483
 15484	044754	200 00 0 00 077637 		MOVE	0,SRPDS		;GET STATUS REG
 15485	044755	602 00 0 00 020000 		TRNE	0,1B22		;IS PIP SET?
 15486	044756	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
 15487	044757	027 00 0 00 044772 		SCOPE	TB276B		;NO, CALL SCOPE ROUTINE
 15488	044760	254 00 0 00 044730 		JRST	T276L		;LOOP
 15489	044761	255 00 0 00 000000 		JFCL			;CONTINUE
 15490
 15491	044762	602 00 0 00 040000 		TRNE	0,1B21		;IS COMPOSITE ERROR SET
 15492	044763	476 00 0 00 000010 		SETOM	ERFLG		;YES, ERROR
 15493	044764	027 00 0 00 044776 		SCOPE	TB276C		;NO, CALL THE SCOPE ROUTINE
 15494	044765	254 00 0 00 044730 		JRST	T276L		;LOOP
 15495	044766	254 00 0 00 044725 		JRST	T276S		;CONTINUE
 15496
 15497					;SCOPE TABLES FOR THIS TEST
 15498
 15499	044767	000000	057316		TB276A:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 15500	044770	100000	070355			NOINH![ASCIZ/GO BIT NOT SET AFTER ISSUING A SEARCH COMMAND/]
 15501	044771	040000	044774			GOTO!TB276D
 15502
 15503	044772	000000	057316		TB276B:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 15504	044773	100000	070367			NOINH![ASCIZ/"PIP" SHOULD NOT SET WITH A SEARCH COMMAND/]
 15505	044774	400000	077775		TB276D:	HIPROB!RG
 15506	044775	420000	077765			LAST!HIPROB!SS
 15507
 15508	044776	000000	057316		TB276C:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 15509	044777	100000	070400			NOINH![ASCIZ/ISSUING "SEARCH" HAS CAUSED A COMPOSITE ERROR/]
 15510	045000	120000	070412			LAST!NOINH![ASCIZ/REFER TO LISTING FOR DEBUG PROCEDURE/]
 15511
 15512					 	XLIST
 15513					 	LIST
 15514						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-146
DSRPA3	MAC	23-Feb-79 09:36		SEARCH TESTS                                                                       SEQ 0563

 15515					S^;*********************************************************************^
 15516					;*TEST-277 OPERATION WHILE SEARCHING FOR ILLEGAL SECTOR
 15517					S^;*********************************************************************^
 15518
 15519					COMMENT	$
 15520
 15521						TEST DESCRIPTION
 15522						---------------- 
 15523						THIS TEST ISSUES A SEARCH FOR AN ILLEGAL SECTOR. THE STATUS
 15524						OF THE DRIVE IS THEN CHECKED TO VERIFY THAT PERFORMANCE WAS
 15525						CORRECT UNDER THIS SET OF CONDITIONS. THE SEARCH SHOULD TERMIATE
 15526						IMMEDIATELY BBECAUSE OF "IAE" AND THE GO BIT SHOULD RESET VIA THE
 15527						CLASS-B ERROR RESET CONDITION. THE FOLLOWING TEST SEQUENCE IS USED:
 15528						1.  CLEAR ERRORS
 15529						2.  RECAL (SETS CCY=0)
 15530						3.  SET DCY=0
 15531						4.  SET DA REG TO TRACK=0 SECT=30
 15532						5.  GO INTO MAINT MODE
 15533						6.  ISSUE A SEARCH COMMAND
 15534						7.  READ DEVICE REGISTERS AND VERIFY STATUS
 15535
 15536						RECOMMENDED DEBUG PROCEDURE
 15537						--------------------------- 
 15538						NONE
 15539						$
 15540					 	SALL
 15541
 15542
 15543	045001	201 01 0 00 000277 	TST277:	MOVEI	1,277		;GET THE TEST NUMBER
 15544	045002	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 15545
 15546	045003	260 17 0 00 060522 	T277S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 15547	045004	263 17 0 00 000000 		RTN			;TRIED ALL
 15548	045005	255 00 0 00 000000 		JFCL			;NEXT READY
 15549
 15550	045006	201 07 0 00 710060 	T277L:	MOVEI	RGLIST,710060	;Q REGISTERS FOR PRINTING
 15551
 15552	045007	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 15553
 15554	045010	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 15555
 15556	045011	260 17 0 00 056136 		GO	.RECAL		;THIS 0'S CCY
 15557	045012	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 15558
 15559	045013	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0'S
 15560	045014	260 17 0 00 057440 		GO	LRPDC		;LOAD DCY
 15561	045015	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 15562
 15563	045016	200 01 0 00 070422 		MOVE	1,[1B14!30]	;TRK=0 SECT=30
 15564	045017	260 17 0 00 057421 		GO	LRPDA		;LOAD DA REG
 15565	045020	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 15566
 15567	045021	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 15568
 15569	045022	200 01 0 00 070247 		MOVE	1,[1B14!31]	;GET A SEARCH COMMAND
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-147
DSRPA3	MAC	23-Feb-79 09:36		SEARCH TESTS                                                                       SEQ 0564

 15570	045023	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 15571	045024	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 15572
 15573	045025	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT DEVICE REGISTERS
 15574
 15575	045026	200 00 0 00 077632 		MOVE	0,SRPCS1	;GET CONTROL REGISTER DATA
 15576	045027	602 00 0 00 000001 		TRNE	0,1		;IS GO BIT SET?
 15577	045030	476 00 0 00 000010 		SETOM	ERFLG		;YES, ERROR
 15578	045031	200 00 0 00 077640 		MOVE	0,SRPER1	;GET ER-1 DATA
 15579	045032	606 00 0 00 002000 		TRNN	0,1B25		;CHECK FOR IAE
 15580	045033	476 00 0 00 000010 		SETOM	ERFLG		;IAE IS NOT SET
 15581	045034	027 00 0 00 045037 		SCOPE	TB277		;NO, CALL SCOPE ROUTINE
 15582	045035	254 00 0 00 045006 		JRST	T277L		;LOOP
 15583	045036	254 00 0 00 045003 		JRST	T277S		;CONTINUE
 15584
 15585					;SCOPE TABLE
 15586
 15587	045037	000000	057316		TB277:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 15588	045040	100000	070423			NOINH![ASCIZ/SEARCH TO AN INVALID SECTOR DID NOT PERFORM CORRECTLY/]
 15589	045041	100000	070436			NOINH![ASCIZ/CORRECT STATUS SHOULD INDICATE GO=0 AND IAE=1/]
 15590	045042	400000	077775			HIPROB!RG
 15591	045043	420000	077765			LAST!HIPROB!SS
 15592
 15593					 	XLIST
 15594					 	LIST
 15595						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-148
DSRPA3	MAC	23-Feb-79 09:36		SEARCH TESTS                                                                       SEQ 0565

 15596					S^;*********************************************************************^
 15597					;*TEST-300 SEARCH FOR SECTOR 0
 15598					S^;*********************************************************************^
 15599
 15600					COMMENT	$
 15601
 15602						TEST DESCRIPTION
 15603						---------------- 
 15604						THIS IS THE FIRST FULL SPEED SEARCH COMMAND. A FUNCTIONAL SEARCH
 15605						FOR SECTOR=0, CYLINDER=0, SURFACE=0. THE FOLLOWING SEQUENCE IS USED:
 15606						1.  RHCLR
 15607						2.  RECAL
 15608						3.  SET DA=DCY=0
 15609						4.  SEARCH
 15610						5.  WAIT UNTIL DONE
 15611						6.  READ DEVICE REGISTERS
 15612
 15613						RECOMMENDED DEBUG PROCEDURE
 15614						--------------------------- 
 15615						THE FOLLOWING FAULTS MAY CAUSE THIS TEST TO MALFUNCTION
 15616						1.  NO SECTOR MATCH BECAUSE OF BAD COMPARITOR ON (SS5)
 15617						2.  SEARCH CONTROL LOGIC FAULT ON (SS0)
 15618						3.  HUNG BECAUSE SEARCH COMPLETE NOT RESETTING THE GO-BIT (RG0)
 15619						$
 15620					 	SALL
 15621
 15622
 15623	045044	201 01 0 00 000300 	TST300:	MOVEI	1,300		;GET THE TEST NUMBER
 15624	045045	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 15625
 15626	045046	260 17 0 00 060522 	T300S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 15627	045047	263 17 0 00 000000 		RTN			;TRIED ALL
 15628	045050	255 00 0 00 000000 		JFCL			;NEXT IS READY
 15629
 15630	045051	201 07 0 00 710360 	T300L:	MOVEI	RGLIST,710360	;REGISTERS FOR SNAPSHOT
 15631
 15632	045052	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 15633
 15634	045053	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 15635
 15636	045054	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE DEVICE (SETS CCY=0)
 15637	045055	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 15638
 15639	045056	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0
 15640	045057	260 17 0 00 057440 		GO	LRPDC		;LOAD DCY
 15641	045060	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 15642
 15643	045061	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0
 15644	045062	260 17 0 00 057421 		GO	LRPDA		;LOAD DA REG
 15645	045063	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 15646
 15647	045064	200 01 0 00 070247 		MOVE	1,[1B14!31]	;GET A SEARCH COMMAND
 15648	045065	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REG
 15649	045066	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 15650
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-149
DSRPA3	MAC	23-Feb-79 09:36		SEARCH TESTS                                                                       SEQ 0566

 15651	045067	260 17 0 00 056451 		GO	WAITGO		;WAIT FOR GO-BIT TO CLEAR
 15652	045070	476 00 0 00 000010 		SETOM	ERFLG		;HUNH DEVICE
 15653	045071	027 00 0 00 045074 		SCOPE	TB300		;CALL THE SCOPE ROUTINE
 15654	045072	254 00 0 00 045051 		JRST	T300L		;LOOP
 15655	045073	254 00 0 00 045046 		JRST	T300S		;CONTINUE
 15656
 15657					;SCOPE TABLE
 15658
 15659	045074	057274	057316		TB300:	SNAPS,,DUMPS		;DEFINE A PRINT AND SNAPSHOT ROUTINE
 15660	045075	100000	070450			NOINH![ASCIZ/FAILURE TO SEARCH FOR CYL=0, SECT=0, SURF=0/]
 15661	045076	400000	077765			HIPROB!SS
 15662	045077	420000	077775			LAST!HIPROB!RG
 15663
 15664					 	XLIST
 15665					 	LIST
 15666						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-150
DSRPA3	MAC	23-Feb-79 09:36		SEARCH TESTS                                                                       SEQ 0567

 15667					S^;*********************************************************************^
 15668					;*TEST-301 SEARCH COMBINED WITH IMPLIED SEEK
 15669					S^;*********************************************************************^
 15670
 15671					COMMENT	$
 15672
 15673						TEST DESCRIPTION
 15674						---------------- 
 15675						VERIFY THAT SEARCH CAUSES IMPLIED SEEK BY LOOKING AT
 15676						THE CURRENT CYLINDER ADR REG WHEN COMPLETED. EXCEPT
 15677						FOR THE IMPLIED SEEK TO CYLINDER #1, THIS TEST IS IDENTICAL
 15678						TO THE PREVIOUS TEST.
 15679
 15680						RECOMMENDED DEBUG PROCEDURE
 15681						--------------------------- 
 15682						NONE
 15683						$
 15684					 	SALL
 15685
 15686
 15687	045100	201 01 0 00 000301 	TST301:	MOVEI	1,301		;GET THE TEST NUMBER
 15688	045101	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 15689
 15690	045102	260 17 0 00 060522 	T301S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 15691	045103	263 17 0 00 000000 		RTN			;TRIED ALL
 15692	045104	255 00 0 00 000000 		JFCL			;NEXT READY
 15693
 15694	045105	201 07 0 00 701360 	T301L:	MOVEI	RGLIST,701360	;REGISTERS FOR SNAPSHOTTING
 15695
 15696	045106	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 15697
 15698	045107	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 15699
 15700	045110	260 17 0 00 056136 		GO	.RECAL		;RECAL SETS CCY=0
 15701	045111	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 15702
 15703	045112	201 01 0 00 000001 		MOVEI	1,1		;IMPLIED SEEK TO CYL=1
 15704	045113	402 00 0 00 000002 		SETZM	2		;SURF=0,, SECT=0
 15705	045114	260 17 0 00 056263 		GO	.SRCH		;ISSUE A SEARCH COMMAND
 15706	045115	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 15707
 15708	045116	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT DEVICE REGISTER
 15709
 15710	045117	200 00 0 00 077637 		MOVE	0,SRPDS		;GET STATUS REGISTER DATA
 15711	045120	602 00 0 00 040000 		TRNE	0,1B21		;IS COMPOSITE ERROR SET?
 15712	045121	476 00 0 00 000010 		SETOM	ERFLG		;YES, ERROR
 15713	045122	027 00 0 00 045134 		SCOPE	TB301A		;NO, CALL THE SCOPE ROUTINE
 15714	045123	254 00 0 00 045105 		JRST	T301L		;LOOP
 15715	045124	255 00 0 00 000000 		JFCL			;CONTINUE
 15716
 15717	045125	200 00 0 00 077651 		MOVE	0,SRPCC		;GET CCY DATA
 15718	045126	405 00 0 00 177777 		ANDI	0,177777	;SAVE ONLY DATA FIELD
 15719	045127	302 00 0 00 000001 		CAIE	0,1		;IS CCY=1
 15720	045130	476 00 0 00 000010 		SETOM	ERFLG		;NO, ERROR
 15721	045131	027 00 0 00 045140 		SCOPE	TB301B		;YES, CALL THE SCOPE ROUTINE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-151
DSRPA3	MAC	23-Feb-79 09:36		SEARCH TESTS                                                                       SEQ 0568

 15722	045132	254 00 0 00 045105 		JRST	T301L		;LOOP
 15723	045133	254 00 0 00 045102 		JRST	T301S		;CONTINUE
 15724
 15725					;SCOPE TABLES
 15726
 15727	045134	000000	057316		TB301A:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 15728	045135	100000	070461			NOINH![ASCIZ/SEARCH COMMAND WITH IMPLIED SEEK HAS FAILED/]
 15729	045136	100000	070472			NOINH![ASCIZ/DEVICE HAS HUNG OR COMPOSITE ERROR HAS OCCURRED/]
 15730	045137	420000	077765			LAST!HIPROB!SS
 15731
 15732	045140	000000	057316		TB301B:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 15733	045141	100000	070504			NOINH![ASCIZ/SEARCH WITH IMPLIED SEEK TO CYL=1 HAS FAILED/]
 15734	045142	100000	070515			NOINH![ASCIZ/CCY IS NOT "1" AFTER OPERATION?/]
 15735	045143	420000	077765			LAST!HIPROB!SS
 15736
 15737					 	XLIST
 15738					 	LIST
 15739						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-152
DSRPA3	MAC	23-Feb-79 09:36		SEARCH TESTS                                                                       SEQ 0569

 15740					S^;*********************************************************************^
 15741					;*TEST-302 VERIFY OPERATION OF THE SECTOR COMPARITOR
 15742					S^;*********************************************************************^
 15743
 15744					COMMENT	$
 15745
 15746						TEST DESCRIPTION
 15747						---------------- 
 15748						THIS TEST CANNOT RUN IN USER MODE BECAUSE SYSTEM SCHEDULING
 15749						WILL CAUSE IT TO FAIL. SEARCH FOR ALL POSSIBLE SECTORS IN
 15750						22 SECTOR MODE. THIS TEST SEARCHES FOR ALL SECTORS FROM
 15751						EVERY OTHER SECTOR ON THE DISK. THE FOLLOWING ALGORITHM IS USED:
 15752						1.  RHCLR
 15753						2.  RECAL
 15754						3.  SYNCH=0 (A SYNCH POINT TO START SEARCH FROM)
 15755						4.  .SECT=0 (SECTOR=0 TRACK=0)
 15756						5.  RHCLR (CLEAR ERRORS)
 15757						6.  DCY=0 (CLEAR DESIRED CYL ADR)
 15758						7.  DA REG LOADED WITH .SECT
 15759						8.  KEEP READING LOOK AHEAD REG UNTIL WE FIND SECT (SYNCH)
 15760						9.  NOW IN SYNCH. ISSUE A SEARCH COMMAND
 15761						10. WAIT UNTIL DONE. THEN READ THE LOOK AHEAD REG
 15762						    IF ERROR: REPORT AND LOOP TO STEP-5
 15763						11. VERIFY THAT THE LOOK AHEAD REGISTER=.SECT
 15764						    IF ERROR: REPORT AND LOOP TO STEP-5
 15765						12. .SECT=.SECT+1
 15766						    IF .SECT .LE. 22., GO TO STEP-5
 15767						13. SYNCH=SYNCH+1 ADVANCE TO NEXT SYNCH POINT
 15768						    IF SYNCH .LE. 22. GO TO STEP-4 (NEXT PERMUTATION)
 15769						14. DONE WITH TEST (APPROX. 484 SEARCHES). 
 15770
 15771						RECOMMENDED DEBUG PROCEDURE
 15772						--------------------------- 
 15773						NONE
 15774						$
 15775					 	SALL
 15776
 15777
 15778	045144	201 01 0 00 100302 	TST302:	MOVEI	1,100302	;GET THE TEST NUMBER
 15779
 15780	045145	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 15781
 15782	045146	332 00 0 00 030037 		SKIPE	USER		;IN USER MODE
 15783	045147	263 17 0 00 000000 		RTN			;YES, THEN DON'T DO THE TEST
 15784
 15785	045150	260 17 0 00 060522 	T302S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 15786	045151	263 17 0 00 000000 		RTN			;TRIED ALL
 15787	045152	255 00 0 00 000000 		JFCL			;NEXT RDY
 15788
 15789	045153	201 07 0 00 071000 		MOVEI	RGLIST,71000	;REGISTERS FOR SNAPSHOT
 15790
 15791	045154	260 17 0 00 055673 	T302L:	GO	ONCHK		;GET ON-LINE
 15792
 15793	045155	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 15794
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-153
DSRPA3	MAC	23-Feb-79 09:36		SEARCH TESTS                                                                       SEQ 0570

 15795	045156	260 17 0 00 056136 		GO	.RECAL		;GET TO CYL=0
 15796	045157	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR ERROR
 15797
 15798	045160	402 00 0 00 077342 		SETZM	SYNCH#		;INIT 1ST SYNCH POINT
 15799
 15800	045161	402 00 0 00 077351 	T302.4:	SETZM	.SECT#		;INIT SECTOR
 15801
 15802	045162	260 17 0 00 060723 	T302.5:	GO	MSTCLR		;CLEAR ERRORS
 15803
 15804	045163	260 17 0 00 056121 		GO	MODE22		;INTO 22 SECTOR MODE
 15805
 15806	045164	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0
 15807	045165	260 17 0 00 057440 		GO	LRPDC		;LOAD DCY
 15808	045166	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 15809
 15810	045167	200 01 0 00 077351 		MOVE	1,.SECT		;GET SECT FOR SEARCH
 15811	045170	661 01 0 00 000010 		TLO	1,(1B14)	;SET, DONT REPORT RAE BIT
 15812	045171	260 17 0 00 057421 		GO	LRPDA		;LOAD THE DA REG
 15813	045172	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 15814
 15815					;LOOP READING THE LOOK AHEAD REG UNTIL WE FIND SECT (SYNCH)
 15816
 15817	045173	205 01 0 00 000010 	T302.8:	MOVSI	1,(1B14)	;DONT REPORT RAE
 15818	045174	260 17 0 00 057623 		GO	RRPLA		;READ LOOK AHEAD REG
 15819	045175	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 15820	045176	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 15821	045177	242 01 0 00 777772 		LSH	1,-6		;WANT ONLY SECTOR
 15822	045200	405 01 0 00 000037 		ANDI	1,37		;SAVE DATA FOR SECTOR ONLY
 15823	045201	312 01 0 00 077342 		CAME	1,SYNCH		;ARE WE IN SYNCH YET
 15824	045202	254 00 0 00 045173 		JRST	T302.8		;NO, LOOP UNTIL WE ARE
 15825
 15826					;NOW IN SYNCH. REGISTERS ARE SET UP. ISSUE THE SEARCH
 15827
 15828	045203	200 01 0 00 070247 	T302.9:	MOVE	1,[1B14!31]	;GET A SEARCH COMMAND
 15829	045204	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REG
 15830	045205	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 15831
 15832	045206	260 17 0 00 056451 		GO	WAITGO		;WAIT FOR SEARCH TO COMPLETE
 15833	045207	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 15834
 15835	045210	205 01 0 00 000010 		MOVSI	1,(1B14)	;DONT REPORT RAE'S
 15836	045211	260 17 0 00 057623 		GO	RRPLA		;READ THE LOOK AHEAD REG
 15837	045212	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 15838	045213	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 15839	045214	261 17 0 00 000001 		PUT	1		;SAVE RESULTS
 15840
 15841					;START TESTING THE RESULTS OPERATION
 15842
 15843	045215	260 17 0 00 057274 		GO	SNAPS		;CRITICAL TIMING IS OVER
 15844
 15845	045216	262 17 0 00 077642 		GET	SRPLA		;REPLACE SNAPS DATA
 15846
 15847	045217	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REGISTER DATA
 15848	045220	602 01 0 00 040000 		TRNE	1,1B21		;IS THERE A COMPOSITE ERROR?
 15849	045221	476 00 0 00 000010 		SETOM	ERFLG		;YES, ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-154
DSRPA3	MAC	23-Feb-79 09:36		SEARCH TESTS                                                                       SEQ 0571

 15850	045222	027 00 0 00 045300 		SCOPE	TB302A		;NO, CALL THE SCOPE ROUTINE
 15851	045223	254 00 0 00 045162 		JRST	T302.5		;LOOP
 15852	045224	255 00 0 00 000000 		JFCL			;CONTINUE
 15853	045225	200 00 0 00 077642 		MOVE	0,SRPLA		;GET FINAL VALUE OF LOOK AHEAD REG
 15854	045226	242 00 0 00 777772 		LSH	0,-6		;POSITION
 15855	045227	405 00 0 00 000037 		ANDI	0,37		;SAVE SECTOR FIELD
 15856	045230	312 00 0 00 077351 		CAME	0,.SECT		;IS IT THE CORRECT SECTOR
 15857	045231	476 00 0 00 000010 		SETOM	ERFLG		;NO, ERROR
 15858	045232	027 00 0 00 045303 		SCOPE	TB302B		;YES, CALL THE SCOPE ROUTINE
 15859	045233	254 00 0 00 045162 		JRST	T302.5		;LOOP
 15860	045234	255 00 0 00 000000 		JFCL			;CONTINUE
 15861
 15862					;TIME TO UPDATE TEST PARAMETERS AND BRANCH BACK ACCORDINGLY
 15863
 15864	045235	350 00 0 00 077351 		AOS	.SECT		;BUMP SECT WERE SEARCHING FOR
 15865	045236	200 00 0 00 077351 		MOVE	0,.SECT		;FETCH IT
 15866	045237	307 00 0 00 000025 		CAIG	0,^D21		;DONE WITH ALL SECTORS
 15867	045240	254 00 0 00 045162 		JRST	T302.5		;NO, LOOP
 15868	045241	350 00 0 00 077342 		AOS	SYNCH		;YES, UPDATE SYNCH POINT
 15869	045242	200 00 0 00 077342 		MOVE	0,SYNCH		;FETCH IT
 15870	045243	307 00 0 00 000025 		CAIG	0,^D21		;HAVE WE TRIED ALL SYNCH POINTS
 15871	045244	254 00 0 00 045161 		JRST	T302.4		;NO, THEN LOOP
 15872	045245	254 00 0 00 045150 		JRST	T302S		;YES, GO SELECT NEXT DRIVE
 15873
 15874					;ERROR REPORT PRINTERS FOR THIS TEST
 15875
 15876	045246	261 17 0 00 000001 	T302P1:	PUT	1		;SAVE AC1
 15877	045247	200 01 0 00 077632 		MOVE	1,SRPCS1	;GET CONTROL REG DATA
 15878	045250	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
 15879	045251	200 01 0 00 077635 		MOVE	1,SRPDA		;GET DA REGISTER DATA
 15880	045252	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
 15881	045253	200 01 0 00 077642 		MOVE	1,SRPLA		;GET LA REGISTER DATA
 15882	045254	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
 15883	045255	037 00 0 00 030242 		PCRL
 15884	045256	260 17 0 00 045261 		GO	T302P2		;A COMMON PRINTER
 15885	045257	262 17 0 00 000001 		GET	1		;RESTORE THE AC
 15886	045260	263 17 0 00 000000 		RTN			;AND EXIT
 15887
 15888	045261	261 17 0 00 000000 	T302P2:	PUT	0		;SAVE THE AC
 15889	045262	030 00 0 00 070524 		TEXT	[ASCIZ/SEARCH TEST FAILURE/]
 15890	045263	030 00 0 00 070530 		TEXT	[ASCIZ/ ATTEMPTING SEARCH FOR SECTOR = /]
 15891	045264	200 00 0 00 077351 		MOVE	0,.SECT		;GET SECTOR
 15892	045265	037 02 0 00 000000 		PNT2			;PRINT IT
 15893	045266	260 17 0 00 063452 		GO	.CRLF
 15894	045267	030 00 0 00 070537 		TEXT	[ASCIZ/SEARCH INITIATED WHILE AT SECTOR = /]
 15895	045270	200 00 0 00 077342 		MOVE	0,SYNCH		;GET SYNCH POINT
 15896	045271	037 02 0 00 000000 		PNT2			;AND PRINT IT
 15897	045272	260 17 0 00 063452 		GO	.CRLF
 15898	045273	262 17 0 00 000000 		GET	0		;RESTORE THE AC
 15899	045274	263 17 0 00 000000 		RTN			;AND EXIT
 15900
 15901	045275	260 17 0 00 045261 	T302P3:	GO	T302P2		;COMMON PRINTER
 15902	045276	260 17 0 00 057316 		GO	DUMPS		;DUMP ROUTINE
 15903	045277	263 17 0 00 000000 		RTN
 15904
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-155
DSRPA3	MAC	23-Feb-79 09:36		SEARCH TESTS                                                                       SEQ 0572

 15905					;SCOPE TABLES
 15906
 15907	045300	000000	045275		TB302A:	0,,T302P3		;DEFINE A PRINT ROUTINE
 15908	045301	100000	070547			NOINH![ASCIZ/HUNG DEVICE OR COMPOSITE ERROR HAS OCCURRED/]
 15909	045302	420000	077765			LAST!HIPROB!SS
 15910
 15911	045303	000000	045246		TB302B:	0,,T302P1		;DEFINE A PRINT ROUTINE
 15912	045304	100000	070560			NOINH![ASCIZ/LOOK AHEAD REGISTER INDICATES THAT SEARCH/]
 15913	045305	100000	070571			NOINH![ASCIZ/COMPLETED OVER THE WRONG SECTOR/]
 15914	045306	420000	077765			LAST!HIPROB!SS
 15915
 15916					SUBTTL	WRITE LOCK SWITCH TEST
 15917					 	XLIST
 15918					 	LIST
 15919						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-156
DSRPA3	MAC	23-Feb-79 09:36		WRITE LOCK SWITCH TEST                                                             SEQ 0573

 15920					S^;*********************************************************************^
 15921					;*TEST-303 TEST OPERATION OF WRITE LOCK SWITCH
 15922					S^;*********************************************************************^
 15923
 15924					COMMENT	$
 15925
 15926						TEST DESCRIPTION
 15927						---------------- 
 15928						VERIFY WITH THE STATUS REGISTER AND OPERATOR INTERVENTION THAT
 15929						THE WRITE LOCK SWITCH WORKS CORRECTLY.
 15930
 15931						RECOMMENDED DEBUG PROCEDURE
 15932						--------------------------- 
 15933						POSSIBLE FAULTS:
 15934						A.  A FAULTY WRITE LOCK SWITCH
 15935						B.  FAULTY MUX FOR "WRL" BIT (RG2)
 15936						C.  MDLI INTERFACE FALT (MB0,A05) "WRL LINE"
 15937						D.  FAULTY "WRL" LATCHES (B12)
 15938						E.  FAULTY MODULE SELECT LOGIC (B07,B05)
 15939						F.  NO MODULE SELECT COMING OVER FROM DCL (MA0)
 15940						$
 15941					 	SALL
 15942
 15943
 15944	045307	201 01 0 00 200303 	TST303:	MOVEI	1,200303	;GET THE TEST NUMBER
 15945	045310	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 15946
 15947	045311	336 00 0 00 077255 		SKIPN	ATEND		;OPERATOR INTERVENTION
 15948	045312	263 17 0 00 000000 		RTN			;NO, EXIT
 15949
 15950	045313	260 17 0 00 060522 	T303S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 15951	045314	263 17 0 00 000000 		RTN			;TRIED ALL
 15952
 15953	045315	201 07 0 00 200000 	T303L:	MOVEI	RGLIST,200000	;STATUS REGISTER QUED
 15954
 15955	045316	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 15956
 15957	045317	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 15958
 15959	045320	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 15960	045321	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 15961
 15962	045322	260 17 0 00 057274 		GO	SNAPS		;READS THE STATUS REGISTER
 15963
 15964	045323	135 00 0 00 070600 		LDB	0,[POINT 1,SRPDS,24] ;GET STATE OF WRL BIT
 15965
 15966	045324	202 00 0 00 077344 		MOVEM	0,TMP		;AND SAVE IT
 15967
 15968	045325	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REG DATA
 15969
 15970	045326	260 17 0 00 061373 	T303A:	GO	TELTST		;TELL WHICH TEST
 15971	045327	031 00 0 00 070601 		TEXTF	[ASCIZ/DIAGNOSTIC DETECTS THAT/]
 15972	045330	260 17 0 00 061364 		GO	TELWHO		;TELL WHICH DRIVE
 15973	045331	031 00 0 00 070606 		TEXTF	[ASCIZ/IS/]
 15974	045332	336 00 0 00 077344 		SKIPN	TMP		;IS DEVICE WRITE LOCKED
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-157
DSRPA3	MAC	23-Feb-79 09:36		WRITE LOCK SWITCH TEST                                                             SEQ 0574

 15975	045333	031 00 0 00 070607 		TEXTF	[ASCIZ/ NOT/]
 15976						TEXTF	[ASCIZ/ WRITE LOCKED
 15977	045334	031 00 0 00 070610 	IS THIS CORRECT?/]
 15978	045335	260 17 0 00 061312 		GO	QSTN		;ASK THE QUESTION
 15979	045336	254 00 0 00 045326 		JRST	T303A		;TIMEOUT OR ERROR
 15980	045337	476 00 0 00 000010 		SETOM	ERFLG		;NO
 15981	045340	027 00 0 00 045370 		SCOPE	TB303A		;YES, CALL SCOPE ROUTINE
 15982	045341	254 00 0 00 045315 		JRST	T303L		;LOOP
 15983	045342	254 00 0 00 045343 		JRST	T303B		;CONTINUE
 15984
 15985	045343	030 00 0 00 070617 	T303B:	TEXT	[ASCIZ/PUT "WRL" SWITCH IN OTHER STATE. HIT <CR> WHEN RDY /]
 15986	045344	037 01 0 00 000026 		PFORCE			;FORCE PRINT ABOVE MESSAGE
 15987	045345	201 00 0 00 000015 		MOVEI	0,15		;CODE FOR A CR
 15988	045346	260 17 0 00 061324 		GO	CHARIN		;CHARACTER INPUT ROUTINE
 15989	045347	255 00 0 00 000000 		JFCL			;TIMEOUT
 15990	045350	254 00 0 00 045343 		JRST	T303B		;WRONG CHAR
 15991
 15992	045351	260 17 0 00 055673 		GO	ONCHK		;CHAR WAS A CR
 15993
 15994	045352	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 15995
 15996	045353	260 17 0 00 056136 		GO	.RECAL		;ISSUE RECAL
 15997	045354	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 15998
 15999	045355	260 17 0 00 057274 		GO	SNAPS		;READ STATUS REGISTER
 16000
 16001	045356	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REG DATA
 16002
 16003	045357	200 00 0 00 077344 		MOVE	0,TMP		;GET OLD STATE OF WRL BIT
 16004	045360	242 00 0 00 000013 		LSH	0,^D11		;POSITION IT UNDER PROPER STATUS BIT
 16005	045361	430 00 0 00 000001 		XOR	0,1		;SEE IF STATUS HAS CHANGED
 16006	045362	135 00 0 00 070632 		LDB	0,[POINT 1,0,24] ;GET STATUS
 16007	045363	336 00 0 00 000000 		SKIPN	0		;DID STATUS CHANGE
 16008	045364	476 00 0 00 000010 		SETOM	ERFLG		;NO, ERROR
 16009	045365	027 00 0 00 045373 		SCOPE	TB303B		;YES, CALL THE SCOPE ROUTINE
 16010	045366	254 00 0 00 045315 		JRST	T303L		;LOOP
 16011	045367	254 00 0 00 045313 		JRST	T303S		;CONTINUE
 16012
 16013					;SCOPE TABLES FOR THIS TEST
 16014
 16015	045370	000000	062461		TB303A:	0,,REGPNT		;DEFINE A PRINT ROUTINE
 16016	045371	100000	070633			NOINH![ASCIZ/WRITE LOCK TEST STATUS ERROR/]
 16017	045372	040000	045375			GOTO!TB303C
 16018
 16019	045373	000000	062461		TB303B:	0,,REGPNT		;DEFINE A PRINT ROUTINE
 16020	045374	100000	070641			NOINH![ASCIZ/HITTING "WRL" SWITCH DOES NOT CHANGE STATUS/]
 16021	045375	100000	070652		TB303C:	NOINH![ASCIZ/SWITCH COULD ALSO BE FAULTY/]
 16022	045376	400000	100046			HIPROB!D02
 16023	045377	400000	077747			HIPROB!MB
 16024	045400	600000	100065			LOPROB!D05
 16025	045401	620000	100071			LAST!LOPROB!D10
 16026
 16027					SUBTTL	UNLOAD/STANBY TEST
 16028					 	XLIST
 16029					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-158
DSRPA3	MAC	23-Feb-79 09:36		UNLOAD/STANBY TEST                                                                 SEQ 0575

 16030						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-159
DSRPA3	MAC	23-Feb-79 09:36		UNLOAD/STANBY TEST                                                                 SEQ 0576

 16031					S^;*********************************************************************^
 16032					;*TEST-304 TEST OPERATION OF UNLOAD/STAND-BY 
 16033					S^;*********************************************************************^
 16034
 16035					COMMENT	$
 16036
 16037						TEST DESCRIPTION
 16038						---------------- 
 16039						VERIFY THROUGH OPERATOR INTERVENTION AND STATUS INFORMATION
 16040						THAT THE UNLOAD COMMAND WORKS CORRECTLY.
 16041
 16042						RECOMMENDED DEBUG PROCEDURE
 16043						--------------------------- 
 16044						THIS IS AN EASY FAILURE TO TROUBLESHOOT USING THE UNLOAD
 16045						TIMING DIAGRAM.  THERE IS ONE POSSIBILITY OF
 16046						HANGING THE DEVICE. A FAULTY SWITCH COULD HANG THE
 16047						DEVICE IN STAND-BY AND THE ONLY WAY TO GET IT OUT
 16048						WOULD BE TO POWER THE DRIVE DOWN AND UP. IF THE
 16049						CONDITION EVER OCCURS WHERE EVEN POWERING THE DRIVE DOWN
 16050						AND UP WON'T TAKE YOU OUT OF STAND-BY, REPLACE D02.
 16051						$
 16052					 	SALL
 16053
 16054
 16055	045402	201 01 0 00 200304 	TST304:	MOVEI	1,200304	;GET THE TEST#
 16056	045403	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 16057
 16058	045404	336 00 0 00 077255 		SKIPN	ATEND		;OPERATOR INTERVENTION?
 16059	045405	263 17 0 00 000000 		RTN			;NO, THEN EXIT
 16060
 16061	045406	260 17 0 00 060522 	T304S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 16062	045407	263 17 0 00 000000 		RTN			;TRIED ALL
 16063	045410	255 00 0 00 000000 		JFCL			;NEXT READY
 16064
 16065	045411	201 07 0 00 700060 	T304L:	MOVEI	RGLIST,700060	;REGISTERS TO SNAPSHOT
 16066
 16067	045412	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 16068
 16069	045413	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 16070
 16071	045414	260 17 0 00 056136 		GO	.RECAL		;ISSUE A RECAL
 16072	045415	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 16073
 16074	045416	200 01 0 00 070660 		MOVE	1,[1B14!3]	;GETS AN UNLOAD COMMAND
 16075	045417	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 16076	045420	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 16077
 16078					;ROUTINE TO READ STATUS UNTIL MOL GOES AWAY
 16079
 16080	045421	260 17 0 00 077352 	T340L1:	GO	DEVREQ		;REQUEST THE DEVICE
 16081	045422	200 02 0 00 070661 		MOVE	2,[^D16000]	;ALLOW THIS MANY RETRIES
 16082	045423	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 16083	045424	260 17 0 00 057601 		GO	RRPDS		;READ THE STATUS REGISTER
 16084	045425	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 16085	045426	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-160
DSRPA3	MAC	23-Feb-79 09:36		UNLOAD/STANBY TEST                                                                 SEQ 0577

 16086	045427	602 01 0 00 010000 		TRNE	1,1B23		;IS MOL GONE ?
 16087	045430	367 02 0 00 045421 		SOJG	2,T340L1	;TRY FOR A WHILE
 16088
 16089					;TIME TO CONTINUE
 16090
 16091	045431	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 16092
 16093	045432	200 00 0 00 077632 		MOVE	0,SRPCS1	;GET CONTROL REG DATA
 16094	045433	606 00 0 00 000001 		TRNN	0,1		;IS GO SET
 16095	045434	476 00 0 00 000010 		SETOM	ERFLG		;NO, ERROR
 16096	045435	200 00 0 00 077637 		MOVE	0,SRPDS		;DATA
 16097	045436	606 00 0 00 020000 		TRNN	0,1B22		;IS PIP SET
 16098	045437	476 00 0 00 000010 		SETOM	ERFLG		;NO, ERROR
 16099	045440	602 00 0 00 050000 		TRNE	0,50000		;COM ERR AND MOL BOTH ZERO
 16100	045441	476 00 0 00 000010 		SETOM	ERFLG		;NO, ERROR
 16101	045442	027 00 0 00 045515 		SCOPE	TB304A		;CALL SCOPE ROUTINE
 16102	045443	254 00 0 00 045411 		JRST	T304L		;LOOP
 16103	045444	255 00 0 00 000000 		JFCL			;CONTINUE
 16104
 16105					;ASK IF INDICATORS ARE CORRECT
 16106
 16107	045445	260 17 0 00 061373 	T304B:	GO	TELTST		;TELL WHICH TEST
 16108						TEXTF	[ASCIZ/
 16109	045446	031 00 0 00 070662 	STD-BY SHOULD BE "ON" AND RDY SHOULD BE "OFF"/]
 16110	045447	260 17 0 00 061364 		GO	TELWHO		;TELL WHICH DRIVE
 16111						TEXTF	[ASCIZ/
 16112	045450	031 00 0 00 070674 	AN UNLOAD COMMAND WAS ISSUED. ARE INDICATORS CORRECT/]
 16113	045451	260 17 0 00 061312 		GO	QSTN		;THE QUESTION ROUTINE
 16114	045452	254 00 0 00 045411 		JRST	T304L		;ERROR OR TIMEOUT
 16115	045453	476 00 0 00 000010 		SETOM	ERFLG		;ANS WAS NO
 16116	045454	027 00 0 00 045521 		SCOPE	TB304B		;CALL SCOPE ROUTINE
 16117	045455	254 00 0 00 045411 		JRST	T304L		;LOOP
 16118	045456	255 00 0 00 000000 		JFCL			;CONTINUE
 16119
 16120					;GET DRIVE OUT OF STAND-BY AND CHECK FOR PROPER STATUS
 16121
 16122	045457	031 00 0 00 070707 	T304C:	TEXTF	[ASCIZ/MOMENTARILY DEPRESS THE START SWITCH. THIS SHOULD:/]
 16123	045460	260 17 0 00 063452 		GO	.CRLF
 16124	045461	031 00 0 00 070722 		TEXTF	[ASCIZ/CAUSE HEADS TO LOAD. RDY LAMP COMES "ON" AND/]
 16125	045462	260 17 0 00 063452 		GO	.CRLF
 16126	045463	031 00 0 00 070733 		TEXTF	[ASCIZ/STAND-BY LAMP TO GO "OFF"/]
 16127	045464	260 17 0 00 063452 		GO	.CRLF
 16128	045465	031 00 0 00 070741 		TEXTF	[ASCIZ/IS RESPONSE CORRECT/]
 16129	045466	260 17 0 00 061312 		GO	QSTN		;INPUT A YES OR NO
 16130	045467	254 00 0 00 045457 		JRST	T304C		;TIMEOUT OR ERROR
 16131	045470	254 00 0 00 045507 		JRST	T304N		;NO ANSWER
 16132	045471	254 00 0 00 045472 		JRST	T304Y		;YES ANSWER
 16133
 16134	045472	260 17 0 00 077352 	T304Y:	GO	DEVREQ		;REQUEST THE DEVICE
 16135
 16136	045473	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 16137
 16138	045474	200 00 0 00 077632 		MOVE	0,SRPCS1	;GET CONTROL REG DATA
 16139	045475	602 00 0 00 000001 		TRNE	0,1		;DID GO-BIT CLEAR
 16140	045476	476 00 0 00 000010 		SETOM	ERFLG		;NO, ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-161
DSRPA3	MAC	23-Feb-79 09:36		UNLOAD/STANBY TEST                                                                 SEQ 0578

 16141	045477	200 00 0 00 077637 		MOVE	0,SRPDS		;GET STATUS REG DATA
 16142	045500	606 00 0 00 010000 		TRNN	0,1B23		;IS MOL SET AGAIN
 16143	045501	476 00 0 00 000010 		SETOM	ERFLG		;NO, ERROR
 16144	045502	602 00 0 00 060000 		TRNE	0,60000		;PIP AND COMP ERR BOTH ZERO
 16145	045503	476 00 0 00 000010 		SETOM	ERFLG		;NO, ERROR
 16146	045504	027 00 0 00 045525 		SCOPE	TB304C		;CALL THE SCOPE ROUTINE
 16147	045505	254 00 0 00 045411 		JRST	T304L		;LOOP
 16148	045506	254 00 0 00 045406 		JRST	T304S		;CONTINUE
 16149
 16150	045507	260 17 0 00 077352 	T304N:	GO	DEVREQ		;REQUEST THE DEVICE
 16151
 16152	045510	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 16153
 16154	045511	476 00 0 00 000010 		SETOM	ERFLG		;CAUSE OPERATOR SAYS SO
 16155	045512	027 00 0 00 045531 		SCOPE	TB304D		;CALL THE SCOPE ROUTINE
 16156	045513	254 00 0 00 045411 		JRST	T304L		;LOOP
 16157	045514	254 00 0 00 045406 		JRST	T304S		;CONTINUE
 16158
 16159					;SCOPE TABLES FOR THIS TEST
 16160
 16161	045515	000000	057316		TB304A:	0,,DUMPS
 16162	045516	100000	070745			NOINH![ASCIZ/STATUS INCORRECT FOLLOWING AN UNLOAD COMMAND. SHOULD BE: /]
 16163	045517	100000	070761			NOINH![ASCIZ/ GO=1, PIP=1, MOL=0, COMP ERR=0 /]
 16164	045520	040000	045535			GOTO!TB304E
 16165
 16166	045521	000000	057316		TB304B:	0,,DUMPS
 16167	045522	100000	070770			NOINH![ASCIZ/INDICATOR FAILURE IS POSSIBLE IF STATUS CORRECT /]
 16168	045523	100000	071002			NOINH![ASCIZ/STATUS SHOULD BE: /]
 16169	045524	040000	045517			GOTO!TB304A+2
 16170
 16171	045525	000000	057316		TB304C:	0,,DUMPS
 16172	045526	100000	071006			NOINH![ASCIZ/STATUS AFTER CYCLE UP WAS INCORRECT. SHOULD BE: /]
 16173	045527	100000	071020			NOINH![ASCIZ/ GO=0, PIP=0, COMP ERR=0, MOL=1 /]
 16174	045530	040000	045535			GOTO!TB304E
 16175
 16176	045531	000000	057316		TB304D:	0,,DUMPS
 16177	045532	100000	071027			NOINH![ASCIZ/MAY HAVE TO POWER DOWN IF STUCK IN STAND-BY /]
 16178	045533	100000	071040			NOINH![ASCIZ/CORRECT STATUS FROM DEVICE SHOULD BE: /]
 16179	045534	040000	045527			GOTO!TB304C+2
 16180
 16181	045535	400000	077775		TB304E:	HIPROB!RG
 16182	045536	400000	100046			HIPROB!D02
 16183	045537	620000	077741			LAST!LOPROB!MA
 16184
 16185					SUBTTL	OPERATION OF THE OFFSET COMMAND
 16186					 	XLIST
 16187					 	LIST
 16188						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-162
DSRPA3	MAC	23-Feb-79 09:36		OPERATION OF THE OFFSET COMMAND                                                    SEQ 0579

 16189					S^;*********************************************************************^
 16190					;*TEST-305 ISSUE A 0 MICRO-INCH OFFSET
 16191					S^;*********************************************************************^
 16192
 16193					COMMENT	$
 16194
 16195						TEST DESCRIPTION
 16196						---------------- 
 16197						A FULL SPEED OFFSET OPERATION TO TEST FOR A HUNG DEVICE
 16198						OR A COMPOSITE ERROR CAUSED BY OFFSETTING. THE TEST SEQUENCE:
 16199						1.  MASTER CLEAR
 16200						2.  RECAL
 16201						3.  DCY=0
 16202						4.  DA=0
 16203						5.  OFFSET=0
 16204						6.  ISSUE AN OFFSET COMMAND
 16205						7.  WAIT UNTIL DONE AND TEST FOR ERRORS 
 16206
 16207						RECOMMENDED DEBUG PROCEDURE
 16208						--------------------------- 
 16209						    AN AIDE TO DEBUG WOULD BE THE OFFSET TIMING DIAGRAM
 16210						    POSSIBLE FAULTS THAT COULD CAUSE DEVICE TO HANG:
 16211						    OFFSET CONTROL LOGIC (RG5)
 16212						    OFFSET RESET LOGIC (RG5)
 16213						    MDLI INTERFACE MODULES (D01, D02, MA, MB)
 16214						    MEMOREX OFFSET CONTROL LOGIC (D01,D02,D03)
 16215
 16216						    IF A COMPOSITE ERROR OCCURS. SCOPE BACK FROM THE ERROR FLOP
 16217						    THAT INDICATES THE PROBLEM.
 16218						$
 16219					 	SALL
 16220
 16221
 16222	045540	201 01 0 00 000305 	TST305:	MOVEI	1,305		;GET THE TEST NUMBER
 16223	045541	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 16224
 16225	045542	260 17 0 00 060522 	T305S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 16226	045543	263 17 0 00 000000 		RTN			;TRIED ALL
 16227	045544	255 00 0 00 000000 		JFCL			;NEXT READY
 16228
 16229	045545	201 07 0 00 700760 	T305L:	MOVEI	RGLIST,700760	;REGISTERS FOR SNAPSHOT
 16230
 16231	045546	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 16232
 16233	045547	260 17 0 00 060723 		GO	MSTCLR		;MASTER RESET
 16234
 16235	045550	260 17 0 00 056136 		GO	.RECAL		;ISSUE RECAL
 16236	045551	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR ERROR
 16237
 16238	045552	205 01 0 00 000010 		MOVSI	1,(1B14)	;DONT REPORT RAES
 16239	045553	260 17 0 00 057440 		GO	LRPDC		;ZERO'S THE DCY
 16240	045554	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 16241
 16242	045555	205 01 0 00 000010 		MOVSI	1,(1B14)	;DONT REPORT RAES
 16243	045556	260 17 0 00 057421 		GO	LRPDA		;CLEARS THE DA REG
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-163
DSRPA3	MAC	23-Feb-79 09:36		OPERATION OF THE OFFSET COMMAND                                                    SEQ 0580

 16244	045557	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 16245
 16246	045560	402 00 0 00 000001 		SETZM	1		;OFFSET
 16247
 16248	045561	260 17 0 00 056220 		GO	.OFSET		;ROUTINE TO ISSUE OFFSET
 16249	045562	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 16250
 16251	045563	027 00 0 00 045566 		SCOPE	TB305		;CALL THE SCOPE ROUTINE
 16252	045564	254 00 0 00 045545 		JRST	T305L		;LOOP
 16253	045565	254 00 0 00 045542 		JRST	T305S		;CONTINUE
 16254
 16255					;SCOPE TABLE FOR THIS TEST
 16256
 16257	045566	057274	057316		TB305:	SNAPS,,DUMPS		;DEFINE I/O AND PRINT ROUTINES
 16258	045567	100000	071050			NOINH![ASCIZ/ISSUING AN OFFSET COMMAND WITH AN OFFSET OF /]
 16259	045570	100000	071061			NOINH![ASCIZ/"0" U-INCHES HAS CAUSED COMPOSITE ERROR OR HUNG DEVICE/]
 16260	045571	100000	071074		TB305.6:NOINH![ASCIZ/IF COMPOSITE ERROR, DONT REPLACE MODULES UNTIL SCOPING/]
 16261	045572	400000	077775			HIPROB!RG
 16262	045573	600000	077741			LOPROB!MA
 16263	045574	600000	077747			LOPROB!MB
 16264	045575	600000	100042			LOPROB!D01
 16265	045576	600000	100046			LOPROB!D02
 16266	045577	600000	100052			LOPROB!D03
 16267	045600	030000	061651			LAST!SUBRTN!ER23CK
 16268
 16269					SUBTTL	RETURN TO CENTERLINE TEST
 16270					 	XLIST
 16271					 	LIST
 16272						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-164
DSRPA3	MAC	23-Feb-79 09:36		RETURN TO CENTERLINE TEST                                                          SEQ 0581

 16273					S^;*********************************************************************^
 16274					;*TEST-306 FULL SPEED RETURN TO CENTERLINE TEST
 16275					S^;*********************************************************************^
 16276
 16277					COMMENT	$
 16278
 16279						TEST DESCRIPTION
 16280						---------------- 
 16281						TEST TO VERIFY THAT THE RETURN TO CENTERLINE COMMAND DOES
 16282						NOT CAUSE A COMPOSITE ERROR OR HUNG DEVICE. THE SEQUENCE:
 16283						1.  MASTER CLEAR
 16284						2.  RECAL
 16285						3.  DCY=DA=OFSET=0
 16286						4.  ISSUE (TWO) RETURN TO CENTERLINE COMMANDS
 16287						    THE FIRST WILL TAKE DRIVE OUT OF OFSET MODE IF NECESSARY
 16288						5.  WAIT UNTIL DONE AND VERIFY THAT DEVICE DID NOT HANG
 16289						    AND COMPOSITE ERROR DID NOT SET
 16290
 16291						RECOMMENDED DEBUG PROCEDURE
 16292						--------------------------- 
 16293						AN AIDE TO DEBUG WOULD BE THE RTNCTL TIMING DIAGRAM
 16294
 16295						IF A COMPOSITE ERROR CONDITION OCCURS, SCOPE BACK FROM ERROR FLOP
 16296						$
 16297					 	SALL
 16298
 16299
 16300	045601	201 01 0 00 000306 	TST306:	MOVEI	1,306		;GET THE TEST NUMBER
 16301	045602	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 16302
 16303	045603	260 17 0 00 060522 	T306S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 16304	045604	263 17 0 00 000000 		RTN			;TRIED ALL
 16305	045605	255 00 0 00 000000 		JFCL			;NEXT READY
 16306
 16307	045606	201 07 0 00 700760 	T306L:	MOVEI	RGLIST,700760	;REGISTERS FOR SNAPSHOT
 16308
 16309	045607	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 16310
 16311	045610	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 16312
 16313	045611	260 17 0 00 056136 		GO	.RECAL		;ISSUE A RECALIBRATE
 16314	045612	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR ERROR
 16315
 16316	045613	205 01 0 00 000010 		MOVSI	1,(1B14)	;DONT REPORT RAES
 16317	045614	260 17 0 00 057440 		GO	LRPDC		;CLEAR DCY
 16318	045615	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FALURE
 16319
 16320	045616	205 01 0 00 000010 		MOVSI	1,(1B14)	;DONT REPORT RAES
 16321	045617	260 17 0 00 057421 		GO	LRPDA		;CLEAR THE DA REG
 16322
 16323	045620	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 16324
 16325	045621	205 01 0 00 000010 		MOVSI	1,(1B14)	;DONT REPORT RAES
 16326	045622	260 17 0 00 057435 		GO	LRPOF		;CLEAR THE OFFSET REG
 16327	045623	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-165
DSRPA3	MAC	23-Feb-79 09:36		RETURN TO CENTERLINE TEST                                                          SEQ 0582

 16328
 16329	045624	260 17 0 00 056324 		GO	RTNCTL		;ISSUE RETURN TO CENTERLINE COMMAND
 16330	045625	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR COMPOSITE ERROR
 16331
 16332	045626	260 17 0 00 056324 		GO	RTNCTL		;DRIVE NO LONGER IN OFFSET MODE
 16333	045627	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR COMPOSITE ERROR
 16334
 16335	045630	027 00 0 00 045633 		SCOPE	TB306		;CALL THE SCOPE ROUTINE
 16336	045631	254 00 0 00 045606 		JRST	T306L		;LOOP
 16337	045632	254 00 0 00 045603 		JRST	T306S		;CONTINUE
 16338
 16339					;SCOPE TABLE
 16340
 16341	045633	057274	057316		TB306:	SNAPS,,DUMPS		;DEFINE I/O AND PRINT ROUTINES
 16342	045634	100000	071107			NOINH![ASCIZ/RETURN TO CTRLINE COMMAND HAS CAUSED A HUNG/]
 16343	045635	100000	071120			NOINH![ASCIZ/DEVICE OR COMPOSITE ERROR TO OCCUR/]
 16344	045636	040000	045571			GOTO!TB305.6		;IN PREVIOUS TEST
 16345
 16346					SUBTTL	FUNCTIONAL OPERATION OF OFFSET LOGIC
 16347					 	XLIST
 16348					 	LIST
 16349						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-166
DSRPA3	MAC	23-Feb-79 09:36		FUNCTIONAL OPERATION OF OFFSET LOGIC                                               SEQ 0583

 16350					S^;*********************************************************************^
 16351					;*TEST-307 ISSUE THE POSSIBLE OFFSETS
 16352					S^;*********************************************************************^
 16353
 16354					COMMENT	$
 16355
 16356						TEST DESCRIPTION
 16357						---------------- 
 16358						ISSUE THE POSSIBLE OFFSETS AND RTN TO CTR LINE COMMANDS
 16359						AT FULL SPEED TO CHECK FOR HUNG DEVICE OR COMPOSITE ERROR.
 16360						THE TEST SEQUENCE:
 16361						1.  MASTER CLEAR
 16362						2.  RECAL
 16363						3.  DCY=DA=0
 16364						4.  LOAD OFFSET REGISTER WITH A VALUE
 16365						5.  ISSUE AN OFFSET COMMAND
 16366						6.  VERIFY THAT NO ERROR OCCURRED
 16367							IF ERROR: LOOP BACK TO STEP#1 AFTER REPORTING
 16368						7.  ISSUE A RTN TO CTR LINE COMMAND
 16369						8.  VERIFY THAT NO ERROR OCCURRED
 16370							IF ERROR: LOOP BACK TO STEP#[1 AFTER REPORTING
 16371						9.  UPDATE OFFSET VALUE FROM TABLE. IF NOT FINISHED
 16372						    GO BACK TO STEP#1 
 16373
 16374						RECOMMENDED DEBUG PROCEDURE
 16375						--------------------------- 
 16376						DONT KNOW WHAT PROBLEMS THIS TEST COULD UNCOVER, BOTH
 16377						THE OFFSET AND RTN TO CTL COMMANDS HAVE EXECUTED
 16378						CORRECTLY IN PREVIOUS TESTS. THE ONLY VARIATION IS THAT
 16379						DIFFERENT OFFSETS ARE REQUESTED IN THIS TEST. IF COMPOSITE
 16380						ERROR OCCURS, I SUGGEST SCOPING BACK FROM THE ERROR FLOP
 16381						TO FIND THE CAUSE.
 16382						$
 16383					 	SALL
 16384
 16385	045637	201 01 0 00 000307 	TST307:	MOVEI	1,307		;GET THE TEST NUMBER
 16386	045640	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 16387
 16388	045641	260 17 0 00 060522 	T307S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 16389	045642	263 17 0 00 000000 		RTN			;TRIED ALL EVICES
 16390	045643	255 00 0 00 000000 		JFCL			;NEXT IS READY
 16391
 16392					 	XLIST
 16393						LIST
 16394	045644	200 02 0 00 071127 		MOVE	2,[-^D10,,0]	;COUNTER,,INDEX REGISTER
 16395					 	XLIST
 16396						LIST
 16397
 16398	045645	201 07 0 00 700760 	T307L:	MOVEI	RGLIST,700760	;REGISTERS FOR SNAPSHOT
 16399
 16400	045646	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON LINE
 16401
 16402	045647	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 16403
 16404	045650	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-167
DSRPA3	MAC	23-Feb-79 09:36		FUNCTIONAL OPERATION OF OFFSET LOGIC                                               SEQ 0584

 16405	045651	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR COMPOSITE ERROR
 16406
 16407	045652	205 01 0 00 000010 		MOVSI	1,(1B14)	;DONT REPORT RAES
 16408	045653	260 17 0 00 057440 		GO	LRPDC		;CLEAR DESIRED CYL REG
 16409	045654	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 16410
 16411	045655	200 01 0 02 045674 		MOVE	1,TBL307(2)	;FETCH OFFSET ENTRY
 16412	045656	260 17 0 00 056220 		GO	.OFSET		;ISSUE OFFSET
 16413	045657	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 16414
 16415	045660	027 00 0 00 045706 		SCOPE	TB307A		;CALL THE SCOPE ROUTINE
 16416	045661	254 00 0 00 045645 		JRST	T307L		;LOOP
 16417	045662	255 00 0 00 000000 		JFCL			;CONTINUE
 16418
 16419	045663	260 17 0 00 055673 		GO	ONCHK		;MAKE SURE STILL ON-LINE
 16420
 16421	045664	260 17 0 00 060723 		GO	MSTCLR		;CLEAR AND ERRORS
 16422
 16423	045665	260 17 0 00 056324 		GO	RTNCTL		;RETURN TO CENTER LINE
 16424	045666	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 16425
 16426	045667	027 00 0 00 045716 		SCOPE	TB307B		;CALL THE SCOPE ROUTINE
 16427	045670	254 00 0 00 045645 		JRST	T307L		;LOOP
 16428	045671	255 00 0 00 000000 		JFCL			;CONTINUE
 16429
 16430	045672	253 02 0 00 045645 		AOBJN	2,T307L		;UPDATE POINTER. LOOP IF NOT DONE
 16431	045673	254 00 0 00 045641 		JRST	T307S		;DONE
 16432
 16433					;DATA TABLE FOR THIS TEST
 16434					;EACH COUNT IS WORTH 25 MICRO INCHES. BIT 28 IS THE DIRECTION BIT
 16435
 16436	045674	000000	000001		TBL307:	^D01			;25 U-IN
 16437	045675	000000	000002			^D02			;50 U-IN
 16438	045676	000000	000004			^D04			;100 U-IN
 16439	045677	000000	000010			^D08			;200 U-IN
 16440	045700	000000	000020			^D16			;400 U-IN
 16441					 	XLIST
 16442					 	LIST
 16443	045701	000000	000201			1B28!^D01		;-25 U-IN
 16444	045702	000000	000202			1B28!^D02		;-50 U-IN
 16445	045703	000000	000204			1B28!^D04		;-100 U-IN
 16446	045704	000000	000210			1B28!^D08		;-200 U-IN
 16447	045705	000000	000220			1B28!^D16		;-400 U-IN
 16448					 	XLIST
 16449					 	LIST
 16450					;SCOPE TABLES FOR THIS TEST
 16451
 16452	045706	057274	057316		TB307A:	SNAPS,,DUMPS		;DEFINE I/O AND PRINT ROUTINES
 16453	045707	100000	071130			NOINH![ASCIZ/OFFSET COMMAND HAS HUNG DEVICE OR CAUSED COMPOSITE ERR/]
 16454	045710	400000	077747			HIPROB!MB
 16455	045711	400000	100071			HIPROB!D10
 16456	045712	400000	100075			HIPROB!D11
 16457	045713	600000	100101			LOPROB!D14
 16458	045714	600000	100106			LOPROB!D15
 16459	045715	620000	077741			LAST!LOPROB!MA
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-168
DSRPA3	MAC	23-Feb-79 09:36		FUNCTIONAL OPERATION OF OFFSET LOGIC                                               SEQ 0585

 16460
 16461	045716	057274	057316		TB307B:	SNAPS,,DUMPS		;DEFINE I/O AND PRINT ROUTINES
 16462	045717	100000	071143			NOINH![ASCIZ/RTN TO CTL HAS FAILED FOLLOWING AN OFFSET CMD/]
 16463	045720	120000	071155			LAST!NOINH![ASCIZ/MUST SCOPE SEQUENCE TO DETERMINE FAILURE/]
 16464
 16465					SUBTTL	SEEK WHILE IN OFFSET MODE
 16466					 	XLIST
 16467					 	LIST
 16468						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-169
DSRPA3	MAC	23-Feb-79 09:36		SEEK WHILE IN OFFSET MODE                                                          SEQ 0586

 16469					S^;*********************************************************************^
 16470					;*TEST-310 ISSUING A SEEK WHILE IN OFFSET MODE
 16471					S^;*********************************************************************^
 16472
 16473					COMMENT	$
 16474
 16475						TEST DESCRIPTION
 16476						---------------- 
 16477						IF THE DRIVE IS IN OFFSET MODE WHEN A SEEK IS REQUESTED, IT
 16478						IS SUPPOSED TO POSTPONE THE SEEK AND ISSUE AN AUTO RTN TO
 16479						CENTERLINE AND THE PROCEED WITH THE SEEK. THE LOGIC TO
 16480						DO THIS IS ON (SS0). THERE IS NO WAY TO GUARANTEE
 16481						THAT THIS OPERATION WORKS CORRECTLY BUT THIS TEST DOES
 16482						THE OPERATION LOOKING FOR HUNG DEVICES OR COMPOSITE
 16483						ERROR BEING CAUSED BY THIS OPERATION. THE FOLLOWING
 16484						TEST SEQUENCE IS USED:
 16485						1.  MASTER CLEAR
 16486						2.  RECAL
 16487						3.  DCY=0=DA
 16488						4.  OFFSET=600 U-INCHES
 16489						5.  ISSUE AN OFFSET COMMAND
 16490						6.  SEEK TO CYLINDER #1
 16491						7.  WAIT UNTIL DONE
 16492						8.  READ DEVICE REGISTERS
 16493						9.  VERIFY THAT
 16494							A.  DEVICE DID NOT HANG
 16495							B.  COMPOSITE ERROR DID NOT SET
 16496							C.  SEEK TOOK PLACE (CCY=1) 
 16497
 16498						RECOMMENDED DEBUG PROCEDURE
 16499						--------------------------- 
 16500						SINCE ALL PARTS OF THIS SEQUENCE HAVE WORKED INDIVIDUALLY
 16501						IT IS MOST LIKELY THAT THE CONTROL LOGIC ON SS0 IS FAULTY 
 16502						$
 16503					 	SALL
 16504
 16505
 16506	045721	201 01 0 00 000310 	TST310:	MOVEI	1,310		;GET THE TEST NUMBER
 16507	045722	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 16508
 16509	045723	260 17 0 00 060522 	T310S:	GO	DEVSEL		;SELECT A DEVICE
 16510	045724	263 17 0 00 000000 		RTN			;TRIED ALL
 16511	045725	255 00 0 00 000000 		JFCL			;NEXT READY
 16512
 16513	045726	201 07 0 00 700760 	T310L:	MOVEI	RGLIST,700760	;REGISTERS FOR SNAPSHOT
 16514
 16515	045727	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON LINE
 16516
 16517	045730	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 16518
 16519	045731	260 17 0 00 056136 		GO	.RECAL		;ISSUE RECAL
 16520	045732	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR ERROR
 16521
 16522	045733	205 01 0 00 000010 		MOVSI	1,(1B14)	;DONT REPORT RAES
 16523	045734	260 17 0 00 057440 		GO	LRPDC		;SET DCY=0
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-170
DSRPA3	MAC	23-Feb-79 09:36		SEEK WHILE IN OFFSET MODE                                                          SEQ 0587

 16524	045735	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 16525
 16526	045736	201 01 0 00 000030 		MOVEI	1,30		;EQUATES TO 600 MICRO INCHES
 16527	045737	260 17 0 00 056220 		GO	.OFSET		;ISSUE THE OFFSET
 16528	045740	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR ERROR
 16529
 16530	045741	201 01 0 00 000001 		MOVEI	1,1		;WANT TO SEEK TO CYL-1
 16531	045742	260 17 0 00 056167 		GO	.SEEK		;ISSUE A SEEK
 16532	045743	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR ERROR
 16533
 16534	045744	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT DEVICE REGISTERS
 16535
 16536	045745	027 00 0 00 045756 		SCOPE	TB310A		;CALL THE SCOPE ROUTINE
 16537	045746	254 00 0 00 045726 		JRST	T310L		;LOOP
 16538	045747	255 00 0 00 000000 		JFCL			;CONTINUE
 16539
 16540	045750	135 00 0 00 070027 		LDB	0,[POINT 16,SRPCC,35] ;GET CCY DATA
 16541	045751	302 00 0 00 000001 		CAIE	0,1		;DID SEEK TAKE PLACE
 16542	045752	476 00 0 00 000010 		SETOM	ERFLG		;NO, ERROR
 16543	045753	027 00 0 00 045761 		SCOPE	TB310B		;CALL THE SCOPE ROUTINE
 16544	045754	254 00 0 00 045726 		JRST	T310L		;LOOP
 16545	045755	254 00 0 00 045723 		JRST	T310S		;CONTINUE
 16546
 16547					;SCOPE TABLES
 16548
 16549	045756	000000	057316		TB310A:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 16550	045757	100000	071166			NOINH![ASCIZ/CANT ISSUE A SEEK COMMAND WHILE IN OFFSET?/]
 16551	045760	420000	077765			LAST!HIPROB!SS
 16552
 16553	045761	000000	057316		TB310B:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 16554	045762	100000	071177			NOINH![ASCIZ/SEEK TO CYL-1 WHILE IN OFFSET DID NOT COMPLETE/]
 16555	045763	100000	071211			NOINH![ASCIZ/CCY SHOULD BE 1/]
 16556	045764	420000	077765			LAST!HIPROB!SS
 16557
 16558					SUBTTL	ATTENTION LOGIC TESTS
 16559					 	XLIST
 16560					 	LIST
 16561						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-171
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0588

 16562					S^;*********************************************************************^
 16563					;*TEST-311 VERIFY THAT ATA IS NOT STUCK SET
 16564					S^;*********************************************************************^
 16565
 16566					COMMENT	$
 16567
 16568						TEST DESCRIPTION
 16569						---------------- 
 16570						VERIFY THAT THE "ATA" FLOP IS NOT STUCK AT 1. THE FOLLOWING
 16571						TEST SEQUENCE IS USED:
 16572						1. ISSUE MASTER CLEAR (SHOULD RESET ATA)
 16573						2. WRITE ATA REG WITH 377 (SHOULD RESET ATA)
 16574						3. READ THE STATUS REGISTER
 16575						4. VERIFY THAT ATA IS CLEAR.
 16576
 16577						RECOMMENDED DEBUG PROCEDURE
 16578						--------------------------- 
 16579						IF REPLACING THE MODULES WILL NOT CLEAR UP THE PROBLEM, SCOPE
 16580						BACK ON THE RG BOARD TO FIND OUT WHAT CONDITION IS FORCING
 16581						ATA TO SET.
 16582						$
 16583					 	SALL
 16584
 16585
 16586	045765	201 01 0 00 000311 	TST311:	MOVEI	1,311		;GET THE TEST NUMBER
 16587	045766	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 16588
 16589	045767	260 17 0 00 060522 	T311S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 16590	045770	263 17 0 00 000000 		RTN			;TRIED ALL
 16591	045771	255 00 0 00 000000 		JFCL			;NEXT READY
 16592
 16593	045772	260 17 0 00 077352 	T311L:	GO	DEVREQ		;REQUEST THE DEVICE
 16594
 16595	045773	260 17 0 00 060723 		GO	MSTCLR		;ISSUES MAS RES
 16596
 16597	045774	200 01 0 00 071215 		MOVE	1,[1B14!377]	;SHOULD CLEAR ALL ATA'S
 16598	045775	260 17 0 00 057416 		GO	LRPAS		;WRITE THE ATA REG
 16599	045776	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 16600
 16601	045777	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 16602	046000	260 17 0 00 057601 		GO	RRPDS		;READ THE STATUS REG
 16603	046001	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 16604	046002	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 16605
 16606	046003	602 01 0 00 100000 		TRNE	1,1B20		;IS ATA CLEAR
 16607	046004	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 16608	046005	027 00 0 00 046010 		SCOPE	TB311		;YES. CALL THE SCOPE ROUTINE
 16609	046006	254 00 0 00 045772 		JRST	T311L		;LOOP
 16610	046007	254 00 0 00 045767 		JRST	T311S		;CONTINUE
 16611
 16612
 16613					;SCOPE TABLE
 16614
 16615	046010	000000	062461		TB311:	0,,REGPNT
 16616	046011	100000	071216			NOINH![ASCIZ/CAN'T CLEAR "ATA" CONDITION/]
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-172
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0589

 16617	046012	400000	077775			HIPROB!RG
 16618	046013	420000	077771			LAST!HIPROB!DP
 16619
 16620					 	XLIST
 16621					 	LIST
 16622						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-173
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0590

 16623					S^;*********************************************************************^
 16624					;*TEST-312 VERIFY THAT ATA CAN BE SET
 16625					S^;*********************************************************************^
 16626
 16627					COMMENT	$
 16628
 16629						TEST DESCRIPTION
 16630						---------------- 
 16631						THE FOLLOWING TEST SEQUENCE IS USED:
 16632						1. ISSUE MASTER CLEAR
 16633						2. WRITE THE ATA REG WITH (377)
 16634						3. ISSUE RECAL (CAUSES ATA)
 16635						4. READ THE STATUS REG
 16636						5. VERIFY THAT ATA IS SET
 16637
 16638						RECOMMENDED DEBUG PROCEDURE
 16639						--------------------------- 
 16640						NONE.
 16641						$
 16642					 	SALL
 16643
 16644
 16645	046014	201 01 0 00 000312 	TST312:	MOVEI	1,312		;GET THE TEST NUMBER
 16646	046015	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 16647
 16648	046016	260 17 0 00 060522 	T312S:	GO	DEVSEL		;SELECT A DEVICE
 16649	046017	263 17 0 00 000000 		RTN			;TRIED ALL
 16650
 16651	046020	201 07 0 00 600000 	T312L:	MOVEI	RGLIST,600000	;REGISTERS FOR PRINTING
 16652
 16653	046021	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON LINE
 16654
 16655	046022	260 17 0 00 060723 		GO	MSTCLR		;MASTER RESET
 16656
 16657	046023	200 01 0 00 071215 		MOVE	1,[1B14!377]	;DATA FOR ATA REG
 16658	046024	260 17 0 00 057416 		GO	LRPAS		;WRITE THE ATA REGISTER
 16659	046025	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 16660
 16661	046026	260 17 0 00 056136 		GO	.RECAL		;ISSUE A RECAL
 16662	046027	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 16663
 16664	046030	260 17 0 00 057274 		GO	SNAPS		;READ REGISTERS
 16665
 16666	046031	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS DATA
 16667	046032	606 01 0 00 100000 		TRNN	1,1B20		;IS ATA SET
 16668	046033	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 16669	046034	027 00 0 00 046037 		SCOPE	TB312		;YES. CALL THE SCOPE ROUTINE
 16670	046035	254 00 0 00 046020 		JRST	T312L		;LOOP
 16671	046036	254 00 0 00 046016 		JRST	T312S		;CONTINUE
 16672
 16673
 16674					;SCOPE TABLE
 16675
 16676	046037	000000	057316		TB312:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 16677	046040	100000	071224			NOINH![ASCIZ/RECAL COMPLETE IS NOT SETTING ATA FLOP/]
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-174
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0591

 16678	046041	400000	077775			HIPROB!RG
 16679	046042	420000	077771			LAST!HIPROB!DP
 16680
 16681					 	XLIST
 16682					 	LIST
 16683						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-175
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0592

 16684					S^;*********************************************************************^
 16685					;*TEST-313 VERIFY THAT RHCLR WILL RESET ATA
 16686					S^;*********************************************************************^
 16687
 16688					COMMENT	$
 16689
 16690						TEST DESCRIPTION
 16691						---------------- 
 16692						1. ISSUE MASTER CLEAR (CLEAR ATA)
 16693						2. WRITE THE ATA REG WITH (377) (CLEAR ATA)
 16694						3. ISSUE RECAL (SETS ATA)
 16695						4. ISSUE MSTCLR (RHCLR TO CLEAR ATA)
 16696						5. READ STATUS REGISTER
 16697						6. VERIFY THAT ATA IS CLEAR
 16698
 16699						RECOMMENDED DEBUG PROCEDURE
 16700						--------------------------- 
 16701						NONE
 16702						$
 16703					 	SALL
 16704
 16705
 16706	046043	201 01 0 00 000313 	TST313:	MOVEI	1,313		;GET THE TEST NUMBER
 16707	046044	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 16708
 16709	046045	260 17 0 00 060522 	T313S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 16710	046046	263 17 0 00 000000 		RTN			;TRIED ALL
 16711	046047	255 00 0 00 000000 		JFCL			;NXT RDY
 16712
 16713	046050	260 17 0 00 055673 	T313L:	GO	ONCHK		;GET DEVICE ON-LINE
 16714
 16715	046051	260 17 0 00 060723 		GO	MSTCLR		;ISSUES RHCLR
 16716
 16717	046052	200 01 0 00 071215 		MOVE	1,[1B14!377]	;DATA FOR ATA REG
 16718	046053	260 17 0 00 057416 		GO	LRPAS		;WRITE THE ATA REG
 16719	046054	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 16720
 16721	046055	260 17 0 00 056136 		GO	.RECAL		;ISSUE RECAL
 16722	046056	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 16723
 16724	046057	260 17 0 00 060723 		GO	MSTCLR		;ISSUE RHCLR
 16725
 16726	046060	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 16727	046061	260 17 0 00 057601 		GO	RRPDS		;READ THE STATUS REG
 16728	046062	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 16729	046063	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 16730
 16731	046064	602 01 0 00 100000 		TRNE	1,1B20		;IS ATA CLEAR
 16732	046065	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 16733	046066	027 00 0 00 046071 		SCOPE	TB313		;YES. CALL SCOPE ROUTINE
 16734	046067	254 00 0 00 046050 		JRST	T313L		;LOOP
 16735	046070	254 00 0 00 046045 		JRST	T313S		;CONTINUE
 16736
 16737					;SCOPE TABLE
 16738
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-176
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0593

 16739	046071	000000	062461		TB313:	0,,REGPNT		;DEFINE A PRINT ROUTINE
 16740	046072	100000	071234			NOINH![ASCIZ/RHCLR WILL NOT RESET THE "ATA" FLOP/]
 16741	046073	400000	077775			HIPROB!RG
 16742	046074	420000	077771			LAST!HIPROB!DP
 16743
 16744					 	XLIST
 16745					 	LIST
 16746						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-177
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0594

 16747					S^;*********************************************************************^
 16748					;*TEST-314 VERIFY RESITTING OF "ATA" BY WRITING REG-04
 16749					S^;*********************************************************************^
 16750
 16751					COMMENT	$
 16752
 16753						TEST DESCRIPTION
 16754						---------------- 
 16755						THE FOLLOWING TEST SEQUENCE IS USED:
 16756						1. MASTER CLEAR (CLEARS ATA)
 16757						2. ISSUE RECAL TO SET ATA
 16758						3. WRITE ATA WITH PROPER BIT FOR DRIVE BEING TESTED
 16759						4. READ THE STATUS REGISTER
 16760						5. VERIFY THAT ATA IS CLEAR
 16761
 16762						RECOMMENDED DEBUG PROCEDURE
 16763						--------------------------- 
 16764						NONE.
 16765						$
 16766					 	SALL
 16767
 16768
 16769	046075	201 01 0 00 000314 	TST314:	MOVEI	1,314		;GET THE TEST NUMBER
 16770	046076	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 16771
 16772	046077	260 17 0 00 060522 	T314S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 16773	046100	263 17 0 00 000000 		RTN			;TRIED ALL
 16774	046101	255 00 0 00 000000 		JFCL			;NEXT IS READY
 16775
 16776	046102	201 07 0 00 700000 	T314L:	MOVEI	RGLIST,700000	;REGISTERS FOR SNAPSHOT
 16777
 16778	046103	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 16779
 16780	046104	260 17 0 00 056136 		GO	.RECAL		;RECAL SETS ATA
 16781	046105	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR ERROR
 16782
 16783	046106	200 01 0 00 071215 		MOVE	1,[1B14!377]	;TO CLEAR ALL ATA'S
 16784	046107	260 17 0 00 057416 		GO	LRPAS		;WRITE 0'S TO ATA REG
 16785	046110	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 16786
 16787	046111	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 16788
 16789	046112	200 00 0 00 077637 		MOVE	0,SRPDS		;GET STATUS DATA
 16790	046113	602 00 0 00 100000 		TRNE	0,1B20		;IS ATA CLEAR
 16791	046114	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 16792	046115	027 00 0 00 046120 		SCOPE	TB314		;YES. CALL THE SCOPE ROUTINE
 16793	046116	254 00 0 00 046102 		JRST	T314L		;LOOP
 16794	046117	254 00 0 00 046077 		JRST	T314S		;CONTINUE
 16795
 16796
 16797					;SCOPE TABLE
 16798
 16799	046120	000000	057316		TB314:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 16800	046121	100000	071244			NOINH![ASCIZ/CAN'T CLEAR "ATA" BY WRITING ATA REG WITH 377/]
 16801	046122	420000	077771			LAST!HIPROB!DP
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-178
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0595

 16802
 16803					 	XLIST
 16804					 	LIST
 16805						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-179
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0596

 16806					S^;*********************************************************************^
 16807					;*TEST-315 VERIFY OPERATION OF PSEUDO ATA POSITION
 16808					S^;*********************************************************************^
 16809
 16810					COMMENT	$
 16811
 16812						TEST DESCRIPTION
 16813						---------------- 
 16814						ALREADY KNOW THAT WRITING ATA REG WITH 377 WILL RESET
 16815						THE ATA FLOP. THIS IS A TEST TO VERIFY THE POSITION DECODE.
 16816						THE IDEA IS TO CAUSE AN ATTENTION AND THEN WRITE ALL
 16817						BITS OF THE ATA REG "BUT" THE DRIVE ASSERTING ATTENTION.
 16818						IF POSITION DECODER IS WORKING, ATA WILL STILL BE SET.
 16819						THE FOLLOWING SEQUENCE IS USED:
 16820						1. MASTER CLEAR
 16821						2. RECAL (CAUSES ATA)
 16822						3. WRITE ATA BITS FOR DRIVES "NOT" UNDER TEST
 16823						4. READ STATUS REG FOR DRIVE BEING TESTED
 16824						5. VERIFY THAT "ATA" HAS NOT CLEARED.
 16825
 16826						RECOMMENDED DEBUG PROCEDURE
 16827						--------------------------- 
 16828						NONE.
 16829						$
 16830					 	SALL
 16831
 16832
 16833	046123	201 01 0 00 000315 	TST315:	MOVEI	1,315		;GET THE TEST NUMBER
 16834	046124	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 16835
 16836	046125	260 17 0 00 060522 	T315S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 16837	046126	263 17 0 00 000000 		RTN			;TRIED ALL
 16838	046127	255 00 0 00 000000 		JFCL			;NEXT IS READY
 16839
 16840	046130	201 07 0 00 600000 	T315L:	MOVEI	RGLIST,600000	;REGISTERS FOR SNAPSHOT
 16841
 16842	046131	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON LINE
 16843
 16844	046132	260 17 0 00 060723 		GO	MSTCLR		;CLEARS ALL ERRORS
 16845
 16846	046133	260 17 0 00 056136 		GO	.RECAL		;ISSUE RECAL (SETS ATA)
 16847	046134	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 16848
 16849	046135	201 01 0 00 000377 		MOVEI	1,377		;WOULD RESET ALL ATA'S
 16850	046136	201 02 0 00 000001 		MOVEI	2,1		;A SINGLE BIT MASK
 16851	046137	242 02 0 14 000000 		LSH	2,(DRIVE)	;SHIFT MASK ACCORDING TO DRNUM
 16852	046140	630 01 0 00 000002 		TDZ	1,2		;CLEAR ATA BIT POS FOR TEST DRIVE
 16853	046141	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE AS CURRENT PATTERN
 16854
 16855	046142	661 01 0 00 000010 		TLO	1,(1B14)	;SET DON'T REPORT RAE BIT
 16856	046143	260 17 0 00 057416 		GO	LRPAS		;WRITE THE ATA REG
 16857	046144	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 16858
 16859	046145	260 17 0 00 057274 		GO	SNAPS		;READ STAUS BACK
 16860
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-180
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0597

 16861	046146	200 00 0 00 077637 		MOVE	0,SRPDS		;GET STATUS DATA
 16862	046147	606 00 0 00 100000 		TRNN	0,1B20		;IS ATA STILL SET?
 16863	046150	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 16864	046151	027 00 0 00 046163 		SCOPE	TB315		;YES. CALL THE SCOPE ROUTINE
 16865	046152	254 00 0 00 046130 		JRST	T315L		;LOOP
 16866	046153	254 00 0 00 046125 		JRST	T315S		;CONTINUE
 16867
 16868	046154	030 00 0 00 071256 	T315PT:	TEXT	[ASCIZ/THE ATA REG WAS WRITTEN WITH  /]
 16869	046155	200 00 0 00 077314 		MOVE	0,PATRN
 16870	046156	037 03 0 00 000000 		PNT3
 16871	046157	260 17 0 00 063452 		GO	.CRLF
 16872	046160	260 17 0 00 063452 		GO	.CRLF
 16873	046161	260 17 0 00 057316 		GO	DUMPS		;DUMP APPROPRIATE REGISTERS
 16874	046162	263 17 0 00 000000 		RTN
 16875
 16876					;SCOPE TABLE
 16877
 16878	046163	000000	046154		TB315:	0,,T315PT		;DEFINE A PRINT ROUTINE
 16879	046164	100000	071265			NOINH![ASCIZ/PSEUDO ATA POSITION DECODE FAILURE DURING WRITE/]
 16880	046165	100000	071277			NOINH![ASCIZ/THIS DRIVE RESPONDING TO SOMEBODY ELSES BIT POSITION/]
 16881	046166	420000	077771			LAST!HIPROB!DP
 16882
 16883					 	XLIST
 16884					 	LIST
 16885						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-181
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0598

 16886					S^;*********************************************************************^
 16887					;*TEST-316 BASIC ATA REG READ CYCLE
 16888					S^;*********************************************************************^
 16889
 16890					COMMENT	$
 16891
 16892						TEST DESCRIPTION
 16893						---------------- 
 16894						THE FOLLOWING SEQUENCE IS USED:
 16895						1. MASTER CLEAR
 16896						2. WRITE ATA WITH 377 (CLEARS ALL ATA'S IN ALL DRIVES)
 16897						3. READ THE STATUS REGISTERS FOR ALL DRIVES INTO CORES
 16898						4. READ ATA SUMMARY REG
 16899						5. VERIFY THAT ATA SUMMARY REG IS ZERO
 16900
 16901						RECOMMENDED DEBUG PROCEDURE
 16902						--------------------------- 
 16903						IF THIS TEST FAILS THERE ARE POSSIBILITIES
 16904						1. DRIVE UNDER TEST HAS A READ PATH PROBLEM
 16905						2. SOME DRIVE OTHER THAN THE ONE UNDER TEST HAS AN ATA
 16906						   PROBLEM
 16907
 16908						TO DEBUG:
 16909						A. IF THE STATUS REGISTER FOR ONE OTHER DRIVES IS INDICATES
 16910						   THAT ATA IS SET, THAT DRIVE HAS FAULTY ATA LOGIC
 16911						   AND SHOULD BE INCLUDED IN THE TEST.
 16912
 16913						B. IF NO DRIVES STATUS REG INDICATES ATA IS SET, BUT,
 16914						   ATA SUMMARY REGISTER INDICATES THAT A DRIVE IS
 16915						   ASSERTING ATA, SHUT DRIVES ON THE BUSS DOWN, ONE
 16916						   AT A TIME UNTIL THE ATA CONDITION GOES AWAY, THIS
 16917						   WILL IDENTIFY THE DRIVE WITH THE FAULTY ATA LOGIC.
 16918						$
 16919					 	SALL
 16920
 16921
 16922	046167	201 01 0 00 000316 	TST316:	MOVEI	1,316		;GET THE TEST NUMBER
 16923	046170	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 16924
 16925	046171	260 17 0 00 060522 	T316S:	GO	DEVSEL		;SELECT A DEVICE
 16926	046172	263 17 0 00 000000 		RTN			;TRIED ALL
 16927	046173	255 00 0 00 000000 		JFCL			;NEXT READY
 16928
 16929	046174	260 17 0 00 077352 	T316L:	GO	DEVREQ		;REQUEST THE DEVICE
 16930
 16931	046175	260 17 0 00 060723 		GO	MSTCLR		;CLEARS ERRORS
 16932
 16933	046176	200 01 0 00 071215 		MOVE	1,[1B14!377]	;TO CLEAR ALL ATA'S
 16934	046177	260 17 0 00 057416 		GO	LRPAS		;CLEARS BY WRITING ATA'S
 16935	046200	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 16936
 16937	046201	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 16938	046202	260 17 0 00 057612 		GO	RRPAS		;READ ATA REG
 16939	046203	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 16940	046204	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-182
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0599

 16941	046205	202 01 0 00 077641 		MOVEM	1,SRPAS		;SAVE RESULTS
 16942
 16943	046206	602 01 0 00 000377 		TRNE	1,377		;ANYBODY ASSERTING ATA
 16944	046207	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
 16945	046210	027 00 0 00 046252 		SCOPE	TB316		;NO. CALL SCOPE ROUTINE
 16946	046211	254 00 0 00 046174 		JRST	T316L		;LOOP
 16947	046212	254 00 0 00 046171 		JRST	T316S		;CONTINUE
 16948
 16949					;THIS CODE SNAPSHOTS STATUS REGISTERS FROM ALL DRIVES INTO CORE
 16950					;WHEN AN ERROR IS DETECTED. A USEFUL TOOL FOR ANALYSIS OF FAULT
 16951
 16952	046213				T316IO:
 16953	046213	261 17 0 00 000001 	T317IO:	PUT	1		;SAVE AC'S
 16954	046214	261 17 0 00 000002 		PUT	2
 16955
 16956	046215	515 02 0 00 777770 		HRLZI	2,-^D8		;-# OF DRIVES
 16957	046216	540 02 0 00 100213 		HRR	2,BUF1A		;NOW HAVE BUFFER CTR,,PTR
 16958
 16959	046217	261 17 0 00 000014 		PUT	DRIVE		;SAVE TEST DRIVE NUMBER
 16960	046220	402 00 0 00 000014 		SETZM	DRIVE		;START WITH 0
 16961	046221	205 01 0 00 000010 	IOL316:	MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 16962	046222	260 17 0 00 057601 		GO	RRPDS		;READ STATUS REG
 16963	046223	255 00 0 00 000000 		JFCL			;SOME DRIVES MAY NOT EXIST
 16964	046224	255 00 0 00 000000 		JFCL			;SOME DRIVES MAY NOT EXIST
 16965	046225	202 01 0 02 000000 		MOVEM	1,(2)		;SAVE RESULTS
 16966
 16967	046226	350 00 0 00 000014 		AOS	DRIVE		;BUMP DRIVE NUMBER
 16968	046227	253 02 0 00 046221 		AOBJN	2,IOL316	;BUMP COUNTER POINTER. LOOP UNTIL DONE
 16969
 16970	046230	262 17 0 00 000014 		GET	DRIVE		;RESTORE THINGS
 16971	046231	262 17 0 00 000002 		GET	2
 16972	046232	262 17 0 00 000001 		GET	1
 16973	046233	263 17 0 00 000000 		RTN			;AND RETURN
 16974
 16975					;PRINT ROUTINE FOR THIS TEST DUMPS ATA REGISTER AND STATUS
 16976					;REGISTERS FOR ALL DRIVES (WETHER THEY EXIST OR NOT)
 16977
 16978	046234				T316PT:
 16979	046234	261 17 0 00 000001 	T317PT:	PUT	1
 16980	046235	261 17 0 00 000002 		PUT	2
 16981
 16982	046236	515 02 0 00 777770 		HRLZI	2,-^D8		;# OF DRIVES
 16983	046237	540 02 0 00 100213 		HRR	2,BUF1A		;NOW HAVE BUFFER COUNTER POINTER
 16984
 16985	046240	030 00 0 00 071312 		TEXT	[ASCIZ/ATA AND STATUS DUMP:/]
 16986	046241	260 17 0 00 063452 		GO	.CRLF
 16987	046242	200 01 0 00 077641 		MOVE	1,SRPAS		;ATA DATA
 16988	046243	260 17 0 00 062461 		GO	REGPNT
 16989
 16990	046244	200 01 0 02 000000 		MOVE	1,(2)		;FETCH STATUS AND DUMP
 16991	046245	260 17 0 00 062461 		GO	REGPNT		;PRINT
 16992	046246	253 02 0 00 046244 		AOBJN	2,.-2		;LOOP UNTIL DONE
 16993
 16994	046247	262 17 0 00 000002 		GET	2		;RESTORE
 16995	046250	262 17 0 00 000001 		GET	1
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-183
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0600

 16996	046251	263 17 0 00 000000 		RTN			;EXIT
 16997
 16998					;SCOPE TABLE FOR THIS TEST
 16999
 17000	046252	046213	046234		TB316:	T316IO,,T316PT		;DEFINE I/O AND PRINT ROUTINES
 17001	046253	100000	071317			NOINH![ASCIZ/PSEUDO ATA INDICATES A STUCK ATA FROM SOME DRIVE/]
 17002	046254	100000	071331			NOINH![ASCIZ/REFER TO LISTING IF MODULE REPLACEMENT FAILS/]
 17003	046255	420000	077771			LAST!HIPROB!DP
 17004
 17005					 	XLIST
 17006					 	LIST
 17007						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-184
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0601

 17008					S^;*********************************************************************^
 17009					;*TEST-317 TEST FOR PROPER PSEUDO ATA POSITION
 17010					S^;*********************************************************************^
 17011
 17012					COMMENT	$
 17013
 17014						TEST DESCRIPTION
 17015						---------------- 
 17016						THIS TEST VERIFIES THAT WHEN THE TEST DRIVE ASSERTS ATA,
 17017						IT COMES BACK IN ONE AND ONLY ONE POSITION IN THE
 17018						ATA REGISTER AND ALSO THAT THE POSITION IS CORRECT.
 17019						THE FOLLOWING TEST SEQUENCE IS USED:
 17020						1. MASTER RESET
 17021						2. RECAL (TO SET ATA)
 17022						3. READ ATA REG
 17023						4. VERIFY THAT IT IS CORRECT
 17024							A. ATA IS ASSERTED FOR THIS DRIVE IN PROPER POSITION
 17025							B. NO OTHER ATA'S ASSERTED (MULTIPLE POSITION DECODE)
 17026
 17027						RECOMMENDED DEBUG PROCEDURE
 17028						--------------------------- 
 17029						NONE.
 17030						$
 17031					 	SALL
 17032
 17033
 17034	046256	201 01 0 00 000317 	TST317:	MOVEI	1,317		;GET THE TEST NUMBER
 17035	046257	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 17036
 17037	046260	260 17 0 00 060522 	T317S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 17038	046261	263 17 0 00 000000 		RTN			;TRIED ALL
 17039	046262	255 00 0 00 000000 		JFCL			;NEXT READY
 17040
 17041	046263	260 17 0 00 055673 	T317L:	GO	ONCHK		;GET DEVICE ON LINE
 17042
 17043	046264	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 17044
 17045	046265	200 01 0 00 071215 		MOVE	1,[1B14!377]	;ALL ONES FOR ATA REG
 17046	046266	260 17 0 00 057416 		GO	LRPAS		;WRITE THE ATA REG
 17047	046267	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 17048
 17049	046270	260 17 0 00 056136 		GO	.RECAL		;CAUSES ATA
 17050	046271	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 17051
 17052	046272	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 17053	046273	260 17 0 00 057612 		GO	RRPAS		;READ THE ATA REG
 17054	046274	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 17055	046275	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 17056	046276	202 01 0 00 077641 		MOVEM	1,SRPAS		;SAVE ATA DATA
 17057
 17058	046277	201 03 0 00 000001 		MOVEI	3,1		;A SINGLE BIT MASK
 17059	046300	242 03 0 14 000000 		LSH	3,(DRIVE)	;POSITION MASK
 17060	046301	650 01 0 00 000003 		TDC	1,3		;COMPLEMENT
 17061	046302	602 01 0 00 000377 		TRNE	1,377		;ATA REG NOW SHOULD BE ZERO
 17062	046303	476 00 0 00 000010 		SETOM	ERFLG		;SOME BIT IS NOT. ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-185
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0602

 17063	046304	027 00 0 00 046307 		SCOPE	TB317		;CALL SCOPE ROUTINE
 17064	046305	254 00 0 00 046263 		JRST	T317L		;LOOP
 17065	046306	254 00 0 00 046260 		JRST	T317S		;CONTINUE
 17066
 17067					;SCOPE TABLE
 17068
 17069	046307	046213	046234		TB317:	T317IO,,T317PT		;DEFINE I/O AND PRINT ROUTINE
 17070	046310	100000	071342			NOINH![ASCIZ/DRIVE ASSERTING MULTIPLE OR INCORRECT POSITIONS/]
 17071	046311	100000	071354			NOINH![ASCIZ/IN THE ATTENTION SUMMARY REGISTER/]
 17072	046312	420000	077771			LAST!HIPROB!DP
 17073
 17074					 	XLIST
 17075					 	LIST
 17076						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-186
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0603

 17077					S^;*********************************************************************^
 17078					;*TEST-320 VERIFY THAT "SK GO CLR" SETS ATA
 17079					S^;*********************************************************************^
 17080
 17081					COMMENT	$
 17082
 17083						TEST DESCRIPTION
 17084						---------------- 
 17085						VERIFY THAT THE COMPLETION OF A SEEK SETS ATA. THE
 17086						FOLLOWING SEQUENCE IS USED:
 17087						1. MASTER RESET (CLEARS ERRORS)
 17088						2. RECAL
 17089						3. MASTER RESET (RESETS ATA)
 17090						4. SEEK TO CYL-0 (CAUSES ATA)
 17091						5. READ STATUS REG
 17092						6. VERIFY THAT ATA IS SET
 17093
 17094						RECOMMENDED DEBUG PROCEDURE
 17095						--------------------------- 
 17096						NONE.
 17097						$
 17098					 	SALL
 17099
 17100
 17101	046313	201 01 0 00 000320 	TST320:	MOVEI	1,320		;GET THE TEST NUMBER
 17102	046314	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 17103
 17104	046315	260 17 0 00 060522 	T320S:	GO	DEVSEL		;SELECT A DEVICE
 17105	046316	263 17 0 00 000000 		RTN			;TRIED ALL
 17106	046317	255 00 0 00 000000 		JFCL			;NEXT READY
 17107
 17108	046320	201 07 0 00 720000 	T320L:	MOVEI	RGLIST,720000	;REGISTERS FOR PRINTING
 17109
 17110	046321	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 17111
 17112	046322	260 17 0 00 060723 		GO	MSTCLR		;CLEAR DEVICE
 17113
 17114	046323	260 17 0 00 056136 		GO	.RECAL		;RECAL
 17115	046324	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR ERROR
 17116
 17117	046325	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ATA
 17118
 17119	046326	402 00 0 00 000001 		SETZM	1		;CYL = 0
 17120	046327	260 17 0 00 056167 		GO	.SEEK		;ISSUE THE SEEK
 17121	046330	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR ERROR
 17122
 17123	046331	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 17124
 17125	046332	200 00 0 00 077637 		MOVE	0,SRPDS		;GET STATUS DATA
 17126	046333	606 00 0 00 100000 		TRNN	0,1B20		;IS ATA SET?
 17127	046334	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 17128	046335	027 00 0 00 046340 		SCOPE	TB320		;YES. CALL SCOPE ROUTINE
 17129	046336	254 00 0 00 046320 		JRST	T320L		;LOOP
 17130	046337	254 00 0 00 046315 		JRST	T320S		;CONTINUE
 17131
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-187
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0604

 17132					;SCOPE TABLE
 17133
 17134	046340	000000	057316		TB320:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 17135	046341	100000	071363			NOINH![ASCIZ/"SK GO CLR" PATH FAILS TO SET ATA/]
 17136	046342	420000	077775			LAST!HIPROB!RG
 17137
 17138					 	XLIST
 17139					 	LIST
 17140						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-188
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0605

 17141					S^;*********************************************************************^
 17142					;*TEST-321 VERIFY THAT "SRCH COMPL" WILL SET ATA
 17143					S^;*********************************************************************^
 17144
 17145					COMMENT	$
 17146
 17147						TEST DESCRIPTION
 17148						---------------- 
 17149						VERIFY THAT THE COMPLETION OF A SEARCH WILL SET ATA USING
 17150						THE FOLLOWING SEQUENCE:
 17151						1. MASTER RESET (CLEAR ERRORS)
 17152						2. RECAL
 17153						3. MASTER RESET (CLEARS ATA)
 17154						4. ISSUE A SEARCH FOR CYL = 0 SECT = 0 SURF = 0
 17155						5. READ STATUS REG
 17156						6. VERIFY THAT ATA IS SET
 17157
 17158						RECOMMENDED DEBUG PROCEDURE
 17159						--------------------------- 
 17160						NONE.
 17161						$
 17162					 	SALL
 17163
 17164
 17165	046343	201 01 0 00 000321 	TST321:	MOVEI	1,321		;GET THE TEST NUMBER
 17166	046344	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 17167
 17168	046345	260 17 0 00 060522 	T321S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 17169	046346	263 17 0 00 000000 		RTN			;TRIED ALL
 17170	046347	255 00 0 00 000000 		JFCL			;NXT RDY
 17171
 17172	046350	201 07 0 00 720000 	T321L:	MOVEI	RGLIST,720000	;REGISTERS FOR SNAPSHOT
 17173
 17174	046351	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON LINE
 17175
 17176	046352	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 17177
 17178	046353	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 17179	046354	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR ERROR
 17180
 17181	046355	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ATA
 17182
 17183	046356	402 00 0 00 000001 		SETZM	1		;DEFINES CYL = 0
 17184	046357	402 00 0 00 000002 		SETZM	2		;DEFINES SURF = 0 SECT = 0
 17185	046360	260 17 0 00 056263 		GO	.SRCH		;ISSUE A SEARCH
 17186	046361	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR ERROR
 17187
 17188	046362	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 17189
 17190	046363	200 00 0 00 077637 		MOVE	0,SRPDS		;GET STATUS REG DATA
 17191	046364	606 00 0 00 100000 		TRNN	0,1B20		;IS ATA SET
 17192	046365	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 17193	046366	027 00 0 00 046371 		SCOPE	TB321		;YES. CALL THE SCOPE ROUTINE
 17194	046367	254 00 0 00 046350 		JRST	T321L		;LOOP
 17195	046370	254 00 0 00 046345 		JRST	T321S		;CONTINUE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-189
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0606

 17196
 17197					;SCOPE TABLE
 17198
 17199	046371	000000	057316		TB321:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 17200	046372	100000	071372			NOINH![ASCIZ/SEARCH COMPLETE PATH IS NOT SETTING ATA/]
 17201	046373	420000	077775			LAST!HIPROB!RG
 17202
 17203					 	XLIST
 17204					 	LIST
 17205						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-190
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0607

 17206					S^;*********************************************************************^
 17207					;*TEST-322 VERIFY THAT SETTING GO WHILE "ERR", CAUSES ATA
 17208					S^;*********************************************************************^
 17209
 17210					COMMENT	$
 17211
 17212						TEST DESCRIPTION
 17213						---------------- 
 17214						VERIFY THAT ATTEMPTING TO SET THE GO BIT WHILE THE DRIVE
 17215						HAS A COMPOSITE ERROR, CAUSES ATA TO BE SET. THE FOLLOWING
 17216						SEQUENCE IS USED:
 17217						1. MASTER RESET (CLEARS ERRORS)
 17218						2. RECAL
 17219						3. WRITE A "DCK" ERROR INTO ER1
 17220						4. WRITE 377 TO ATA REG TO CLEAR ATA
 17221						5. ISSUE A NO-OP WITH THE GO BIT SET (SHOULD SET ATA)
 17222						6. READ STATUS REG AND VERIFY THAT ATA WAS SET.
 17223
 17224						RECOMMENDED DEBUG PROCEDURE
 17225						--------------------------- 
 17226						NONE.
 17227						$
 17228					 	SALL
 17229
 17230
 17231	046374	201 01 0 00 000322 	TST322:	MOVEI	1,322		;GET THE TEST NUMBER
 17232	046375	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 17233
 17234	046376	260 17 0 00 060522 	T322S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 17235	046377	263 17 0 00 000000 		RTN			;TRIED ALL
 17236	046400	255 00 0 00 000000 		JFCL			;NEXT IS READY
 17237
 17238	046401	201 07 0 00 720000 	T322L:	MOVEI	RGLIST,720000	;REGISTERS
 17239
 17240	046402	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON LINE
 17241
 17242	046403	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 17243
 17244	046404	260 17 0 00 056136 		GO	.RECAL		;ISSUE A RECAL
 17245	046405	476 00 0 00 000010 		SETOM	ERFLG		;TIMEOUT OR ERROR
 17246
 17247	046406	200 01 0 00 066535 		MOVE	1,[1B14!1B20]	;THE DCK BIT
 17248	046407	260 17 0 00 057410 		GO	LRPER1		;WRITE DCK INTO ER1
 17249	046410	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 17250
 17251	046411	200 01 0 00 071215 		MOVE	1,[1B14!377]	;CLEAR ALL ATA BITS
 17252	046412	260 17 0 00 057416 		GO	LRPAS		;WRITE THE ATA REGISTER
 17253	046413	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 17254
 17255	046414	200 01 0 00 064447 		MOVE	1,[1B14!1]	;A NO-OP WITH A GO BIT SET
 17256	046415	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REG
 17257	046416	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 17258
 17259	046417	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 17260
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-191
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0608

 17261	046420	200 00 0 00 077637 		MOVE	0,SRPDS		;GET STATUS REG DATA
 17262	046421	606 00 0 00 100000 		TRNN	0,1B20		;IS ATA SET?
 17263	046422	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 17264	046423	027 00 0 00 046426 		SCOPE	TB322		;YES. CALL SCOPE ROUTINE
 17265	046424	254 00 0 00 046401 		JRST	T322L		;LOOP
 17266	046425	254 00 0 00 046376 		JRST	T322S		;CONTINUE
 17267
 17268					;SCOPE TABLE
 17269
 17270	046426	000000	057316		TB322:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 17271	046427	100000	071402			NOINH![ASCIZ/SETTING GO-BIT WITH "DCK" ERROR DID NOT SET ATA/]
 17272	046430	420000	077775			LAST!HIPROB!RG
 17273
 17274					 	XLIST
 17275					 	LIST
 17276						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-192
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0609

 17277					S^;*********************************************************************^
 17278					;*TEST-323 VERIFY THAT ATA CAN BE CLEARED WHILE ERROR PERSISTS
 17279					S^;*********************************************************************^
 17280
 17281					COMMENT	$
 17282
 17283						TEST DESCRIPTION
 17284						---------------- 
 17285						THE FOLLOWING TEST SEQUENCE IS USED:
 17286						1. MASTER RESET (CLEARS ERRORS)
 17287						2. RECAL (SETS ATA)
 17288						3. WRITE A DCK ERROR TO ER1
 17289						4. WRITE THE ATA REG TO RESET ATA FLOP
 17290						5. READ STATUS REG
 17291						6. VERIFY THAT ATA IS CLEARED
 17292
 17293						RECOMMENDED DEBUG PROCEDURE
 17294						--------------------------- 
 17295						NONE.
 17296						$
 17297					 	SALL
 17298
 17299
 17300	046431	201 01 0 00 000323 	TST323:	MOVEI	1,323		;GET THE TEST NUMBER
 17301	046432	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 17302
 17303	046433	260 17 0 00 060522 	T323S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 17304	046434	263 17 0 00 000000 		RTN			;TRIED ALL
 17305	046435	255 00 0 00 000000 		JFCL			;NEXT RDY
 17306
 17307	046436	201 07 0 00 720000 	T323L:	MOVEI	RGLIST,720000	;REGISTERS FOR SNAPSHOT
 17308
 17309	046437	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 17310
 17311	046440	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 17312
 17313	046441	260 17 0 00 056136 		GO	.RECAL		;SETS ATA
 17314	046442	476 00 0 00 000010 		SETOM	ERFLG		;ERROR OR TIMEOUT
 17315
 17316	046443	200 01 0 00 066535 		MOVE	1,[1B14!1B20]	;A DCK ERROR
 17317	046444	260 17 0 00 057410 		GO	LRPER1		;WRITE ER1
 17318	046445	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 17319
 17320	046446	200 01 0 00 071215 		MOVE	1,[1B14!377]	;TO CLEAR ALL ATA'S
 17321	046447	260 17 0 00 057416 		GO	LRPAS		;WRITE THE ATA REG
 17322	046450	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 17323
 17324	046451	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGS IN DEVICE
 17325
 17326	046452	200 00 0 00 077637 		MOVE	0,SRPDS		;GET STATUS DATA
 17327	046453	602 00 0 00 100000 		TRNE	0,1B20		;IS ATA CLEAR
 17328	046454	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 17329	046455	027 00 0 00 046460 		SCOPE	TB323		;YES. CALL THE SCOPE ROUTINE
 17330	046456	254 00 0 00 046436 		JRST	T323L		;LOOP
 17331	046457	254 00 0 00 046433 		JRST	T323S		;CONTINUE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-193
DSRPA3	MAC	23-Feb-79 09:36		ATTENTION LOGIC TESTS                                                              SEQ 0610

 17332
 17333					;SCOPE TABLE
 17334
 17335	046460	000000	057316		TB323:	0,,DUMPS		;DEFINE A PRINT ROUTINE
 17336	046461	100000	071414			NOINH![ASCIZ/CAN'T CLEAR ATA WHILE COMPOSITE ERROR EXISTS/]
 17337	046462	420000	077775			LAST!HIPROB!RG
 17338
 17339
 17340					SUBTTL	DATA TRANSFER TESTS
 17341					 	XLIST
 17342					 	LIST
 17343						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-194
DSRPA3	MAC	23-Feb-79 09:36		DATA TRANSFER TESTS                                                                SEQ 0611

 17344					S^;*********************************************************************^
 17345					;*TEST-325 DATA TRANSFER COMMAND DECODE CHECKS
 17346					S^;*********************************************************************^
 17347
 17348					COMMENT	$
 17349
 17350						TEST DESCRIPTION
 17351						---------------- 
 17352						THIS TEST IS DESIGNED TO VERIFY THAT THE DATA TRANSFER COMMANDS
 17353						ARE DECODED REASONABLY IN THE DRIVE. THIS TEST SEQUENCE IS
 17354						USED FOR EACH FOR THE 6 DATA TRANSFER COMMANDS AVAILABLE:
 17355
 17356						A. RHCLR (TO CLEAR ERRORS)
 17357						B. RECALIBRATE
 17358						C. DA = DCY = 0 (A VALID ADDR)
 17359						D. GO INTO MAINT MODE (20 SECTOR MODE)
 17360						E. ISSUE A DATA XFER COMMAND
 17361						F. SNAPSHOT APPROPRIATE DRIVE REGISTERS
 17362						G. ABORT THE TRANSFER
 17363						H. RHCLR
 17364						I. VERIFY THAT GO=1 PIP=0 ILF=0
 17365						J. REPEAT TEST FOR ALL DATA XFER COMMANDS
 17366
 17367						RECOMMENDED DEBUG PROCEDURE
 17368						--------------------------- 
 17369						NONE.
 17370						$
 17371					 	SALL
 17372
 17373
 17374	046463	201 01 0 00 000325 	TST325:	MOVEI	1,325		;GET THE TEST NUMBER
 17375	046464	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 17376
 17377	046465	260 17 0 00 060522 	T325S:	GO	DEVSEL		;SELECT A DEVICE
 17378	046466	263 17 0 00 000000 		RTN			;TRIED ALL
 17379	046467	255 00 0 00 000000 		JFCL			;NEXT READY
 17380
 17381	046470	205 04 0 00 777772 		MOVSI	4,-6		;INIT INDEX REG TO [-6,,0]
 17382
 17383	046471	200 07 0 00 071425 	T325L:	MOVE	RGLIST,[402004,,710360]  ;Q - REGISTERS
 17384	046472	260 17 0 00 055760 		GO	WRTENB		;GET DEVICE ON-LINE
 17385
 17386	046473	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 17387
 17388	046474	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 17389	046475	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 17390
 17391	046476	260 17 0 00 056514 		GO	SETB1		;SET UP DATA BUFFER
 17392
 17393	046477	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 17394
 17395	046500	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 17396
 17397	046501	200 00 0 04 046543 		MOVE	0,TBL325(4)	;FUNCTION CODE FROM TABLE
 17398	046502	602 00 0 00 000020 		TRNE	0,1B31		;5X, 6X OR 7X FUNCTION
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-195
DSRPA3	MAC	23-Feb-79 09:36		DATA TRANSFER TESTS                                                                SEQ 0612

 17399	046503	254 00 0 00 046517 		JRST	T325L1		;6X OR 7X
 17400
 17401					;A 5X SERIES CODE GOES DIRECTLY TO THE DRIVE CONTROL REGISTER
 17402
 17403	046504	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA FIELD IS 0
 17404	046505	260 17 0 00 057421 		GO	LRPDA		;DA REG=0
 17405	046506	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 17406
 17407	046507	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA FIELD IS 0
 17408	046510	260 17 0 00 057440 		GO	LRPDC		;DCY = 0
 17409	046511	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 17410
 17411	046512	200 01 0 00 000000 		MOVE	1,0		;GET FUNCTION CODE TO AC1
 17412	046513	661 01 0 00 000010 		TLO	1,(1B14)	;DON'T REPORT RAE'S
 17413	046514	260 17 0 00 057402 		GO	LRPCS1		;LOAD CONTROL REGISTER
 17414	046515	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 17415	046516	254 00 0 00 046524 		JRST	T325L2
 17416
 17417					;MUST SET UP CHANNEL AND LOAD RH CONTROL REGISTER
 17418
 17419	046517	200 01 0 00 000000 	T325L1:	MOVE	1,0		;GET FUNCTION CODE TO AC1
 17420	046520	402 00 0 00 000002 		SETZM	2		;DCY,,DA DATA
 17421	046521	200 03 0 00 071426 		MOVE	3,[202,,BUF1]	;WORD COUNT,,CORE ADR
 17422	046522	260 17 0 00 056351 		GO	XFSTRT		;INIT CHANNEL AND STRT XFER
 17423	046523	255 00 0 00 000000 		JFCL			;ERROR RETURN
 17424
 17425					;COMMAND IS STARTED SNAPSHOT REGISTERS AND ABORT XFER
 17426
 17427	046524	260 17 0 00 057274 	T325L2:	GO	SNAPS		;SNAPSHOT REGISTERS
 17428
 17429	046525	260 17 0 00 056432 		GO	XFSTOP		;STOP THE TRANSFER
 17430
 17431					;CHECK THAT GO=1 PIP=0 ILF=0
 17432
 17433	046526	200 01 0 00 077632 	T325CK:	MOVE	1,SRPCS1	;GET CONTRL REG DATA
 17434	046527	606 01 0 00 000001 		TRNN	1,1		;IS GOT BIT SET
 17435	046530	476 00 0 00 000010 		SETOM	ERFLG		;NO ERROR
 17436	046531	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REG DATA
 17437	046532	602 01 0 00 020000 		TRNE	1,1B22		;PIP = 0
 17438	046533	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 17439	046534	200 01 0 00 077637 		MOVE	1,SRPDS		;GET ER1 DATA
 17440	046535	602 01 0 00 000001 		TRNE	1,1		;IS ILF=0
 17441	046536	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 17442	046537	027 00 0 00 046551 		SCOPE	TB325		;CALL SCOPE ROUTINE
 17443	046540	254 00 0 00 046471 		JRST	T325L		;LOOP
 17444	046541	253 04 0 00 046471 		AOBJN	4,T325L		;CONTINUE. BRANCH IF NOT DONE
 17445	046542	254 00 0 00 046465 		JRST	T325S		;DONE WITH ALL FUNCTIONS
 17446
 17447
 17448					;TABLE OF DATA TRANSFER FUNCTIONS
 17449
 17450	046543	000000	000063		TBL325:	63			;WRITE HEADER AND DATA
 17451	046544	000000	000061			61			;WRITE DATA
 17452	046545	000000	000073			73			;READ HEADER AND DATA
 17453	046546	000000	000071			71			;READ DATA
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-196
DSRPA3	MAC	23-Feb-79 09:36		DATA TRANSFER TESTS                                                                SEQ 0613

 17454	046547	000000	000053			53			;WRITE CHECK HEADER AND DATA
 17455	046550	000000	000051			51			;WRITE CHECK DATA
 17456
 17457					;SCOPE TABLE
 17458
 17459	046551	000000	057316		TB325:	0,,DUMPS
 17460	046552	100000	071427			NOINH![ASCIZ/ISSUING DATA XFR CMD IN MAINT MODE CAUSED STATUS ERR/]
 17461	046553	100000	071442			NOINH![ASCIZ/EXPECTED PIP=0 ILF=0 GO=1/]
 17462	046554	420000	077775			LAST!HIPROB!RG
 17463
 17464					 	XLIST
 17465					 	LIST
 17466						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-197
DSRPA3	MAC	23-Feb-79 09:36		DATA TRANSFER TESTS                                                                SEQ 0614

 17467					S^;*********************************************************************^
 17468					;*TEST-326 TEST OF DATA BUS CONTROL SIGNALS
 17469					S^;*********************************************************************^
 17470
 17471					COMMENT	$
 17472
 17473						TEST DESCRIPTION
 17474						---------------- 
 17475						THIS TEST ISSUES A CONTROLLED SEQUENCE OF EVENTS TO CHECK
 17476						A. OPI LOGIC
 17477						B. RUN LINE AND COMMAND DECODE FOR WRITE HEADER AND DATA
 17478						C. EXCEPTION LOGIC
 17479						D. EBL LOGIC
 17480
 17481						THE TEST IS GENERALLY STRUCTURED AS FOLLOWS (10 SUB-TESTS)
 17482						A. START A MAINT MODE WRITE DATA COMMAND
 17483						B. ISSUE INDEX PULSES TO VERIFY "OPI" LOGIC. WHEN OPI WORKS
 17484						   CORRECTLY, THE COMMAND IS DECODED CORRECTLY AND RUN
 17485						   MUST HAVE BEEN ASSERTED BY THE CONTROLLER.
 17486						C. WHEN THE "OPI" CONDITION OCCURS, A CLASS-B ERROR IS
 17487						   CAUSED WHICH WILL FORCE THE XFER TO SHUT DOWN.  BY
 17488						   OBSERVING THE STATES OF THE DA REGISTER, DONE, AND
 17489						   EXCEPTION, THE DIAGNOSTIC IS ABLE TO ISOLATE CONTROL
 17490						   LINE FAULTS TO THE PROPER MODULES
 17491
 17492						RECOMMENDED DEBUG PROCEDURE
 17493						--------------------------- 
 17494						NONE
 17495						$
 17496					 	SALL
 17497
 17498	046555	201 01 0 00 000326 	TST326:	MOVEI	1,326		;GET THE TEST NUMBER
 17499	046556	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 17500
 17501	046557	260 17 0 00 060522 	T326S:	GO	DEVSEL		;SELECT A DEVICE
 17502	046560	263 17 0 00 000000 		RTN			;TRIED ALL
 17503	046561	260 17 0 00 055673 		GO	ONCHK		;NEXT READY. GET ON-LINE
 17504
 17505	046562	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 17506
 17507	046563	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 17508	046564	476 00 0 00 000010 		SETOM	ERFLG		;FAILURE
 17509
 17510	046565	260 17 0 00 056514 		GO	SETB1		;SET UP DATA BUFFER
 17511	046566	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]  ;Q-REGISTERS
 17512
 17513	046567	260 17 0 00 055760 	T326L:	GO	WRTENB		;GET DEVICE WRITE ENABLED
 17514
 17515	046570	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 17516
 17517	046571	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 17518
 17519	046572	260 17 0 00 056006 		GO	MMODE1		;GO INTO MAINT MODE
 17520
 17521	046573	260 17 0 00 056015 		GO	INDEX		;ISSUE AN INDEX PULSE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-198
DSRPA3	MAC	23-Feb-79 09:36		DATA TRANSFER TESTS                                                                SEQ 0615

 17522
 17523	046574	201 01 0 00 000061 		MOVEI	1,61		;WRITE DATA COMMAND
 17524	046575	402 00 0 00 000002 		SETZM	2		;DCY = 0,,DA = 0
 17525	046576	200 03 0 00 071426 		MOVE	3,[202,,BUF1]	;+WC,,CORE ADR
 17526	046577	260 17 0 00 056351 		GO	XFSTRT		;START THE TRANSFER
 17527	046600	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 17528	046601	260 17 0 00 056076 		GO	SECPLS		;CAUSE SECTOR PULSE AND 1ST INDEX
 17529
 17530					;NOW HAVE MAINT MODE OPERATION UNDERWAY
 17531
 17532					;ISSUE 2ND INDEX PULSE AND VERIFY THAT OPI DOES NOT SET
 17533
 17534	046602	260 17 0 00 056036 		GO	INDX		;2ND INDEX
 17535
 17536	046603	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 17537	046604	260 17 0 00 057604 		GO	RRPER1		;READ ER-2
 17538	046605	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAIURE
 17539	046606	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 17540	046607	602 01 0 00 020000 		TRNE	1,1B22		;OPI ?
 17541	046610	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
 17542	046611	027 00 0 00 046651 		SCOPE	TB326A		;CALL SCOPE ROUTINE
 17543	046612	254 00 0 00 046567 		JRST	T326L		;LOOP
 17544	046613	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET?
 17545	046614	254 00 0 00 046557 		JRST	T326S		;YES. DON'T PROCEED
 17546
 17547					;ISSUE 3RD INDEX. THIS SHOULD CAUSE AN OPI ERROR
 17548
 17549	046615	260 17 0 00 056036 		GO	INDX
 17550
 17551	046616	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 17552	046617	260 17 0 00 057604 		GO	RRPER1		;READ ER-1
 17553	046620	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 17554	046621	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 17555	046622	606 01 0 00 020000 		TRNN	1,1B22		;OPI ?
 17556	046623	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 17557	046624	027 00 0 00 046657 		SCOPE	TB326C		;CALL THE SCOPE ROUTINE
 17558	046625	254 00 0 00 046567 		JRST	T326L		;LOOP
 17559	046626	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERRORS YET
 17560	046627	254 00 0 00 046557 		JRST	T326S		;YES. DON'T CONTINUE
 17561
 17562					;SUCCESSFULLY CAUSED OPI. SNAPSHOT REGISTERS, ABORT TRANSFER,
 17563					;ANALYZE DRIVE PERFORMANCE BASED ON THE STATES OF DONE, EXCEP,
 17564					;AND INCREMENTATION OF THE DA REGISTER.
 17565
 17566	046630	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 17567
 17568	046631	402 00 0 00 000002 		SETZM	2		;CLEAR AND INDEX WORD
 17569
 17570	046632	200 01 0 00 077635 		MOVE	1,SRPDA		;GET DA DATA
 17571	046633	602 01 0 00 000001 		TRNE	1,1		;DID IT INCREMENT TO 1
 17572	046634	271 02 0 00 000004 		ADDI	2,4		;YES. SET 4 WEIGHT BIT
 17573
 17574	046635	200 01 0 00 077632 		MOVE	1,SRPCS1	;GET CONTROL DATA
 17575	046636	602 01 0 00 100000 		TRNE	1,1B20		;IS EXCEPTION SET
 17576	046637	271 02 0 00 000002 		ADDI	2,2		;YES. SET THE 2 WEIGHT BIT
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-199
DSRPA3	MAC	23-Feb-79 09:36		DATA TRANSFER TESTS                                                                SEQ 0616

 17577
 17578	046640	602 01 0 00 000200 		TRNE	1,RDY		;IS DONE SET
 17579	046641	271 02 0 00 000001 		ADDI	2,1		;YES. SET THE 1 WEIGHT BIT
 17580
 17581	046642	302 02 0 00 000007 		CAIE	2,7		;7 CORRECT. ALL 3 BITS SET
 17582	046643	476 00 0 00 000010 		SETOM	ERFLG		;FAULT. SET ERROR FLAG
 17583	046644	336 00 0 00 000010 		SKIPN	ERFLG		;ERROR YET ?
 17584	046645	260 17 0 00 056432 		GO	XFSTOP		;NO. STOP THE TRANSFER
 17585	046646	027 00 1 02 046664 		SCOPE@	T326LS(2)	;DISPATCHES TO PROPER ERROR TABLE
 17586	046647	254 00 0 00 046567 		JRST	T326L		;LOOP
 17587	046650	254 00 0 00 046557 		JRST	T326S		;TRY NEXT DRIVE
 17588
 17589					;SCOPE TABLES FOR THIS TEST
 17590
 17591	046651	056437	057316		TB326A:	SNABRT,,DUMPS
 17592	046652	100000	071451			NOINH![ASCIZ/"OPI" ASSERTED AFTER ONLY 2 INDEX PULSES/]
 17593	046653	100000	071462			NOINH![ASCIZ/SUSPECT "OPI" OR "RUN" LOGIC FAULTS/]
 17594	046654	400000	077765			HIPROB!SS
 17595	046655	400000	077775			HIPROB!RG
 17596	046656	030000	061651			SUBRTN!ER23CK!LAST
 17597
 17598	046657	056437	057316		TB326C:	SNABRT,,DUMPS
 17599	046660	100000	071472			NOINH![ASCIZ/"OPI" NOT ASSERTED AFTER 3 INDEX PULSES/]
 17600	046661	400000	077765			HIPROB!SS
 17601	046662	600000	077775			LOPROB!RG
 17602	046663	030000	061651			LAST!SUBRTN!ER23CK
 17603
 17604					;DISPATCH TO PROPER TABLES
 17605
 17606	046664	000000	046674		T326LS:	TB326D			;INDEX = 0
 17607	046665	000000	046700			TB326E			; = 1
 17608	046666	000000	046705			TB326F			; = 2
 17609	046667	000000	046711			TB326G			; = 3
 17610	046670	000000	046715			TB326H			; = 4
 17611	046671	000000	046721			TB326I			; = 5
 17612	046672	000000	046726			TB326J			; = 6
 17613	046673	000000	000000			000000			;TABLE TERMINATOR
 17614
 17615	046674	056437	057316		TB326D:	SNABRT,,DUMPS
 17616	046675	100000	071502			NOINH![ASCIZ/MULTIPLE FAULT! DA DID NOT INC., EXCEP=0, DONE=0/]
 17617	046676	400000	077761			HIPROB!SN
 17618	046677	030000	061651			LAST!SUBRTN!ER23CK
 17619
 17620	046700	056437	057316		TB326E:	SNABRT,,DUMPS
 17621	046701	100000	071514			NOINH![ASCIZ/MULTIPLE FAULT! DA DID NOT INC., EXCEP=0, DONE=1/]
 17622	046702	400000	077761			HIPROB!SN
 17623	046703	400000	077765			HIPROB!SS
 17624	046704	030000	061651			LAST!SUBRTN!ER23CK
 17625
 17626	046705	056437	057316		TB326F:	SNABRT,,DUMPS
 17627	046706	100000	071526			NOINH![ASCIZ/STATUS INDICATES PROBLEM WTH DRIVE "EBL" LOGIC/]
 17628	046707	400000	077761			HIPROB!SN
 17629	046710	030000	061651			LAST!SUBRTN!ER23CK
 17630
 17631	046711	056437	057316		TB326G:	SNABRT,,DUMPS
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-200
DSRPA3	MAC	23-Feb-79 09:36		DATA TRANSFER TESTS                                                                SEQ 0617

 17632	046712	100000	071540			NOINH![ASCIZ/DA REG FAULT. NOT INCREMENTING WITH "EBL"/]
 17633	046713	400000	077765			HIPROB!SS
 17634	046714	030000	061651			LAST!SUBRTN!ER23CK
 17635
 17636	046715	056437	057316		TB326H:	SNABRT,,DUMPS
 17637	046716	100000	071551			NOINH![ASCIZ/MULTIPLE FAULT! DONE=0 EXCEP=0 BUT EBL OCCURED/]
 17638	046717	400000	077761			HIPROB!SN
 17639	046720	030000	061651			LAST!SUBRTN!ER23CK
 17640
 17641	046721	056437	057316		TB326I:	SNABRT,,DUMPS
 17642	046722	100000	071563			NOINH![ASCIZ/STATUS INDICATES "EXCEP" LOGIC FAULT/]
 17643	046723	400000	077761			HIPROB!SN
 17644	046724	400000	077701			HIPROB!TB
 17645	046725	030000	061651			LAST!SUBRTN!ER23CK
 17646
 17647	046726	056437	057316		TB326J:	SNABRT,,DUMPS
 17648	046727	100000	071573			NOINH![ASCIZ/EBL NOT GETTING BACK TO RH/]
 17649	046730	400000	077701			HIPROB!TB
 17650	046731	030000	061651			LAST!SUBRTN!ER23CK
 17651
 17652					SUBTTL	BASIC FORMAT AND "WRITE" DATA PATH TESTS
 17653					 	XLIST
 17654					 	LIST
 17655						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-201
DSRPA3	MAC	23-Feb-79 09:36		BASIC FORMAT AND "WRITE" DATA PATH TESTS                                           SEQ 0618

 17656					S^;*********************************************************************^
 17657					;*TEST-327 VERIFY OPERATION OF WRT HD+DAT UP TO DATA FIELD
 17658					S^;*********************************************************************^
 17659
 17660					COMMENT	$
 17661
 17662						TEST DESCRIPTION
 17663						---------------- 
 17664						THIS IS A SERIES OF 8 SUBTESTS THAT VERIFY OPERATION OF THE
 17665						WRITE HEADER AND DATA COMMAND FROM THE PRE HEADER GAP TO
 17666						THE START OF THE DATA FIELD. THE TEST COMPLETES AT THE START
 17667						OF THE DATA FIELD IN ORDER TO MINIMIZE THE SIZE OF THE SCOPE LOOP.
 17668						THE SUBTESTS CONSIST OF:
 17669						A. CHECK 39 BYTES OF ZEROS IN THE SECTOR GAP
 17670						B. CHECK FOR PROPER SYNC BYTE
 17671						C. CHECK THAT THE 8 BYTES OF HEADER AND KEY WORDS ARE
 17672						   ZERO SINCE THE TRANSFER IS TO CYL=0 SURF=0 SECT=0
 17673						D. CHECK THAT HEADER CRC BYTES ARE CORRECT=0
 17674						E. CHECK THAT THE 11 BYTES OF ZEROS IN THE HEAD GAP ARE CORRECT.
 17675						F. CHECK THAT THE POST HEADER SYNCH BYTE IS CORRECT.
 17676						G. VERIFY THAT THE DATA ENVELOPE IS NOT UP TO SOON
 17677						H. VERIFY THAT THE DATA ENVELOPE IS UP ON TIME
 17678
 17679						RECOMMENDED DEBUG PROCEDURE
 17680						--------------------------- 
 17681						REF: WRITE HEADER AND DATA TIMING DIAGRAM RP04-0-24
 17682						$
 17683					 	SALL
 17684
 17685
 17686	046732	201 01 0 00 000327 	TST327:	MOVEI	1,327		;GET THE TEST NUMBER
 17687	046733	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 17688
 17689	046734	260 17 0 00 060522 	T327S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 17690	046735	263 17 0 00 000000 		RTN			;TRIED ALL
 17691	046736	255 00 0 00 000000 		JFCL			;NEXT READY
 17692
 17693	046737	260 17 0 00 055673 		GO	ONCHK		;GET ON-LINE
 17694
 17695	046740	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 17696
 17697	046741	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 17698	046742	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 17699
 17700	046743	260 17 0 00 056514 		GO	SETB1		;SET UP BUFFER
 17701
 17702	046744	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]
 17703
 17704	046745	260 17 0 00 055760 	T327L:	GO	WRTENB		;GET WRITE ENB
 17705
 17706	046746	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 17707
 17708	046747	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 17709
 17710	046750	260 17 0 00 056006 		GO	MMODE1		;GO INTO MAINT MODE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-202
DSRPA3	MAC	23-Feb-79 09:36		BASIC FORMAT AND "WRITE" DATA PATH TESTS                                           SEQ 0619

 17711
 17712	046751	201 01 0 00 000063 		MOVEI	1,63		;WRITE HEADER AND DATA COMMAND
 17713	046752	402 00 0 00 000002 		SETZM	2		;CY=0 SURF=0 SECT=0
 17714	046753	200 03 0 00 071426 		MOVE	3,[202,,BUF1]	;WORD COUNT,,CORE ADDR
 17715	046754	260 17 0 00 056351 		GO	XFSTRT		;START TRANSFER
 17716	046755	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 17717
 17718	046756	260 17 0 00 056076 		GO	SECPLS		;CAUSE SECTOR PULSE
 17719
 17720	046757	402 00 0 00 077257 		SETZM	CLKTOT#		;NO ERROR. CLEAR CLOCK TOTAL
 17721
 17722					;CHECK THE 39 BYTES OF ZEROS
 17723
 17724	046760	201 01 0 00 000010 	T327A:	MOVEI	1,^D8		;# OF CLOCKS TO AC1
 17725	046761	272 01 0 00 077257 		ADDM	1,CLKTOT#	;UPDATE TOTAL
 17726	046762	260 17 0 00 056622 		GO	MCLK2		;ISSUE 8 CLOCKS
 17727	046763	202 01 0 00 077337 		MOVEM	1,SVDAT#	;SAVE DATA
 17728
 17729	046764	332 00 0 00 000001 		SKIPE	1		;IS THIS BYTE = 0
 17730	046765	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 17731	046766	027 00 0 00 047122 		SCOPE	TB327A		;CALL SCOPE ROUTINE
 17732	046767	254 00 0 00 046745 		JRST	T327L		;LOOP
 17733	046770	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET?
 17734	046771	254 00 0 00 046734 		JRST	T327S		;YES. THEN DON'T PROCEED
 17735
 17736	046772	200 01 0 00 077257 		MOVE	1,CLKTOT	;GET CLOCK TOTAL
 17737	046773	305 01 0 00 000470 		CAIGE	1,^D312		;MORE TO DO
 17738	046774	254 00 0 00 046760 		JRST	T327A		;YES
 17739	046775	254 00 0 00 046776 		JRST	T327B		;NO. FALL INTO NEXT TEST
 17740
 17741					;CHECK THE SYNCH BYTE
 17742
 17743	046776	201 01 0 00 000010 	T327B:	MOVEI	1,^D8		;A BYTES WORTH OF CLOCKS
 17744	046777	272 01 0 00 077257 		ADDM	1,CLKTOT	;UPDATE TOTAL
 17745	047000	260 17 0 00 056622 		GO	MCLK2		;STEP THROUGH SYNCH BYTE
 17746	047001	202 01 0 00 077337 		MOVEM	1,SVDAT		;SAVE THE BYTE
 17747
 17748	047002	302 01 0 00 000031 		CAIE	1,031		;SYNCH BYTES IN OCTAL
 17749	047003	476 00 0 00 000010 		SETOM	ERFLG		;WRONG
 17750	047004	027 00 0 00 047130 		SCOPE	TB327B		;CALL SCOPE ROUTINE
 17751	047005	254 00 0 00 046745 		JRST	T327L		;LOOP
 17752	047006	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET ?
 17753	047007	254 00 0 00 046734 		JRST	T327S		;YES
 17754	047010	254 00 0 00 047011 		JRST	T327C		;NO. TO NEXT SUBTEST
 17755
 17756					;STEP THROUGH AND CHECK 8 BYTES OF HEADER INFORMATION
 17757
 17758	047011	402 00 0 00 077257 	T327C:	SETZM	CLKTOT		;ZERO CLOCK TOTAL COUNT
 17759
 17760	047012	201 01 0 00 000010 	T327C1:	MOVEI	1,^D8		;A BYTES WORTH OF CLOCKS
 17761	047013	272 01 0 00 077257 		ADDM	1,CLKTOT	;UPDATE TOTAL COUNT
 17762	047014	260 17 0 00 056622 		GO	MCLK2		;XFER A BYTE
 17763	047015	202 01 0 00 077337 		MOVEM	1,SVDAT		;SAVE DATA
 17764
 17765	047016	332 00 0 00 000001 		SKIPE	1		;IS DATA ZERO
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-203
DSRPA3	MAC	23-Feb-79 09:36		BASIC FORMAT AND "WRITE" DATA PATH TESTS                                           SEQ 0620

 17766	047017	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 17767	047020	027 00 0 00 047134 		SCOPE	TB327C		;CALL SCOPE ROUTINE
 17768	047021	254 00 0 00 046745 		JRST	T327L		;LOOP
 17769	047022	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET ?
 17770	047023	254 00 0 00 046734 		JRST	T327S		;YES. DON'T PROCEED
 17771
 17772	047024	200 01 0 00 077257 		MOVE	1,CLKTOT	;GET TOTAL CLOCK COUNT
 17773	047025	305 01 0 00 000100 		CAIGE	1,^D64		;DONE ?
 17774	047026	254 00 0 00 047012 		JRST	T327C1		;NO.
 17775	047027	254 00 0 00 047030 		JRST	T327D		;YES. TO NEXT SUBTEST
 17776
 17777					;CHECK THAT CRC FOR A HEADER OF ZERO IS ZERO
 17778
 17779	047030	201 01 0 00 000020 	T327D:	MOVEI	1,^D16		;# OF CLOCKS FOR HEADER CRC
 17780	047031	272 01 0 00 077257 		ADDM	1,CLKTOT	;ADD TO TOTAL
 17781	047032	260 17 0 00 056622 		GO	MCLK2		;STEP THRU 2 BYTES OF HEADER CRC
 17782	047033	202 01 0 00 077337 		MOVEM	1,SVDAT		;SAVE THE DATA
 17783
 17784	047034	332 00 0 00 000001 		SKIPE	1		;IS DATA ZERO
 17785	047035	476 00 0 00 000010 		SETOM	ERFLG		;NO, ERROR
 17786	047036	027 00 0 00 047146 		SCOPE	TB327D		;CALL SCOPE ROUTINE
 17787	047037	254 00 0 00 046745 		JRST	T327L		;LOOP
 17788	047040	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET?
 17789	047041	254 00 0 00 046734 		JRST	T327S		;YES
 17790	047042	254 00 0 00 047043 		JRST	T327E		;NO. TO NEXT SUBTEST
 17791
 17792					;VERIFY 11 BYTES OF ZEROS FOLLOWING HEADER DATA
 17793
 17794	047043	402 00 0 00 077257 	T327E:	SETZM	CLKTOT		;ZERO TOTAL COUNT
 17795	047044	201 01 0 00 000010 	T327E1:	MOVEI	1,^D8		;A BYTES WORTH OF CLOCKS
 17796	047045	272 01 0 00 077257 		ADDM	1,CLKTOT	;UPDATE TOTAL
 17797	047046	260 17 0 00 056622 		GO	MCLK2		;STEP THROUGH A BYTE
 17798	047047	202 01 0 00 077337 		MOVEM	1,SVDAT		;SAVE RESULTS
 17799
 17800	047050	332 00 0 00 000001 		SKIPE	1		;IS DATA CORRECT
 17801	047051	476 00 0 00 000010 		SETOM	ERFLG		;NO
 17802	047052	027 00 0 00 047153 		SCOPE	TB327E		;CALL SCOPE ROUTINE
 17803	047053	254 00 0 00 046745 		JRST	T327L		;LOOP
 17804	047054	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET
 17805	047055	254 00 0 00 046734 		JRST	T327S		;YES, DONT CONTINUE
 17806
 17807	047056	200 01 0 00 077257 		MOVE	1,CLKTOT	;GET TOTAL COUNT
 17808	047057	305 01 0 00 000130 		CAIGE	1,^D88		;DONE WITH THIS AREA
 17809	047060	254 00 0 00 047044 		JRST	T327E1		;NO
 17810	047061	254 00 0 00 047062 		JRST	T327F		;YES: TO NEXT SUBTEST
 17811
 17812					;MAKE SURE DATA ENVELOPE IS NOT UP TO EARLY
 17813
 17814	047062	205 01 0 00 000010 	T327F:	MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 17815	047063	260 17 0 00 057607 		GO	RRPMR		;READ THE MAINT REG
 17816	047064	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 17817	047065	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 17818	047066	602 01 0 00 000200 		TRNE	1,1B28		;D-ENV THERE YET
 17819	047067	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
 17820	047070	027 00 0 00 047157 		SCOPE	TB327F		;CALL THE SCOPE ROUTINE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-204
DSRPA3	MAC	23-Feb-79 09:36		BASIC FORMAT AND "WRITE" DATA PATH TESTS                                           SEQ 0621

 17821	047071	254 00 0 00 046745 		JRST	T327L		;LOOP
 17822	047072	332 00 0 00 077274 		SKIPE	ERYETU		;ERROR YET ?
 17823	047073	254 00 0 00 046734 		JRST	T327S		;YES. DON'T PROCEED
 17824	047074	254 00 0 00 047075 		JRST	T327G		;NO. PROCEED TO NEXT SUBTEST
 17825
 17826					;CHECK SYNC BYTE FOLLOWING HEADER
 17827
 17828	047075	201 01 0 00 000010 	T327G:	MOVEI	1,^D8		;# CLOCKS IN SYNCH BYTE
 17829	047076	260 17 0 00 056622 		GO	MCLK2		;STEP THROUGH SYNCH BYTE
 17830	047077	202 01 0 00 077337 		MOVEM	1,SVDAT		;SAVE DATA
 17831
 17832	047100	302 01 0 00 000031 		CAIE	1,031		;SYNCH BYTE
 17833	047101	476 00 0 00 000010 		SETOM	ERFLG		;INCORRECT
 17834	047102	027 00 0 00 047162 		SCOPE	TB327G		;CALL SCOPE ROUTINE
 17835	047103	254 00 0 00 046745 		JRST	T327L		;LOOP
 17836	047104	332 00 0 00 077274 		SKIPE	ERYETU		;ERROR YET
 17837	047105	254 00 0 00 046734 		JRST	T327S		;YES. DONT CONTINUE
 17838	047106	254 00 0 00 047107 		JRST	T327H		;NO. TO NEXT SUBTEST
 17839
 17840					;MAKE SURE DATA ENV IS UP
 17841
 17842	047107	205 01 0 00 000010 	T327H:	MOVSI	1,(1B14)	;DONT REPORT RAES
 17843	047110	260 17 0 00 057607 		GO	RRPMR		;READ THE MAINT REG
 17844	047111	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 17845	047112	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 17846	047113	606 01 0 00 000200 		TRNN	1,1B28		;MAKE SURE DATA ENVELOPE IS ONE
 17847	047114	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 17848	047115	336 00 0 00 000010 		SKIPN	ERFLG		;ERROR YET ?
 17849	047116	260 17 0 00 056432 		GO	XFSTOP		;NO. STOP THE TRANSFER
 17850	047117	027 00 0 00 047166 		SCOPE	TB327H		;CALL SCOPE ROUTINE
 17851	047120	254 00 0 00 046745 		JRST	T327L		;LOOP
 17852	047121	254 00 0 00 046734 		JRST	T327S		;SELECT NEXT DEVICE
 17853
 17854					;SCOPE TABLES FOR THIS TEST
 17855
 17856	047122	056437	057316		TB327A:	SNABRT,,DUMPS		;SNAPSHOT AND DUMP ROUTINES
 17857	047123	100000	071601			NOINH![ASCIZ/FAULT IN 1ST 39 BYTES OF SECTOR GAP. "BYTE SHOULD BE 0'S"/]
 17858	047124	010000	047171			SUBRTN!DTP1		;PRINT BYTE COUNT AND DATA
 17859	047125	400000	077761			HIPROB!SN
 17860	047126	400000	077755			HIPROB!EC
 17861	047127	620000	077765			LAST!LOPROB!SS
 17862
 17863	047130	056437	057316		TB327B:	SNABRT,,DUMPS
 17864	047131	100000	071615			NOINH![ASCIZ/PRE HEADER SYNC BYTE FAULT "SHOULD BE 031"/]
 17865	047132	010000	047204			SUBRTN!DTP2
 17866	047133	420000	077761			LAST!HIPROB!SN
 17867
 17868	047134	056437	057316		TB327C:	SNABRT,,DUMPS
 17869	047135	100000	071626			NOINH![ASCIZ?ERRONEOUS DATA IN HEADER AND/OR KEY WORD AREA?]
 17870	047136	100000	071640			NOINH![ASCIZ/8 BYTES OF HEADER INFORMATION SHOULD BE 0/]
 17871	047137	010000	047171			SUBRTN!DTP1
 17872	047140	400000	077761			HIPROB!SN
 17873	047141	400000	077755			HIPROB!EC
 17874	047142	400000	100001			HIPROB!TRMES
 17875	047143	400000	077661			HIPROB!TA
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-205
DSRPA3	MAC	23-Feb-79 09:36		BASIC FORMAT AND "WRITE" DATA PATH TESTS                                           SEQ 0622

 17876	047144	400000	077701			HIPROB!TB
 17877	047145	420000	077721			LAST!HIPROB!TC
 17878
 17879	047146	056437	057316		TB327D:	SNABRT,,DUMPS
 17880	047147	100000	071651			NOINH![ASCIZ/HEADER CRC DATA ERROR. IT SHOULD BE ZERO/]
 17881	047150	010000	047213			SUBRTN!DTP3
 17882	047151	400000	077761			HIPROB!SN
 17883	047152	420000	077765			LAST!HIPROB!SS
 17884
 17885
 17886	047153	056437	057316		TB327E:	SNABRT,,DUMPS
 17887	047154	100000	071662			NOINH![ASCIZ/11 BYTES OF POST HEADER GAP NOT ALL ZERO/]
 17888	047155	010000	047171			SUBRTN!DTP1
 17889	047156	420000	077761			LAST!HIPROB!SN
 17890
 17891	047157	056437	057316		TB327F:	SNABRT,,DUMPS
 17892	047160	100000	071673			NOINH![ASCIZ/DATA ENVELOPE IS COMING UP TO EARLY/]
 17893	047161	420000	077761			LAST!HIPROB!SN
 17894
 17895	047162	056437	057316		TB327G:	SNABRT,,DUMPS
 17896	047163	100000	071703			NOINH![ASCIZ/POST HEADER SYNC BYTE FAULT. "SHOULD BE 031"/]
 17897	047164	010000	047204			SUBRTN!DTP2
 17898	047165	420000	077761			LAST!HIPROB!SN
 17899
 17900
 17901	047166	056437	057316		TB327H:	SNABRT,,DUMPS
 17902	047167	100000	071714			NOINH![ASCIZ/DATA ENVELOPE NOT THERE AFTER 496. SHIFT CLOCKS/]
 17903	047170	420000	077761			LAST!HIPROB!SN
 17904
 17905					;PRINT BYTE NUMBER IN ERROR AND BYTE DATA FROM "CLKTOT" AND "SVDAT"
 17906
 17907	047171	261 17 0 00 000000 	DTP1:	PUT	0		;SAVE AC
 17908						TEXT	[ASCIZ/
 17909	047172	030 00 0 00 071726 	BYTE # /]
 17910	047173	200 00 0 00 077257 		MOVE	0,CLKTOT	;GET TOTAL CLOCK COUNT
 17911	047174	242 00 0 00 777775 		LSH	0,-3		;DIVIDE BY 8
 17912	047175	260 17 0 00 063457 		GO	PSDN		;PRINT IN DECIMAL
 17913	047176	030 00 0 00 071730 		TEXT	[ASCIZ/	DATA = /]
 17914	047177	200 00 0 00 077337 		MOVE	0,SVDAT		;GET BYTE DATA
 17915	047200	037 03 0 00 000000 		PNT3			;PRINT DATA
 17916	047201	037 00 0 00 030242 		PCRL
 17917	047202	262 17 0 00 000000 		GET	0
 17918	047203	263 17 0 00 000000 		RTN
 17919
 17920					;PRINT A BYTES WORTH OR DATA FROM "SVDAT"
 17921
 17922	047204	261 17 0 00 000000 	DTP2:	PUT	0		;SAVE AC0
 17923						TEXT	[ASCIZ/
 17924	047205	030 00 0 00 071732 	DATA WAS = /]
 17925	047206	200 00 0 00 077337 		MOVE	0,SVDAT		;GET DATA
 17926	047207	037 03 0 00 000000 		PNT3			;AND PRINT IT
 17927	047210	037 00 0 00 030242 		PCRL
 17928	047211	262 17 0 00 000000 		GET	0		;RESTORE THE AC
 17929	047212	263 17 0 00 000000 		RTN			;AND EXIT
 17930
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-206
DSRPA3	MAC	23-Feb-79 09:36		BASIC FORMAT AND "WRITE" DATA PATH TESTS                                           SEQ 0623

 17931					;PRINT 16 BIT CRC DATA FROM "SVDAT"
 17932
 17933	047213	261 17 0 00 000000 	DTP3:	PUT	0		;SAVE AC
 17934						TEXT	[ASCIZ/
 17935	047214	030 00 0 00 071735 	HEADER CRC WORD WAS = /]
 17936	047215	200 00 0 00 077337 		MOVE	0,SVDAT		;DATA WORD
 17937	047216	037 06 0 00 000000 		PNT6			;PRINT 2 BYTES WORTH
 17938	047217	037 00 0 00 030242 		PCRL
 17939	047220	262 17 0 00 000000 		GET	0		;RESTORE AC
 17940	047221	263 17 0 00 000000 		RTN			;EXIT
 17941
 17942					SUBTTL	WRITE DATA PATH TEST
 17943					 	XLIST
 17944					 	LIST
 17945						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-207
DSRPA3	MAC	23-Feb-79 09:36		WRITE DATA PATH TEST                                                               SEQ 0624

 17946					S^;*********************************************************************^
 17947					;*TEST-330 CHECK FOR STUCK 1'S AND 0'S ON DATA BUSS
 17948					S^;*********************************************************************^
 17949
 17950					COMMENT	$
 17951
 17952						TEST DESCRIPTION
 17953						---------------- 
 17954						ISSUE A MAINT MODE WRITE HEADER AND DATA COMMAND AND
 17955						CHECK THAT THE DATA BITS ON THE MASS BUS GOING
 17956						FROM CONTROLLER TO DRIVE ARE NOT STUCK AT ONES OR
 17957						ZEROS.
 17958						1.  START THE TRANSFER
 17959						2.  ISSUE 496 SHIFT CLOCKS TO STEP TO DATA AREA
 17960						3.  CLOCK 1ST 18 BITS OUT AND VERIFY THAT THEY
 17961						    ARE ZERO.
 17962						4.  CLOCK 2ND 18 BITS OUT AND VERIFY THAT THEY
 17963						    ARE ONES. 
 17964
 17965						RECOMMENDED DEBUG PROCEDURE
 17966						--------------------------- 
 17967						LOOK FOR FAULTY INTERFACE, DATA PATH AND SHIFT REG PROBS
 17968						$
 17969					 	SALL
 17970
 17971
 17972	047222	201 01 0 00 000330 	TST330:	MOVEI	1,330		;GET THE TEST NUMBER
 17973	047223	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 17974
 17975	047224	260 17 0 00 060522 	T330S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 17976	047225	263 17 0 00 000000 		RTN			;TRIED ALL
 17977	047226	255 00 0 00 000000 		JFCL			;NEXT RDY
 17978
 17979	047227	260 17 0 00 055673 		GO	ONCHK		;GET ON-LINE
 17980
 17981	047230	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 17982
 17983	047231	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 17984
 17985	047232	476 00 0 00 000010 		SETOM	ERFLG		;RECAL FAILED
 17986
 17987	047233	260 17 0 00 056514 		GO	SETB1		;SET UP STD BUFFER
 17988
 17989	047234	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760] ;Q UP REGISTERS
 17990
 17991	047235	260 17 0 00 055760 	T330L:	GO	WRTENB		;GET WRITE ENABLED
 17992
 17993	047236	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 17994
 17995	047237	260 17 0 00 056006 		GO	MMODE1		;GO INTO MAINT MODE
 17996
 17997	047240	201 01 0 00 000063 		MOVEI	1,63		;WRITE HEADER AND DATA
 17998	047241	402 00 0 00 000002 		SETZM	2		;DCY=0 DA=0
 17999	047242	200 03 0 00 071426 		MOVE	3,[202,,BUF1]	;WC,,BUFFER ADDR
 18000	047243	260 17 0 00 056351 		GO	XFSTRT		;START THE TRANSFER
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-208
DSRPA3	MAC	23-Feb-79 09:36		WRITE DATA PATH TEST                                                               SEQ 0625

 18001	047244	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 18002	047245	260 17 0 00 056076 		GO	SECPLS		;CAUSE SECTOR PULSE
 18003	047246	254 00 0 00 047247 		JRST	T330A		;OK
 18004
 18005					;STEP UP TO THE DATA FIELD
 18006
 18007	047247	201 01 0 00 000760 	T330A:	MOVEI	1,^D496		;# CLOCKS NECESSARY
 18008	047250	260 17 0 00 056605 		GO	MCLK1		;ISSUE CLOCKS
 18009
 18010					;ISSUE 18 CLOCKS TO XFER 1ST 18 BITS OF ZERO'S
 18011
 18012	047251	201 01 0 00 000022 		MOVEI	1,^D18		;# OF CLOCKS
 18013	047252	260 17 0 00 056622 		GO	MCLK2		;ISSUE THE CLOCKS
 18014	047253	202 01 0 00 077337 		MOVEM	1,SVDAT		;SAVE DATA
 18015
 18016	047254	332 00 0 00 000001 		SKIPE	1		;DATA 0?
 18017	047255	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 18018	047256	027 00 0 00 047275 		SCOPE	TB330A		;CALL SCOPE ROUTINE
 18019	047257	254 00 0 00 047235 		JRST	T330L		;LOOP
 18020	047260	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET
 18021	047261	254 00 0 00 047224 		JRST	T330S		;YES. DONT CONTINUE
 18022	047262	254 00 0 00 047263 		JRST	T330B		;NO
 18023
 18024					;ISSUE 18 MORE CLOCKS TO XFER 18 BITS OF 1'S
 18025
 18026	047263	201 01 0 00 000022 	T330B:	MOVEI	1,^D18		;# OF CLOCKS
 18027	047264	260 17 0 00 056622 		GO	MCLK2		;CLOCK THE DATA
 18028	047265	202 01 0 00 077337 		MOVEM	1,SVDAT		;SAVE DATA
 18029	047266	302 01 0 00 777777 		CAIE	1,777777	;DATA ONES?
 18030	047267	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 18031	047270	336 00 0 00 000010 		SKIPN	ERFLG		;ERROR YET ?
 18032	047271	260 17 0 00 056432 		GO	XFSTOP		;NO. STOP THE TRANSFER
 18033	047272	027 00 0 00 047307 		SCOPE	TB330B		;CALL SCOPE ROUTINE
 18034	047273	254 00 0 00 047235 		JRST	T330L		;LOOP
 18035	047274	254 00 0 00 047224 		JRST	T330S		;SELECT NEXT DRIVE
 18036
 18037					;SCOPE TABLES
 18038
 18039	047275	056437	057316		TB330A:	SNABRT,,DUMPS
 18040	047276	100000	071742			NOINH![ASCIZ/FAULT IN 1ST 18 BITS WHICH CAME OVER DATA BUSS/]
 18041	047277	100000	071754			NOINH![ASCIZ/DATA SHOULD BE = 000000/]
 18042	047300	010000	047313		TB330C:	SUBRTN!DTP4
 18043	047301	400000	100001			HIPROB!TRMES
 18044	047302	400000	077661			HIPROB!TA
 18045	047303	400000	077701			HIPROB!TB
 18046	047304	400000	077721			HIPROB!TC
 18047	047305	400000	077755			HIPROB!EC
 18048	047306	420000	077761			LAST!HIPROB!SN
 18049
 18050	047307	056437	057316		TB330B:	SNABRT,,DUMPS
 18051	047310	100000	071761			NOINH![ASCIZ/FAULT IN 2ND 18 BITS WHICH CAME OVER DATA BUSS/]
 18052	047311	100000	071773			NOINH![ASCIZ/DATA SHOULD BE = 777777/]
 18053	047312	040000	047300			GOTO!TB330C
 18054
 18055					;PRINTS 18 BITS OF DATA FROM "SVDAT"
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-209
DSRPA3	MAC	23-Feb-79 09:36		WRITE DATA PATH TEST                                                               SEQ 0626

 18056
 18057	047313	261 17 0 00 000000 	DTP4:	PUT	0		;SAVE AC
 18058						TEXT	[ASCIZ/
 18059	047314	030 00 0 00 071732 	DATA WAS = /]
 18060	047315	200 00 0 00 077337 		MOVE	0,SVDAT		;GET DATA
 18061	047316	037 06 0 00 000000 		PNT6			;PRINT 18 BITS
 18062	047317	037 00 0 00 030242 		PCRL
 18063	047320	262 17 0 00 000000 		GET	0		;RESTORE AC
 18064	047321	263 17 0 00 000000 		RTN			;EXIT
 18065
 18066					 	XLIST
 18067					 	LIST
 18068						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-210
DSRPA3	MAC	23-Feb-79 09:36		WRITE DATA PATH TEST                                                               SEQ 0627

 18069					S^;*********************************************************************^
 18070					;*TEST-331 CHECK OF WRITE DATA PATH USING FLOATING PATTERNS
 18071					S^;*********************************************************************^
 18072
 18073					COMMENT	$
 18074
 18075						TEST DESCRIPTION
 18076						---------------- 
 18077						VERIFY THAT THERE ARE NO BITS CROSS COUPLED ON WRITE DATA
 18078						BUSS BY TESTING DATA INTEGRITY WITH FLOATING PATTERNS
 18079						1.  START A MAINT MODE XFER OF 1 SECTOR
 18080						2.  ISSUE 496 CLOCKS TO STEP TO DATA AREA
 18081						3.  ISSUE 36 CLOCKS TO STEP OVER 1ST PDP-10 WORD
 18082						4.  START CLOCKING PDP-10 HALF WORDS OUT OF MEMORY (FLOATING
 18083						    PATTERNS), EACH TIME VERIFYING THAT DATA WAS CORRECT
 18084						5.  REPEAT STEP-4 UNTIL 18 PDP-10 WORDS HAVE BEEN TESTED.
 18085						6.  ABORT THE TRANSFER 
 18086
 18087						RECOMMENDED DEBUG PROCEDURE
 18088						--------------------------- 
 18089						NONE
 18090						$
 18091					 	SALL
 18092
 18093
 18094	047322	201 01 0 00 000331 	TST331:	MOVEI	1,331		;GET TEST NUMBER
 18095	047323	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 18096
 18097	047324	260 17 0 00 060522 	T331S:	GO	DEVSEL		;SELECT A DEVICE
 18098	047325	263 17 0 00 000000 		RTN			;TRIED ALL
 18099	047326	260 17 0 00 055673 		GO	ONCHK		;NXT RDY. GET ON LINE
 18100
 18101	047327	260 17 0 00 060723 		GO MSTCLR		;CLEAR ERRORS
 18102
 18103	047330	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 18104	047331	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 18105
 18106	047332	260 17 0 00 056514 		GO	SETB1		;SET UP WRITE BUFFER
 18107
 18108	047333	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760] ;Q REGISTERS
 18109
 18110	047334	260 17 0 00 055760 	T331L:	GO	WRTENB		;WRITE ENABLE DEVICE
 18111
 18112	047335	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 18113
 18114	047336	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 18115
 18116	047337	260 17 0 00 056006 		GO	MMODE1		;INTO MAINT MODE
 18117
 18118	047340	201 01 0 00 000063 		MOVEI	1,63		;WRT HDR + DATA
 18119	047341	402 00 0 00 000002 		SETZM	2		;DCY=0 DA=0
 18120	047342	200 03 0 00 072000 		MOVE	3,[200,,BUF1]	;TWC,,ADR
 18121	047343	260 17 0 00 056351 		GO	XFSTRT		;START THE TRANSFER
 18122	047344	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 18123	047345	260 17 0 00 056076 		GO	SECPLS		;CAUSE SECTOR PULSE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-211
DSRPA3	MAC	23-Feb-79 09:36		WRITE DATA PATH TEST                                                               SEQ 0628

 18124	047346	254 00 0 00 047347 		JRST	T331A		;PROCEED
 18125
 18126					;STEP UP TO FLOAT PATTERNS WITH 496+36=532 SHIFT CLOCKS
 18127
 18128	047347	201 01 0 00 001024 	T331A:	MOVEI	1,^D532		;# OF CLOCKS
 18129	047350	260 17 0 00 056605 		GO	MCLK1		;DOES THE CLOCKING
 18130
 18131	047351	201 01 0 00 000006 		MOVEI	1,6		;# OF HALF WORDS INTO BUFFER
 18132	047352	202 01 0 00 077302 		MOVEM	1,HWC#		;WHERE WE START
 18133
 18134	047353	350 00 0 00 077302 	T331A1:	AOS	HWC		;POINTING TO PRESENT BYTE
 18135
 18136	047354	201 01 0 00 000022 		MOVEI	1,^D18		;# OF CLOCKS FOR 1/2 WORD XFER
 18137	047355	260 17 0 00 056622 		GO	MCLK2		;CLOCK OUT 18 BITS
 18138	047356	202 01 0 00 077337 		MOVEM	1,SVDAT		;SAVE IT
 18139	047357	200 01 0 00 077302 		MOVE	1,HWC		;GET HALF WORD COUNT
 18140	047360	260 17 0 00 056523 		GO	FETWD		;FETCH 18 BITS FROM MEMORY
 18141	047361	202 01 0 00 077304 		MOVEM	1,MASDAT#	;SAVE DATA
 18142
 18143	047362	312 01 0 00 077337 		CAME	1,SVDAT		;IS DATA CORRECT
 18144	047363	476 00 0 00 000010 		SETOM	ERFLG		;NO
 18145	047364	027 00 0 00 047375 		SCOPE	TB331		;CALL SCOPE ROUTINE
 18146	047365	254 00 0 00 047334 		JRST	T331L		;LOOP
 18147	047366	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET
 18148	047367	254 00 0 00 047324 		JRST	T331S		;YES. DONT CONTINUE
 18149
 18150	047370	200 01 0 00 077302 		MOVE	1,HWC		;GET PRESET # OF 1/2 WORDS
 18151	047371	305 01 0 00 000052 		CAIGE	1,^D42		;DONE
 18152	047372	254 00 0 00 047353 		JRST	T331A1		;NO.
 18153	047373	260 17 0 00 056432 		GO	XFSTOP		;YES. STOP XFER
 18154	047374	254 00 0 00 047324 		JRST	T331S		;GO FOR NEXT DRIVE
 18155
 18156					;SCOPE TABLE FOR THIS TEST
 18157
 18158	047375	056437	057316		TB331:	SNABRT,,DUMPS
 18159	047376	100000	072001			NOINH![ASCIZ/CAN'T FLOAT PATTERNS OVER WRITE DATA PATH CORRECTLY/]
 18160	047377	010000	047406			SUBRTN!DTP5
 18161	047400	400000	100001			HIPROB!TRMES
 18162	047401	400000	077755			HIPROB!EC
 18163	047402	400000	077661			HIPROB!TA
 18164	047403	400000	077701			HIPROB!TB
 18165	047404	400000	077721			HIPROB!TC
 18166	047405	420000	077761			LAST!HIPROB!SN
 18167
 18168					;ROUTINE TO TELL WHICH HALF WORD FAILED.  WHAT DATA WENT
 18169					;OVER THE MASSBUS AND WHAT DATA WAS RECEIVED AT THE DRIVE
 18170					;LOOKS AT HWC, MASDAT, SUDAT
 18171
 18172	047406	261 17 0 00 000000 	DTP5:	PUT	0
 18173						TEXT	[ASCIZ/
 18174	047407	030 00 0 00 072014 	ERROR ON AN 18. BIT XFER OVER DATA BUSS. ERROR WAS ON TRANSFER # /]
 18175	047410	200 00 0 00 077302 		MOVE	0,HWC		;GET FAULTY TRANSFER NUMBER
 18176	047411	260 17 0 00 063457 		GO	PSDN		;PRINT IN DECIMAL
 18177						TEXT	[ASCIZ/
 18178	047412	030 00 0 00 072032 	DATA ACROSS THE MASS BUS = /]
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-212
DSRPA3	MAC	23-Feb-79 09:36		WRITE DATA PATH TEST                                                               SEQ 0629

 18179	047413	200 00 0 00 077304 		MOVE	0,MASDAT	;GET BUSS DATA
 18180	047414	037 06 0 00 000000 		PNT6
 18181						TEXT	[ASCIZ/
 18182	047415	030 00 0 00 072040 	DATA AT DRIVES MAINT REG = /]
 18183	047416	200 00 0 00 077337 		MOVE	0,SVDAT		;GET DISK DATA
 18184	047417	037 06 0 00 000000 		PNT6			;PRINT IT
 18185	047420	037 00 0 00 030242 		PCRL
 18186	047421	037 00 0 00 030242 		PCRL
 18187	047422	262 17 0 00 000000 		GET	0		;RESTORE AC
 18188	047423	263 17 0 00 000000 		RTN			;EXIT
 18189
 18190					SUBTTL	PARITY NETWORK TESTS DURING A WRITE
 18191					 	XLIST
 18192					 	LIST
 18193						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-213
DSRPA3	MAC	23-Feb-79 09:36		PARITY NETWORK TESTS DURING A WRITE                                                SEQ 0630

 18194					S^;*********************************************************************^
 18195					;*TEST-332 TRANSFER STANDARD DATA PATTERNS CHECKING FOR PARITY
 18196					S^;*********************************************************************^
 18197
 18198					COMMENT	$
 18199
 18200						TEST DESCRIPTION
 18201						---------------- 
 18202						THIS TEST PASSES 52 (18-BIT) DATA PATTERNS ACROSS THE MASSBUS
 18203						AND CHECKS FOR PARITY ERRORS AFTER EACH TRANSFER.
 18204
 18205						RECOMMENDED DEBUG PROCEDURE
 18206						--------------------------- 
 18207						THE ERROR REPORT CONTAINS:
 18208						A.  # OF 18-BIT XFER THAT FAILED
 18209						B.  DATA THAT WAS SENT OVER THE MASSBUS
 18210						C.  DATA THAT WAS READ OUT OF THE MAINT REG.
 18211						$
 18212					 	SALL
 18213
 18214
 18215	047424	201 01 0 00 000332 	TST332:	MOVEI	1,332		;GET THE TEST NUMBER
 18216	047425	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 18217
 18218	047426	260 17 0 00 060522 	T332S:	GO	DEVSEL		;SELECT A DEVICE
 18219	047427	263 17 0 00 000000 		RTN			;TRIED ALL
 18220	047430	255 00 0 00 000000 		JFCL			;NEXT READY
 18221
 18222	047431	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 18223
 18224	047432	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 18225
 18226	047433	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 18227	047434	476 00 0 00 000010 		SETOM	ERFLG		;RECAL FAILURE
 18228
 18229	047435	260 17 0 00 056514 		GO	SETB1		;SET UP THE WRITE BUFFER
 18230
 18231	047436	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760] ;Q REGISTERS FOR PRINTING
 18232
 18233	047437	260 17 0 00 055760 	T332L:	GO	WRTENB		;GET DRIVE WRITE ENABLED
 18234
 18235	047440	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 18236
 18237	047441	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 18238
 18239	047442	260 17 0 00 056006 		GO	MMODE1		;GO INT MAINT MODE
 18240
 18241	047443	201 01 0 00 000063 		MOVEI	1,63		;WT HD+DATA FUNCTION CODE
 18242	047444	402 00 0 00 000002 		SETZM	2		;DA=0
 18243	047445	200 03 0 00 071426 		MOVE	3,[202,,BUF1]	;WC,,DATA ADDR
 18244	047446	260 17 0 00 056351 		GO	XFSTRT		;START THE TRANSFER
 18245	047447	476 00 0 00 000010 		SETOM	ERFLG		;ERROR?
 18246	047450	260 17 0 00 056076 		GO	SECPLS		;CAUSE SECTOR PULSE
 18247	047451	254 00 0 00 047452 		JRST	T332A		;PROCEED
 18248
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-214
DSRPA3	MAC	23-Feb-79 09:36		PARITY NETWORK TESTS DURING A WRITE                                                SEQ 0631

 18249					;ISSUE 406 CLOCKS TO STEP TO THE DATA FIELD
 18250
 18251	047452	201 01 0 00 000760 	T332A:	MOVEI	1,^D496		;# OF CLOCKS REQUIRED
 18252	047453	260 17 0 00 056605 		GO	MCLK1		;STEP TO DATA AREA
 18253
 18254	047454	201 01 0 00 000004 		MOVEI	1,4		;# OF HALF WORDS
 18255	047455	202 01 0 00 077302 		MOVEM	1,HWC		;INTO THE BUFFER
 18256
 18257					;START INTO LOOP SENDING DATA TO THE DRIVE AND CHECKING IT
 18258
 18259	047456	350 00 0 00 077302 	T332A1:	AOS	HWC		;INCREMENT HALF WORD COUNTER
 18260	047457	201 01 0 00 000022 		MOVEI	1,^D18		;# OF CLOCKS
 18261	047460	260 17 0 00 056622 		GO	MCLK2		;XFER 18 BITS
 18262	047461	202 01 0 00 077337 		MOVEM	1,SVDAT		;SAVE THE DATA
 18263
 18264	047462	200 01 0 00 077302 		MOVE	1,HWC		;GET CURRENT HALF WORD COUNT
 18265	047463	260 17 0 00 056523 		GO	FETWD		;FETCH DATA FROM MEMORY
 18266	047464	202 01 0 00 077304 		MOVEM	1,MASDAT	;SAVE IT
 18267
 18268	047465	205 01 0 00 000010 		MOVSI	1,(1B14)	;DONT REPORT RAES
 18269	047466	260 17 0 00 057604 		GO	RRPER1		;READ ER1
 18270	047467	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 18271	047470	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 18272	047471	602 01 0 00 000010 		TRNE	1,1B32		;PARITY ERROR
 18273	047472	476 00 0 00 000010 		SETOM	ERFLG		;YES
 18274	047473	027 00 0 00 047504 		SCOPE	TB332		;CALL SCOPE ROUTINE
 18275	047474	254 00 0 00 047437 		JRST	T332L		;LOOP
 18276	047475	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET
 18277	047476	254 00 0 00 047426 		JRST	T332S		;YES. DONT PROCEED
 18278
 18279	047477	200 01 0 00 077302 		MOVE	1,HWC		;GET PRESENT HALF WORD COUNT
 18280	047500	305 01 0 00 000064 		CAIGE	1,^D52		;DONE?
 18281	047501	254 00 0 00 047456 		JRST	T332A1		;NO
 18282	047502	260 17 0 00 056432 		GO	XFSTOP		;YES. STOP XFER
 18283	047503	254 00 0 00 047426 		JRST	T332S		;SELECT ANOTHER DRIVE
 18284
 18285					;SCOPE TABLE
 18286
 18287	047504	056437	057316		TB332:	SNABRT,,DUMPS
 18288	047505	100000	072046			NOINH![ASCIZ/DBPE WHILE GOING FROM CONTROLLER TO DRIVE/]
 18289	047506	010000	047406			SUBRTN!DTP5
 18290	047507	400000	077761			HIPROB!SN
 18291	047510	400000	077721			HIPROB!TC
 18292	047511	420000	077755			LAST!HIPROB!EC
 18293
 18294					 	XLIST
 18295					 	LIST
 18296						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-215
DSRPA3	MAC	23-Feb-79 09:36		PARITY NETWORK TESTS DURING A WRITE                                                SEQ 0632

 18297					S^;*********************************************************************^
 18298					;*TEST-333 VERIFY THAT DRIVE CAN DETECT INCORRECT PARITY 
 18299					S^;*********************************************************************^
 18300
 18301					COMMENT	$
 18302
 18303						TEST DESCRIPTION
 18304						---------------- 
 18305						THIS TEST IMPOSSIBLE ON KS-10/RH11
 18306
 18307						RECOMMENDED DEBUG PROCEDURE
 18308						--------------------------- 
 18309						NONE
 18310						$
 18311					 	SALL
 18312
 18313
 18314	047512	201 01 0 00 000333 	TST333:	MOVEI	1,333		;GET TEST NUMBER
 18315	047513	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 18316
 18317	047514	263 17 0 00 000000 		RTN			;CAN'T WORK WITH RH11'S
 18318
 18319					 	XLIST
 18320					 	LIST
 18321						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-216
DSRPA3	MAC	23-Feb-79 09:36		PARITY NETWORK TESTS DURING A WRITE                                                SEQ 0633

 18322					S^;*********************************************************************^
 18323					;*TEST-334 VERIFY SECTOR TIMING OF DATA ENV, ECC ENV, EBL
 18324					S^;*********************************************************************^
 18325
 18326					COMMENT	$
 18327
 18328						TEST DESCRIPTION
 18329						---------------- 
 18330						TEST CLOCKS THROUGH AN ENTIRE SECTOR IN MAINT MODE TO VERIFY
 18331						THAT THE ABOVE MENTIONED SIGNALS TRANSITION AT EXACTLY THE
 18332						RIGHT TIME. 8 SUBTESTS DO THE JOB AS FOLLOWS:
 18333						  CLOCKS	DATA ENV	ECC ENV		DONE
 18334						  ------	---- ---	--- ---		----
 18335						A.  495.	    0		   0		  0
 18336						B.    1.	    1		   0		  0
 18337						C. 4607.	    1		   0		  0
 18338						D.    1.	    0		   1		  0
 18339						E.   31.	    0		   1		  0
 18340						F.    1.	    0		   0		  0
 18341						G.   15.	    0		   0		  0
 18342						H.    1.	    0		   0		  1
 18343
 18344						TESTING AROUND TRANSITION POINTS OPTIMIZES TEST EXECUTION TIME
 18345						BUT THE DIAGNOSTIC CAN NOT TELL EXACTLY HOW MUCH TIMING IS
 18346						INCORRECT. THIS WOULD MAKE THE TEST UNREASONABLY LONG 
 18347
 18348						RECOMMENDED DEBUG PROCEDURE
 18349						--------------------------- 
 18350						NONE.
 18351						$
 18352					 	SALL
 18353
 18354
 18355	047515	201 01 0 00 000334 	TST334:	MOVEI	1,334		;GET THE TEST NUMBER
 18356	047516	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 18357
 18358	047517	260 17 0 00 060522 	T334S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 18359	047520	263 17 0 00 000000 		RTN			;TRIED ALL
 18360	047521	255 00 0 00 000000 		JFCL			;NXT RDY
 18361
 18362	047522	260 17 0 00 055673 		GO	ONCHK		;GET ON LINE
 18363
 18364	047523	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 18365
 18366	047524	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 18367	047525	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 18368
 18369	047526	260 17 0 00 056514 		GO	SETB1		;SET UP DATA BUFFER
 18370	047527	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]  ;REGISTERS FOR DUMP
 18371
 18372	047530	260 17 0 00 055760 	T334L:	GO	WRTENB		;GET WRITE ENABLED
 18373
 18374	047531	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 18375
 18376	047532	260 17 0 00 056104 		GO	MODE20		;INTO 20 SECTOR MODES
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-217
DSRPA3	MAC	23-Feb-79 09:36		PARITY NETWORK TESTS DURING A WRITE                                                SEQ 0634

 18377
 18378	047533	260 17 0 00 056006 		GO	MMODE1		;GO INTO MAINT MODE
 18379
 18380	047534	201 01 0 00 000063 		MOVEI	1,63		;WRITE HEADER & DATA COMMAND
 18381	047535	402 00 0 00 000002 		SETZM	2		;DCY=0,,DA=0
 18382	047536	200 03 0 00 071426 		MOVE	3,[202,,BUF1]	;WC,,ADR
 18383	047537	260 17 0 00 056351 		GO	XFSTRT		;START THE TRANSFER
 18384	047540	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 18385	047541	260 17 0 00 056076 		GO	SECPLS		;CAUSE SECTOR PULSE
 18386	047542	254 00 0 00 047543 		JRST	T334A		;PROCEED
 18387
 18388					;2 LOCATIONS ARE DEFINED FOR THIS TEST
 18389					;"STATE" EXPECTED STATUS
 18390					;"STATG" STATUS GOTTEN FROM HARDWARE
 18391					;BOTH WORDS HAVE THE SAME FORMAT WHERE:
 18392					;BIT 33 INDICATES THE STATE OF DATA ENVELOPE
 18393					;BIT 34 INDICATES THE STATE OF ECC ENVELOPE
 18394					;BIT 35 INDICATES THE STATE OF DONE (EBL)
 18395
 18396					;"CLKTOT" HOLDS CUMULATIVE NUMBER OF CLOCKS ISSUED THUS FAR
 18397
 18398	047543	402 00 0 00 077257 	T334A:	SETZM	CLKTOT		;ZERO THE CLOCK COUNTER
 18399
 18400	047544	201 01 0 00 000757 		MOVEI	1,^D495		;# OF CLOCKS
 18401	047545	272 01 0 00 077257 		ADDM	1,CLKTOT	;UPDATE TOTAL
 18402	047546	260 17 0 00 056605 		GO	MCLK1		;ISSUE NUMBER OF CLOCKS
 18403
 18404	047547	402 00 0 00 077334 		SETZM	STATE#		;SET UP EXPECTED STATUS
 18405	047550	260 17 0 00 047701 		GO	STCK1		;CORRECT ?
 18406	047551	476 00 0 00 000010 		SETOM	ERFLG		;NO
 18407	047552	027 00 0 00 047767 		SCOPE	TBL334		;YES. CALL SCOPE ROUTINE
 18408	047553	254 00 0 00 047530 		JRST	T334L		;LOOP
 18409	047554	332 00 0 00 077274 		SKIPE	ERYETU		;ERROR YET. ?
 18410	047555	254 00 0 00 047517 		JRST	T334S		;YES. DON'T PROCEED
 18411	047556	255 00 0 00 000000 		JFCL			;NO. PROCEED
 18412
 18413	047557	350 00 0 00 077257 	T334B:	AOS	CLKTOT		;ANOTHER CLOCK
 18414	047560	201 01 0 00 000001 		MOVEI	1,1		;SAME
 18415	047561	260 17 0 00 056605 		GO	MCLK1		;ISSUE THE CLOCK
 18416
 18417	047562	201 01 0 00 000004 		MOVEI	1,4		;STATUS WE EXPECT
 18418	047563	202 01 0 00 077334 		MOVEM	1,STATE		;EXPECTED STATUS
 18419	047564	260 17 0 00 047701 		GO	STCK1		;CHECK IT
 18420	047565	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 18421	047566	027 00 0 00 047767 		SCOPE	TBL334		;NO,. ERROR. CALL SCOPE ROUTINE
 18422	047567	254 00 0 00 047530 		JRST	T334L		;LOOP
 18423	047570	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET
 18424	047571	254 00 0 00 047517 		JRST	T334S		;YES. DON'T CONTINUE
 18425	047572	255 00 0 00 000000 		JFCL			;NO. PROCEED
 18426
 18427	047573	201 01 0 00 010777 	T334C:	MOVEI	1,^D4607	;# OF CLOCKS
 18428	047574	272 01 0 00 077257 		ADDM	1,CLKTOT	;UPDATE TOTAL
 18429	047575	260 17 0 00 056605 		GO	MCLK1		;ISSUE THEM
 18430
 18431	047576	201 01 0 00 000004 		MOVEI	1,4		;EXPECTED STATUS
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-218
DSRPA3	MAC	23-Feb-79 09:36		PARITY NETWORK TESTS DURING A WRITE                                                SEQ 0635

 18432	047577	202 01 0 00 077334 		MOVEM	1,STATE		;SAVE IT
 18433	047600	260 17 0 00 047701 		GO	STCK1		;WAS IT CORRECT
 18434	047601	476 00 0 00 000010 		SETOM	ERFLG		;NO.
 18435	047602	027 00 0 00 047767 		SCOPE	TBL334		;YES. CALL SCOPE ROUTINE
 18436	047603	254 00 0 00 047530 		JRST	T334L		;LOOP
 18437	047604	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET
 18438	047605	254 00 0 00 047517 		JRST	T334S		;YES, DON'T PROCEEDE
 18439	047606	255 00 0 00 000000 		JFCL			;PROCEED
 18440
 18441	047607	350 00 0 00 077257 	T334D:	AOS	CLKTOT		;UPDATE COUNT
 18442	047610	201 01 0 00 000001 		MOVEI	1,1		;# OF CLOCKS
 18443	047611	260 17 0 00 056605 		GO	MCLK1		;ISSUE IT
 18444
 18445	047612	201 01 0 00 000002 		MOVEI	1,2		;EXPECTED STATUS
 18446	047613	202 01 0 00 077334 		MOVEM	1,STATE		;SAVE IT
 18447	047614	260 17 0 00 047701 		GO	STCK1		;IS STATUS CORRECT
 18448	047615	476 00 0 00 000010 		SETOM	ERFLG		;NO.
 18449	047616	027 00 0 00 047767 		SCOPE	TBL334		;YES. CALL SCOPE ROUTINE
 18450	047617	254 00 0 00 047530 		JRST	T334L		;LOOP
 18451	047620	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET
 18452	047621	254 00 0 00 047517 		JRST	T334S		;YES. DON'T PROCEED
 18453	047622	255 00 0 00 000000 		JFCL			;OK. CONTINUE
 18454
 18455	047623	201 01 0 00 000037 	T334E:	MOVEI	1,^D31		;MORE CLOCKS
 18456	047624	272 01 0 00 077257 		ADDM	1,CLKTOT	;UPDATE CLOCK TOTAL
 18457	047625	260 17 0 00 056605 		GO	MCLK1		;ISSUE THE CLOCKS
 18458
 18459	047626	201 01 0 00 000002 		MOVEI	1,2		;EXPECTED STATUS
 18460	047627	202 01 0 00 077334 		MOVEM	1,STATE		;SAVE IT
 18461	047630	260 17 0 00 047701 		GO	STCK1		;SEE IF ITS CORRECT
 18462	047631	476 00 0 00 000010 		SETOM	ERFLG		;NO.
 18463	047632	027 00 0 00 047767 		SCOPE	TBL334		;YES. CALL SCOPE
 18464	047633	254 00 0 00 047530 		JRST	T334L		;LOOP
 18465	047634	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET?
 18466	047635	254 00 0 00 047517 		JRST	T334S		;YES. THEN DON'T PROCEED
 18467	047636	255 00 0 00 000000 		JFCL			;PROCEED
 18468
 18469	047637	201 01 0 00 000001 	T334F:	MOVEI	1,1		;ADDITIONAL CLOCK
 18470	047640	272 01 0 00 077257 		ADDM	1,CLKTOT	;UPDATE THE TOTAL
 18471	047641	260 17 0 00 056605 		GO	MCLK1		;ISSUE THE CLOCK
 18472
 18473	047642	402 00 0 00 077334 		SETZM	STATE		;EXPECTED STATUS
 18474	047643	260 17 0 00 047701 		GO	STCK1		;CHECK STATUS
 18475	047644	476 00 0 00 000010 		SETOM	ERFLG		;ERROR.
 18476	047645	027 00 0 00 047767 		SCOPE	TBL334		;NO ERROR. CALL SCOPE
 18477	047646	254 00 0 00 047530 		JRST	T334L		;LOOP
 18478	047647	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERRORS YET
 18479	047650	254 00 0 00 047517 		JRST	T334S		;YES. DON'T PROCEED
 18480	047651	255 00 0 00 000000 		JFCL			;NO. CONTINUE
 18481
 18482	047652	201 01 0 00 000017 	T334G:	MOVEI	1,^D15		;# OF ADDITIONAL CLOCKS
 18483	047653	272 01 0 00 077257 		ADDM	1,CLKTOT	;UPDATE TOTAL CLOCK COUNT
 18484	047654	260 17 0 00 056605 		GO	MCLK1		;ISSUE THEM
 18485
 18486	047655	402 00 0 00 077334 		SETZM	STATE		;EXPECTED STATUS
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-219
DSRPA3	MAC	23-Feb-79 09:36		PARITY NETWORK TESTS DURING A WRITE                                                SEQ 0636

 18487	047656	260 17 0 00 047701 		GO	STCK1		;CHECK STATUS
 18488	047657	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 18489	047660	027 00 0 00 047767 		SCOPE	TBL334		;NO ERROR. CALL SCOPE
 18490	047661	254 00 0 00 047530 		JRST	T334L		;LOOP
 18491	047662	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET.
 18492	047663	254 00 0 00 047517 		JRST	T334S		;YES. DON'T PROCEED
 18493	047664	255 00 0 00 000000 		JFCL			;PROCEED
 18494
 18495	047665	201 01 0 00 000001 	T334H:	MOVEI	1,1		;ANOTHER CLOCK COUNT
 18496	047666	272 01 0 00 077257 		ADDM	1,CLKTOT	;UPDATE THE TOTAL
 18497	047667	260 17 0 00 056605 		GO	MCLK1		;ISSUE THE CLOCKS
 18498
 18499	047670	201 01 0 00 000001 		MOVEI	1,1		;EXPECTED STATUS
 18500	047671	202 01 0 00 077334 		MOVEM	1,STATE		;SAVE IT
 18501	047672	260 17 0 00 047701 		GO	STCK1		;CHECK STATUS
 18502	047673	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 18503	047674	336 00 0 00 000010 		SKIPN	ERFLG		;ERROR YET ?
 18504	047675	260 17 0 00 056432 		GO	XFSTOP		;NO. STOP THE TRANSFER
 18505	047676	027 00 0 00 047767 		SCOPE	TBL334		;NO. ERROR. CALL SCOPE
 18506	047677	254 00 0 00 047530 		JRST	T334L		;LOOP
 18507	047700	254 00 0 00 047517 		JRST	T334S		;TEST NEXT DRIVE
 18508
 18509					;SUBROUTINE TO SEE IF STATUS IS CORRECT. TAKES SKIP RETURN IF CORRECT
 18510					;LOOKS AT "STATE" AND COMPARES EXPECTED STATUS AGAINST HARDWARE STATUS
 18511
 18512	047701	261 17 0 00 000001 	STCK1:	PUT	1		;SAVE AC'S
 18513	047702	261 17 0 00 000002 		PUT	2
 18514
 18515	047703	402 00 0 00 000002 		SETZM	2		;BUILD "STATG" IN AC2
 18516	047704	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 18517	047705	260 17 0 00 057607 		GO	RRPMR		;READ MAINT REG
 18518	047706	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 18519	047707	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 18520	047710	602 01 0 00 000200 		TRNE	1,1B28		;DATA ENV SET ?
 18521	047711	660 02 0 00 000004 		TRO	2,4		;YES. SET UP STATUS WORD
 18522	047712	602 01 0 00 000100 		TRNE	1,1B29		;ECC ENV SET ?
 18523	047713	660 02 0 00 000002 		TRO	2,2		;YES. SET UP STATUS WORD
 18524	047714	205 01 0 00 000010 		MOVSI	1,(1B14)
 18525	047715	260 17 0 00 057576 		GO	RRPCS1		;READ CONTROL & STATUS 1
 18526	047716	260 17 0 00 060733 		GO	CBTOER
 18527	047717	260 17 0 00 060752 		GO	CPARER
 18528	047720	602 01 0 00 000200 		TRNE	1,RDY		;DONE SET (EBL) ?
 18529	047721	660 02 0 00 000001 		TRO	2,1		;YES. SET UP STATUS WORD
 18530	047722	202 02 0 00 077335 		MOVEM	2,STATG#	;SAVE STATUS WE GOT
 18531
 18532	047723	316 02 0 00 077334 		CAMN	2,STATE		;STATUS AS EXPECTED?
 18533	047724	350 00 0 17 777776 		AOS	-2(P)		;YES. BUMP THE RETURN
 18534	047725	262 17 0 00 000002 		GET	2		;NO. NON-SKIP RTN TAKEN
 18535	047726	262 17 0 00 000001 		GET	1
 18536	047727	263 17 0 00 000000 		RTN			;EXIT
 18537
 18538					;PRINT ROUTINE FOR THIS TEST WHICH TELLS ACTUAL STATES, CORRECT
 18539					;STATUS. AND NUMBER OF SHIFT COUNTS INTO THE TRANSFER
 18540					;STATUS PRINTED IS STATES OF DATA ENV, ECC ENV, EBL (DONE)
 18541
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-220
DSRPA3	MAC	23-Feb-79 09:36		PARITY NETWORK TESTS DURING A WRITE                                                SEQ 0637

 18542	047730	261 17 0 00 000000 	STATP1:	PUT	0
 18543						TEXT	[ASCIZ/
 18544	047731	030 00 0 00 072057 	AFTER /]
 18545	047732	200 00 0 00 077257 		MOVE	0,CLKTOT	;TOTAL CLOCK COUNT
 18546	047733	260 17 0 00 063457 		GO	PSDN		;PRINT IN DECIMAL
 18547						TEXT	[ASCIZ/ MAINT MODE SHIFT CLOCKS
 18548	047734	030 00 0 00 072061 	CORRECT:DATA ENV=/]
 18549	047735	135 00 0 00 072072 		LDB	0,[POINT 1, STATE,33]
 18550	047736	037 01 0 00 000000 		PNT1
 18551	047737	260 17 0 00 063413 		GO	.TAB
 18552	047740	030 00 0 00 072073 		TEXT	[ASCIZ/ECC ENV=/]
 18553	047741	135 00 0 00 072075 		LDB	0,[POINT 1,STATE,34]
 18554	047742	037 01 0 00 000000 		PNT1
 18555	047743	260 17 0 00 063413 		GO	.TAB
 18556	047744	030 00 0 00 072076 		TEXT	[ASCIZ/EBL(DONE)=/]
 18557	047745	200 00 0 00 077334 		MOVE	0,STATE
 18558	047746	405 00 0 00 000001 		ANDI	0,1
 18559	047747	037 01 0 00 000000 		PNT1
 18560						TEXT	[ASCIZ/
 18561	047750	030 00 0 00 072101 	ACTUAL:	DATA ENV=/]
 18562	047751	135 00 0 00 072105 		LDB	0,[POINT 1,STATG,33]
 18563	047752	037 01 0 00 000000 		PNT1
 18564	047753	260 17 0 00 063413 		GO	.TAB
 18565	047754	030 00 0 00 072073 		TEXT	[ASCIZ/ECC ENV=/]
 18566	047755	135 00 0 00 072106 		LDB	0,[POINT 1,STATG,34]
 18567	047756	037 01 0 00 000000 		PNT1
 18568	047757	260 17 0 00 063413 		GO	.TAB
 18569	047760	030 00 0 00 072076 		TEXT	[ASCIZ/EBL(DONE)=/]
 18570	047761	200 00 0 00 077335 		MOVE	0,STATG
 18571	047762	405 00 0 00 000001 		ANDI	0,1
 18572	047763	037 01 0 00 000000 		PNT1
 18573	047764	037 00 0 00 030242 		PCRL
 18574	047765	262 17 0 00 000000 		GET	0		;RESTORE AC
 18575	047766	263 17 0 00 000000 		RTN
 18576
 18577					;SCOPE TABLES FOR THIS TEST
 18578
 18579	047767	056437	057316		TBL334:	SNABRT,,DUMPS
 18580	047770	100000	072107			NOINH![ASCIZ/TIMING PROBLEM IN SECTOR FORMAT LOGIC (18 BIT MODE)/]
 18581	047771	100000	072122			NOINH![ASCIZ/SIGNALS COMING UP AT WRONG TIME/]
 18582	047772	010000	047730			SUBRTN!STATP1
 18583	047773	400000	077761			HIPROB!SN
 18584	047774	600000	077765			LOPROB!SS
 18585	047775	620000	077755			LAST!LOPROB!EC
 18586
 18587					SUBTTL	TEST "DTE" ERROR LOGIC
 18588					 	XLIST
 18589					 	LIST
 18590						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-221
DSRPA3	MAC	23-Feb-79 09:36		TEST "DTE" ERROR LOGIC                                                             SEQ 0638

 18591					S^;*********************************************************************^
 18592					;*TEST-335 CAUSES A DRIVE TIMING ERROR "DTE"
 18593					S^;*********************************************************************^
 18594
 18595					COMMENT	$
 18596
 18597						TEST DESCRIPTION
 18598						---------------- 
 18599
 18600						VERIFIES THAT THE DRIVE CAN DETECT A DRIVE TIMING
 18601						ERROR. THE ERROR IS FORCED IN THE FOLLOWING WAY.
 18602						A. START A 1 SECTOR MAINT MODE WRITE HEADER AND DATA CMD
 18603						B. CAUSE A SECTOR PULSE
 18604						   (WHICH CAUSES A DRIVE TIMING ERROR)
 18605						C. READ ER1 AND VERIFY THAT "DTE" IS SET
 18606
 18607						RECOMMENDED DEBUG PROCEDURE
 18608						--------------------------- 
 18609						NONE.
 18610						$
 18611					 	SALL
 18612
 18613
 18614	047776	201 01 0 00 000335 	TST335:	MOVEI	1,335		;GET THE TEST NUMBER
 18615	047777	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 18616
 18617	050000	260 17 0 00 060522 	T335S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 18618	050001	263 17 0 00 000000 		RTN			;TRIED THEM ALL
 18619	050002	255 00 0 00 000000 		JFCL			;NEXT READY
 18620
 18621	050003	260 17 0 00 055673 		GO	ONCHK		;GET ON-LINE
 18622
 18623	050004	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 18624
 18625	050005	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 18626	050006	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 18627
 18628	050007	260 17 0 00 056514 		GO	SETB1		;SET UP BUFFER
 18629	050010	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]
 18630
 18631	050011	260 17 0 00 055760 	T335L:	GO	WRTENB		;GET DEV WRT ENABLED
 18632
 18633	050012	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 18634
 18635	050013	260 17 0 00 056104 		GO	MODE20		;INTO 20 SECTOR MODE
 18636
 18637	050014	260 17 0 00 056006 		GO	MMODE1		;GO INTO MAINT MODE
 18638
 18639	050015	201 01 0 00 000063 		MOVEI	1,63		;WRITE HEADER + DATA COMMAND
 18640	050016	402 00 0 00 000002 		SETZM	2		;DCY=0,,DA=0
 18641	050017	200 03 0 00 071426 		MOVE	3,[202,,BUF1]	;WC,,CORE ADR
 18642	050020	260 17 0 00 056351 		GO	XFSTRT		;START THE XFER
 18643	050021	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 18644	050022	260 17 0 00 056076 		GO	SECPLS		;NO ERROR. CAUSE SECTOR PULSE
 18645
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-222
DSRPA3	MAC	23-Feb-79 09:36		TEST "DTE" ERROR LOGIC                                                             SEQ 0639

 18646					;CAUSE SECTOR PULSE
 18647
 18648	050023	260 17 0 00 056076 		GO	SECPLS		;CAUSE A SECTOR PULSE
 18649
 18650					;READ ER1 MAKE SURE "DTE" WAS CAUSED
 18651
 18652	050024	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 18653	050025	260 17 0 00 057604 		GO	RRPER1		;READ ER1
 18654	050026	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 18655	050027	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 18656	050030	606 01 0 00 010000 		TRNN	1,1B23		;WAS "DTE" DETECTED
 18657	050031	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 18658	050032	336 00 0 00 000010 		SKIPN	ERFLG		;ERROR YET ?
 18659	050033	260 17 0 00 056432 		GO	XFSTOP		;NO. STOP THE TRANSFER
 18660	050034	027 00 0 00 050037 		SCOPE	TBL335		;YES. CALL SCOPE ROUTINE
 18661	050035	254 00 0 00 050011 		JRST	T335L		;LOOP
 18662	050036	254 00 0 00 050000 		JRST	T335S		;GO SELECT NEXT DRIVE
 18663
 18664					;SCOPE TABLE FOR THIS TEST
 18665
 18666	050037	056437	057316		TBL335:	SNABRT,,DUMPS
 18667	050040	100000	072131			NOINH![ASCIZ/FAULTY "DTE" DETECTION LOGIC/]
 18668	050041	420000	077761			LAST!HIPROB!SN
 18669
 18670					SUBTTL	MAINT MODE READ TESTS TO VERIFY OPERATION OF HEADER LOGIC
 18671					 	XLIST
 18672					 	LIST
 18673						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-223
DSRPA3	MAC	23-Feb-79 09:36		MAINT MODE READ TESTS TO VERIFY OPERATION OF HEADER LOGIC                          SEQ 0640

 18674					S^;*********************************************************************^
 18675					;*TEST-336 CHECK HEADER LOGIC WHILE SUPPLYING CORRECT DATA
 18676					S^;*********************************************************************^
 18677
 18678					COMMENT	$
 18679
 18680						TEST DESCRIPTION
 18681						---------------- 
 18682						START A 1 SECTOR MAINT MODE READ HEADER AND DATA OPERATION.
 18683						CLOCK THROUGH THE HEADER AREA SUPPLYING CORRECT DATA AND
 18684						VERIFY THAT:
 18685						A. DATA ENVELOPE IS UP
 18686						B. NO HCE, HCRC OR FMT ERRORS WERE DETECTED
 18687						C. HEADER DATA INTEGRITY IS IGNORED AT THIS TIME
 18688						TEST OUTLINE:
 18689						1. SUPPLY 312 ZEROS FOR PRE-HEADER GAP
 18690						2. SUPPLY 8 BIT SYNCH CHAR 31 (OCTAL)
 18691						3. SUPPLY 80 ZEROS FOR HEADER FIELD
 18692						4. SUPPLY 88 ZEROS FOR POST HEAD GAP
 18693						5. SUPPLY 8 BIT SYNCH CHAR 31 (OCTAL)
 18694						6. VERIFY THAT HARDWARE STATUS IS CORRECT
 18695
 18696						RECOMMENDED DEBUG PROCEDURE
 18697						--------------------------- 
 18698						NONE.
 18699						$
 18700					 	SALL
 18701
 18702
 18703	050042	201 01 0 00 000336 	TST336:	MOVEI	1,336		;GET THE TEST NUMBER
 18704	050043	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 18705
 18706	050044	260 17 0 00 060522 	T336S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 18707	050045	263 17 0 00 000000 		RTN			;TRIED ALL
 18708	050046	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 18709
 18710	050047	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 18711
 18712	050050	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 18713	050051	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 18714
 18715	050052	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]
 18716
 18717	050053	260 17 0 00 055673 	T336L:	GO	ONCHK		;REQUEST THE DEVICE
 18718
 18719	050054	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 18720
 18721	050055	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 18722
 18723	050056	260 17 0 00 056006 		GO 	MMODE1		;GO INTO MAINT MODE
 18724
 18725	050057	201 01 0 00 000073 		MOVEI	1,73		;READ HEADER AND DATA COMMAND
 18726	050060	402 00 0 00 000002 		SETZM	2		;DCY=0,,DA=0
 18727	050061	200 03 0 00 072137 		MOVE	3,[202,,BUF2]	;TWC,,CORE ADR
 18728	050062	260 17 0 00 056351 		GO	XFSTRT		;START THE TRANSFER
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-224
DSRPA3	MAC	23-Feb-79 09:36		MAINT MODE READ TESTS TO VERIFY OPERATION OF HEADER LOGIC                          SEQ 0641

 18729	050063	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 18730	050064	260 17 0 00 056076 		GO	SECPLS		;CAUSE SECTOR PULSE
 18731
 18732					;NOW HAVE MAINT MODE OPERATION UNDERWAY
 18733					;START BY ISSUING 312. ZEROS
 18734
 18735	050065	201 01 0 00 000470 		MOVEI	1,^D312		;# OF CLOCKS
 18736	050066	260 17 0 00 056605 		GO	MCLK1		;312. ZEROS ISSUED
 18737
 18738					;NOW ISSUE 8 BITS FOR THE SYNCH BYTE
 18739
 18740	050067	201 02 0 00 000010 		MOVEI	2,^D8		;# OF VALID DATA BITS
 18741	050070	201 01 0 00 000031 		MOVEI	1,31		;SYNC BYTE IN OCTAL
 18742	050071	260 17 0 00 056711 		GO	MCLK4		;SEND THE DATA
 18743
 18744					;SUPPLY 168. ZEROS (88+80=168) FOR HEADER DATA, KEY DATA, CRC DATA,
 18745					;AND POST HEADER GAP
 18746
 18747	050072	201 01 0 00 000250 		MOVEI	1,^D168		;# OF CLOCKS
 18748	050073	260 17 0 00 056605 		GO	MCLK1		;ISSUE THEM
 18749
 18750					;NOW ISSUE THE 2ND 8 BIT SYNCH BYTE
 18751
 18752	050074	201 02 0 00 000010 		MOVEI	2,^D8		;# OF BITS
 18753	050075	201 01 0 00 000031 		MOVEI	1,31		;SYNCH BYTE IN OCTAL
 18754	050076	260 17 0 00 056711 		GO	MCLK4		;WRITE THE DATA
 18755
 18756	050077	260 17 0 00 056437 		GO	SNABRT		;SNAPSHOT REGISTERS AND ABORT XFER
 18757
 18758					;TEST FOR PROPER STATUS DATA ENV = 1, HCE = 0, HCRC = 0, FER = 0
 18759
 18760	050100	200 01 0 00 077640 		MOVE	1,SRPER1	;GET ER2 DATA
 18761	050101	602 01 0 00 000620 		TRNE	1,6B29!1B31	;TEST FOR HCE=FER=HCRC=0
 18762	050102	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 18763	050103	200 01 0 00 077644 		MOVE	1,SRPMR		;GET MAINT REG DATA
 18764	050104	606 01 0 00 000200 		TRNN	1,1B28		;DATA ENV UP?
 18765	050105	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 18766	050106	027 00 0 00 050111 		SCOPE	TBL336		;CALL SCOPE ROUTINE
 18767	050107	254 00 0 00 050053 		JRST	T336L		;LOOP
 18768	050110	254 00 0 00 050044 		JRST	T336S		;CONTINUE
 18769
 18770					;SCOPE TABLE
 18771
 18772	050111	000000	057316		TBL336:	0,,DUMPS
 18773	050112	100000	072140			NOINH![ASCIZ/FAULTY STATUS DOING M-MODE READ HEADER + DATA/]
 18774	050113	100000	072152			NOINH![ASCIZ/SHOULD HAVE: DATA ENV=1 FER=0 HCRC=0 HCE=0/]
 18775	050114	400000	077761			HIPROB!SN
 18776	050115	400000	077765			HIPROB!SS
 18777	050116	030000	061651			LAST!SUBRTN!ER23CK
 18778
 18779					 	XLIST
 18780					 	LIST
 18781						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-225
DSRPA3	MAC	23-Feb-79 09:36		MAINT MODE READ TESTS TO VERIFY OPERATION OF HEADER LOGIC                          SEQ 0642

 18782					S^;*********************************************************************^
 18783					;*TEST-337 TEST HEADER CRC LOGIC
 18784					S^;*********************************************************************^
 18785
 18786					COMMENT	$
 18787
 18788						TEST DESCRIPTION
 18789						---------------- 
 18790						ISSUES A MAINT MODE READ OPERATION AND SUPPLY WRONG
 18791						CRC DATA. THIS SHOULD CAUSE HCRC TO BE DETECTED.
 18792						A. SEND 312 ZEROS FOR HEADER GAP
 18793						B. SEND 8 BIT SYNC BYTE
 18794						C. SEND 64 ZEROS FOR HEADER + KEY WORDS
 18795						D. SEND 8 ZEROS FOR FIRST HALF OF HEADER CRC
 18796						E. SEND 8 ONE BITS (WRONG DATA) FOR REST OF HEADER CRC
 18797						F. SEND 8 ZEROS TO MOVE SLIGHTLY INTO GAP
 18798						G. READ STATUS AND VERIFY THAT HCRC IS SET
 18799
 18800						RECOMMENDED DEBUG PROCEDURE
 18801						--------------------------- 
 18802						NONE.
 18803						$
 18804					 	SALL
 18805
 18806
 18807	050117	201 01 0 00 000337 	TST337:	MOVEI	1,337		;GET THE TEST NUMBER
 18808	050120	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 18809
 18810	050121	260 17 0 00 060522 	T337S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 18811	050122	263 17 0 00 000000 		RTN			;TRIED ALL
 18812	050123	260 17 0 00 055673 		GO	ONCHK		;NXT RDY. GET ON LINE
 18813
 18814	050124	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 18815
 18816	050125	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE ERRORS
 18817	050126	260 17 0 00 057435 		GO	LRPOF		;ZERO THE OFFSET REGISTER
 18818	050127	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 18819
 18820	050130	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 18821	050131	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 18822
 18823	050132	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]
 18824
 18825	050133	260 17 0 00 055673 	T337L:	GO	ONCHK		;REQUEST THE DEVICE
 18826
 18827	050134	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 18828
 18829	050135	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE ERRORS
 18830	050136	260 17 0 00 057435 		GO	LRPOF		;ZERO THE OFFSET REGISTER
 18831	050137	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 18832
 18833	050140	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 18834
 18835	050141	260 17 0 00 056006 		GO	MMODE1		;GO INTO MAINT MODE
 18836
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-226
DSRPA3	MAC	23-Feb-79 09:36		MAINT MODE READ TESTS TO VERIFY OPERATION OF HEADER LOGIC                          SEQ 0643

 18837	050142	201 01 0 00 000073 		MOVEI	1,73		;READ HEADER + DATA COMMAND
 18838	050143	402 00 0 00 000002 		SETZM	2		;DCY=0,,DA=0
 18839	050144	200 03 0 00 072137 		MOVE	3,[202,,BUF2]	;WC,,BUFFER ADR
 18840	050145	260 17 0 00 056351 		GO	XFSTRT		;START THE TRANSFER
 18841	050146	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 18842	050147	260 17 0 00 056076 		GO	SECPLS		;NO ERROR. CAUSE SECTOR PULSE
 18843
 18844					;MAINT MODE OPERATION NOW IN PROGRESS
 18845					;ISSUE 312. ZEROS FOR GAP
 18846
 18847	050150	201 01 0 00 000470 		MOVEI	1,^D312		;# OF CLOCKS
 18848	050151	260 17 0 00 056605 		GO	MCLK1		;SEND THE DATA
 18849
 18850					;SEND THE SYNC BYTE (8-BITS)
 18851
 18852	050152	201 02 0 00 000010 		MOVEI	2,^D8		;# OF BITS
 18853	050153	201 01 0 00 000031 		MOVEI	1,031		;SYNC DATA IN OCTAL
 18854	050154	260 17 0 00 056711 		GO	MCLK4		;SEND IT
 18855
 18856					;SEND (64+8=72) ZEROS FOR HEADER DATA AND HALF OF CRC WORD
 18857
 18858	050155	201 01 0 00 000110 		MOVEI	1,^D72		;# OF CLOCKS
 18859	050156	260 17 0 00 056605 		GO	MCLK1		;SEND DATA
 18860
 18861					;SEND ONES FOR LAST HALF OF CRC WORD AND THEN 8 ZEROS TO
 18862					;STEP SLIGHTLY INTO POST HEADER GAP
 18863
 18864	050157	201 02 0 00 000020 		MOVEI	2,^D16		;# OF BITS OF DATA
 18865	050160	201 01 0 00 000377 		MOVEI	1,00377		;16 DATA CELLS
 18866	050161	260 17 0 00 056711 		GO	MCLK4		;SEND DATA. CAUSE HCRC
 18867
 18868					;SNAPSHOT THEN STOP THE TRANSFER
 18869
 18870	050162	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT
 18871	050163	260 17 0 00 056432 		GO	XFSTOP		;NOW STOP TRANSFER
 18872
 18873					;NOW TEST STATUS FOR HCRC ERROR
 18874
 18875	050164	200 01 0 00 077640 		MOVE	1,SRPER1	;GET ER1 DATA
 18876	050165	606 01 0 00 000400 		TRNN	1,1B27		;HCRC ERROR
 18877	050166	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 18878	050167	027 00 0 00 050172 		SCOPE	TBL337		;CALL THE SCOPE ROUTINE
 18879	050170	254 00 0 00 050133 		JRST	T337L		;LOOP
 18880	050171	254 00 0 00 050121 		JRST	T337S		;CONTINUE
 18881
 18882					;SCOPE TABLE
 18883
 18884	050172	000000	057316		TBL337:	0,,DUMPS
 18885	050173	100000	072163			NOINH![ASCIZ/DRIVE FAILED TO DETECT "HCRC" ERROR WHEN/]
 18886	050174	100000	072174			NOINH![ASCIZ/WRONG CRC WORD WAS SUPPLIED IN MAINT MODE/]
 18887	050175	400000	077765			HIPROB!SS
 18888	050176	420000	077761			LAST!HIPROB!SN
 18889
 18890					 	XLIST
 18891					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-227
DSRPA3	MAC	23-Feb-79 09:36		MAINT MODE READ TESTS TO VERIFY OPERATION OF HEADER LOGIC                          SEQ 0644

 18892						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-228
DSRPA3	MAC	23-Feb-79 09:36		MAINT MODE READ TESTS TO VERIFY OPERATION OF HEADER LOGIC                          SEQ 0645

 18893					S^;*********************************************************************^
 18894					;*TEST-340 TEST HEADER COMPARE LOGIC
 18895					S^;*********************************************************************^
 18896
 18897					COMMENT	$
 18898
 18899						TEST DESCRIPTION
 18900						---------------- 
 18901						VERIFY THAT THE DRIVE CAN DETECT HEADER DATA ERRORS.
 18902						THIS IS DONE BY SUPPLYING THE HEADER DATA IN A M-MODE
 18903						READ HEADER AND DATA OPERATION. THE DIAGNOSTIC SUPPLIES
 18904						THE WRONG CYLINDER INFORMATION. THIS WILL RESULT IN
 18905						A "HCE" AND A "HCRC" ERROR. HERE IS THE TEST OUTLINE:
 18906						A. SEND 312 ZEROS FOR PRE-HEADER GAP
 18907						B. SEND 8 BIT SYNCH BYTE
 18908						C. SEND 8 BITS OF ONES FOR WRONG CYLINDER INFORMATION
 18909						D. SEND 72 BITS OF ZEROS FOR REST OF HEADER DATA AND
 18910						   HEADER CRC WORD.
 18911						E. VERIFY THAT "HCE" WAS DETECTED. THE "HCRC" ERROR
 18912						   IS INCIDENTAL TO THIS TEST
 18913
 18914						RECOMMENDED DEBUG PROCEDURE
 18915						--------------------------- 
 18916						NONE
 18917						$
 18918					 	SALL
 18919
 18920	050177	201 01 0 00 000340 	TST340:	MOVEI	1,340		;GET THE TEST NUMBER
 18921	050200	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 18922
 18923	050201	260 17 0 00 060522 	T340S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 18924	050202	263 17 0 00 000000 		RTN			;TRIED ALL
 18925	050203	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON LINE
 18926
 18927	050204	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 18928
 18929	050205	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE ERRORS
 18930	050206	260 17 0 00 057435 		GO	LRPOF		;ZERO THE OFFSET REGISTER
 18931	050207	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 18932
 18933	050210	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 18934	050211	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 18935
 18936	050212	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]
 18937
 18938	050213	260 17 0 00 055673 	T340L:	GO	ONCHK		;REQUEST THE DEVICE
 18939
 18940	050214	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 18941
 18942	050215	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE ERRORS
 18943	050216	260 17 0 00 057435 		GO	LRPOF		;ZERO THE OFFSET REGISTER
 18944	050217	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 18945
 18946	050220	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 18947
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-229
DSRPA3	MAC	23-Feb-79 09:36		MAINT MODE READ TESTS TO VERIFY OPERATION OF HEADER LOGIC                          SEQ 0646

 18948	050221	260 17 0 00 056006 		GO	MMODE1		;GO INTO MAINT MODE
 18949
 18950	050222	201 01 0 00 000073 		MOVEI	1,73		;READ HEADER AND DATA COMMAND
 18951	050223	402 00 0 00 000002 		SETZM	2		;DCY=0,,DA=0
 18952	050224	200 03 0 00 072137 		MOVE	3,[202,,BUF2]	;WC,,BUFFER ADDR
 18953	050225	260 17 0 00 056351 		GO	XFSTRT		;START TRANSFER
 18954	050226	037 15 0 00 000004 		FATAL
 18955	050227	260 17 0 00 056076 		GO	SECPLS		;CAUSE SECTOR PULSE
 18956
 18957					;MAINT MODE OPERATION NOW IN PROGRESS
 18958					;SEND 312 ZEROS FOR PRE HEADER GAP
 18959
 18960	050230	201 01 0 00 000470 		MOVEI	1,^D312		;# OF CLOCKS
 18961	050231	260 17 0 00 056605 		GO	MCLK1		;SEND THE DATA
 18962
 18963					;SEND THE SYNC BYTE (8 BITS)
 18964
 18965	050232	201 02 0 00 000010 		MOVEI	2,^D8		;# OF BITS
 18966	050233	201 01 0 00 000031 		MOVEI	1,31		;SYNCH DATA IN OCTAL
 18967	050234	260 17 0 00 056711 		GO	MCLK4		;SEND DATA
 18968
 18969					;SEND 8 BITS OF 1'S FOR CYLINDER DATA (INCORRECT DATA)
 18970
 18971	050235	201 02 0 00 000010 		MOVEI	2,^D8		;NO. OF BITS
 18972	050236	201 02 0 00 000377 		MOVEI	2,377		;8 BITS OF ONES
 18973	050237	260 17 0 00 056711 		GO	MCLK4		;SEND DATA
 18974
 18975					;NOW SEND REST OF HEADER FIELD OF ZEROS
 18976
 18977	050240	201 01 0 00 000110 		MOVEI	1,^D72		;# OF BITS
 18978	050241	260 17 0 00 056605 		GO	MCLK1		;SEND THE DATA
 18979
 18980					;SNAPSHOT STATUS AND ABORT THE XFER
 18981
 18982	050242	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT
 18983	050243	260 17 0 00 056432 		GO	XFSTOP		;ABORT
 18984
 18985					;TEST FOR "HCE" DETECTED BY THE DRIVE
 18986
 18987	050244	200 01 0 00 077640 		MOVE	1,SRPER1	;GET ER1 DATA
 18988	050245	606 01 0 00 000200 		TRNN	1,1B28		;"HCE" DETECTED
 18989	050246	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 18990	050247	027 00 0 00 050252 		SCOPE	TBL340		;CALL SCOPE
 18991	050250	254 00 0 00 050213 		JRST	T340L		;LOOP
 18992	050251	254 00 0 00 050201 		JRST	T340S		;CONTINUE
 18993
 18994					;SCOPE TABLE
 18995
 18996	050252	000000	057316		TBL340:	0,,DUMPS
 18997	050253	100000	072205			NOINH![ASCIZ/DRIVE FAILED TO DETECT "HCE" WHEN WRONG CYCLINDER/]
 18998	050254	100000	072217			NOINH![ASCIZ/DATA WAS SENT BY DIAGNOSTIC/]
 18999	050255	400000	077765			HIPROB!SS
 19000	050256	420000	077761			LAST!HIPROB!SN
 19001
 19002					 	XLIST
 19003					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-230
DSRPA3	MAC	23-Feb-79 09:36		MAINT MODE READ TESTS TO VERIFY OPERATION OF HEADER LOGIC                          SEQ 0647

 19004						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-231
DSRPA3	MAC	23-Feb-79 09:36		MAINT MODE READ TESTS TO VERIFY OPERATION OF HEADER LOGIC                          SEQ 0648

 19005					S^;*********************************************************************^
 19006					;*TEST-341 TEST OF "FER" ERROR DETECTION LOGIC
 19007					S^;*********************************************************************^
 19008
 19009					COMMENT	$
 19010
 19011						TEST DESCRIPTION
 19012						---------------- 
 19013						VERIFY THAT A FORMAT ERROR CAN BE DETECTED. START
 19014						A MAINT MODE READ HEADER AND DATA OPERATION IN 18 BIT
 19015						MODE, THEN SUPPLY THE HEADER DATA WITH THE 16 BIT FMT
 19016						BIT SET. THIS SHOULD CAUSE A FORMAT ERROR ("FER"). "HCRC"
 19017						AND "HCE" ARE INCIDENTAL TO THIS TEST. TEST OUTLINE:
 19018						A.  SEND 312 ZEROS FOR PRE HEADER GAP
 19019						B.  SEND 8 BIT SYNCH BYTE
 19020						C.  CAUSE ERROR IN NEXT 2 BYTES
 19021						    1.  12 BITS OF ZEROS
 19022						    2.  1 BIT OF 1 FOR 11-FORMAT
 19023						    3.  3 BITS OF ZEROS TO FILL OUT LAST BYTE
 19024						D.  SEND 64 BITS OF ZEROS TO COMPLETE HEADER AREA
 19025						E.  VERIFY THAT "FER" HAS OCCURRED. "HCE" AND "HCRC" MAY
 19026						    ALSO APPEAR BUT ARE INSIGNIFICANT IN THIS TEST.
 19027
 19028						RECOMMENDED DEBUG PROCEDURE
 19029						--------------------------- 
 19030						NONE.
 19031						$
 19032					 	SALL
 19033
 19034	050257	201 01 0 00 000341 	TST341:	MOVEI	1,341		;GET THE TEST NUMBER
 19035	050260	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 19036
 19037	050261	260 17 0 00 060522 	T341S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 19038	050262	263 17 0 00 000000 		RTN			;TRIED ALL
 19039	050263	260 17 0 00 055673 		GO	ONCHK		;NEXT READY. GET ON-LINE
 19040
 19041	050264	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 19042
 19043	050265	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 19044	050266	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 19045
 19046	050267	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]
 19047
 19048	050270	260 17 0 00 055673 	T341L:	GO	ONCHK		;REQUEST THE DEVICE
 19049
 19050	050271	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 19051
 19052	050272	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE ERRORS
 19053	050273	260 17 0 00 057435 		GO	LRPOF		;ZERO THE OFFSET REGISTER
 19054	050274	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 19055
 19056	050275	260 17 0 00 056104 		GO	MODE20		;INTO 20 SECTOR MODE
 19057
 19058	050276	260 17 0 00 056006 		GO	MMODE1		;GO INTO MAINT MODE
 19059
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-232
DSRPA3	MAC	23-Feb-79 09:36		MAINT MODE READ TESTS TO VERIFY OPERATION OF HEADER LOGIC                          SEQ 0649

 19060	050277	201 01 0 00 000073 		MOVEI	1,73		;READ HEADER AND DATA COMMAND
 19061	050300	402 00 0 00 000002 		SETZM	2		;DCY=0,,DA=0
 19062	050301	200 03 0 00 072137 		MOVE	3,[202,,BUF2]	;WC,,BUFFER ADDR
 19063	050302	260 17 0 00 056351 		GO	XFSTRT		;START THE TRANSFER
 19064	050303	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 19065
 19066	050304	260 17 0 00 056076 		GO	SECPLS		;CAUSE SECTOR PULSE
 19067
 19068					;MAINT MODE OPERATION NOW IN PROGRESS
 19069					;ISSUE 312 ZEROS FOR PRE HEADER GAP
 19070
 19071	050305	201 01 0 00 000470 		MOVEI	1,^D312		;# OF CLOCKS
 19072	050306	260 17 0 00 056605 		GO	MCLK1		;TO THE CLOCK ROUTINE
 19073
 19074					;SEND THE SYNC BYTE
 19075
 19076	050307	201 02 0 00 000010 		MOVEI	2,^D8		;# OF BITS
 19077	050310	201 01 0 00 000031 		MOVEI	1,031		;SYNCH DATA
 19078	050311	260 17 0 00 056711 		GO	MCLK4		;SEND THE DATA
 19079
 19080					;SEND THE NEXT 2 BYTES WITH INCORRECT FORMAT BIT
 19081
 19082	050312	201 02 0 00 000020 		MOVEI	2,^D16		;16 BITS OF DATA
 19083	050313	201 01 0 00 010000 		MOVEI	1,010000	;PDP-11 FORMAT BIT IS SET
 19084	050314	260 17 0 00 056711 		GO	MCLK4		;SEND THE DATA
 19085
 19086					;SEND 64 MORE ZEROS TO FILL OUT HEADER AREA
 19087
 19088	050315	201 01 0 00 000100 		MOVEI	1,^D64		;# OF BITS
 19089	050316	260 17 0 00 056605 		GO	MCLK1		;SEND THE DATA
 19090
 19091					;SNAPSHOT REGISTERS AND ABORT TRANSFER
 19092
 19093	050317	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT
 19094	050320	260 17 0 00 056432 		GO	XFSTOP		;STOP THE TRANSFER
 19095
 19096					;CHECK STATUS. MAKE SURE "FER" IS SET
 19097
 19098	050321	200 01 0 00 077640 		MOVE	1,SRPER1	;GET ER1 DATA
 19099	050322	606 01 0 00 000020 		TRNN	1,1B31		;FER SET?
 19100	050323	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 19101	050324	027 00 0 00 050327 		SCOPE	TBL341		;CALL SCOPE ROUTINE
 19102	050325	254 00 0 00 050270 		JRST	T341L		;LOOP
 19103	050326	254 00 0 00 050261 		JRST	T341S		;CONTINUE
 19104
 19105					;SCOPE TABLE
 19106
 19107	050327	000000	057316		TBL341:	0,,DUMPS
 19108	050330	100000	072225			NOINH![ASCIZ/DRIVE FAILED TO DETECT FORMAT ERROR/]
 19109	050331	100000	072235			NOINH![ASCIZ/DRIVE IN 18 BIT MODE. DIAGNOSTIC FURNISHED/]
 19110	050332	100000	072246			NOINH![ASCIZ/HEADER DATA FOR 16 BIT MODE/]
 19111	050333	400000	077765			HIPROB!SS
 19112	050334	420000	077761			LAST!HIPROB!SN
 19113
 19114					 	XLIST
 19115					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-233
DSRPA3	MAC	23-Feb-79 09:36		MAINT MODE READ TESTS TO VERIFY OPERATION OF HEADER LOGIC                          SEQ 0650

 19116						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-234
DSRPA3	MAC	23-Feb-79 09:36		MAINT MODE READ TESTS TO VERIFY OPERATION OF HEADER LOGIC                          SEQ 0651

 19117					S^;*********************************************************************^
 19118					;*TEST-342 TEST OPERATION OF "HCI" LOGIC
 19119					S^;*********************************************************************^
 19120
 19121					COMMENT	$
 19122
 19123						TEST DESCRIPTION
 19124						---------------- 
 19125						TEST INITIATES A READ HEADER AND DATA COMMAND IN
 19126						MAINT MODE (20 SECTOR MODE). WITH THE HEADER COMPARE
 19127						INHIBIT BIT ("HCI") SET. THE DATA SUPPLIED BY THE
 19128						DIAGNOSTIC SUPPLIES INCORRECT HEADER, FORMAT, CRC INFORMATION.
 19129						AFTER COMPLETING TRANSFER THROUGH THE HEADER AREA, STATUS
 19130						IS CHECKED. HCE, FER, HCRC SHOULD ALL BE ZERO.
 19131						THE TEST OUTLINE:
 19132						A.  SEND 312 ZEROS FOR PRE-HEADER AREA
 19133						B.  SEND 8 BIT SYNCH BYTE
 19134						C.  SEND 8 BIT BYTE WITH WRONG CYL (BINARY=00000001)
 19135						D.  SEND 8 BIT BYTE WITH WRONG FMT (BINARY=00010000)
 19136						E.  SEND 64 ZEROS WHICH COMPLTES HEADER AREA WITH WRONG CRC
 19137						F.  VERIFY THAT HCE=FER=HCRC=0
 19138
 19139						RECOMMENDED DEBUG PROCEDURE
 19140						--------------------------- 
 19141						NONE
 19142						$
 19143					 	SALL
 19144
 19145
 19146	050335	201 01 0 00 000342 	TST342:	MOVEI	1,342		;GET THE TEST NUMBER
 19147	050336	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 19148
 19149	050337	260 17 0 00 060522 	T342S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 19150	050340	263 17 0 00 000000 		RTN			;TRIED ALL
 19151	050341	260 17 0 00 055673 		GO	ONCHK		;NEXT RDY. GET ON-LINE
 19152
 19153	050342	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 19154
 19155	050343	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 19156	050344	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 19157
 19158	050345	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]
 19159
 19160	050346	260 17 0 00 055673 	T342L:	GO	ONCHK		;REQUEST THE DEVICE
 19161
 19162	050347	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 19163
 19164	050350	200 01 0 00 072254 		MOVE	1,[1B14!1B23!1B25] ;FMT=1,HCI=1
 19165	050351	260 17 0 00 057435 		GO	LRPOF		;LOAD THE OFSET REGISTER
 19166	050352	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 19167
 19168	050353	260 17 0 00 056006 		GO	MMODE1		;GO INTO MAINT MODE
 19169
 19170	050354	201 01 0 00 000073 		MOVEI	1,73		;READ HEADER + DATA COMMAND
 19171	050355	402 00 0 00 000002 		SETZM	2		;DCY=0,,DA=0
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-235
DSRPA3	MAC	23-Feb-79 09:36		MAINT MODE READ TESTS TO VERIFY OPERATION OF HEADER LOGIC                          SEQ 0652

 19172	050356	200 03 0 00 072137 		MOVE	3,[202,,BUF2]	;WC,,BUFFER ADDR
 19173	050357	260 17 0 00 056351 		GO	XFSTRT		;START THE TRANSFER
 19174	050360	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 19175	050361	260 17 0 00 056076 		GO	SECPLS		;NO ERROR. CAUSE SECTOR PULSE
 19176
 19177					;MAINT MODE OPERATION NOW IN PROGRESS
 19178					;ISSUE 312 ZEROS FOR GAP
 19179
 19180	050362	201 01 0 00 000470 		MOVEI	1,^D312		;# OF CLOCKS
 19181	050363	260 17 0 00 056605 		GO	MCLK1		;SEND THE DATA
 19182
 19183					;SEND THE SYNCH BYTE
 19184
 19185	050364	201 02 0 00 000010 		MOVEI	2,^D8		;# OF CLOCKS
 19186	050365	201 01 0 00 000031 		MOVEI	1,031		;SYNCH DATA
 19187	050366	260 17 0 00 056711 		GO	MCLK4		;SEND THE DATA
 19188
 19189					;SEND 2 MORE BYTES WITH WRONG CYL DATA AND FMT BIT
 19190
 19191	050367	201 02 0 00 000020 		MOVEI	2,^D16		;# OF BITS
 19192	050370	201 01 0 00 010001 		MOVEI	1,010001	;DATA
 19193	050371	260 17 0 00 056711 		GO	MCLK4		;SEND THE DATA
 19194
 19195					;SEND 64 ZEROS FOR REST OF HEADER AREA
 19196
 19197	050372	201 01 0 00 000100 		MOVEI	1,^D64		;# OF CLOCKS
 19198	050373	260 17 0 00 056605 		GO	MCLK1		;SEND THE DATA
 19199
 19200					;SNAPSHOT REGISTERS AND ABORT TRANSFER
 19201
 19202	050374	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT DATA
 19203
 19204	050375	260 17 0 00 056432 		GO	XFSTOP		;STOP THE TRANSFER
 19205
 19206					;NOW CHECK STATUS	HCE=HCRC=FER=0
 19207
 19208	050376	200 01 0 00 077640 		MOVE	1,SRPER1	;GET ER1 DATA
 19209	050377	602 01 0 00 000620 		TRNE	1,620		;HCRC,HCE,FER
 19210	050400	476 00 0 00 000010 		SETOM	ERFLG		;WRONG STATUS
 19211	050401	027 00 0 00 050404 		SCOPE	TBL342		;CALL SCOPE ROUTINE
 19212	050402	254 00 0 00 050346 		JRST	T342L		;LOOP
 19213	050403	254 00 0 00 050337 		JRST	T342S		;CONTINUE
 19214
 19215					;SCOPE TABLE
 19216
 19217	050404	000000	057316		TBL342:	0,,DUMPS
 19218	050405	100000	072255			NOINH![ASCIZ/"HCI" LOGIC NOT FUNCTIONING CORRECTLY/]
 19219	050406	100000	072265			NOINH![ASCIZ/WITH HCI=1, HCRC,HCE,FER SHOULD BE ZERO/]
 19220	050407	400000	077765			HIPROB!SS
 19221	050410	420000	077761			LAST!HIPROB!SN
 19222
 19223					 	XLIST
 19224					 	LIST
 19225						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-236
DSRPA3	MAC	23-Feb-79 09:36		MAINT MODE READ TESTS TO VERIFY OPERATION OF HEADER LOGIC                          SEQ 0653

 19226					S^;*********************************************************************^
 19227					;*TEST-343 VERIFY THAT SYNCH DETECTOR NOT STUCK HIGH
 19228					S^;*********************************************************************^
 19229
 19230					COMMENT	$
 19231
 19232						TEST DESCRIPTION
 19233						---------------- 
 19234						START A MAINT MODE READ HEADER AND DATA OPERATION.
 19235						THE DIAGNOSTIC SUPPLIES ALL ZEROS FOR DATA AREA. AFTER
 19236						512 CLOCKS (DATA OF 0'S) THE DATA ENV BIT IS EXAMINED.
 19237						IT SHOULD BE AT ZERO. IF IT IS AT A "1", THE SYNCH
 19238						BYTE DETECTOR HAS ERRORIOUSLS DETECTED A SYNCH BYTE.
 19239
 19240						RECOMMENDED DEBUG PROCEDURE
 19241						--------------------------- 
 19242						NONE
 19243						$
 19244					 	SALL
 19245
 19246
 19247	050411	201 01 0 00 000343 	TST343:	MOVEI	1,343		;GET THE TEST NUMBER
 19248	050412	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 19249
 19250	050413	260 17 0 00 060522 	T343S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 19251	050414	263 17 0 00 000000 		RTN			;TRIED ALL
 19252	050415	260 17 0 00 055673 		GO	ONCHK		;NEXT READY. GET DEVICE ON-LINE
 19253
 19254	050416	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 19255
 19256	050417	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 19257	050420	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 19258
 19259	050421	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]
 19260
 19261	050422	260 17 0 00 055673 	T343L:	GO	ONCHK		;REQUEST THE DEVICE
 19262
 19263	050423	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 19264
 19265	050424	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 19266
 19267	050425	260 17 0 00 056006 		GO	MMODE1		;GO INTO MAINT MODE
 19268
 19269	050426	201 01 0 00 000073 		MOVEI	1,73		;READ HEADER AND DATA COMMAND
 19270	050427	402 00 0 00 000002 		SETZM	2		;DCY=0,,DA=0
 19271	050430	200 03 0 00 072137 		MOVE	3,[202,,BUF2]	;WC,,BUFFER ADDR
 19272	050431	260 17 0 00 056351 		GO	XFSTRT		;START XFER
 19273	050432	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 19274	050433	260 17 0 00 056076 		GO	SECPLS		;CAUSE SECTOR PULSE
 19275
 19276					;ISSUE 512 CLOCKS FOR HEADER FIELD
 19277
 19278	050434	201 01 0 00 001000 		MOVEI	1,^D512		;# OF CLOCKS
 19279	050435	260 17 0 00 056605 		GO	MCLK1		;SEND 0'S FOR DATA
 19280
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-237
DSRPA3	MAC	23-Feb-79 09:36		MAINT MODE READ TESTS TO VERIFY OPERATION OF HEADER LOGIC                          SEQ 0654

 19281					;SNAPSHOT REGS AND ABORT TRANSFER
 19282
 19283	050436	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT DATA
 19284	050437	260 17 0 00 056432 		GO	XFSTOP		;ABORT TRANSFER
 19285
 19286					;CHECK THAT DATA ENV IS NOT ASSERTED
 19287
 19288	050440	200 01 0 00 077644 		MOVE	1,SRPMR		;GET M-REG DATA
 19289	050441	602 01 0 00 000200 		TRNE	1,1B28		;DATA ENV=1
 19290	050442	476 00 0 00 000010 		SETOM	ERFLG		;YES ERROR
 19291	050443	027 00 0 00 050446 		SCOPE	TBL343		;CALL SCOPE ROUTINE
 19292	050444	254 00 0 00 050422 		JRST	T343L		;LOOP
 19293	050445	254 00 0 00 050413 		JRST	T343S		;CONTINUE
 19294
 19295					;SCOPE TABLE
 19296
 19297	050446	000000	057316		TBL343:	0,,DUMPS
 19298	050447	100000	072275			NOINH![ASCIZ/SYNC BYTE DETECTOR STUCK (SO SYNC IS ALWAYS DETECTED)/]
 19299	050450	100000	072310			NOINH![ASCIZ/WITH DATA OF ZEROS, DRIVE HAS DETECTED SYNC BYTE/]
 19300	050451	420000	077761			LAST!HIPROB!SN
 19301
 19302					SUBTTL	VERIFY READ DATA PATH OVER THE DATA BUS
 19303					 	XLIST
 19304					 	LIST
 19305						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-238
DSRPA3	MAC	23-Feb-79 09:36		VERIFY READ DATA PATH OVER THE DATA BUS                                            SEQ 0655

 19306					S^;*********************************************************************^
 19307					;*TEST-344 VERIFY THE "READ" DATA PATH INTEGRITY
 19308					S^;*********************************************************************^
 19309
 19310					COMMENT	$
 19311
 19312						TEST DESCRIPTION
 19313						---------------- 
 19314						SUPPLY NECESSARY DATA PATTERNS VIA A MAINT MODE READ
 19315						HEADER AND DATA OPERATION AND CHECK DATA THAT APPEARS
 19316						IN THE RH BUFFER REGISTER AGAINST THE EXPECTED
 19317						DATA (18 BITS AT A TIME). DATA CHECKING IS NOT
 19318						PERFORMED UNTIL WE STEP TO THE DATA FIELD.
 19319						ONCE AT THE DATA FIELD, 4 SUBTESTS ARE PERFORMED:
 19320						A.  1 MASSBUS XFER OF ZEROS
 19321						B.  1 MASSBUS XFER OF ONES
 19322						C.  36 MASSBUS XFERS OF FLOATING PATTERNS
 19323						D.  8 MASSBUS XFERS OF ZEROS AND PARITY PATTERNS
 19324
 19325						RECOMMENDED DEBUG PROCEDURE
 19326						--------------------------- 
 19327						NONE
 19328						$
 19329					 	SALL
 19330
 19331
 19332	050452	201 01 0 00 000344 	TST344:	MOVEI	1,344		;GET THE TEST NUMBER
 19333	050453	260 17 0 00 060630 		GO	TRACE		;CALL THE RACE ROUTINE
 19334
 19335	050454	260 17 0 00 060522 	T344S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 19336	050455	263 17 0 00 000000 		RTN			;TRIED ALL
 19337	050456	260 17 0 00 055673 		GO	ONCHK		;NXT RDY. GET ON-LINE
 19338
 19339	050457	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 19340
 19341	050460	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 19342	050461	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 19343
 19344	050462	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]
 19345
 19346	050463	260 17 0 00 056514 		GO	SETB1		;SETUP BUFFER
 19347
 19348	050464	260 17 0 00 055673 	T344L:	GO	ONCHK		;REQUEST THE DEVICE
 19349
 19350	050465	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 19351
 19352	050466	260 17 0 00 056104 		GO	MODE20		;GO INTO 20 SECTOR MODE
 19353
 19354	050467	260 17 0 00 056006 		GO	MMODE1		;GO INTO MAINT MODE
 19355
 19356	050470	476 00 0 00 077305 		SETOM	MCLK3F		;DO XFER IN 18 BIT MODE
 19357
 19358	050471	201 01 0 00 000073 		MOVEI	1,73		;READ HEADER AND DATA
 19359	050472	402 00 0 00 000002 		SETZM	2		;DCY=0,,DA=0
 19360	050473	200 03 0 00 072137 		MOVE	3,[202,,BUF2]	;WC,,CORE ADR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-239
DSRPA3	MAC	23-Feb-79 09:36		VERIFY READ DATA PATH OVER THE DATA BUS                                            SEQ 0656

 19361	050474	260 17 0 00 056351 		GO	XFSTRT		;START THE XFER
 19362	050475	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 19363	050476	260 17 0 00 056076 		GO	SECPLS		;CAUSE SECTOR PULSE
 19364
 19365					;MAINT MODE OPERATION NOW IN PROGRESS
 19366					;SUPPLY DATA TO STEP THROUGH THE HEADER AREA
 19367
 19368	050477	201 01 0 00 000470 		MOVEI	1,^D312		;# OF ZEROS
 19369	050500	260 17 0 00 056605 		GO	MCLK1		;PRE HEADER GAP
 19370
 19371	050501	201 02 0 00 000010 		MOVEI	2,^D8		;8 BITS FOR SYNC
 19372	050502	201 01 0 00 000031 		MOVEI	1,031		;SYNCH DATA
 19373	050503	260 17 0 00 056711 		GO	MCLK4		;SUPPLY THE SYNCH BYTE
 19374
 19375	050504	201 01 0 00 000250 		MOVEI	1,^D168		;# OF BITS OF ZEROS
 19376	050505	260 17 0 00 056605 		GO	MCLK1		;HEADER DATA + POST HD GAP
 19377
 19378	050506	201 02 0 00 000010 		MOVEI	2,^D8		;# BITS IN SYNC BYTE
 19379	050507	201 01 0 00 000031 		MOVEI	1,031		;SYNCH DATA
 19380	050510	260 17 0 00 056711 		GO	MCLK4		;SEND THE DATA
 19381
 19382	050511	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 19383	050512	260 17 0 00 057604 		GO	RRPER1		;READ ER1
 19384	050513	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 19385	050514	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 19386	050515	602 01 0 00 000620 		TRNE	1,620		;HEADER ERRORS
 19387	050516	476 00 0 00 000010 		SETOM	ERFLG		;YES. SOFTWARE BUG
 19388
 19389					;START TESTING DATA, WE ARE AT THE DATA FIELD
 19390
 19391	050517	402 00 0 00 077302 	T344A:	SETZM	HWC		;HALF WORD COUNT=0
 19392	050520	350 00 0 00 077302 		AOS	HWC		;1ST 18 BIT BYTE
 19393
 19394	050521	200 01 0 00 077302 		MOVE	1,HWC		;GET HALF WORD COUNT
 19395
 19396	050522	271 01 0 00 000004 		ADDI	1,4		;SKIPS HEADER DATA
 19397	050523	260 17 0 00 056523 		GO	FETWD		;FETCH DISK DATA
 19398	050524	202 01 0 00 077266 		MOVEM	1,DSKDTA#	;SAVE DISK DATA
 19399
 19400	050525	260 17 0 00 056655 		GO	MCLK3		;XFER 18 BITS IN MAINT MODE
 19401
 19402	050526	200 01 0 00 077266 		MOVE	1,DSKDTA	;GET DISK DATA
 19403	050527	202 01 0 00 077337 		MOVEM	1,SVDAT		;NOW BECOMES EXPECTED DATA
 19404
 19405	050530	200 01 0 00 077302 		MOVE	1,HWC		;GET THE HALF WORD COUNT
 19406	050531	271 01 0 00 000005 		ADDI	1,5		;LOOK AHEAD COMPENSATION
 19407	050532	260 17 0 00 056523 		GO	FETWD		;FETCH DATA
 19408	050533	202 01 0 00 077266 		MOVEM	1,DSKDTA	;NEXT DATA TO GO OUT
 19409
 19410	050534	260 17 0 00 056655 		GO	MCLK3		;CLOCK OUT NEXT 18 BITS
 19411	050535	202 01 0 00 077304 		MOVEM	1,MASDAT	;SAVE RESULTANT MASSBUS DATA
 19412
 19413	050536	312 01 0 00 077337 		CAME	1,SVDAT		;DATA CORRECT
 19414	050537	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 19415	050540	027 00 0 00 050635 		SCOPE	TB344A		;CALL SCOPE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-240
DSRPA3	MAC	23-Feb-79 09:36		VERIFY READ DATA PATH OVER THE DATA BUS                                            SEQ 0657

 19416	050541	254 00 0 00 050464 		JRST	T344L		;LOOP
 19417	050542	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE ERROR YET?
 19418	050543	254 00 0 00 050454 		JRST	T344S		;YES DONT CONTINUE
 19419	050544	254 00 0 00 050545 		JRST	T344B		;NO. CONTINUE
 19420
 19421					;2ND SUBTEST. ALL ONES
 19422
 19423	050545	350 00 0 00 077302 	T344B:	AOS	HWC		;BUMP COUNT
 19424	050546	200 01 0 00 077266 		MOVE	1,DSKDTA	;GET LAST WRITTEN DATA
 19425	050547	202 01 0 00 077337 		MOVEM	1,SVDAT		;BECOMES EXPECTED DATA
 19426
 19427
 19428	050550	200 01 0 00 077302 		MOVE	1,HWC		;FETCH HALFWORD COUNT
 19429	050551	271 01 0 00 000005 		ADDI	1,5		;BYPASS HEADER INFO
 19430	050552	260 17 0 00 056523 		GO	FETWD		;FETCH CORRECT DATA
 19431	050553	202 01 0 00 077266 		MOVEM	1,DSKDTA	;SAVE IT
 19432
 19433	050554	260 17 0 00 056655 		GO	MCLK3		;XFER 18 BITS OF DATA
 19434	050555	202 01 0 00 077304 		MOVEM	1,MASDAT	;SAVE RESULTANT MASSBUS DATA
 19435
 19436	050556	312 01 0 00 077337 		CAME	1,SVDAT		;DATA CORRECT
 19437	050557	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 19438	050560	027 00 0 00 050635 		SCOPE	TB344B		;CALL SCOPE ROUTINE
 19439	050561	254 00 0 00 050464 		JRST	T344L		;LOOP
 19440	050562	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET?
 19441	050563	254 00 0 00 050454 		JRST	T344S		;YES. DONT CONTINUE
 19442	050564	254 00 0 00 050565 		JRST	T344C		;PROCEED
 19443
 19444					;3RD SUBTEST FLOATING PATTERNS
 19445
 19446	050565	350 00 0 00 077302 	T344C:	AOS	HWC		;BUMP HALF WORD COUNT
 19447	050566	200 01 0 00 077266 		MOVE	1,DSKDTA	;LAST WRITTEN DATA
 19448	050567	202 01 0 00 077337 		MOVEM	1,SVDAT		;BECOMES EXPECTED DATA
 19449
 19450
 19451	050570	200 01 0 00 077302 		MOVE	1,HWC		;CURRENT COUNT
 19452	050571	271 01 0 00 000005 		ADDI	1,5		;SKIP HEADER AREA
 19453	050572	260 17 0 00 056523 		GO	FETWD		;FETCH EXPECTED DATA
 19454	050573	202 01 0 00 077266 		MOVEM	1,DSKDTA	;SAVE DATA
 19455
 19456	050574	260 17 0 00 056655 		GO	MCLK3		;XFER 18 BITS OF DATA
 19457	050575	202 01 0 00 077304 		MOVEM	1,MASDAT	;SAVE RESULTANT MASSBUS DATA
 19458
 19459	050576	312 01 0 00 077337 		CAME	1,SVDAT		;DATA CORRECT?
 19460	050577	476 00 0 00 000010 		SETOM	ERFLG		;NO
 19461	050600	027 00 0 00 050646 		SCOPE	TB344C		;CALL SCOPE ROUTINE
 19462	050601	254 00 0 00 050464 		JRST	T344L		;LOOP
 19463	050602	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET
 19464	050603	254 00 0 00 050454 		JRST	T344S		;YES. DONT PROCEED
 19465	050604	255 00 0 00 000000 		JFCL			;NO. PROCEED
 19466
 19467	050605	200 01 0 00 077302 		MOVE	1,HWC		;GET PRESENT HWC
 19468	050606	305 01 0 00 000046 		CAIGE	1,^D38		;DONE
 19469	050607	254 00 0 00 050565 		JRST	T344C		;NO. DO NEXT PATTERN
 19470	050610	254 00 0 00 050611 		JRST	T344D		;YES. TO NEXT SUBTEST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-241
DSRPA3	MAC	23-Feb-79 09:36		VERIFY READ DATA PATH OVER THE DATA BUS                                            SEQ 0658

 19471
 19472					;4TH SUBTEST ZERO'S AND PARITY NETWORK PATTERNS
 19473
 19474	050611	350 00 0 00 077302 	T344D:	AOS	HWC		;BUMP HALF WORD COUNT
 19475	050612	200 01 0 00 077266 		MOVE	1,DSKDTA	;GET PREVIOUS DATA
 19476	050613	202 01 0 00 077337 		MOVEM	1,SVDAT		;SAVE AS EXPECTED DATA
 19477
 19478	050614	200 01 0 00 077302 		MOVE	1,HWC		;GET PRESENT COUNT
 19479	050615	271 01 0 00 000005 		ADDI	1,5		;STEP OVER HEADER DATA
 19480	050616	260 17 0 00 056523 		GO	FETWD		;FETCH EXPECTED DATA
 19481	050617	202 01 0 00 077266 		MOVEM	1,DSKDTA	;DATA TO GO OUT
 19482
 19483	050620	260 17 0 00 056655 		GO	MCLK3		;XFER 18 BITS ACROSS THE BUSS
 19484
 19485	050621	202 01 0 00 077304 		MOVEM	1,MASDAT	;SAVE MASSBUS DATA
 19486
 19487	050622	312 01 0 00 077337 		CAME	1,SVDAT		;IS DATA CORRECT
 19488	050623	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 19489	050624	027 00 0 00 050651 		SCOPE	TB344D		;CALL SCOPE ROUTINE
 19490	050625	254 00 0 00 050464 		JRST	T344L		;LOOP
 19491	050626	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET
 19492	050627	254 00 0 00 050454 		JRST	T344S		;YES. DONT PROCEED
 19493
 19494	050630	200 01 0 00 077302 		MOVE	1,HWC		;GET PRESENT HWC
 19495	050631	305 01 0 00 000062 		CAIGE	1,^D50		;DONE
 19496	050632	254 00 0 00 050611 		JRST	T344D		;NO. FETCH NEXT PATTERN
 19497	050633	260 17 0 00 056432 		GO	XFSTOP		;DONE. STOP THE XFER
 19498	050634	254 00 0 00 050454 		JRST	T344S		;TEST NEXT DRIVE
 19499
 19500					;SCOPE TABLES
 19501
 19502	050635				TB344A:
 19503	050635	056437	057316		TB344B:	SNABRT,,DUMPS
 19504	050636	100000	072322			NOINH![ASCIZ/CAN'T SEND CONSTANT DATA THROUGH DATA PATH/]
 19505	050637	010000	047406		TB344E:	SUBRTN!DTP5
 19506	050640	400000	077761			HIPROB!SN
 19507	050641	400000	077755			HIPROB!EC
 19508	050642	400000	100001			HIPROB!TRMES
 19509	050643	400000	077661			HIPROB!TA
 19510	050644	400000	077701			HIPROB!TB
 19511	050645	420000	077721			LAST!HIPROB!TC
 19512
 19513	050646	056437	057316		TB344C:	SNABRT,,DUMPS
 19514	050647	100000	072333			NOINH![ASCIZ/CAN'T XFER FLOATING PATTERNS OVER DATA PATH/]
 19515	050650	040000	050637			GOTO!TB344E
 19516
 19517	050651	056437	057316		TB344D:	SNABRT,,DUMPS
 19518	050652	100000	072344			NOINH![ASCIZ/CAN'T XFER MISC. DATA PATTERNS OVER DATA PATH/]
 19519	050653	100000	072356			NOINH![ASCIZ/DIFFICULT FAULT. CONSTANT AND FLOATING PATTERNS/]
 19520	050654	100000	072370			NOINH![ASCIZ/HAVE ALREADY WORKED/]
 19521	050655	120000	072374			LAST!NOINH![ASCIZ/MODULE CALLOUT WOULD BE IMPOSSIBLE/]
 19522
 19523					SUBTTL	READ DATA PATH PARITY NETWORK TEST
 19524					 	XLIST
 19525					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-242
DSRPA3	MAC	23-Feb-79 09:36		READ DATA PATH PARITY NETWORK TEST                                                 SEQ 0659

 19526						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-243
DSRPA3	MAC	23-Feb-79 09:36		READ DATA PATH PARITY NETWORK TEST                                                 SEQ 0660

 19527					S^;*********************************************************************^
 19528					;*TEST-345 CHECK DRIVE PARITY NETWORK
 19529					S^;*********************************************************************^
 19530
 19531					COMMENT	$
 19532
 19533						TEST DESCRIPTION
 19534						---------------- 
 19535						SEND VARIOUS DATA PATTERNS FROM DRIVE TO CONTROLLER
 19536						OVER THE MASSBUS DATA PATH USING A MAINT MODE
 19537						READ HEADER AND DATA OPERATION. THERE ARE ACTUALLY
 19538						2 SUBTESTS:
 19539						A.  SENDS ONES AND ZEROS. POSSIBLE FAULTS INCLUDE
 19540						    PARITY NETWORK AND PARITY XMIT FAULTS
 19541						B.  SUPPLY OTHER DATA PATTERNS TO VERIFY PARITY GENERATION
 19542						    LOGIC IN DRIVE. FAULTS ONLY INCLUDE PARITY GENERATOR
 19543
 19544						RECOMMENDED DEBUG PROCEDURE
 19545						--------------------------- 
 19546						NONE
 19547						$
 19548					 	SALL
 19549
 19550
 19551	050656	201 01 0 00 000345 	TST345:	MOVEI	1,345		;GET THE TEST NUMBER
 19552	050657	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 19553
 19554	050660	260 17 0 00 060522 	T345S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 19555	050661	263 17 0 00 000000 		RTN			;TRIED ALL
 19556	050662	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 19557
 19558	050663	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 19559
 19560	050664	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 19561	050665	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 19562
 19563	050666	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]
 19564
 19565	050667	260 17 0 00 056514 		GO	SETB1		;SET UP A REFERENCE BUFFER
 19566
 19567	050670	260 17 0 00 055673 	T345L:	GO	ONCHK		;REQUEST THE DEVICE
 19568
 19569	050671	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 19570
 19571	050672	260 17 0 00 056104 		GO	MODE20		;INTO 20 SECTOR MODE
 19572
 19573	050673	260 17 0 00 056006 		GO	MMODE1		;GO INTO MAINT MODE
 19574
 19575	050674	476 00 0 00 077305 		SETOM	MCLK3F		;DO XFER IN 18 BIT MODE
 19576
 19577	050675	201 01 0 00 000073 		MOVEI	1,73		;READ HEADER AND DATA
 19578	050676	402 00 0 00 000002 		SETZM	2		;DCY=0,,DA=0
 19579	050677	200 03 0 00 072137 		MOVE	3,[202,,BUF2]	;WC,,CORE ADR
 19580	050700	260 17 0 00 056351 		GO	XFSTRT		;START THE XFER
 19581	050701	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-244
DSRPA3	MAC	23-Feb-79 09:36		READ DATA PATH PARITY NETWORK TEST                                                 SEQ 0661

 19582	050702	260 17 0 00 056076 		GO	SECPLS		;CAUSE SECTOR PULSE
 19583
 19584					;MAINT MODE OPERATION NOW IN PROGRESS
 19585					;SUPPLY DATA TO STEP THROUGH HEADER AREA
 19586
 19587	050703	201 01 0 00 000470 		MOVEI	1,^D312		;# OF ZEROS
 19588	050704	260 17 0 00 056605 		GO	MCLK1		;PRE-HEADER GAP
 19589
 19590	050705	201 02 0 00 000010 		MOVEI	2,^D8		;8 BITS FOR SYNC
 19591	050706	201 01 0 00 000031 		MOVEI	1,031		;SYNCH DATA
 19592	050707	260 17 0 00 056711 		GO	MCLK4		;SUPPLY SYNCH BYTE
 19593
 19594	050710	201 01 0 00 000250 		MOVEI	1,^D168		;# OF BITS OF ZEROS
 19595	050711	260 17 0 00 056605 		GO	MCLK1		;HDR DATA + POST HDR GAP
 19596
 19597	050712	201 02 0 00 000010 		MOVEI	2,^D8		;# BITS IN SYNC BYTE
 19598	050713	201 01 0 00 000031 		MOVEI	1,031		;SYNCH DATA
 19599	050714	260 17 0 00 056711 		GO	MCLK4		;SEND THE DATA
 19600
 19601	050715	205 01 0 00 000010 		MOVSI	1,(1B14)	;DONT REPORT RAE'S
 19602	050716	260 17 0 00 057604 		GO	RRPER1		;READ ER1
 19603	050717	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 19604	050720	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 19605	050721	602 01 0 00 000620 		TRNE	1,620		;HEADER ERRORS
 19606	050722	476 00 0 00 000010 		SETOM	ERFLG		;YES. SOFTWARE BUG
 19607
 19608					;START THE DATA TESTING, WE ARE AT THE DATA FIELD
 19609
 19610					;FIRST SUBTEST CONSTANT ZEROS' AND ONES
 19611
 19612	050723	402 00 0 00 077302 	T345A:	SETZM	HWC		;INIT THE HALF WORD COUNT
 19613	050724	350 00 0 00 077302 	T345A1:	AOS	HWC		;POINTS TO 1ST 18 BIT BYTE
 19614
 19615	050725	200 01 0 00 077302 		MOVE	1,HWC		;GET HALF WORD COUNT
 19616
 19617	050726	271 01 0 00 000004 		ADDI	1,4		;SKIPS HEADER AREA
 19618	050727	260 17 0 00 056523 		GO	FETWD		;FETCH DISK DATA
 19619	050730	202 01 0 00 077266 		MOVEM	1,DSKDTA	;DATA TO BE READ
 19620
 19621	050731	260 17 0 00 056655 		GO	MCLK3		;XFER 18 BITS IN MAINT MODE
 19622
 19623	050732	334 00 0 00 000000 		SKIPA
 19624	050733	350 00 0 00 077302 	T345A2:	AOS	HWC		;BUMP THE COUNT
 19625	050734	200 01 0 00 077266 		MOVE	1,DSKDTA	;GET DISK DATA
 19626	050735	202 01 0 00 077337 		MOVEM	1,SVDAT		;SAVE AS EXPECTED DATA
 19627
 19628	050736	200 01 0 00 077302 		MOVE	1,HWC		;GET CURRENT HALF WORD COUNT
 19629	050737	271 01 0 00 000005 		ADDI	1,5		;LOOK AHEAD
 19630	050740	260 17 0 00 056523 		GO	FETWD		;FETCH NEXT DATA
 19631	050741	202 01 0 00 077266 		MOVEM	1,DSKDTA	;SAVE AS DISK DATA
 19632
 19633	050742	260 17 0 00 056655 		GO	MCLK3		;CLOCK 18 BITS
 19634	050743	202 01 0 00 077304 		MOVEM	1,MASDAT	;SAVE RESULTANT MASSBUS DATA
 19635
 19636	050744	260 17 0 00 057664 		GO	RRPCS2		;READ RPCS2
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-245
DSRPA3	MAC	23-Feb-79 09:36		READ DATA PATH PARITY NETWORK TEST                                                 SEQ 0662

 19637	050745	602 01 0 00 000010 		TRNE	1,MDPE		;DBPE ?
 19638	050746	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 19639	050747	027 00 0 00 051006 		SCOPE	TB345A		;CALL SCOPE ROUTINE
 19640	050750	254 00 0 00 050670 		JRST	T345L		;LOOP
 19641
 19642	050751	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET
 19643	050752	254 00 0 00 050660 		JRST	T345S		;YES. DONT CONTINUE
 19644	050753	255 00 0 00 000000 		JFCL			;NO. PROCEED
 19645
 19646	050754	200 01 0 00 077302 		MOVE	1,HWC		;GET HWC
 19647	050755	305 01 0 00 000002 		CAIGE	1,2		;DONE
 19648	050756	254 00 0 00 050733 		JRST	T345A2		;NO. TO NEXT PATTERN
 19649	050757	254 00 0 00 050760 		JRST	T345B		;YES. TO NEXT SUBTEST
 19650
 19651					;2ND SUBTEST. VERIFY PARITY GENERATOR WITH VARIOUS TEST PATTERNS
 19652
 19653	050760	350 00 0 00 077302 	T345B:	AOS	HWC		;BUMP THE COUNT
 19654	050761	200 01 0 00 077266 		MOVE	1,DSKDTA	;GET DISK DATA
 19655	050762	202 01 0 00 077337 		MOVEM	1,SVDAT		;SAVE AS EXPECTED DATA
 19656
 19657	050763	200 01 0 00 077302 		MOVE	1,HWC		;GET HALF WORD COUNT
 19658	050764	271 01 0 00 000005 		ADDI	1,5		;SKIP HEADER DATA
 19659	050765	260 17 0 00 056523 		GO	FETWD		;FETCH DISK DATA
 19660	050766	202 01 0 00 077337 		MOVEM	1,SVDAT		;SAVE EXPECTED DATA
 19661
 19662	050767	260 17 0 00 056655 		GO	MCLK3		;SEND THE DATA
 19663	050770	202 01 0 00 077304 		MOVEM	1,MASDAT	;SAVE RESULTANT DATA
 19664
 19665	050771	260 17 0 00 057664 		GO	RRPCS2		;READ RPCS2
 19666	050772	602 01 0 00 000010 		TRNE	1,MDPE		;DATA BUSS PARITY ERROR?
 19667
 19668	050773	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 19669	050774	027 00 0 00 051013 		SCOPE	TB345B		;CALL SCOPE ROUTINE
 19670	050775	254 00 0 00 050670 		JRST	T345L		;LOOP
 19671	050776	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET?
 19672	050777	254 00 0 00 050660 		JRST	T345S		;YES. DONT CONTINUE
 19673	051000	255 00 0 00 000000 		JFCL			;PROCEED
 19674
 19675	051001	200 01 0 00 077302 		MOVE	1,HWC		;GET HWC
 19676	051002	305 01 0 00 000062 		CAIGE	1,^D50		;DONE
 19677	051003	254 00 0 00 050760 		JRST	T345B		;NO. TO NXT PATTERN
 19678	051004	260 17 0 00 056432 		GO	XFSTOP		;YES. STOP TRANSFER
 19679	051005	254 00 0 00 050660 		JRST	T345S		;ON. TO NEXT DRIVE
 19680
 19681
 19682					;SCOPE TABLE
 19683
 19684	051006	056437	057316		TB345A:	SNABRT,,DUMPS
 19685	051007	100000	072403			NOINH![ASCIZ/DRIVE DATA BUS PARITY FAULT/]
 19686	051010	010000	047406			SUBRTN!DTP5
 19687	051011	400000	077761			HIPROB!SN
 19688	051012	420000	077721			LAST!HIPROB!TC
 19689
 19690	051013	056437	057316		TB345B:	SNABRT,,DUMPS
 19691	051014	100000	072411			NOINH![ASCIZ/DRIVE DATA BUS PARITY GENERATOR FAULT/]
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-246
DSRPA3	MAC	23-Feb-79 09:36		READ DATA PATH PARITY NETWORK TEST                                                 SEQ 0663

 19692	051015	010000	047406			SUBRTN!DTP5
 19693	051016	420000	077761			LAST!HIPROB!SN
 19694
 19695					SUBTTL	ADDITIONAL ATTENTION LOGIC TESTS
 19696					 	XLIST
 19697					 	LIST
 19698						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-247
DSRPA3	MAC	23-Feb-79 09:36		ADDITIONAL ATTENTION LOGIC TESTS                                                   SEQ 0664

 19699					S^;*********************************************************************^
 19700					;*TEST-346 TEST ATA XMTR FOR STUCK AT A 1
 19701					S^;*********************************************************************^
 19702
 19703					COMMENT	$
 19704
 19705						TEST DESCRIPTION
 19706						---------------- 
 19707						VERIFY THAT NO DRIVE ON THE BUS HAS AN ATTENTION
 19708						TRANSMITTER STUCK AT ONE. (CONSTANTLY ASSERTING ATA).
 19709						A.  ISSUE RHCLR
 19710						B.  WRITE ATA REG WITH 377 TO CLEAR ATA FLOPS
 19711						C.  VERIFY THAT ATA IS NOT ASSERTED
 19712
 19713						RECOMMENDED DEBUG PROCEDURE
 19714						--------------------------- 
 19715						THE DEBUG PROCEDURE FOR THIS FAULT WOULD BE TO SHUT
 19716						DRIVES ON THE BUS, ONE AT A TIME UNTIL PROBLEM DISAPPEARS
 19717						$
 19718					 	SALL
 19719
 19720	051017	201 01 0 00 000346 	TST346:	MOVEI	1,346		;GET TEST NUMBER
 19721	051020	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 19722
 19723	051021	260 17 0 00 060522 	T346S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 19724	051022	263 17 0 00 000000 		RTN			;TRIED ALL
 19725
 19726	051023	200 07 0 00 072421 		MOVE	RGLIST,[400000,,320000]
 19727
 19728	051024	260 17 0 00 055673 	T346L:	GO	ONCHK		;GET ON-LINE
 19729
 19730	051025	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS AND ATA
 19731
 19732	051026	200 01 0 00 071215 		MOVE	1,[1B14!377]	;ATA DATA
 19733	051027	260 17 0 00 057416 		GO	LRPAS		;WRITE THE ATA REG
 19734	051030	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 19735
 19736	051031	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT
 19737
 19738	051032	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS DATA
 19739	051033	602 01 0 00 100000 		TRNE	1,1B20		;ATA UP
 19740	051034	476 00 0 00 000010 		SETOM	ERFLG		;ATA UP. ERROR
 19741	051035	027 00 0 00 051040 		SCOPE	TBL346		;CALL SCOPE ROUTINE
 19742	051036	254 00 0 00 051024 		JRST	T346L		;LOOP
 19743	051037	254 00 0 00 051021 		JRST	T346S		;CONTINUE
 19744
 19745					;SCOPE TABLE
 19746
 19747	051040	000000	057316		TBL346:	0,,DUMPS
 19748	051041	100000	072422			NOINH![ASCIZ/DRIVES "ATA" TRANSMITTER CONSTANTLY ASSERTS "ATA"/]
 19749	051042	420000	077661			LAST!HIPROB!TA
 19750
 19751					 	XLIST
 19752					 	LIST
 19753						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-248
DSRPA3	MAC	23-Feb-79 09:36		ADDITIONAL ATTENTION LOGIC TESTS                                                   SEQ 0665

 19754					S^;*********************************************************************^
 19755					;*TEST-347 TEST THAT DRIVE SENDS "ATA" LINE TO RH
 19756					S^;*********************************************************************^
 19757
 19758					COMMENT	$
 19759
 19760						TEST DESCRIPTION
 19761						---------------- 
 19762						ISSUE A RECAL AND VERIFY THAT "ATA" IS ASSERTED.
 19763
 19764						RECOMMENDED DEBUG PROCEDURE
 19765						--------------------------- 
 19766						NONE
 19767						$
 19768					 	SALL
 19769
 19770	051043	201 01 0 00 000347 	TST347:	MOVEI	1,347		;GET TEST NUMBER
 19771
 19772	051044	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 19773
 19774	051045	260 17 0 00 060522 	T347S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 19775	051046	263 17 0 00 000000 		RTN			;TRIED ALL
 19776	051047	255 00 0 00 000000 		JFCL			;NXT RDY
 19777
 19778	051050	200 07 0 00 072421 		MOVE	RGLIST,[400000,,320000]
 19779
 19780	051051	260 17 0 00 055673 	T347L:	GO	ONCHK		;GET DEVICE ON-LINE
 19781
 19782	051052	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 19783
 19784	051053	200 01 0 00 071215 		MOVE	1,[1B14!377]	;DATA FOR THE ATA REGISTER
 19785	051054	260 17 0 00 057416 		GO	LRPAS		;LOAD REGISTER TO CLEAR ATA'S
 19786	051055	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 19787
 19788	051056	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 19789	051057	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 19790
 19791	051060	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT
 19792
 19793	051061	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS DATA
 19794	051062	606 01 0 00 100000 		TRNN	1,1B20		;ATA UP?
 19795	051063	476 00 0 00 000010 		SETOM	ERFLG		;ATA NOT UP
 19796	051064	027 00 0 00 051067 		SCOPE	TBL347		;CALL SCOPE ROUTINE
 19797	051065	254 00 0 00 051051 		JRST	T347L		;LOOP
 19798	051066	254 00 0 00 051045 		JRST	T347S		;CONTINUE
 19799
 19800					;SCOPE TABLE
 19801
 19802	051067	000000	057316		TBL347:	0,,DUMPS
 19803	051070	100000	072434			NOINH![ASCIZ/DRIVE NOT TRANSMITTING ATA BACK TO RH/]
 19804	051071	010000	061651			SUBRTN!ER23CK
 19805	051072	420000	077661			LAST!HIPROB!TA
 19806
 19807					SUBTTL	CHECK THE GENERATION OF THE ECC FIELD
 19808					 	XLIST
 19809					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-249
DSRPA3	MAC	23-Feb-79 09:36		CHECK THE GENERATION OF THE ECC FIELD                                              SEQ 0666

 19810						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-250
DSRPA3	MAC	23-Feb-79 09:36		CHECK THE GENERATION OF THE ECC FIELD                                              SEQ 0667

 19811					S^;*********************************************************************^
 19812					;*TEST-350 VERIFY THAT ECC GENERATION WORKS CORRECTLY
 19813					S^;*********************************************************************^
 19814
 19815					COMMENT	$
 19816
 19817						TEST DESCRIPTION
 19818						---------------- 
 19819						IN 18 BIT MODE, ISSUE A WRITE HEADER AND DATA COMMAND, ISSUE
 19820						ENOUGH CLOCKS TO STEP UP TO THE ECC FIELD, CLOCK OUT AND
 19821						READ THE NEXT 32 BITS OF ECC DATA AND VERIFY THAT IT
 19822						IS CORRECT 
 19823
 19824						RECOMMENDED DEBUG PROCEDURE
 19825						--------------------------- 
 19826						NONE 
 19827						$
 19828					 	SALL
 19829
 19830
 19831	051073	201 01 0 00 000350 	TST350:	MOVEI	1,350		;GET THE TEST NUMBER
 19832	051074	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 19833
 19834	051075	260 17 0 00 060522 	T350S:	GO	DEVSEL		;SELECT A DEVICE
 19835	051076	263 17 0 00 000000 		RTN			;EXIT
 19836	051077	260 17 0 00 055673 		GO	ONCHK		;NEXT READY. GET ON-LINE
 19837
 19838	051100	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 19839
 19840	051101	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 19841	051102	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 19842
 19843	051103	260 17 0 00 056514 		GO	SETB1		;SET UP THE BUFFER
 19844	051104	200 07 0 00 072444 		MOVE	RGLIST,[402004,752760]  ;Q-REGISTERS
 19845
 19846	051105	260 17 0 00 055760 	T350L:	GO	WRTENB		;WRITE ENABLE THE DEVICE
 19847
 19848	051106	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 19849
 19850	051107	260 17 0 00 056104 		GO	MODE20		;INTO 20 SECTOR MODE
 19851
 19852	051110	260 17 0 00 056006 		GO	MMODE1		;INTO MAINT MODE
 19853
 19854	051111	201 01 0 00 000063 		MOVEI	1,63		;WRITE HEADER+DATA COMMAND
 19855	051112	402 00 0 00 000002 		SETZM	2		;CYL=00,,DA=0
 19856	051113	200 03 0 00 071426 		MOVE	3,[202,,BUF1]	;WC,,ADDR
 19857	051114	260 17 0 00 056351 		GO	XFSTRT		;START THE TRANSFER
 19858	051115	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 19859	051116	260 17 0 00 056076 		GO	SECPLS		;CAUSE SECTOR PULSE
 19860
 19861					;NOW HAVE MAINT MODE OPERATION UNDERWAY
 19862
 19863					;ISSUE 312+8+168+8+4608=5096. CLOCKS TO STEP TO ECC AREA
 19864
 19865	051117	201 01 0 00 011750 		MOVEI	1,^D5096	;# OF CLOCKS
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-251
DSRPA3	MAC	23-Feb-79 09:36		CHECK THE GENERATION OF THE ECC FIELD                                              SEQ 0668

 19866	051120	260 17 0 00 056605 		GO	MCLK1		;ISSUE THE CLOCKS
 19867
 19868					;NOW CLOCK OUT AND READ THE ECC DATA
 19869
 19870	051121	201 01 0 00 000040 		MOVEI	1,^D32		;# OF BITS
 19871	051122	260 17 0 00 056622 		GO	MCLK2		;CLOCK OUT ECC FIELD
 19872	051123	202 01 0 00 077337 		MOVEM	1,SVDAT		;SAVE THE DATA
 19873
 19874	051124	312 01 0 00 051133 		CAME	1,ECCDAT	;CORRECT ECC DATA
 19875	051125	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 19876	051126	336 00 0 00 000010 		SKIPN	ERFLG		;ERROR YET ?
 19877	051127	260 17 0 00 056432 		GO	XFSTOP		;NO. STOP THE TRANSFER
 19878	051130	027 00 0 00 051147 		SCOPE	TBL350		;CALL SCOPE ROUTINE
 19879	051131	254 00 0 00 051105 		JRST	T350L		;LOOP
 19880	051132	254 00 0 00 051075 		JRST	T350S		;SELECT NEXT DEVICE
 19881
 19882					;STORAGE FOR CORRECT ECC DATA WORD
 19883
 19884	051133	024413	142000		ECCDAT:	024413,,142000
 19885
 19886					;PRINT ROUTINE USED IN THIS TEST
 19887
 19888	051134	261 17 0 00 000000 	T350PT:	PUT	0		;SAVE AC
 19889						TEXT	[ASCIZ/
 19890	051135	030 00 0 00 072445 	ECC FIELD CORRECT= /]
 19891	051136	200 00 0 00 051133 		MOVE	0,ECCDAT
 19892	051137	037 13 0 00 000000 		PNTHW			;PRINT IT
 19893						TEXT	[ASCIZ/
 19894	051140	030 00 0 00 072452 	ECC FIELD ACTUAL = /]
 19895	051141	200 00 0 00 077337 		MOVE	0,SVDAT		;GET THE DATA
 19896	051142	037 13 0 00 000000 		PNTHW
 19897	051143	037 00 0 00 030242 		PCRL
 19898	051144	037 00 0 00 030242 		PCRL
 19899	051145	262 17 0 00 000000 		GET	0		;RESTORE
 19900	051146	263 17 0 00 000000 		RTN			;EXIT
 19901
 19902					;SCOPE TABLE FOR THIS TEST
 19903
 19904	051147	056437	057316		TBL350:	SNABRT,,DUMPS
 19905	051150	100000	072457			NOINH![ASCIZ/ECC GENERATOR HAS PUT OUT INCORRECT DATA/]
 19906	051151	010000	051134			SUBRTN!T350PT
 19907	051152	400000	077755			HIPROB!EC
 19908	051153	620000	077761			LOPROB!LAST!SN
 19909
 19910					 	XLIST
 19911					 	LIST
 19912						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-252
DSRPA3	MAC	23-Feb-79 09:36		CHECK THE GENERATION OF THE ECC FIELD                                              SEQ 0669

 19913					S^;*********************************************************************^
 19914					;*TEST-351 FULL SPEED WRITE HEADER AND DATA TEST IN 18 BIT MODE
 19915					S^;*********************************************************************^
 19916
 19917					COMMENT	$
 19918
 19919						TEST DESCRIPTION
 19920						---------------- 
 19921						THIS IS A FULL SPEED WRITE HEADER AND DATA  OPERATION
 19922						TO CYL-0 SURF-0 SECT-0. THIS TRANSFER HAS WORKED PREVIOUSLY 
 19923						IN MAINT MODE. THIS TEST USES DISK CLOCKING AND THE MDLI
 19924						INTERFACE LOGIC FOR THE FIRST TIME. BECAUSE OF THE VARIETY
 19925						OF FAULTS THAT COULD TURN UP IN THIS TEST, MODULE CALLOUT
 19926						MAY NOT BE OPTIMUM. 
 19927
 19928						RECOMMENDED DEBUG PROCEDURE
 19929						--------------------------- 
 19930						SUGGEST LOOPING ON THE TEST AND SCOPING AROUND TO IDENTIFY
 19931						THE PROBLEM BEFORE REPLACING MODULES. 
 19932						$
 19933					 	SALL
 19934
 19935	051154	201 01 0 00 000351 	TST351:	MOVEI	1,351		;GET THE TEST NUMBER
 19936	051155	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 19937
 19938	051156	260 17 0 00 060522 	T351S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 19939	051157	263 17 0 00 000000 		RTN			;DONE EXIT
 19940
 19941	051160	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 19942
 19943	051161	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 19944	051162	255 00 0 00 000000 		JFCL			;ERROR
 19945
 19946	051163	260 17 0 00 056514 		GO	SETB1		;SET UP BUFFER
 19947
 19948	051164	260 17 0 00 055760 	T351L:	GO	WRTENB		;GET ON LINE
 19949
 19950	051165	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 19951
 19952	051166	260 17 0 00 055760 		GO	WRTENB		;GET DEVICE WRITE ENABLED
 19953
 19954	051167	205 01 0 00 000010 		MOVSI	1,(1B14)	;ZEROS FOR OFFSET REGISTER
 19955
 19956	051170	260 17 0 00 057435 		GO	LRPOF		;LOAD THE OFFSET REGISTER
 19957	051171	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 19958
 19959	051172	201 01 0 00 000063 		MOVEI	1,63		;FUNCTION CODE
 19960	051173	402 00 0 00 000002 		SETZM	2		;CYL=0, SURF=0, SECT=0
 19961	051174	200 03 0 00 071426 		MOVE	3,[202,,BUF1]	;+WC,,ADDR
 19962	051175	260 17 0 00 056351 		GO	XFSTRT		;START THE TRANSFER
 19963	051176	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 19964
 19965	051177	260 17 0 00 056451 		GO	WAITGO		;WAIT FOR GO BIT TO CLEAR
 19966	051200	476 00 0 00 077301 		SETOM	HNGDEV		;TIMEOUT
 19967
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-253
DSRPA3	MAC	23-Feb-79 09:36		CHECK THE GENERATION OF THE ECC FIELD                                              SEQ 0670

 19968	051201	260 17 0 00 057274 		GO	SNAPA		;SNAPSHOT ALL REGISTERS
 19969
 19970	051202	200 07 0 00 072470 		MOVE	RGLIST,[402024,,710760]  ;REGISTERS FOR PRINTING
 19971
 19972					;TEST FOR TIMED OUT DEVICE
 19973					;EXAMINES "HNGDEV" FLAG AND "OPI" FROM ER1
 19974
 19975	051203	332 00 0 00 077301 		SKIPE	HNGDEV		;TIMEOUT
 19976	051204	254 00 0 00 051210 		JRST	.+4		;YES
 19977	051205	200 00 0 00 077640 		MOVE	0,SRPER1	;GET ER2 DATA
 19978	051206	606 00 0 00 020000 		TRNN	0,1B22		;"OPI"
 19979	051207	254 00 0 00 051212 		JRST	.+3		;NO
 19980	051210	476 00 0 00 000010 		SETOM	ERFLG		;SET THE ERROR FLAG
 19981	051211	260 17 0 00 056432 		GO	XFSTOP		;ABORT THE TRANSFER
 19982	051212	027 00 0 00 051246 		SCOPE	TB351A		;CALL THE SCOPE ROUTINE
 19983	051213	254 00 0 00 051164 		JRST	T351L		;LOOP
 19984	051214	255 00 0 00 000000 		JFCL			;CONTINUE
 19985
 19986					;CHECK ER2 AND ER3 FOR UNSAFES THAT MAY HAVE OCCURED
 19987
 19988	051215	200 00 0 00 077652 		MOVE	0,SRPER2	;GET ER2 DATA
 19989	051216	434 00 0 00 077653 		IOR	0,SRPER3	;INCLUDE ER3 DATA
 19990	051217	602 00 0 00 177777 		TRNE	0,177777	;ANY ERRORS
 19991	051220	476 00 0 00 000010 		SETOM	ERFLG		;YES. SET THE ERROR FLAG
 19992	051221	027 00 0 00 051256 		SCOPE	TB351B		;CALL THE SCOPE ROUTINE
 19993	051222	254 00 0 00 051164 		JRST	T351L		;LOOP
 19994	051223	255 00 0 00 000000 		JFCL			;CONTINUE
 19995
 19996					;CHECK FOR CLOCK ERRORS
 19997					;DRIVE TIMING ERROR OR WRITE CLOCK FAILURE
 19998
 19999	051224	200 00 0 00 077640 		MOVE	0,SRPER1	;GET ER1 DATA
 20000	051225	602 00 0 00 010040 		TRNE	0,1B23!1B30	;DTE + WCLKF
 20001	051226	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 20002	051227	027 00 0 00 051261 		SCOPE	TB351C		;CALL THE SCOPE ROUTINE
 20003	051230	254 00 0 00 051164 		JRST	T351L		;LOOP
 20004	051231	255 00 0 00 000000 		JFCL			;CONTINUE
 20005
 20006					;CHECK STATUS DATA FOR DONE
 20007					;MISSING DONE PROBABLY MEANS NO EBL RETURNED
 20008
 20009	051232	200 01 0 00 077632 		MOVE	1,SRPCS1	;GET CONTROL DATA
 20010	051233	606 01 0 00 000200 		TRNN	1,RDY		;HAVE DONE ?
 20011	051234	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 20012	051235	027 00 0 00 051266 		SCOPE	TB351D		;CALL THE SCOPE ROUTINE
 20013	051236	254 00 0 00 051164 		JRST	T351L		;LOOP
 20014	051237	255 00 0 00 000000 		JFCL			;CONTINUE
 20015
 20016					;TEST FOR PARITY ERRORS DETECTED BY DRIVE
 20017
 20018	051240	200 00 0 00 077640 		MOVE	0,SRPER1	;GET ER1 DATA
 20019	051241	602 00 0 00 000010 		TRNE	0,1B32		;PARITY ERROR
 20020	051242	476 00 0 00 000010 		SETOM	ERFLG		;YES
 20021	051243	027 00 0 00 051272 		SCOPE	TB351F		;CALL THE SCOPE ROUTINE
 20022	051244	254 00 0 00 051164 		JRST	T351L		;LOOP
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-254
DSRPA3	MAC	23-Feb-79 09:36		CHECK THE GENERATION OF THE ECC FIELD                                              SEQ 0671

 20023	051245	254 00 0 00 051156 		JRST	T351S		;CONTINUE. ON TO NEXT DRIVE
 20024
 20025					;SCOPE TABLES FOR THIS TEST
 20026
 20027	051246	000000	057316		TB351A:	0,,DUMPS
 20028	051247	100000	072471			NOINH![ASCIZ/BASIC COMMUNICATION FAULT BETWEEN RH AND DRIVE/]
 20029	051250	100000	072503			NOINH![ASCIZ/WRITE HEADER AND DATA OPERATION DID NOT COMPLETE/]
 20030	051251	010000	061651			SUBRTN!ER23CK		;CHECK ER2 AND ER3
 20031	051252	400000	077761			HIPROB!SN
 20032	051253	400000	077741			HIPROB!MA
 20033	051254	400000	077747			HIPROB!MB
 20034	051255	420000	077755			LAST!HIPROB!EC
 20035
 20036	051256	000000	057316		TB351B:	0,,DUMPS
 20037	051257	100000	072515			NOINH![ASCIZ/FAILURE DOING WRITE HEADER AND DATA/]
 20038	051260	030000	061651			LAST!SUBRTN!ER23CK
 20039
 20040	051261	000000	057316		TB351C:	0,,DUMPS
 20041	051262	100000	072525			NOINH![ASCIZ/TIMING PROBLEM DOING WRITE HEADER AND DATA/]
 20042	051263	400000	077761			HIPROB!SN
 20043	051264	600000	077755			LOPROB!EC
 20044	051265	620000	077747			LAST!LOPROB!MB
 20045
 20046	051266	000000	057316		TB351D:	0,,DUMPS
 20047	051267	100000	072536			NOINH![ASCIZ/RH DID NOT RECEIVE "DONE" AFTER WRITE HEADER AND DATA/]
 20048	051270	400000	077761			HIPROB!SN
 20049	051271	420000	077755			LAST!HIPROB!EC
 20050
 20051	051272	000000	057316		TB351F:	0,,DUMPS
 20052	051273	100000	072551			NOINH![ASCIZ/DATA BUSS PARITY ERROR ON WRITE HEADER AND DATA/]
 20053	051274	100000	072563			NOINH![ASCIZ/IN 18-BIT MODE/]
 20054	051275	120000	072566			LAST!NOINH![ASCIZ/CHECK FOR NOISE. THIS WORKED IN MAINT MODE/]
 20055
 20056					SUBTTL	HEAD SELECTION TEST
 20057					 	XLIST
 20058					 	LIST
 20059						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-255
DSRPA3	MAC	23-Feb-79 09:36		HEAD SELECTION TEST                                                                SEQ 0672

 20060					S^;*********************************************************************^
 20061					;*TEST-352 VERIFY THAT EACH HEAD CAN BE SELECTED
 20062					S^;*********************************************************************^
 20063
 20064					COMMENT	$
 20065
 20066						TEST DESCRIPTION
 20067						---------------- 
 20068						ISSUE A FULL SPEED WRITE HEADER AND DATA TO THE FIRST
 20069						SECTOR (SECT-0) ON EVERY SURFACE OF CYLINDER ZERO. THIS IS
 20070						THE FIRST TIME ANY HEAD OTHER THAN ZERO HAS BEEN
 20071						SELECTED AND THE HOPE IS THAT HEAD RELATED PROBLEMS
 20072						ONLY SHOW UP. (NHS,MHS,WCU,ETC). "OPI" ERRORS COULD
 20073						POSSIBLY COME UP DURING THIS TEST ALSO. THIS WOULD BE
 20074						AN INDICATION OF A FAULTY TRACK COMPARITOR ON SS5
 20075
 20076						RECOMMENDED DEBUG PROCEDURE
 20077						--------------------------- 
 20078						NONE
 20079						$
 20080					 	SALL
 20081
 20082
 20083	051276	201 01 0 00 000352 	TST352:	MOVEI	1,352		;GET THE TEST NUMBER
 20084	051277	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 20085
 20086	051300	260 17 0 00 060522 	T352S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 20087	051301	263 17 0 00 000000 		RTN			;TRIED ALL
 20088	051302	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 20089
 20090	051303	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 20091
 20092	051304	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 20093	051305	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 20094
 20095	051306	260 17 0 00 056514 		GO	SETB1		;SET UP WRITE BUFFER
 20096	051307	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]
 20097	051310	402 00 0 00 077300 		SETZM	HEAD#		;HOLDS CURRENT HEAD NUMBER
 20098
 20099	051311	260 17 0 00 055760 	T352L:	GO	WRTENB		;GET DEVICE ON-LINE
 20100
 20101	051312	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 20102
 20103	051313	205 01 0 00 000010 		MOVSI	1,(1B14)	;ZERO OFFSET REGISTER
 20104	051314	260 17 0 00 057435 		GO	LRPOF		;NOW
 20105	051315	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 20106
 20107	051316	201 01 0 00 000063 		MOVEI	1,63		;WRITE HEADER + DATA COMMAND
 20108	051317	200 02 0 00 077300 		MOVE	2,HEAD		;GET HEAD NUMBER
 20109	051320	242 02 0 00 000010 		LSH	2,^D8		;POSITION IT. BECOMES TRACK #
 20110	051321	202 02 0 00 101000 		MOVEM	2,BUF1		;SET UP HEADER WORD IN BUFFER
 20111	051322	200 03 0 00 071426 		MOVE	3,[202,,BUF1]	;WC,,CORE ADDR
 20112	051323	260 17 0 00 056351 		GO	XFSTRT		;START THE TRANSFER
 20113	051324	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 20114
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-256
DSRPA3	MAC	23-Feb-79 09:36		HEAD SELECTION TEST                                                                SEQ 0673

 20115	051325	260 17 0 00 056451 		GO	WAITGO		;WAIT FOR GO BIT TO CLEAR
 20116	051326	476 00 0 00 077301 		SETOM	HNGDEV		;TIMEOUT
 20117
 20118	051327	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 20119
 20120	051330	332 00 0 00 077301 		SKIPE	HNGDEV		;DID DEVICE TIME OUT?
 20121	051331	260 17 0 00 056432 		GO	XFSTOP		;YES. THEN ABORT XFER
 20122	051332	255 00 0 00 000000 		JFCL			;NO
 20123
 20124	051333	200 01 0 00 077640 		MOVE	1,SRPER1	;GET ER1 DATA
 20125	051334	602 01 0 00 020000 		TRNE	1,1B22		;OPI ERROR?
 20126	051335	476 00 0 00 000010 		SETOM	ERFLG		;YES
 20127	051336	027 00 0 00 051370 		SCOPE	TB352A		;CALL SCOPE ROUTINE
 20128	051337	254 00 0 00 051311 		JRST	T352L		;LOOP
 20129	051340	255 00 0 00 000000 		JFCL			;CONTINUE. NEXT CHECK
 20130
 20131	051341	200 01 0 00 077640 		MOVE	1,SRPER1	;GET ER1 DATA
 20132	051342	620 01 0 00 020000 		TRZ	1,1B22		;ALREADY CHECKED "OPI" CLEAR IT
 20133	051343	434 01 0 00 077652 		IOR	1,SRPER2	;INCLUDE ER-2
 20134	051344	434 01 0 00 077653 		IOR	1,SRPER3	;INCLUDE ER-3
 20135	051345	602 01 0 00 177777 		TRNE	1,177777	;CHECK FOR OTHER ERRORS
 20136	051346	476 00 0 00 000010 		SETOM	ERFLG		;SOMETHING WRONG
 20137	051347	027 00 0 00 051375 		SCOPE	TB352B		;CALL SCOPE ROUTINE
 20138	051350	254 00 0 00 051311 		JRST	T352L		;LOOP
 20139	051351	255 00 0 00 000000 		JFCL			;CONTINUE
 20140
 20141	051352	350 00 0 00 077300 		AOS	HEAD		;BUMP HEAD NUMBER
 20142	051353	200 01 0 00 077300 		MOVE	1,HEAD		;GET HEAD (TRACK) NUMBER
 20143	051354	307 01 0 00 000022 		CAIG	1,^D18		;DONE YET
 20144	051355	254 00 0 00 051311 		JRST	T352L		;NO. LOOP TO NEXT HEAD
 20145	051356	254 00 0 00 051300 		JRST	T352S		;DONE. ON TO NEXT DRIVE
 20146
 20147					;PRINT ROUTINE FOR THIS TEST
 20148
 20149	051357	261 17 0 00 000000 	T352PT:	PUT	0	
 20150						TEXT	[ASCIZ/
 20151	051360	030 00 0 00 072577 	HEAD (TRACK) SELECTED WAS # /]
 20152	051361	200 00 0 00 077300 		MOVE	0,HEAD
 20153	051362	260 17 0 00 063470 		GO	POCT		;OCTAL
 20154	051363	030 00 0 00 072606 		TEXT	[ASCIZ/    DECIMAL # /]
 20155	051364	260 17 0 00 063457 		GO	PSDN
 20156	051365	037 00 0 00 030242 		PCRL
 20157	051366	262 17 0 00 000000 		GET	0
 20158	051367	263 17 0 00 000000 		RTN
 20159
 20160
 20161					;SCOPE TABLES
 20162
 20163	051370	000000	057316		TB352A:	0,,DUMPS
 20164	051371	100000	072611			NOINH![ASCIZ/FAULTY TRACK COMPARITOR ON SS BOARD CAUSED "OPI"/]
 20165	051372	010000	051357			SUBRTN!T352PT
 20166	051373	400000	077765			HIPROB!SS
 20167	051374	030000	061651			LAST!SUBRTN!ER23CK
 20168
 20169	051375	000000	057316		TB352B:	0,,DUMPS
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-257
DSRPA3	MAC	23-Feb-79 09:36		HEAD SELECTION TEST                                                                SEQ 0674

 20170	051376	100000	072623			NOINH![ASCIZ/COMPOSITE ERROR TRYING TO USE EACH HEAD FOR FIRST TIME/]
 20171	051377	100000	072636			NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE. THIS IS A FUNCTIONAL TEST/]
 20172	051400	010000	051357			SUBRTN!T352PT
 20173	051401	030000	061651			LAST!SUBRTN!ER23CK
 20174
 20175					SUBTTL	DISK ADDRESS LOGIC TESTS
 20176					 	XLIST
 20177					 	LIST
 20178						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-258
DSRPA3	MAC	23-Feb-79 09:36		DISK ADDRESS LOGIC TESTS                                                           SEQ 0675

 20179					S^;*********************************************************************^
 20180					;*TEST-353 DISK ADDRESS LOGIC (INCREMENTATION) TEST
 20181					S^;*********************************************************************^
 20182
 20183					COMMENT	$
 20184
 20185						TEST DESCRIPTION
 20186						---------------- 
 20187						USING FULL SPEED WRITE HEADER AND DATA TESTS, VERIFY
 20188						THAT THE VARIOUS DISK ADDRESS REGISTERS CAN INCREMENT
 20189						PROPERLY.
 20190
 20191						RECOMMENDED DEBUG PROCEDURE
 20192						--------------------------- 
 20193						COMPOSITE ERRORS OTHER THAN ADDRESS FAULTS WILL BE
 20194						REPORTED BUT MODULE CALLOUT IS IMPOSSIBLE.
 20195						$
 20196					 	SALL
 20197
 20198
 20199	051402	201 01 0 00 000353 	TST353:	MOVEI	1,353		;GET THE TEST NUMBER
 20200	051403	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 20201
 20202	051404	260 17 0 00 060522 	T353S:	GO	DEVSEL		;SELECT A DEVICE
 20203	051405	263 17 0 00 000000 		RTN			;TRIED ALL
 20204	051406	260 17 0 00 055673 		GO	ONCHK		;GET ON-LINE
 20205
 20206	051407	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 20207
 20208	051410	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 20209	051411	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 20210
 20211	051412	260 17 0 00 056514 		GO	SETB1		;SET UP THE BUFFER
 20212	051413	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]  ;Q-REGISTERS
 20213	051414	402 00 0 00 000004 		SETZM	4		;AC4 WILL BE AN INDEX REG
 20214
 20215	051415	260 17 0 00 055760 	T353L:	GO	WRTENB		;GET WRITE ENABLED
 20216
 20217	051416	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 20218
 20219	051417	260 17 0 00 056136 		GO	.RECAL
 20220	051420	037 15 0 00 000004 		FATAL
 20221
 20222	051421	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 20223	051422	260 17 0 00 057435 		GO	LRPOF		;ZERO THE OFFSET REGISTER
 20224	051423	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 20225
 20226	051424	201 01 0 00 000063 		MOVEI	1,63		;WRITE HEADER AND DATA CMD
 20227	051425	200 02 0 04 051514 		MOVE	2,TBL353(4)	;FETCH DISK ADDRESS
 20228	051426	202 02 0 00 101000 		MOVEM	2,BUF1		;PUT IN BUFFER
 20229	051427	200 03 0 00 071426 		MOVE	3,[202,,BUF1]	;WC,,CORD ADDR
 20230	051430	260 17 0 00 056351 		GO	XFSTRT		;START THE TRANSFER
 20231	051431	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 20232
 20233	051432	260 17 0 00 056451 		GO	WAITGO		;WAIT FOR GO BIT TO CLEAR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-259
DSRPA3	MAC	23-Feb-79 09:36		DISK ADDRESS LOGIC TESTS                                                           SEQ 0676

 20234	051433	476 00 0 00 077301 		SETOM	HNGDEV		;TIMEOUT
 20235
 20236	051434	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 20237
 20238	051435	332 00 0 00 077301 		SKIPE	HNGDEV		;DID DEVICE HANG
 20239	051436	260 17 0 00 056432 		GO	XFSTOP		;YES. STOP TRANSFER
 20240	051437	255 00 0 00 000000 		JFCL			;NO
 20241
 20242	051440	200 01 0 00 077640 		MOVE	1,SRPER1	;GET ER1 DATA
 20243	051441	602 01 0 00 040000 		TRNE	1,1B21		;COMPOSITE ERROR
 20244	051442	476 00 0 00 000010 		SETOM	ERFLG		;YES
 20245	051443	027 00 0 00 051503 		SCOPE	TB353A		;CALL SCOPE ROUTINE
 20246	051444	254 00 0 00 051415 		JRST	T353L		;LOOP
 20247	051445	255 00 0 00 000000 		JFCL			;CONTINUE
 20248
 20249					;BUILD DISK ADDR AND SEE IF IT IS AS EXPECTED
 20250
 20251	051446	200 01 0 00 077650 		MOVE	1,SRPDC		;DCY
 20252	051447	405 01 0 00 001777 		ANDI	1,1777		;SAVE 10 BITS
 20253	051450	514 01 0 00 000001 		HRLZ	1,1		;PUT IN LEFT HALF
 20254	051451	540 01 0 00 077635 		HRR	1,SRPDA		;DA REGISTER
 20255	051452	620 01 0 00 700000 		TRZ	1,1B18!1B19!1B20 ;CLEAR UNWANTED BITS
 20256	051453	312 01 0 04 051515 		CAME	1,TBL353+1(4)	;IS ADDR AS EXPECTED
 20257	051454	476 00 0 00 000010 		SETOM	ERFLG		;NO
 20258	051455	027 00 0 00 051507 		SCOPE	TB353B		;CALL SCOPE ROUTINE
 20259	051456	254 00 0 00 051415 		JRST	T353L		;LOOP
 20260	051457	255 00 0 00 000000 		JFCL			;CONTINUE
 20261
 20262					;UPDATE TABLE INDEX AND SEE IF DONE
 20263
 20264	051460	271 04 0 00 000002 		ADDI	4,2		;BUMP
 20265					 	XLIST
 20266						LIST
 20267	051461	305 04 0 00 000050 		CAIGE	4,^D40		;THERE ARE 2X20 ENTRIES
 20268					 	XLIST
 20269						LIST
 20270	051462	254 00 0 00 051415 		JRST	T353L		;TO NEXT ADDRESS
 20271	051463	254 00 0 00 051404 		JRST	T353S		;TO NEXT DRIVE
 20272
 20273					;PRINT ROUTINE FOR THIS TEST
 20274
 20275	051464	261 17 0 00 000000 	T353PT:	PUT	0
 20276						TEXT	[ASCIZ/
 20277	051465	030 00 0 00 072651 	TRANSFER STARTED AT CYL=/]
 20278	051466	135 00 0 00 072657 		LDB	0,[POINT 10,TBL353(4),17]
 20279	051467	260 17 0 00 063470 		GO	POCT
 20280	051470	030 00 0 00 072660 		TEXT	[ASCIZ/   SURF=/]
 20281	051471	135 00 0 00 072662 		LDB	0,[POINT 8,TBL353(4),27]
 20282	051472	260 17 0 00 063470 		GO	POCT
 20283	051473	030 00 0 00 072663 		TEXT	[ASCIZ/   SECT=/]
 20284	051474	200 00 0 04 051514 		MOVE	0,TBL353(4)
 20285	051475	405 00 0 00 000377 		ANDI	0,377
 20286	051476	260 17 0 00 063470 		GO	POCT
 20287	051477	260 17 0 00 063452 		GO	.CRLF
 20288	051500	260 17 0 00 063452 		GO	.CRLF
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-260
DSRPA3	MAC	23-Feb-79 09:36		DISK ADDRESS LOGIC TESTS                                                           SEQ 0677

 20289	051501	262 17 0 00 000000 		GET	0
 20290	051502	263 17 0 00 000000 		RTN
 20291
 20292					;SCOPE TABLES
 20293
 20294	051503	000000	057316		TB353A:	0,,DUMPS
 20295	051504	100000	072665			NOINH![ASCIZ/COMPOSITE ERROR WHILE DOING 1 SECTOR WRT HDR + DATA/]
 20296	051505	010000	051464			SUBRTN!T353PT
 20297	051506	030000	061651			LAST!SUBRTN!ER23CK
 20298
 20299	051507	000000	057316		TB353B:	0,,DUMPS
 20300	051510	100000	072700			NOINH![ASCIZ/DISK ADDRESS REGISTERS DID NOT INCREMENT PROPERLY/]
 20301	051511	100000	072712			NOINH![ASCIZ/FOLLOWING SINGLE SECTOR WRITE HEADER AND DATA/]
 20302	051512	010000	051464			SUBRTN!T353PT
 20303	051513	420000	077765			LAST!HIPROB!SS
 20304
 20305					;DATA TABLE FOR THIS TEST. ENTRIES ARE IN PAIRS WHERE 1ST
 20306					;IS THE STARTING ADDRESS OF THE XFER AND THE SECOND IS
 20307					;THE VALUES THAT DCY AND DA SHOULD BE AFTER TRANSFER
 20308					;COMPLETES.
 20309
 20310	051514	000000	000000		TBL353:	0			;SECTOR PORTION INCREMENTS
 20311	051515	000000	000001			1
 20312	051516	000000	000001			1
 20313	051517	000000	000002			2
 20314	051520	000000	000003			3
 20315	051521	000000	000004			4
 20316	051522	000000	000007			7
 20317	051523	000000	000010			^D8
 20318	051524	000000	000017			^D15
 20319	051525	000000	000020			^D16
 20320	051526	000000	000023			0B27!^D19		;TRACK (SURFACE) INCREMENTS
 20321	051527	000000	000400			1B27!0
 20322	051530	000000	000423			1B27!^D19
 20323	051531	000000	001000			2B27!0
 20324	051532	000000	001423			3B27!^D19
 20325	051533	000000	002000			4B27!0
 20326	051534	000000	003423			7B27!^D19
 20327	051535	000000	004000			^D8B27!0
 20328	051536	000000	007423			^D15B27!^D19
 20329	051537	000000	010000			^D16B27!0
 20330	051540	000000	011023			0B17!^D18B27!^D19	;CYLINDER INCREMENTATION
 20331	051541	000001	000000			1B17!0
 20332	051542	000001	011023			1B17!^D18B27!^D19
 20333	051543	000002	000000			2B17!0
 20334	051544	000003	011023			3B17!^D18B27!^D19
 20335	051545	000004	000000			4B17!0
 20336	051546	000007	011023			7B17!^D18B27!^D19
 20337	051547	000010	000000			^D8B17!0
 20338	051550	000017	011023			^D15B17!^D18B27!^D19
 20339	051551	000020	000000			^D16B17!0
 20340	051552	000037	011023			^D31B17!^D18B27!^D19
 20341	051553	000040	000000			^D32B17!0
 20342	051554	000077	011023			^D63B17!^D18B27!^D19
 20343	051555	000100	000000			^D64B17!0
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-261
DSRPA3	MAC	23-Feb-79 09:36		DISK ADDRESS LOGIC TESTS                                                           SEQ 0678

 20344	051556	000177	011023			^D127B17!^D18B27!^D19
 20345	051557	000200	000000			^D128B17!0
 20346	051560	000377	011023			^D255B17!^D18B27!^D19
 20347	051561	000400	000000			^D256B17!0
 20348					 	XLIST
 20349						LIST
 20350	051562	000777	011023			^D511B17!^D18B27!^D19
 20351	051563	001000	000000			^D512B17!0
 20352					 	XLIST
 20353						LIST
 20354
 20355					 	XLIST
 20356					 	LIST
 20357						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-262
DSRPA3	MAC	23-Feb-79 09:36		DISK ADDRESS LOGIC TESTS                                                           SEQ 0679

 20358					S^;*********************************************************************^
 20359					;*TEST-354 VERIFY THAT "LBT" DETECTOR WORKS
 20360					S^;*********************************************************************^
 20361
 20362					COMMENT	$
 20363
 20364						TEST DESCRIPTION
 20365						---------------- 
 20366						DO A 1 SECTOR WRITE HEADER AND DATA TO THE LAST
 20367						BLOCK ON THE DISK. CYL=814. SURF=18. SECT=19.
 20368						AT THE END OF THE XFER, VERIFY THAT "LBT" HAS
 20369						SET AND THAT DA=0 AND DCY=815. 
 20370
 20371						RECOMMENDED DEBUG PROCEDURE
 20372						--------------------------- 
 20373						COMPOSITE ERRORS WILL BE REPORTED BUT NO MODULE
 20374						CALLOUT IS POSSIBLE.
 20375						$
 20376					 	SALL
 20377
 20378
 20379	051564	201 01 0 00 000354 	TST354:	MOVEI	1,354		;GET TEST NUMBER
 20380	051565	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 20381
 20382	051566	260 17 0 00 060522 	T354S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 20383	051567	263 17 0 00 000000 		RTN			;TRIED ALL
 20384	051570	260 17 0 00 055673 		GO	ONCHK		;GET ON-LINE
 20385
 20386	051571	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 20387
 20388	051572	260 17 0 00 056514 		GO	SETB1		;SET UP BUFFER
 20389	051573	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]
 20390
 20391	051574	260 17 0 00 055760 	T354L:	GO	WRTENB		;WRITE ENABLE
 20392
 20393	051575	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 20394
 20395	051576	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 20396	051577	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 20397
 20398	051600	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 20399	051601	260 17 0 00 057435 		GO	LRPOF		;ZERO'S OFFSET REGISTER
 20400	051602	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 20401
 20402	051603	201 01 0 00 000063 		MOVEI	1,63		;WRITE HEADER + DATA COMMAND
 20403	051604	200 02 0 00 072724 		MOVE	2,[^D814,,^D18B27!^D19]  ;DISK ADDR
 20404	051605	202 02 0 00 101000 		MOVEM	2,BUF1		;SETS UP HEADER WORD
 20405	051606	200 03 0 00 071426 		MOVE	3,[202,,BUF1]	;WC,,ADDR
 20406	051607	260 17 0 00 056351 		GO	XFSTRT		;START XFER
 20407	051610	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 20408
 20409	051611	260 17 0 00 056451 		GO	WAITGO		;WAIT FOR GO BIT TO CLEAR
 20410	051612	476 00 0 00 077301 		SETOM	HNGDEV		;HUNG DEVICE
 20411
 20412	051613	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-263
DSRPA3	MAC	23-Feb-79 09:36		DISK ADDRESS LOGIC TESTS                                                           SEQ 0680

 20413	051614	332 00 0 00 077301 		SKIPE	HNGDEV		;HUNG DEVICE?
 20414	051615	260 17 0 00 056432 		GO	XFSTOP		;YES. ABORT XFER
 20415	051616	255 00 0 00 000000 		JFCL			;NO.
 20416
 20417	051617	200 01 0 00 077640 		MOVE	1,SRPER1	;GET ER2 DATA
 20418	051620	602 01 0 00 040000 		TRNE	1,1B21		;COMPOSITE ERROR
 20419	051621	476 00 0 00 000010 		SETOM	ERFLG		;YES
 20420	051622	027 00 0 00 051650 		SCOPE	TB354A		;CALL SCOPE ROUTINE
 20421	051623	254 00 0 00 051574 		JRST	T354L		;LOOP
 20422	051624	255 00 0 00 000000 		JFCL			;CONTINUE
 20423
 20424	051625	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS
 20425	051626	606 01 0 00 002000 		TRNN	1,1B25		;"LBT" SET
 20426	051627	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 20427	051630	027 00 0 00 051654 		SCOPE	TB354B		;CALL SCOPE ROUTINE
 20428	051631	254 00 0 00 051574 		JRST	T354L		;LOOP
 20429	051632	255 00 0 00 000000 		JFCL			;CONTINUE
 20430
 20431	051633	200 01 0 00 077635 		MOVE	1,SRPDA		;GET DA REG
 20432	051634	602 01 0 00 177777 		TRNE	1,177777	;ALL BITS ZERO?
 20433	051635	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 20434	051636	027 00 0 00 051660 		SCOPE	TB354C		;CALL SCOPE ROUTINE
 20435	051637	254 00 0 00 051574 		JRST	T354L		;LOOP
 20436	051640	255 00 0 00 000000 		JFCL			;CONTINUE
 20437
 20438	051641	200 01 0 00 077650 		MOVE	1,SRPDC		;GET THE DCY REG
 20439	051642	405 01 0 00 001777 		ANDI	1,1777		;SAVE 10 BITS
 20440	051643	302 01 0 00 001457 		CAIE	1,1457		;SHOULD BE AT MAX CYL+1
 20441	051644	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 20442	051645	027 00 0 00 051664 		SCOPE	TB354E		;CALL THE SCOPE ROUTINE
 20443	051646	254 00 0 00 051574 		JRST	T354L		;LOOP
 20444	051647	254 00 0 00 051566 		JRST	T354S		;CONTINUE. SELECT NEXT DRIVE
 20445
 20446					;SCOPE TABLES
 20447
 20448	051650	000000	057316		TB354A:	0,,DUMPS
 20449	051651	100000	072725			NOINH![ASCIZ/COMPOSITE ERROR DOING 1 SECT XFER TO/]
 20450	051652	100000	072735			NOINH![ASCIZ/CYL=1456 SURF=22 SECT=23/]
 20451	051653	030000	061651			LAST!SUBRTN!ER23CK
 20452
 20453	051654	000000	057316		TB354B:	0,,DUMPS
 20454	051655	100000	072742			NOINH![ASCIZ/"LBT" NOT SET WHEN XFERING TO/]
 20455	051656	100000	072750		TB354D:	NOINH![ASCIZ/CYL=1456 SURF=22 SECT=23 (LAST BLOCK)/]
 20456	051657	420000	077765			LAST!HIPROB!SS
 20457
 20458	051660	000000	057316		TB354C:	0,,DUMPS
 20459	051661	100000	072760			NOINH![ASCIZ/DESIRED ADDRESS REGISTER DID NOT GO TO ZERO AFTER/]
 20460	051662	100000	072772			NOINH![ASCIZ/XFER TO LAST BLOCK ON THE DISK/]
 20461	051663	040000	051656			GOTO!TB354D
 20462
 20463	051664	000000	057316		TB354E:	0,,DUMPS
 20464	051665	100000	073001			NOINH![ASCIZ/DCY DID NOT INCREMENT TO 1457 AFTER/]
 20465	051666	040000	051662			GOTO!TB354C+2
 20466
 20467					 	XLIST
 20468					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-264
DSRPA3	MAC	23-Feb-79 09:36		DISK ADDRESS LOGIC TESTS                                                           SEQ 0681

 20469						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-265
DSRPA3	MAC	23-Feb-79 09:36		DISK ADDRESS LOGIC TESTS                                                           SEQ 0682

 20470					S^;*********************************************************************^
 20471					;*TEST-355 VERIFY THAT "AOE" CAN BE DETECTED
 20472					S^;*********************************************************************^
 20473
 20474					COMMENT	$
 20475
 20476						TEST DESCRIPTION
 20477						---------------- 
 20478						DO A FULL SPEED WRITE HEADER AND DATA OPERATION TO
 20479						THE LAST DISK SECTOR (SECT-23 SURF-20 CYL-1456). THE
 20480						XFER WILL BE 2 SECTORS LONG WHICH WILL OVERFLOW
 20481						THE DISK AND CAUSE "AOE" 
 20482
 20483						RECOMMENDED DEBUG PROCEDURE
 20484						--------------------------- 
 20485						IF "AOE" DOES NOT SET THERE MAY ALSO BE A LOGIC
 20486						FAULT IN THE LOGIC WHICH ALLOWS TRANSFERING MULTIPLE
 20487						SECTORS. (EXAMINES RUN LINE AT EBL TIME) 
 20488						$
 20489					 	SALL
 20490
 20491
 20492	051667	201 01 0 00 000355 	TST355:	MOVEI	1,355		;GET THE TEST NUMBER
 20493	051670	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 20494
 20495	051671	260 17 0 00 060522 	T355S:	GO	DEVSEL		;SELECT A DEVICE
 20496	051672	263 17 0 00 000000 		RTN			;TRIED ALL
 20497	051673	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 20498
 20499	051674	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 20500
 20501	051675	260 17 0 00 056514 		GO	SETB1		;SET UP BUFFER
 20502	051676	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]
 20503
 20504	051677	260 17 0 00 055760 	T355L:	GO	WRTENB		;GET WRITE ENABLED
 20505
 20506	051700	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 20507
 20508	051701	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 20509	051702	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 20510
 20511	051703	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS 0
 20512	051704	260 17 0 00 057435 		GO	LRPOF		;CLEAR OFFSET REG
 20513	051705	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 20514
 20515	051706	201 01 0 00 000063 		MOVEI	1,63		;WRITE HEADER AND DATA
 20516	051707	200 02 0 00 072724 		MOVE	2,[^D814,,^D18B27!^D19]  ;LAST BLOCK
 20517	051710	202 02 0 00 101000 		MOVEM	2,BUF1		;SET UP BUFFER HEADER
 20518	051711	200 03 0 00 073011 		MOVE	3,[404,,BUF1]	;WC,,ADDR
 20519	051712	260 17 0 00 056351 		GO	XFSTRT		;START TRANSFER
 20520	051713	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 20521
 20522	051714	260 17 0 00 056451 		GO	WAITGO		;WAIT TILL GO BIT CLEARS
 20523	051715	476 00 0 00 077301 		SETOM	HNGDEV		;TIMEOUT
 20524
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-266
DSRPA3	MAC	23-Feb-79 09:36		DISK ADDRESS LOGIC TESTS                                                           SEQ 0683

 20525	051716	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT
 20526
 20527	051717	332 00 0 00 077301 		SKIPE	HNGDEV		;HAD DEVICE TIMED OUT
 20528	051720	260 17 0 00 056432 		GO	XFSTOP		;YES. STOP XFER
 20529	051721	255 00 0 00 000000 		JFCL			;NO.
 20530
 20531					;SEE IF "AOE" WAS SET
 20532
 20533	051722	200 01 0 00 077640 		MOVE	1,SRPER1	;GET ER1 DATA
 20534	051723	606 01 0 00 001000 		TRNN	1,1B26		;"AOE" SET?
 20535	051724	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 20536	051725	027 00 0 00 051741 		SCOPE	TB355A		;YES. CALL SCOPE ROUTINE
 20537	051726	254 00 0 00 051677 		JRST	T355L		;LOOP
 20538	051727	255 00 0 00 000000 		JFCL			;CONTINUE
 20539
 20540					;SEE IF ANY OTHER ERROR OCCURED
 20541
 20542	051730	200 01 0 00 077640 		MOVE	1,SRPER1	;GET ER1 DATA
 20543	051731	620 01 0 00 001000 		TRZ	1,1B26		;IGNORE "AOE", ALREADY TESTED
 20544	051732	434 01 0 00 077652 		IOR	1,SRPER2	;ER2 DATA
 20545	051733	434 01 0 00 077653 		IOR	1,SRPER3	;ER3 DATA
 20546	051734	602 01 0 00 177777 		TRNE	1,177777	;ANY ERROR
 20547	051735	476 00 0 00 000010 		SETOM	ERFLG		;YES
 20548	051736	027 00 0 00 051747 		SCOPE	TB355B		;CALL SCOPE ROUTINE
 20549	051737	254 00 0 00 051677 		JRST	T355L		;LOOP
 20550	051740	254 00 0 00 051671 		JRST	T355S		;CONTINUE. TO NEXT DRIVE
 20551
 20552					;SCOPE TABLES
 20553
 20554	051741	000000	057316		TB355A:	0,,DUMPS
 20555	051742	100000	073012			NOINH![ASCIZ/CAN'T SET "AOE" BY WRITING OFF THE END OF/]
 20556	051743	100000	073023			NOINH![ASCIZ/THE DISK WITH A 2 SECTOR TRANSFER/]
 20557	051744	400000	077765			HIPROB!SS
 20558	051745	400000	077761			HIPROB!SN
 20559	051746	030000	061651			LAST!SUBRTN!ER23CK
 20560
 20561	051747	000000	057316		TB355B:	0,,DUMPS
 20562	051750	100000	073032			NOINH![ASCIZ/COMPOSITE ERROR OTHER THAN "AOE" DETECTED/]
 20563	051751	100000	073043			NOINH![ASCIZ/DOING 2 SECTOR XFER TO LAST DISK BLOCK/]
 20564	051752	030000	061651			LAST!SUBRTN!ER23CK
 20565
 20566					SUBTTL	FULL SPEED READ HEADER AND DATA
 20567					 	XLIST
 20568					 	LIST
 20569						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-267
DSRPA3	MAC	23-Feb-79 09:36		FULL SPEED READ HEADER AND DATA                                                    SEQ 0684

 20570					S^;*********************************************************************^
 20571					;*TEST-356 WRITE/READ HEADERS AT FULL SPEED
 20572					S^;*********************************************************************^
 20573
 20574					COMMENT	$
 20575
 20576						TEST DESCRIPTION
 20577						---------------- 
 20578						WRITE THEN READ HEADERS AND DATA AT FULL SPEED
 20579						USING CYL=0 SURF=0 SECT=0. THIS IS A FUNCTIONAL TEST
 20580						SO MODULE CALLOUT WILL BE IMPOSSIBLE. THIS IS THE FIRST
 20581						TIME WE'VE READ HEADERS AND DATA AT FULL SPEED.
 20582						THE OPERATION HAS WORKED PREVIOUSLY IN MAINT MODE
 20583
 20584						RECOMMENDED DEBUG PROCEDURE
 20585						--------------------------- 
 20586						NONE
 20587						$
 20588					 	SALL
 20589
 20590
 20591	051753	201 01 0 00 000356 	TST356:	MOVEI	1,356		;GET TEST NUMBER
 20592	051754	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 20593
 20594	051755	260 17 0 00 060522 	T356S:	GO	DEVSEL		;SELECT A DEVICE
 20595	051756	263 17 0 00 000000 		RTN			;TRIED ALL
 20596	051757	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 20597
 20598	051760	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 20599
 20600	051761	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 20601	051762	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 20602
 20603	051763	260 17 0 00 056514 		GO	SETB1		;SET UP BUFFER
 20604	051764	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]
 20605
 20606	051765	260 17 0 00 055760 	T356L:	GO	WRTENB		;WRITE ENABLE DEVICE
 20607
 20608	051766	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 20609
 20610	051767	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 20611	051770	260 17 0 00 057435 		GO	LRPOF		;CLEAR OFFSET REGISTER
 20612	051771	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 20613
 20614	051772	201 01 0 00 000063 		MOVEI	1,63		;WRITE HEADER AND DATA
 20615	051773	402 00 0 00 000002 		SETZM	2		;ADDRESS = 0
 20616	051774	200 03 0 00 071426 		MOVE	3,[202,,BUF1]	;WC,,CORE ADR
 20617	051775	260 17 0 00 056351 		GO	XFSTRT		;START TRANSFER
 20618	051776	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 20619
 20620	051777	260 17 0 00 056451 		GO	WAITGO		;WAIT TILL DONE
 20621	052000	476 00 0 00 077301 		SETOM	HNGDEV		;DEVICE TIMED OUT
 20622
 20623	052001	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 20624
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-268
DSRPA3	MAC	23-Feb-79 09:36		FULL SPEED READ HEADER AND DATA                                                    SEQ 0685

 20625	052002	332 00 0 00 077301 		SKIPE	HNGDEV		;HUNG DEVICE
 20626	052003	260 17 0 00 056432 		GO	XFSTOP		;YES. STOP XFER
 20627
 20628	052004	200 01 0 00 077637 		MOVE	1,SRPDS		;GET DEVICE STATUS
 20629	052005	602 01 0 00 040000 		TRNE	1,1B21		;COMPOSITE ERROR
 20630	052006	476 00 0 00 000010 		SETOM	ERFLG		;YES
 20631	052007	200 01 0 00 077632 		MOVE	1,SRPCS1	;GET CONTROL DATA
 20632	052010	602 01 0 00 160000 		TRNE	1,SC!TRE!MCPE	;ANY ERROR ?
 20633	052011	476 00 0 00 000010 		SETOM	ERFLG		;YES
 20634	052012	027 00 0 00 052042 		SCOPE	TB356		;CALL SCOPE ROUTINE
 20635	052013	254 00 0 00 051765 		JRST	T356L		;LOOP
 20636	052014	255 00 0 00 000000 		JFCL			;CONTINUE
 20637
 20638					;START THE READ OPERATION NOW
 20639
 20640	052015	260 17 0 00 055673 		GO	ONCHK		;GET ON-LINE
 20641
 20642	052016	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 20643
 20644	052017	201 01 0 00 000073 		MOVEI	1,73		;READ HEADER AND DATA
 20645	052020	402 00 0 00 000002 		SETZM	2		;DISK ADDRESS IS 0
 20646	052021	200 03 0 00 072137 		MOVE	3,[202,,BUF2]	;+WC,,DISK ADDR
 20647	052022	260 17 0 00 056351 		GO	XFSTRT		;START TRANSFER
 20648	052023	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 20649
 20650	052024	260 17 0 00 056451 		GO	WAITGO		;WAIT UNTIL DONE
 20651	052025	476 00 0 00 077301 		SETOM	HNGDEV		;HUNG DEVICE
 20652	052026	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT
 20653
 20654	052027	332 00 0 00 077301 		SKIPE	HNGDEV		;HUNG DEVICE?
 20655	052030	260 17 0 00 056432 		GO	XFSTOP		;YES. STOP XFER
 20656
 20657	052031	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REG
 20658	052032	602 01 0 00 040000 		TRNE	1,1B21		;COMPOSITE ERROR
 20659	052033	476 00 0 00 000010 		SETOM	ERFLG		;YES
 20660	052034	200 01 0 00 077632 		MOVE	1,SRPCS1	;GET CONTROL DATA
 20661	052035	602 01 0 00 160000 		TRNE	1,SC!TRE!MCPE	;ANY ERROR ?
 20662	052036	476 00 0 00 000010 		SETOM	ERFLG		;YES
 20663	052037	027 00 0 00 052042 		SCOPE	TB356		;CALL SCOPE ROUTINE
 20664	052040	254 00 0 00 051765 		JRST	T356L		;LOOP
 20665	052041	254 00 0 00 051755 		JRST	T356S		;CONTINUE. SELECT NEXT DRIVE
 20666
 20667					;SCOPE TABLES FOR NEXT FEW TESTS
 20668
 20669	052042				TB356:
 20670	052042				TB357:
 20671	052042				TB360:
 20672	052042	000000	057316		TB361:	0,,DUMPS
 20673	052043	100000	073053			NOINH![ASCIZ/ERROR DETECTED DURING A FULL SPEED DATA XFER/]
 20674	052044	100000	073064			NOINH![ASCIZ/FUNCTIONAL TEST. MODULE CALLOUT IS IMPOSSIBLE/]
 20675	052045	030000	061651			LAST!SUBRTN!ER23CK
 20676
 20677					 	XLIST
 20678					 	LIST
 20679						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-269
DSRPA3	MAC	23-Feb-79 09:36		FULL SPEED READ HEADER AND DATA                                                    SEQ 0686

 20680					S^;*********************************************************************^
 20681					;*TEST-357 WRITE THEN READ HEADERS FROM VARIOUS ADDRESSES
 20682					S^;*********************************************************************^
 20683
 20684					COMMENT	$
 20685
 20686						TEST DESCRIPTION
 20687						---------------- 
 20688						WRITE THEN READ/VERIFY HEADERS FROM VARIOUS DISK AREAS.
 20689						DURING THE READ, "HCI" IS SET TO ALLOW HEADER RECOVERY
 20690
 20691						RECOMMENDED DEBUG PROCEDURE
 20692						--------------------------- 
 20693						NONE
 20694						$
 20695					 	SALL
 20696
 20697
 20698	052046	201 01 0 00 000357 	TST357:	MOVEI	1,357		;GET TEST NUMBER
 20699	052047	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 20700
 20701	052050	260 17 0 00 060522 	T357S:	GO	DEVSEL		;SELECT A DEVICE
 20702	052051	263 17 0 00 000000 		RTN			;TRIED ALL
 20703	052052	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON LINE
 20704
 20705	052053	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 20706
 20707	052054	260 17 0 00 056514 		GO	SETB1		;SET UP BUFFER
 20708	052055	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]
 20709
 20710	052056	402 00 0 00 000004 		SETZM	4		;INDEX REGISTER
 20711
 20712	052057	260 17 0 00 055760 	T357L:	GO	WRTENB		;ENABLE FOR WRITE
 20713
 20714	052060	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 20715
 20716	052061	205 01 0 00 000010 		MOVSI	1,(1B14)	;CLEAR OFFSET REG
 20717	052062	260 17 0 00 057435 		GO	LRPOF		;NOW
 20718	052063	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 20719
 20720	052064	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 20721	052065	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 20722
 20723	052066	201 01 0 00 000063 		MOVEI	1,63		;WRITE HEADER AND DATA
 20724	052067	200 02 0 04 052173 		MOVE	2,TBL357(4)	;FETCH HEADER DATA
 20725	052070	202 02 0 00 101000 		MOVEM	2,BUF1		;PUT IT IN THE BUFFER
 20726	052071	200 03 0 00 071426 		MOVE	3,[202,,BUF1]	;WC,,CORE ADDR
 20727	052072	260 17 0 00 056351 		GO	XFSTRT		;START TRANSFER
 20728	052073	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 20729
 20730	052074	260 17 0 00 056451 		GO	WAITGO		;WAIT TILL DONE
 20731	052075	476 00 0 00 000010 		SETOM	ERFLG		;HUNG DEVICE
 20732
 20733	052076	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 20734
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-270
DSRPA3	MAC	23-Feb-79 09:36		FULL SPEED READ HEADER AND DATA                                                    SEQ 0687

 20735	052077	332 00 0 00 077301 		SKIPE	HNGDEV		;TIMED OUT DEVICE
 20736	052100	260 17 0 00 056432 		GO	XFSTOP		;YES. STOP XFER
 20737
 20738	052101	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REG
 20739	052102	602 01 0 00 040000 		TRNE	1,1B21		;COMPOSITE ERROR?
 20740	052103	476 00 0 00 000010 		SETOM	ERFLG		;YES.
 20741	052104	200 01 0 00 077632 		MOVE	1,SRPCS1	;GET CONTROL DATA
 20742	052105	602 01 0 00 160000 		TRNE	1,SC!TRE!MCPE	;ANY ERROR ?
 20743	052106	476 00 0 00 000010 		SETOM	ERFLG		;CLEAR ERROR FLAG
 20744	052107	027 00 0 00 052042 		SCOPE	TB357		;CALL SCOPE ROUTINE
 20745	052110	254 00 0 00 052057 		JRST	T357L		;LOOP
 20746	052111	255 00 0 00 000000 		JFCL			;CONTINUE
 20747
 20748					;START THE READ HEADER AND DATA OPERATION
 20749
 20750	052112	260 17 0 00 055673 		GO	ONCHK		;GET ON-LINE
 20751
 20752	052113	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 20753
 20754	052114	200 01 0 00 073076 		MOVE	1,[1B14!1B25]	;SET HCI
 20755	052115	260 17 0 00 057435 		GO	LRPOF		;LOAD OFFSET REGISTER
 20756	052116	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 20757
 20758	052117	201 01 0 00 000073 		MOVEI	1,73		;READ HEADER AND DATA
 20759	052120	200 02 0 04 052173 		MOVE	2,TBL357(4)	;DISK ADDRESS
 20760	052121	200 03 0 00 072137 		MOVE	3,[202,,BUF2]	;WC,,ADDR
 20761	052122	260 17 0 00 056351 		GO	XFSTRT		;START XFER
 20762	052123	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 20763
 20764	052124	260 17 0 00 056451 		GO	WAITGO		;WAIT TILL DONE
 20765	052125	476 00 0 00 000010 		SETOM	ERFLG		;HUNG DEVICE.
 20766
 20767	052126	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 20768
 20769	052127	332 00 0 00 077301 		SKIPE	HNGDEV		;DEVICE HUNG?
 20770	052130	260 17 0 00 056432 		GO	XFSTOP		;YES. STOP IT
 20771
 20772	052131	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REG DATA
 20773	052132	602 01 0 00 040000 		TRNE	1,1B21		;COMPOSITE ERROR
 20774	052133	476 00 0 00 000010 		SETOM	ERFLG		;YES
 20775	052134	200 01 0 00 077632 		MOVE	1,SRPCS1	;GET CONTROL DATA
 20776	052135	602 01 0 00 160000 		TRNE	1,SC!TRE!MCPE	;ANY ERROR ?
 20777	052136	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 20778	052137	027 00 0 00 052042 		SCOPE	TB357		;CALL SCOPE ROUTINE
 20779	052140	254 00 0 00 052057 		JRST	T357L		;LOOP
 20780	052141	255 00 0 00 000000 		JFCL			;CONTINUE
 20781
 20782					;SEE IF HEADER WAS CORRECT
 20783
 20784	052142	200 01 0 00 102000 		MOVE	1,BUF2		;HEADER JUST READ
 20785	052143	312 01 0 04 052173 		CAME	1,TBL357(4)	;CORRECT
 20786	052144	476 00 0 00 000010 		SETOM	ERFLG		;NO.
 20787	052145	027 00 0 00 052167 		SCOPE	TB357A		;CALL SCOPE ROUTINE
 20788	052146	254 00 0 00 052057 		JRST	T357L		;LOOP
 20789	052147	255 00 0 00 000000 		JFCL			;CONTINUE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-271
DSRPA3	MAC	23-Feb-79 09:36		FULL SPEED READ HEADER AND DATA                                                    SEQ 0688

 20790
 20791	052150	350 00 0 00 000004 		AOS	4		;BUMP INDEX
 20792					 	XLIST
 20793						LIST
 20794	052151	305 04 0 00 000026 		CAIGE	4,^D22		;DONE
 20795					 	XLIST
 20796						LIST
 20797	052152	254 00 0 00 052057 		JRST	T357L		;LOOP. NOT DONE YET
 20798	052153	254 00 0 00 052050 		JRST	T357S		;SELECT NEXT DEVICE
 20799
 20800					;PRINT ROUTINE FOR THIS TEST
 20801
 20802	052154	261 17 0 00 000000 	T357PT:	PUT	0
 20803						TEXT	[ASCIZ/
 20804	052155	030 00 0 00 073077 	HEADER WRITTEN:  /]
 20805	052156	200 00 0 04 052173 		MOVE	0,TBL357(4)	;FETCH CORRECT
 20806	052157	037 13 0 00 000000 		PNTHW
 20807						TEXT	[ASCIZ/
 20808	052160	030 00 0 00 073103 	HEADER READ WAS: /]
 20809	052161	200 00 0 00 102000 		MOVE	0,BUF2		;FETCH ACTUAL
 20810	052162	037 13 0 00 000000 		PNTHW
 20811	052163	260 17 0 00 063452 		GO	.CRLF
 20812	052164	260 17 0 00 063452 		GO	.CRLF
 20813	052165	262 17 0 00 000000 		GET	0
 20814	052166	263 17 0 00 000000 		RTN
 20815
 20816					;SCOPE TABLE
 20817
 20818	052167	000000	057316		TB357A:	0,,DUMPS
 20819	052170	100000	073107			NOINH![ASCIZ/HEADER DATA ERROR./]
 20820	052171	100000	073113			NOINH![ASCIZ/HEADER READ IS DIFFERENT FROM THAT WRITTEN/]
 20821	052172	030000	052154			LAST!SUBRTN!T357PT
 20822
 20823					;DATA TABLE FOR TESTS 357 AND 360
 20824
 20825	052173				TBL357:
 20826	052173	000000	000000		TBL360:	0			;EACH BINARY WEIGHTED SECTOR
 20827	052174	000000	000001			1
 20828	052175	000000	000002			2
 20829	052176	000000	000004			4
 20830	052177	000000	000010			^D8
 20831	052200	000000	000020			^D16
 20832	052201	000000	000400			1B27!0			;EACH BINARY WEIGHTED SURFACE
 20833	052202	000000	001000			2B27!0
 20834	052203	000000	002000			4B27!0
 20835	052204	000000	004000			^D8B27!0
 20836	052205	000000	010000			^D16B27!0
 20837	052206	000001	000000			1,,0			;EACH BINARY WEIGHTED CYLINDER
 20838	052207	000002	000000			2,,0
 20839	052210	000004	000000			4,,0
 20840	052211	000010	000000			^D8,,0
 20841	052212	000020	000000			^D16,,0
 20842	052213	000040	000000			^D32,,0
 20843	052214	000100	000000			^D64,,0
 20844	052215	000200	000000			^D128,,0
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-272
DSRPA3	MAC	23-Feb-79 09:36		FULL SPEED READ HEADER AND DATA                                                    SEQ 0689

 20845	052216	000400	000000			^D256,,0
 20846					 	XLIST
 20847						LIST
 20848	052217	001000	000000			^D512,,0
 20849	052220	002000	000000			^D1024,,0
 20850					 	XLIST
 20851						LIST
 20852
 20853					 	XLIST
 20854					 	LIST
 20855						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-273
DSRPA3	MAC	23-Feb-79 09:36		FULL SPEED READ HEADER AND DATA                                                    SEQ 0690

 20856					S^;*********************************************************************^
 20857					;*TEST-360 WRITE THEN READ HEADERS FROM VARIOUS ADDRESSES,
 20858					S^;*********************************************************************^
 20859
 20860					COMMENT	$
 20861
 20862						TEST DESCRIPTION
 20863						---------------- 
 20864						THIS TEST AFTER WRITING HEADERS READS THEM WITH HCI=0,
 20865						THE PREVIOUS TEST HAS JUST CHECKED TO SEE THAT WE
 20866						WROTE AND READ HEADERS CORRECTLY. THIS TEST WILL LOOK
 20867						FOR HEADER ERRORS HCE,FER. EITHER OF THESE WOULD
 20868						BE AN INDICATION THAT COMPARITOR LOGIC ON THE SS BOARD
 20869						IS FAULTY AND CAN NOT MATCH HEADERS AND/OR FORMATS
 20870
 20871						RECOMMENDED DEBUG PROCEDURE
 20872						--------------------------- 
 20873						NONE
 20874						$
 20875					 	SALL
 20876
 20877
 20878	052221	201 01 0 00 000360 	TST360:	MOVEI	1,360		;GET TEST NUMBER
 20879	052222	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 20880
 20881	052223	260 17 0 00 060522 	T360S:	GO	DEVSEL		;SELECT DEVICE
 20882	052224	263 17 0 00 000000 		RTN			;TRIED ALL
 20883	052225	260 17 0 00 055673 		GO	ONCHK		;GET ON-LINE
 20884
 20885	052226	260 17 0 00 060723 		GO	MSTCLR		;MASTER RESET
 20886
 20887	052227	260 17 0 00 056514 		GO	SETB1		;SET UP BUFFER
 20888	052230	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]
 20889
 20890	052231	402 00 0 00 000004 		SETZM	4		;INDEX REGISTER
 20891
 20892	052232	260 17 0 00 055760 	T360L:	GO	WRTENB		;WRITE ENABLE
 20893
 20894	052233	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 20895
 20896	052234	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 20897	052235	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 20898
 20899	052236	205 01 0 00 000010 		MOVSI	1,(1B14)	;0'S FOR DATA
 20900	052237	260 17 0 00 057435 		GO	LRPOF		;CLEAR OFFSET REGISTER
 20901	052240	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 20902
 20903	052241	201 01 0 00 000063 		MOVEI	1,63		;WRITE HEADER + DATA
 20904	052242	200 02 0 04 052173 		MOVE	2,TBL360(4)	;GET HEADER WORD
 20905	052243	202 02 0 00 101000 		MOVEM	2,BUF1		;PUT HDR WD IN THE BUFFER
 20906	052244	200 03 0 00 071426 		MOVE	3,[202,,BUF1]	;WC,,CORE ADR
 20907	052245	260 17 0 00 056351 		GO	XFSTRT		;START XFER
 20908	052246	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 20909
 20910	052247	260 17 0 00 056451 		GO	WAITGO		;WAIT TILL DONE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-274
DSRPA3	MAC	23-Feb-79 09:36		FULL SPEED READ HEADER AND DATA                                                    SEQ 0691

 20911	052250	476 00 0 00 077301 		SETOM	HNGDEV		;HUNG DEVICE
 20912
 20913	052251	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 20914
 20915	052252	332 00 0 00 077301 		SKIPE	HNGDEV		;DEVICE HUNG
 20916	052253	260 17 0 00 056432 		GO	XFSTOP		;YES. STOP IT
 20917
 20918	052254	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REG
 20919	052255	602 01 0 00 040000 		TRNE	1,1B21		;COMPOSITE ERROR
 20920	052256	476 00 0 00 000010 		SETOM	ERFLG		;YES
 20921	052257	200 01 0 00 077632 		MOVE	1,SRPCS1	;GET CONTROL DATA
 20922	052260	602 01 0 00 160000 		TRNE	1,SC!TRE!MCPE	;ANY ERROR ?
 20923	052261	476 00 0 00 000010 		SETOM	ERFLG		;YES
 20924	052262	027 00 0 00 052042 		SCOPE	TB360		;CALL SCOPE ROUTINE
 20925	052263	254 00 0 00 052232 		JRST	T360L		;LOOP
 20926	052264	255 00 0 00 000000 		JFCL			;CONTINUE
 20927
 20928					;START THE READ OPERATION
 20929
 20930	052265	260 17 0 00 055673 		GO	ONCHK		;GET ON-LINE
 20931
 20932	052266	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 20933
 20934	052267	201 01 0 00 000073 		MOVEI	1,73		;READ HEADER + DATA
 20935	052270	200 02 0 04 052173 		MOVE	2,TBL360(4)	;DISK ADDR
 20936	052271	200 03 0 00 072137 		MOVE	3,[202,,BUF2]	;WC,,BUFFER ADDR
 20937	052272	260 17 0 00 056351 		GO	XFSTRT		;START THE XFER
 20938	052273	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 20939
 20940	052274	260 17 0 00 056451 		GO	WAITGO		;WAIT TILL DONE
 20941	052275	476 00 0 00 077301 		SETOM	HNGDEV		;DEVICE HUNG
 20942
 20943	052276	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 20944
 20945	052277	332 00 0 00 077301 		SKIPE	HNGDEV		;DEVICE HUNG
 20946	052300	260 17 0 00 056432 		GO	XFSTOP		;YES. STOP THE XFER
 20947
 20948	052301	200 01 0 00 077640 		MOVE	1,SRPER1	;GET ER1 DATA
 20949	052302	602 01 0 00 000220 		TRNE	1,1B28!1B31	;HCE OR FER
 20950	052303	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
 20951	052304	027 00 0 00 052343 		SCOPE	TB360A		;CALL SCOPE ROUTINE
 20952	052305	254 00 0 00 052232 		JRST	T360L		;LOOP
 20953	052306	255 00 0 00 000000 		JFCL			;CONTINUE
 20954
 20955					;CHECK FOR COMPOSITE ERROR OTHER THAN "HCE" AND "FER"
 20956
 20957	052307	200 01 0 00 077640 		MOVE	1,SRPER1	;GET ER2 IN
 20958	052310	620 01 0 00 000220 		TRZ	1,1B28!1B31	;CLEAR HCE AND FER
 20959	052311	434 01 0 00 077652 		IOR	1,SRPER2	;ER-2 DATA
 20960	052312	434 01 0 00 077653 		IOR	1,SRPER3	;ER-3 DATA
 20961	052313	602 01 0 00 177777 		TRNE	1,177777	;ERRORS?
 20962	052314	476 00 0 00 000010 		SETOM	ERFLG		;YES
 20963	052315	027 00 0 00 052042 		SCOPE	TB360		;CALL SCOPE ROUTINE
 20964	052316	254 00 0 00 052232 		JRST	T360L		;LOOP
 20965	052317	255 00 0 00 000000 		JFCL			;CONTINUE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-275
DSRPA3	MAC	23-Feb-79 09:36		FULL SPEED READ HEADER AND DATA                                                    SEQ 0692

 20966
 20967					;SEE IF DONE WITH ALL ADDRESSES
 20968
 20969	052320	350 00 0 00 000004 		AOS	4		;BUMP INDEX
 20970					 	XLIST
 20971						LIST
 20972	052321	305 04 0 00 000026 		CAIGE	4,^D22		;DONE?
 20973					 	XLIST
 20974						LIST
 20975	052322	254 00 0 00 052232 		JRST	T360L		;NO. LOOP
 20976	052323	254 00 0 00 052223 		JRST	T360S		;YES. SELECT NEXT DRIVE
 20977
 20978					;PRINT ROUTINE FOR THIS TEST
 20979
 20980	052324	261 17 0 00 000000 	T360PT:	PUT	0
 20981						TEXT	[ASCIZ/
 20982	052325	030 00 0 00 072651 	TRANSFER STARTED AT CYL=/]
 20983	052326	554 00 0 04 052173 		HLRZ	0,TBL360(4)
 20984	052327	260 17 0 00 063470 		GO	POCT
 20985	052330	030 00 0 00 072660 		TEXT	[ASCIZ/   SURF=/]
 20986	052331	135 00 0 00 073124 		LDB	0,[POINT 8,TBL360(4),27]
 20987	052332	260 17 0 00 063470 		GO	POCT
 20988	052333	030 00 0 00 072663 		TEXT	[ASCIZ/   SECT=/]
 20989	052334	200 00 0 04 052173 		MOVE	0,TBL360(4)
 20990	052335	405 00 0 00 000377 		ANDI	0,377
 20991	052336	260 17 0 00 063470 		GO	POCT
 20992	052337	260 17 0 00 063452 		GO	.CRLF
 20993	052340	260 17 0 00 063452 		GO	.CRLF
 20994	052341	262 17 0 00 000000 		GET	0
 20995	052342	263 17 0 00 000000 		RTN
 20996
 20997					;SCOPE TABLE
 20998
 20999	052343	000000	057316		TB360A:	0,,DUMPS
 21000	052344	100000	073125			NOINH![ASCIZ/FER OR HCE DETECTED DURING 1 SECTOR XFER/]
 21001	052345	100000	073136			NOINH![ASCIZ/SUSPECT HEADER COMPARITOR LOGIC FAULT/]
 21002	052346	010000	052324			SUBRTN!T360PT
 21003	052347	400000	077765			HIPROB!SS
 21004	052350	030000	061651			LAST!SUBRTN!ER23CK
 21005
 21006					SUBTTL	FULL SPEED WRITE READ TEST
 21007					 	XLIST
 21008					 	LIST
 21009						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-276
DSRPA3	MAC	23-Feb-79 09:36		FULL SPEED WRITE READ TEST                                                         SEQ 0693

 21010					S^;*********************************************************************^
 21011					;*TEST-361 FUNCTIONAL READ WRITE TEST
 21012					S^;*********************************************************************^
 21013
 21014					COMMENT	$
 21015
 21016						TEST DESCRIPTION
 21017						---------------- 
 21018						FULL SPEED EXERCISE AT FIRST DISK ADDRESS
 21019						A. WRITE HEADERS AND DATA
 21020						B. READ DATA	
 21021
 21022						RECOMMENDED DEBUG PROCEDURE
 21023						--------------------------- 
 21024						IF FAILURES OCCUR DURING THE READ/WRITE, ESPECIALLY
 21025						OPI'S OR TIMEOUTS, THE PROBLEM IS MOST LIKELY RELATED
 21026						TO RG OR SN BOARDS.
 21027						$
 21028					 	SALL
 21029
 21030
 21031	052351	201 01 0 00 000361 	TST361:	MOVEI	1,361		;GET TEST NUMBER
 21032	052352	260 17 0 00 060630 		GO	TRACE		;CALL TRACE
 21033
 21034	052353	260 17 0 00 060522 	T361S:	GO	DEVSEL		;SELECT A DEVICE
 21035	052354	263 17 0 00 000000 		RTN			;TRIED ALL
 21036	052355	260 17 0 00 055673 		GO	ONCHK		;GET ON-LINE
 21037
 21038	052356	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 21039
 21040	052357	260 17 0 00 056514 		GO	SETB1		;SET UP BUFFER
 21041	052360	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]
 21042
 21043	052361	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 21044	052362	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 21045
 21046	052363	260 17 0 00 055760 	T361L:	GO	WRTENB		;WRITE ENABLE
 21047
 21048	052364	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 21049
 21050	052365	205 01 0 00 000010 		MOVSI	1,(1B14)	;ZEROS FOR DATA
 21051	052366	260 17 0 00 057435 		GO	LRPOF		;CLEAR OFFSET REG
 21052	052367	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 21053
 21054	052370	201 01 0 00 000063 		MOVEI	1,63		;WRITE HEADERS + DATA
 21055	052371	402 00 0 00 000002 		SETZM	2		;ADDRESS=0
 21056	052372	200 03 0 00 071426 		MOVE	3,[202,,BUF1]	;WC,,ADDR
 21057	052373	260 17 0 00 056351 		GO	XFSTRT		;START XFER
 21058	052374	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 21059
 21060	052375	260 17 0 00 056451 		GO	WAITGO		;WAIT UNTIL DONE
 21061	052376	476 00 0 00 077301 		SETOM	HNGDEV		;DEVICE HUNG
 21062
 21063	052377	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT
 21064
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-277
DSRPA3	MAC	23-Feb-79 09:36		FULL SPEED WRITE READ TEST                                                         SEQ 0694

 21065	052400	332 00 0 00 077301 		SKIPE	HNGDEV		;WAS DEVICE HUNG?
 21066	052401	260 17 0 00 056432 		GO	XFSTOP		;YES. STOP IT
 21067
 21068	052402	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS DATA
 21069	052403	602 01 0 00 040000 		TRNE	1,1B21		;COMPOSITE ERROR
 21070	052404	476 00 0 00 000010 		SETOM	ERFLG		;YES
 21071	052405	200 01 0 00 077632 		MOVE	1,SRPCS1	;GET CONTROL DATA
 21072	052406	602 01 0 00 160000 		TRNE	1,SC!TRE!MCPE	;ANY ERROR ?
 21073	052407	476 00 0 00 000010 		SETOM	ERFLG		;YES
 21074	052410	027 00 0 00 052042 		SCOPE	TB361		;CALL SCOPE ROUTINE
 21075
 21076					;HEADER NOW OK. START WRITE OPERATION
 21077
 21078	052411	260 17 0 00 055760 		GO	WRTENB		;WRITE ENABLE
 21079
 21080	052412	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 21081
 21082	052413	201 01 0 00 000061 		MOVEI	1,61		;WRITE DATA
 21083	052414	402 00 0 00 000002 		SETZM	2		;DISK ADDRESS
 21084	052415	200 03 0 00 073146 		MOVE	3,[200,,BUF1+2]	;WC,,ADDR
 21085	052416	260 17 0 00 056351 		GO	XFSTRT		;START THE XFER
 21086	052417	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 21087
 21088	052420	260 17 0 00 056451 		GO	WAITGO		;WAIT TILL DONE
 21089	052421	476 00 0 00 077301 		SETOM	HNGDEV		;TIMEOUT
 21090
 21091	052422	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 21092
 21093	052423	332 00 0 00 077301 		SKIPE	HNGDEV		;TIMED OUT?
 21094	052424	260 17 0 00 056432 		GO	XFSTOP		;YES. STOP IT
 21095
 21096	052425	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REG
 21097	052426	602 01 0 00 040000 		TRNE	1,1B21		;COMPOSITE ERROR
 21098	052427	476 00 0 00 000010 		SETOM	ERFLG		;YES
 21099	052430	200 01 0 00 077632 		MOVE	1,SRPCS1	;GET CONTROL DATA
 21100	052431	602 01 0 00 160000 		TRNE	1,SC!TRE!MCPE	;ANY ERROR ?
 21101	052432	476 00 0 00 000010 		SETOM	ERFLG		;YES
 21102	052433	027 00 0 00 052463 		SCOPE	TB361A		;CALL SCOPE ROUTINE
 21103	052434	254 00 0 00 052363 		JRST	T361L		;LOOP
 21104	052435	255 00 0 00 000000 		JFCL			;CONTINUE
 21105
 21106					;START THE READ OPERATION
 21107
 21108	052436	260 17 0 00 055673 		GO	ONCHK		;GET ON-LINE
 21109
 21110	052437	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 21111
 21112	052440	201 01 0 00 000071 		MOVEI	1,71		;READ DATA
 21113	052441	402 00 0 00 000002 		SETZM	2		;DISK ADDR=0
 21114	052442	200 03 0 00 073147 		MOVE	3,[200,,BUF2+2]	;WC,,CORE ADDR
 21115	052443	260 17 0 00 056351 		GO	XFSTRT		;START XFER
 21116	052444	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 21117
 21118	052445	260 17 0 00 056451 		GO	WAITGO		;WAIT TILL DONE
 21119	052446	476 00 0 00 077301 		SETOM	HNGDEV		;TIMED OUT DEVICE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-278
DSRPA3	MAC	23-Feb-79 09:36		FULL SPEED WRITE READ TEST                                                         SEQ 0695

 21120
 21121	052447	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 21122
 21123	052450	332 00 0 00 077301 		SKIPE	HNGDEV		;DEVICE HUNG
 21124	052451	260 17 0 00 056432 		GO	XFSTOP		;YES. STOP IT
 21125
 21126	052452	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS REG
 21127	052453	602 01 0 00 040000 		TRNE	1,1B21		;COMPOSITE ERROR
 21128	052454	476 00 0 00 000010 		SETOM	ERFLG		;YES
 21129	052455	200 01 0 00 077632 		MOVE	1,SRPCS1	;GET CONTROL DATA
 21130	052456	602 01 0 00 160000 		TRNE	1,SC!TRE!MCPE	;ANY ERROR ?
 21131	052457	476 00 0 00 000010 		SETOM	ERFLG		;YES.
 21132	052460	027 00 0 00 052463 		SCOPE	TB361A		;CALL SCOPE ROUTINE
 21133	052461	254 00 0 00 052363 		JRST	T361L		;LOOP
 21134	052462	254 00 0 00 052353 		JRST	T361S		;CONTINUE
 21135
 21136					;SCOPE TABLE
 21137
 21138	052463	000000	057316		TB361A:	0,,DUMPS
 21139	052464	100000	073150			NOINH![ASCIZ/FAILURE DURING SINGLE SECTOR READ OR WRITE/]
 21140	052465	100000	073161			NOINH![ASCIZ/CYL=0 SURF=0 SECT=0/]
 21141	052466	400000	077775			HIPROB!RG
 21142	052467	400000	077761			HIPROB!SN
 21143	052470	030000	061651			LAST!SUBRTN!ER23CK
 21144
 21145					 	XLIST
 21146					 	LIST
 21147						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-279
DSRPA3	MAC	23-Feb-79 09:36		FULL SPEED WRITE READ TEST                                                         SEQ 0696

 21148					S^;*********************************************************************^
 21149					;*TEST-362 VERIFY SECTOR TIMING OF DATA ENV, ECC ENV, EBL
 21150					S^;*********************************************************************^
 21151
 21152					COMMENT	$
 21153
 21154						TEST DESCRIPTION
 21155						---------------- 
 21156						TEST CLOCKS THROUGH AN ENTIRE SECTOR IN MAINT MODE (16-BIT) TO VERIFY
 21157						THAT THE ABOVE MENTIONED SIGNALS TRANSITION AT EXACTLY THE
 21158						RIGHT TIME. 8 SUBTESTS DO THE JOB AS FOLLOWS:
 21159						  CLOCKS	DATA ENV	ECC ENV		DONE
 21160						  ------	---- ---	--- ---		----
 21161						A.  495.	    0		   0		  0
 21162						B.    1.	    1		   0		  0
 21163						C. 4095.	    1		   0		  0
 21164						D.    1.	    0		   1		  0
 21165						E.   31.	    0		   1		  0
 21166						F.    1.	    0		   0		  0
 21167						G.   15.	    0		   0		  0
 21168						H.    1.	    0		   0		  1
 21169
 21170						TESTING AROUND TRANSITION POINTS OPTIMIZES TEST EXECUTION TIME
 21171						BUT THE DIAGNOSTIC CAN NOT TELL EXACTLY HOW MUCH TIMING IS
 21172						INCORRECT. THIS WOULD MAKE THE TEST UNREASONABLY LONG 
 21173
 21174						RECOMMENDED DEBUG PROCEDURE
 21175						--------------------------- 
 21176						NONE.
 21177						$
 21178					 	SALL
 21179
 21180
 21181	052471	201 01 0 00 000362 	TST362:	MOVEI	1,362		;GET THE TEST NUMBER
 21182	052472	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 21183
 21184	052473	260 17 0 00 060522 	T362S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 21185	052474	263 17 0 00 000000 		RTN			;TRIED ALL
 21186	052475	255 00 0 00 000000 		JFCL			;NXT RDY
 21187
 21188	052476	260 17 0 00 055673 		GO	ONCHK		;GET ON LINE
 21189
 21190	052477	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 21191
 21192	052500	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 21193	052501	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 21194
 21195	052502	260 17 0 00 056514 		GO	SETB1		;SET UP DATA BUFFER
 21196	052503	200 07 0 00 071450 		MOVE	RGLIST,[402004,,752760]  ;REGISTERS FOR DUMP
 21197
 21198	052504	260 17 0 00 055760 	T362L:	GO	WRTENB		;GET WRITE ENABLED
 21199
 21200	052505	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 21201
 21202	052506	260 17 0 00 056121 		GO	MODE22		;INTO 16 BIT MODE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-280
DSRPA3	MAC	23-Feb-79 09:36		FULL SPEED WRITE READ TEST                                                         SEQ 0697

 21203
 21204	052507	260 17 0 00 056006 		GO	MMODE1		;GO INTO MAINT MODE
 21205
 21206	052510	201 01 0 00 000063 		MOVEI	1,63		;WRITE HEADER & DATA COMMAND
 21207	052511	402 00 0 00 000002 		SETZM	2		;DCY=0,,DA=0
 21208	052512	200 03 0 00 071426 		MOVE	3,[202,,BUF1]	;WC,,ADR
 21209	052513	260 17 0 00 056351 		GO	XFSTRT		;START THE TRANSFER
 21210	052514	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 21211	052515	260 17 0 00 056076 		GO	SECPLS		;CAUSE SECTOR PULSE
 21212	052516	254 00 0 00 052517 		JRST	T362A		;PROCEED
 21213
 21214					;2 LOCATIONS ARE DEFINED FOR THIS TEST
 21215					;"STATE" EXPECTED STATUS
 21216					;"STATG" STATUS GOTTEN FROM HARDWARE
 21217					;BOTH WORDS HAVE THE SAME FORMAT WHERE:
 21218					;BIT 33 INDICATES THE STATE OF DATA ENVELOPE
 21219					;BIT 34 INDICATES THE STATE OF ECC ENVELOPE
 21220					;BIT 35 INDICATES THE STATE OF DONE (EBL)
 21221
 21222					;"CLKTOT" HOLDS CUMULATIVE NUMBER OF CLOCKS ISSUED THUS FAR
 21223
 21224	052517	402 00 0 00 077257 	T362A:	SETZM	CLKTOT		;ZERO THE CLOCK COUNTER
 21225
 21226	052520	201 01 0 00 000757 		MOVEI	1,^D495		;# OF CLOCKS
 21227	052521	272 01 0 00 077257 		ADDM	1,CLKTOT	;UPDATE TOTAL
 21228	052522	260 17 0 00 056605 		GO	MCLK1		;ISSUE NUMBER OF CLOCKS
 21229
 21230	052523	402 00 0 00 077334 		SETZM	STATE#		;SET UP EXPECTED STATUS
 21231	052524	260 17 0 00 047701 		GO	STCK1		;CORRECT ?
 21232	052525	476 00 0 00 000010 		SETOM	ERFLG		;NO
 21233	052526	027 00 0 00 052654 		SCOPE	TBL362		;YES. CALL SCOPE ROUTINE
 21234	052527	254 00 0 00 052504 		JRST	T362L		;LOOP
 21235	052530	332 00 0 00 077274 		SKIPE	ERYETU		;ERROR YET. ?
 21236	052531	254 00 0 00 052473 		JRST	T362S		;YES. DON'T PROCEED
 21237	052532	255 00 0 00 000000 		JFCL			;NO. PROCEED
 21238
 21239	052533	350 00 0 00 077257 	T362B:	AOS	CLKTOT		;ANOTHER CLOCK
 21240	052534	201 01 0 00 000001 		MOVEI	1,1		;SAME
 21241	052535	260 17 0 00 056605 		GO	MCLK1		;ISSUE THE CLOCK
 21242
 21243	052536	201 01 0 00 000004 		MOVEI	1,4		;STATUS WE EXPECT
 21244	052537	202 01 0 00 077334 		MOVEM	1,STATE		;EXPECTED STATUS
 21245	052540	260 17 0 00 047701 		GO	STCK1		;CHECK IT
 21246	052541	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 21247	052542	027 00 0 00 052654 		SCOPE	TBL362		;NO,. ERROR. CALL SCOPE ROUTINE
 21248	052543	254 00 0 00 052504 		JRST	T362L		;LOOP
 21249	052544	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET
 21250	052545	254 00 0 00 052473 		JRST	T362S		;YES. DON'T CONTINUE
 21251	052546	255 00 0 00 000000 		JFCL			;NO. PROCEED
 21252
 21253	052547	201 01 0 00 007777 	T362C:	MOVEI	1,^D4095	;# OF CLOCKS
 21254	052550	272 01 0 00 077257 		ADDM	1,CLKTOT	;UPDATE TOTAL
 21255	052551	260 17 0 00 056605 		GO	MCLK1		;ISSUE THEM
 21256
 21257	052552	201 01 0 00 000004 		MOVEI	1,4		;EXPECTED STATUS
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-281
DSRPA3	MAC	23-Feb-79 09:36		FULL SPEED WRITE READ TEST                                                         SEQ 0698

 21258	052553	202 01 0 00 077334 		MOVEM	1,STATE		;SAVE IT
 21259	052554	260 17 0 00 047701 		GO	STCK1		;WAS IT CORRECT
 21260	052555	476 00 0 00 000010 		SETOM	ERFLG		;NO.
 21261	052556	027 00 0 00 052654 		SCOPE	TBL362		;YES. CALL SCOPE ROUTINE
 21262	052557	254 00 0 00 052504 		JRST	T362L		;LOOP
 21263	052560	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET
 21264	052561	254 00 0 00 052473 		JRST	T362S		;YES, DON'T PROCEEDE
 21265	052562	255 00 0 00 000000 		JFCL			;PROCEED
 21266
 21267	052563	350 00 0 00 077257 	T362D:	AOS	CLKTOT		;UPDATE COUNT
 21268	052564	201 01 0 00 000001 		MOVEI	1,1		;# OF CLOCKS
 21269	052565	260 17 0 00 056605 		GO	MCLK1		;ISSUE IT
 21270
 21271	052566	201 01 0 00 000002 		MOVEI	1,2		;EXPECTED STATUS
 21272	052567	202 01 0 00 077334 		MOVEM	1,STATE		;SAVE IT
 21273	052570	260 17 0 00 047701 		GO	STCK1		;IS STATUS CORRECT
 21274	052571	476 00 0 00 000010 		SETOM	ERFLG		;NO.
 21275	052572	027 00 0 00 052654 		SCOPE	TBL362		;YES. CALL SCOPE ROUTINE
 21276	052573	254 00 0 00 052504 		JRST	T362L		;LOOP
 21277	052574	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET
 21278	052575	254 00 0 00 052473 		JRST	T362S		;YES. DON'T PROCEED
 21279	052576	255 00 0 00 000000 		JFCL			;OK. CONTINUE
 21280
 21281	052577	201 01 0 00 000037 	T362E:	MOVEI	1,^D31		;MORE CLOCKS
 21282	052600	272 01 0 00 077257 		ADDM	1,CLKTOT	;UPDATE CLOCK TOTAL
 21283	052601	260 17 0 00 056605 		GO	MCLK1		;ISSUE THE CLOCKS
 21284
 21285	052602	201 01 0 00 000002 		MOVEI	1,2		;EXPECTED STATUS
 21286	052603	202 01 0 00 077334 		MOVEM	1,STATE		;SAVE IT
 21287	052604	260 17 0 00 047701 		GO	STCK1		;SEE IF ITS CORRECT
 21288	052605	476 00 0 00 000010 		SETOM	ERFLG		;NO.
 21289	052606	027 00 0 00 052654 		SCOPE	TBL362		;YES. CALL SCOPE
 21290	052607	254 00 0 00 052504 		JRST	T362L		;LOOP
 21291	052610	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET?
 21292	052611	254 00 0 00 052473 		JRST	T362S		;YES. THEN DON'T PROCEED
 21293	052612	255 00 0 00 000000 		JFCL			;PROCEED
 21294
 21295	052613	201 01 0 00 000001 	T362F:	MOVEI	1,1		;ADDITIONAL CLOCK
 21296	052614	272 01 0 00 077257 		ADDM	1,CLKTOT	;UPDATE THE TOTAL
 21297	052615	260 17 0 00 056605 		GO	MCLK1		;ISSUE THE CLOCK
 21298
 21299	052616	402 00 0 00 077334 		SETZM	STATE		;EXPECTED STATUS
 21300	052617	260 17 0 00 047701 		GO	STCK1		;CHECK STATUS
 21301	052620	476 00 0 00 000010 		SETOM	ERFLG		;ERROR.
 21302	052621	027 00 0 00 052654 		SCOPE	TBL362		;NO ERROR. CALL SCOPE
 21303	052622	254 00 0 00 052504 		JRST	T362L		;LOOP
 21304	052623	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERRORS YET
 21305	052624	254 00 0 00 052473 		JRST	T362S		;YES. DON'T PROCEED
 21306	052625	255 00 0 00 000000 		JFCL			;NO. CONTINUE
 21307
 21308	052626	201 01 0 00 000017 	T362G:	MOVEI	1,^D15		;# OF ADDITIONAL CLOCKS
 21309	052627	272 01 0 00 077257 		ADDM	1,CLKTOT	;UPDATE TOTAL CLOCK COUNT
 21310	052630	260 17 0 00 056605 		GO	MCLK1		;ISSUE THEM
 21311
 21312	052631	402 00 0 00 077334 		SETZM	STATE		;EXPECTED STATUS
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-282
DSRPA3	MAC	23-Feb-79 09:36		FULL SPEED WRITE READ TEST                                                         SEQ 0699

 21313	052632	260 17 0 00 047701 		GO	STCK1		;CHECK STATUS
 21314	052633	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 21315	052634	027 00 0 00 052654 		SCOPE	TBL362		;NO ERROR. CALL SCOPE
 21316	052635	254 00 0 00 052504 		JRST	T362L		;LOOP
 21317	052636	332 00 0 00 077274 		SKIPE	ERYETU		;CONTINUE. ERROR YET.
 21318	052637	254 00 0 00 052473 		JRST	T362S		;YES. DON'T PROCEED
 21319	052640	255 00 0 00 000000 		JFCL			;PROCEED
 21320
 21321	052641	201 01 0 00 000001 	T362H:	MOVEI	1,1		;ANOTHER CLOCK COUNT
 21322	052642	272 01 0 00 077257 		ADDM	1,CLKTOT	;UPDATE THE TOTAL
 21323	052643	260 17 0 00 056605 		GO	MCLK1		;ISSUE THE CLOCKS
 21324
 21325	052644	201 01 0 00 000001 		MOVEI	1,1		;EXPECTED STATUS
 21326	052645	202 01 0 00 077334 		MOVEM	1,STATE		;SAVE IT
 21327	052646	260 17 0 00 047701 		GO	STCK1		;CHECK STATUS
 21328	052647	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 21329	052650	027 00 0 00 052654 		SCOPE	TBL362		;NO. ERROR. CALL SCOPE
 21330	052651	254 00 0 00 052504 		JRST	T362L		;LOOP
 21331	052652	260 17 0 00 056432 		GO	XFSTOP		;CONTINUE. STOP XFER
 21332	052653	254 00 0 00 052473 		JRST	T362S		;TEST NEXT DRIVE
 21333
 21334
 21335					;SCOPE TABLES FOR THIS TEST
 21336
 21337	052654	056437	057316		TBL362:	SNABRT,,DUMPS
 21338	052655	100000	073165			NOINH![ASCIZ/TIMING PROBLEM IN SECTOR FORMAT LOGIC (16 BIT MODE)/]
 21339	052656	100000	072122			NOINH![ASCIZ/SIGNALS COMING UP AT WRONG TIME/]
 21340	052657	010000	047730			SUBRTN!STATP1
 21341	052660	400000	077761			HIPROB!SN
 21342	052661	600000	077765			LOPROB!SS
 21343	052662	620000	077755			LAST!LOPROB!EC
 21344
 21345					SUBTTL OPERATOR TEST OF LOGICAL ADDR PLUG FUNCTION
 21346					 	XLIST
 21347					 	LIST
 21348						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-283
DSRPA3	MAC	23-Feb-79 09:36		OPERATOR TEST OF LOGICAL ADDR PLUG FUNCTION                                        SEQ 0700

 21349					S^;*********************************************************************^
 21350					;*TEST-363 LOGICAL ADDRESS PLUG TEST
 21351					S^;*********************************************************************^
 21352
 21353					COMMENT	$
 21354
 21355						TEST DESCRIPTION
 21356						---------------- 
 21357						THIS TEST CHECKS FOR THE PROPER DRIVE RESPONSE WHEN THE LOGICAL
 21358						ADDRESS PLUG IS REMOVED AND RE-INSERTED. THE EXPECTED RESPONSE IS:
 21359
 21360						WITH PLUG REMOVED:
 21361						1. HANDSHAKE FAILS. CAN NO LONGER ACCESS THE DRIVE
 21362
 21363						WITH PLUG RE-INSERTED:
 21364						1. ATA=1
 21365						2. MOL=1
 21366						3. OPE=1
 21367						4. VV=0 
 21368
 21369						RECOMMENDED DEBUG PROCEDURE
 21370						--------------------------- 
 21371						NONE
 21372						$
 21373					 	SALL
 21374
 21375
 21376	052663	201 01 0 00 200363 	TST363:	MOVEI	1,200363	;GET THE TEST NUMBER
 21377	052664	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 21378
 21379	052665	336 00 0 00 077255 		SKIPN	ATEND		;SKIP IF OPER INTERVENTION ALLOWED
 21380	052666	263 17 0 00 000000 		RTN			;RETURN
 21381
 21382	052667	260 17 0 00 060522 	T363S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 21383	052670	263 17 0 00 000000 		RTN			;TRIED ALL
 21384	052671	255 00 0 00 000000 		JFCL			;NEXT IS READY
 21385
 21386	052672	260 17 0 00 077352 	T363AL:	GO	DEVREQ		;REQUEST THE DEVICE
 21387
 21388	052673	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 21389	052674	260 17 0 00 057601 		GO	RRPDS		;READ THE STATUS REGISTER
 21390	052675	254 00 0 00 052700 		JRST	T363AE		;CBTO. (DRIVE NOT THERE !)
 21391	052676	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 21392	052677	254 00 0 00 052723 		JRST	T363BL		;LOOKS O.K. NO ERROR.
 21393
 21394	052700	260 17 0 00 061373 	T363AE:	GO	TELTST		;TELL WHICH TEST
 21395	052701	260 17 0 00 061364 		GO	TELWHO		;TELL WHICH DRIVE
 21396						TEXTF	[ASCIZ/
 21397	052702	031 00 0 00 073200 	DRIVE SHOULD BE POWERED UP WITH LOGICAL ADDR PLUG INSERTED/]
 21398
 21399	052703				T363IA:	TEXTF	[ASCIZ/
 21400	052703	031 00 0 00 063700 	HIT <CR> WHEN READY  /]
 21401	052704	201 00 0 00 000015 		MOVEI	0,15		;A CR CODE
 21402	052705	260 17 0 00 061324 		GO	CHARIN		;GET A KEYSTROKE
 21403	052706	254 00 0 00 052703 		JRST	T363IA		;TIMEOUT
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-284
DSRPA3	MAC	23-Feb-79 09:36		OPERATOR TEST OF LOGICAL ADDR PLUG FUNCTION                                        SEQ 0701

 21404	052707	254 00 0 00 052703 		JRST	T363IA		;WRONG CHARACTER
 21405	052710	255 00 0 00 000000 		JFCL			;CR INPUT
 21406
 21407	052711	260 17 0 00 077352 		GO	DEVREQ		;REQUEST THE DEVICE
 21408
 21409	052712	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 21410	052713	260 17 0 00 057601 		GO	RRPDS		;READ THE STATUS REGISTER
 21411	052714	344 10 0 00 052716 		AOJA	ERFLG,.+2	;SET ERROR FLAG AND JUMP
 21412	052715	254 00 0 00 052711 		JRST	.-4		;P.E. RE-REQUEST AND RETRY
 21413	052716	027 00 1 00 053007 		SCOPE@	TB363A		;CALL THE SCOPE ROUTINE
 21414	052717	254 00 0 00 052672 		JRST	T363AL		;LOOP
 21415	052720	332 00 0 00 077273 		SKIPE	ERYET		;CONTINUE. ERROR YET ?
 21416	052721	254 00 0 00 052667 		JRST	T363S		;YES. CAN'T CONTINUE
 21417	052722	255 00 0 00 000000 		JFCL			;NO
 21418
 21419	052723	260 17 0 00 077352 	T363BL:	GO	DEVREQ		;REQUEST THE DEVICE
 21420
 21421	052724	260 17 0 00 055673 		GO	ONCHK		;ON-LINE WITH VV=1
 21422	052725	260 17 0 00 061373 		GO	TELTST		;TELL WHICH TEST
 21423	052726	260 17 0 00 061364 		GO	TELWHO		;TELL WHICH DRIVE
 21424						TEXTF	[ASCIZ/
 21425	052727	031 00 0 00 073215 	REMOVE THE LOGICAL ADDRESS PLUG/]
 21426
 21427	052730				T363BI:	TEXTF	[ASCIZ/
 21428	052730	031 00 0 00 063700 	HIT <CR> WHEN READY  /]
 21429	052731	201 00 0 00 000015 		MOVEI	0,15		;CODE FOR A CR
 21430	052732	260 17 0 00 061324 		GO	CHARIN		;GET A KEYSTROKE
 21431	052733	254 00 0 00 052730 		JRST	T363BI		;TIMEOUT
 21432	052734	254 00 0 00 052730 		JRST	T363BI		;WRONG CHARACTER
 21433	052735	255 00 0 00 000000 		JFCL			;CR INPUT
 21434
 21435	052736	260 17 0 00 077352 		GO	DEVREQ		;REQUEST THE DEVICE
 21436
 21437	052737	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 21438	052740	260 17 0 00 057601 		GO	RRPDS		;READ THE STATUS REGISTER
 21439	052741	254 00 0 00 052744 		JRST	T363BG		;GOT A CBTO (DRIVE NON-X)
 21440	052742	476 00 0 00 000010 		SETOM	ERFLG		;PARITY ERROR
 21441	052743	476 00 0 00 000010 		SETOM	ERFLG		;NO ERROR
 21442	052744	027 00 0 00 053010 	T363BG:	SCOPE	TB363B		;CALL THE SCOPE ROUTINE
 21443	052745	254 00 0 00 052723 		JRST	T363BL		;LOOP
 21444	052746	255 00 0 00 000000 		JFCL			;CONTINUE
 21445
 21446	052747	260 17 0 00 061373 	T363CL:	GO	TELTST		;TELL WHICH TEST
 21447	052750	260 17 0 00 061364 		GO	TELWHO		;TELL WHICH DRIVE
 21448						TEXTF	[ASCIZ/
 21449	052751	031 00 0 00 073224 	RE-INSERT THE LOGICAL ADDRESS PLUG/]
 21450
 21451	052752				T363CI:	TEXTF	[ASCIZ/
 21452	052752	031 00 0 00 063700 	HIT <CR> WHEN READY  /]
 21453	052753	201 00 0 00 000015 		MOVEI	0,15		;A CR CODE
 21454	052754	260 17 0 00 061324 		GO	CHARIN		;GET A KEYSTROKE
 21455	052755	254 00 0 00 052752 		JRST	T363CI		;TIMEOUT
 21456	052756	254 00 0 00 052752 		JRST	T363CI		;WRONG CHARACTER
 21457	052757	255 00 0 00 000000 		JFCL			;CR INPUT
 21458
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-285
DSRPA3	MAC	23-Feb-79 09:36		OPERATOR TEST OF LOGICAL ADDR PLUG FUNCTION                                        SEQ 0702

 21459	052760	260 17 0 00 077352 		GO	DEVREQ		;REQUEST THE DRIVE
 21460
 21461	052761	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 21462	052762	260 17 0 00 057601 		GO	RRPDS		;READ STATUS REGISTER
 21463	052763	344 10 0 00 052766 		AOJA	ERFLG,.+3	;SET THE ERROR FLAG AND JUMP
 21464	052764	254 00 0 00 052760 		JRST	.-4		;P.E. RETRY THE READ
 21465	052765	255 00 0 00 000000 		JFCL			;NORMAL
 21466	052766	027 00 0 00 053017 		SCOPE	TB363C		;CALL THE SCOPE ROUTINE
 21467	052767	254 00 0 00 052747 		JRST	T363CL		;LOOP
 21468	052770	332 00 0 00 077273 		SKIPE	ERYET		;CONTINUE. ERROR YET ?
 21469	052771	254 00 0 00 052667 		JRST	T363S		;YES. CAN'T CONTINUE
 21470
 21471	052772	201 07 0 00 720060 		MOVEI	RGLIST,720060	;REGISTERS FOR SNAPSHOT
 21472
 21473	052773	260 17 0 00 077352 		GO	DEVREQ		;REQUEST THE DEVICE
 21474
 21475	052774	260 17 0 00 057274 		GO	SNAPS		;SNAPSHOT REGISTERS
 21476
 21477	052775	200 01 0 00 077637 		MOVE	1,SRPDS		;GET STATUS DATA
 21478	052776	640 01 0 00 110000 		TRC	1,1B20!1B23	;PRE-CONDITION ATA,MOL
 21479	052777	602 01 0 00 110100 		TRNE	1,1B20!1B23!1B29 ;ATA=1,MOL=1,VV=0 ??
 21480	053000	476 00 0 00 000010 		SETOM ERFLG		;WRONG STATUS
 21481	053001	200 01 0 00 077653 		MOVE	1,SRPER3	;GET ER-2 DATA
 21482	053002	606 01 0 00 020000 		TRNN	1,1B22		;OPE. SET ?
 21483	053003	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 21484	053004	027 00 0 00 053022 		SCOPE	TB363D		;CALL THE SCOPE ROUTINE
 21485	053005	254 00 0 00 052747 		JRST	T363CL		;LOOP
 21486	053006	254 00 0 00 052667 		JRST	T363S		;CONTINUE
 21487
 21488					;SCOPE TABLES FOR THIS TEST
 21489
 21490	053007	000000	031002		TB363A:	TBL2
 21491
 21492	053010	000000	062461		TB363B:	0,,REGPNT
 21493	053011	100000	073234			NOINH![ASCIZ/REMOVING LOGICAL ADR PLUG DID NOT CAUSE CBTO TO OCCUR/]
 21494	053012	400000	077771			HIPROB!DP
 21495	053013	400000	077747			HIPROB!MB
 21496	053014	400000	100046			HIPROB!D02
 21497	053015	400000	100071			HIPROB!D10
 21498	053016	420000	073247			LAST!HIPROB![ASCIZ/FAULTY SWITCH/]
 21499
 21500	053017	000000	000000		TB363C:	0,,0
 21501	053020	100000	073252			NOINH![ASCIZ/HANDSHAKE FAILED AFTER ADR PLUG WAS RE-INSERTED/]
 21502	053021	040000	053012			GOTO!TB363B+2
 21503
 21504	053022	000000	057316		TB363D:	0,,DUMPS
 21505	053023	100000	073264			NOINH![ASCIZ/WRONG STATUS AFTER RE-INSERTING THE ADR PLUG/]
 21506	053024	100000	073275			NOINH![ASCIZ/SHOULD HAVE: ATA=1,MOL=1,OPE=1,VV=0/]
 21507	053025	040000	053012			GOTO!TB363B+2
 21508
 21509	053026	263 17 0 00 000000 	TST364:	RTN			;NO READ-IN ON KS10
 21510
 21511					SUBTTL	DUAL PORT SUBTESTS
 21512					 	XLIST
 21513					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-286
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0703

 21514						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-287
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0704

 21515					S^;*********************************************************************^
 21516					;*DUAL1 - VERIFY THAT PROGRAMMABLE MODE OPERATES CORRECTLY
 21517					S^;*********************************************************************^
 21518
 21519					COMMENT	$
 21520
 21521						TEST DESCRIPTION
 21522						---------------- 
 21523						READ AND VERIFY THAT BOTH PORTS STATUS REGISTERS YIELD
 21524						PROGRAMMABLE BIT.  THIS TEST ALSO FAILS IF READING THE
 21525						STATUS REGISTER HAPPENS TO CAPTURE THE PORT.  IT SHOULD
 21526						NOT DO SO.
 21527
 21528						RECOMMENDED DEBUG PROCEDURE
 21529						--------------------------- 
 21530						NONE
 21531						$
 21532					 	SALL
 21533
 21534
 21535	053027	200 01 0 00 073305 	DUAL1:	MOVE	1,[SIXBIT/DUAL1/]
 21536	053030	261 17 0 00 000014 		PUT	DRIVE		
 21537	053031	261 17 0 00 000013 		PUT	MBCN
 21538	053032	260 17 0 00 060630 		GO	TRACE		;CALL TRACE
 21539	053033	262 17 0 00 000013 		GET	MBCN
 21540	053034	262 17 0 00 000014 		GET	DRIVE
 21541	053035	476 00 0 00 077307 		SETOM	NRHCS1		;INHIBIT READ OF RHCS1 FOR RAE TEST
 21542
 21543
 21544					;READ STATUS FROM PORTS A & B (PORT-A FIRST, THEN PORT-B)
 21545
 21546	053036	260 17 0 00 056767 	DPIAL:	GO	RDSRA		;READ PORT-A STATUS
 21547	053037	260 17 0 00 057002 		GO	RDSRB		;READ PORT-B STATUS
 21548	053040	200 01 0 00 077332 		MOVE	1,SRA		;MAKE SURE BOTH HAVE "PGM"
 21549	053041	606 01 0 00 001000 		TRNN	1,1B26		;TEST-PGM
 21550	053042	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 21551	053043	200 01 0 00 077333 		MOVE	1,SRB		;GET B STATUS
 21552	053044	606 01 0 00 001000 		TRNN	1,1B26		;CHECK PGM
 21553	053045	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 21554	053046	027 00 0 00 053064 		SCOPE	TBLD1		;CALL SCOPE ROUTINE
 21555	053047	254 00 0 00 053036 		JRST	DPIAL		;LOOP
 21556	053050	255 00 0 00 000000 		JFCL			;CONTINUE
 21557
 21558					;SAME OPERATION BUT READ B STATUS BEFORE A
 21559
 21560	053051	260 17 0 00 057002 	DPIBL:	GO	RDSRB		;READ B-STATUS
 21561	053052	260 17 0 00 056767 		GO	RDSRA		;READ A-STATUS
 21562	053053	200 01 0 00 077332 		MOVE	1,SRA		;CHECK BOTH PGM BITS
 21563	053054	606 01 0 00 001000 		TRNN	1,1B26		;"PGM"
 21564	053055	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 21565	053056	200 01 0 00 077333 		MOVE	1,SRB		;GET B-STATUS
 21566	053057	606 01 0 00 001000 		TRNN	1,1B26		;"PGM"
 21567	053060	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 21568	053061	027 00 0 00 053064 		SCOPE	TBLD1		;CALL SCOPE ROUTINE
 21569	053062	254 00 0 00 053051 		JRST	DPIBL		;LOOP
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-288
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0705

 21570	053063	263 17 0 00 000000 		RTN			;CONTINUE. EXIT
 21571
 21572					;SCOPE TABLES
 21573
 21574	053064	000000	000000		TBLD1:	0,,0
 21575	053065	100000	073306			NOINH![ASCIZ/ONE (OR BOTH) PORTS FAILED TO RETURN "PGM" WHEN STATUS WAS READ/]
 21576	053066	100000	073323			NOINH![ASCIZ/EITHER "PGM" FAULT OR READING STATUS HAS CAUSED ONE OF THE/]
 21577	053067	100000	073337			NOINH![ASCIZ/PORTS TO BE CAPTURED/]
 21578	053070	010000	057021			SUBRTN!PSRA
 21579	053071	010000	057035			SUBRTN!PSRB
 21580	053072	400000	077771			HIPROB!DP
 21581	053073	400000	077775			HIPROB!RG
 21582	053074	600000	073344			LOPROB![ASCIZ/FAULTY PORT SELECT SWITCH/]
 21583	053075	620000	077747			LAST!LOPROB!MB
 21584
 21585					 	XLIST
 21586					 	LIST
 21587						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-289
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0706

 21588					S^;*********************************************************************^
 21589					;*DUAL2 - TEST OPERATION OF CAPTURE AND RELEASE ON PORT-A
 21590					S^;*********************************************************************^
 21591
 21592					COMMENT	$
 21593
 21594						TEST DESCRIPTION
 21595						---------------- 
 21596						THE TEST IS DESIGNED TO DO THE FOLLOWING
 21597						A.  GET INTO NEUTRAL
 21598						B.  SEIZE PORT-A WITH READ OF CONTROL REGISTER
 21599							VERIFY WITH A READ OF PORT-B STATUS
 21600						C.  WAIT APPROX. 1/2 SEC. AND VERIFY (BY READING PORT-B STATUS)
 21601							THAT DRIVE HAS NOT YET DROPPED INTO NEUTRAL BECAUSE
 21602							OF A ONE SHOT FAULT.
 21603						D.  WAIT APPROX. 1 SEC. MORE AND VERIFY THAT THE DRIVE HAS
 21604							GONE INTO NEUTRAL (THE ONE SHOT DID TIME OUT) CAUSING
 21605							AUTOMATIC RELEASE.
 21606
 21607						RECOMMENDED DEBUG PROCEDURE
 21608						--------------------------- 
 21609						NONE 
 21610						$
 21611					 	SALL
 21612
 21613
 21614	053076	200 01 0 00 073352 	DUAL2:	MOVE	1,[SIXBIT/DUAL2/]
 21615	053077	261 17 0 00 000014 		PUT	DRIVE		;SAVE PARAMS
 21616	053100	261 17 0 00 000013 		PUT	MBCN
 21617	053101	260 17 0 00 060630 		GO	TRACE		;TRACE ROUTINE
 21618	053102	262 17 0 00 000013 		GET	MBCN		;RESTORE PARAMS
 21619	053103	262 17 0 00 000014 		GET	DRIVE
 21620	053104	476 00 0 00 077307 		SETOM	NRHCS1		;INHIBIT READ OF RHCS1 FOR RAE TEST
 21621
 21622					;CLEAR ATA'S AND WAIT TILL WERE IN NEUTRAL
 21623
 21624	053105	260 17 0 00 057044 	DP2L:	GO	NEUTRL		;GET INTO NEUTRAL
 21625	053106	260 17 0 00 055673 		GO	ONCHK		;GET ON-LINE
 21626	053107	260 17 0 00 057044 		GO	NEUTRL		;GO INTO NEUTRAL
 21627	053110	260 17 0 00 056741 		GO	RDCRA		;SEIZE BY READING PORT-A CONTROL REG
 21628	053111	260 17 0 00 057002 		GO	RDSRB		;READ B'S STATUS
 21629	053112	200 01 0 00 077333 		MOVE	1,SRB		;GET PORT-B STTATUS
 21630	053113	602 01 0 00 177777 		TRNE	1,177777	;SHOULD BE ZERO IF CAPTURE WORKED
 21631	053114	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 21632	053115	027 00 0 00 053137 		SCOPE	TBD2A		;CALL SCOPE ROUTINE
 21633	053116	254 00 0 00 053105 		JRST	DP2L		;LOOP
 21634
 21635					;PORT-A CAPTURED WAIT APPROX. 1/2 SEC. VERIFY NOT YET IN NEUTRAL
 21636
 21637	053117	260 17 0 00 057253 		GO	WAIT.5		;WAIT 1/2 SEC
 21638	053120	260 17 0 00 057002 		GO	RDSRB		;READ PORT-B STATUS
 21639	053121	200 01 0 00 077333 		MOVE	1,SRB		;FETCH B-STATUS
 21640	053122	602 01 0 00 177777 		TRNE	1,177777	;MAKE SURE NOT YET IN NEUTRAL
 21641	053123	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 21642	053124	027 00 0 00 053145 		SCOPE	TBD2B		;CALL SCOPE ROUTINE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-290
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0707

 21643	053125	254 00 0 00 053105 		JRST	DP2L		;LOOP
 21644	053126	255 00 0 00 000000 		JFCL			;CONTINUE
 21645
 21646					;WAIT ANOTHER SEC (SO FAR APPROX 1.5 SEC). VERIFY THAT WERE BACK IN NEUTRAL
 21647
 21648	053127	260 17 0 00 057261 		GO	WAIT1		;WAIT 1 SEC
 21649	053130	260 17 0 00 057002 		GO	RDSRB		;READ B STATUS
 21650	053131	200 01 0 00 077333 		MOVE	1,SRB		;FETCH B-STATUS
 21651	053132	606 01 0 00 177777 		TRNN	1,177777	;ALL ZERO. DIDNT RELEASE
 21652	053133	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 21653	053134	027 00 0 00 053152 		SCOPE	TBD2C		;CALL THE SCOPE ROUTINE
 21654	053135	254 00 0 00 053105 		JRST	DP2L		;LOOP
 21655	053136	263 17 0 00 000000 		RTN			;CONTINUE
 21656
 21657
 21658					;SCOPE TABLES FOR THIS TEST
 21659
 21660	053137	000000	000000		TBD2A:	0,,0
 21661	053140	100000	073353			NOINH![ASCIZ/FAILED TO CAPTURE PORT-A FROM NEUTRAL BY READING CONTROL REG/]
 21662	053141	010000	057016			SUBRTN!PCRA
 21663	053142	010000	057035			SUBRTN!PSRB
 21664	053143	400000	077771			HIPROB!DP
 21665	053144	620000	077775			LAST!LOPROB!RG
 21666
 21667	053145	000000	000000		TBD2B:	0,,0
 21668	053146	100000	073370			NOINH![ASCIZ/PORT RELEASE ONE SHOT TIMED OUT TOO QUICKLY/]
 21669	053147	100000	073401			NOINH![ASCIZ/LESS THAN .5 SEC/]
 21670	053150	010000	057035			SUBRTN!PSRB
 21671	053151	420000	077771			LAST!HIPROB!DP
 21672
 21673	053152	000000	000000		TBD2C:	0,,0
 21674	053153	100000	073405			NOINH![ASCIZ/ONE SHOT DID NOT RELEASE FROM PORT-A AFTER 1.5 SEC/]
 21675	053154	010000	057035			SUBRTN!PSRB
 21676	053155	420000	077771			LAST!HIPROB!DP
 21677
 21678					 	XLIST
 21679					 	LIST
 21680						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-291
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0708

 21681					S^;*********************************************************************^
 21682					;*DUAL3 - TEST OPERATION OF CAPTURE AND RELEASE ON PORT-B
 21683					S^;*********************************************************************^
 21684
 21685					COMMENT	$
 21686
 21687						TEST DESCRIPTION
 21688						---------------- 
 21689						THIS TEST IS DESIGNED TO DO THE FOLLOWING:
 21690						A.  GO INTO NEUTRAL
 21691						B.  SEIZE PORT-B WITH READ OF CONTROL REGISTER
 21692							VERIFY WITH A READ OF PORT-A STATUS
 21693						C.  WAIT APPROX. 1.5 SECOND AND VERIFY THAT THE DRIVE
 21694							HAS GONE INTO NEUTRAL (THE ONE SHOT DID TIME OUT) CAUSING
 21695							AUTOMATIC RELEASE. 
 21696
 21697						RECOMMENDED DEBUG PROCEDURE
 21698						--------------------------- 
 21699						NONE
 21700						$
 21701					 	SALL
 21702
 21703	053156	200 01 0 00 073420 	DUAL3:	MOVE	1,[SIXBIT/DUAL3/]
 21704	053157	261 17 0 00 000014 		PUT	DRIVE		;SAVE PARAMS
 21705	053160	261 17 0 00 000013 		PUT	MBCN
 21706	053161	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 21707	053162	262 17 0 00 000013 		GET	MBCN
 21708	053163	262 17 0 00 000014 		GET	DRIVE
 21709	053164	476 00 0 00 077307 		SETOM	NRHCS1		;INHIBIT READ OF RHCS1 FOR RAE TEST
 21710
 21711					;CLEAR ATA'S AND WAIT TILL WE'RE IN NEUTRAL
 21712
 21713	053165	260 17 0 00 057044 	DP3L:	GO	NEUTRL		;GO INTO NEUTRAL
 21714	053166	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 21715	053167	260 17 0 00 057044 		GO	NEUTRL		;GET INTO NEUTRAL
 21716	053170	260 17 0 00 056754 		GO	RDCRB		;SEIZE PORT-B WITH CTRL REG READ
 21717	053171	260 17 0 00 056767 		GO	RDSRA		;READ A-STATUS TO VERIFY
 21718	053172	200 01 0 00 077332 		MOVE	1,SRA		;GET A-STATUS
 21719	053173	602 01 0 00 177777 		TRNE	1,177777	;SHOULD BE ZERO IF CAPTURE WORKED
 21720	053174	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 21721	053175	027 00 0 00 053211 		SCOPE	TBD3A		;CALL SCOPE ROUTINE
 21722	053176	254 00 0 00 053165 		JRST	DP3L		;LOOP
 21723	053177	255 00 0 00 000000 		JFCL			;CONTINUE
 21724
 21725					;PORT-B CAPTURED WAIT 1.5 SEC TO GO TO NEUTRAL
 21726
 21727	053200	260 17 0 00 057253 		GO	WAIT.5		;WAIT .5 SEC
 21728	053201	260 17 0 00 057261 		GO	WAIT1		;WAIT ANOTHER SEC
 21729	053202	260 17 0 00 056767 		GO	RDSRA		;READ PORT-A STATUS AGAIN
 21730	053203	200 01 0 00 077332 		MOVE	1,SRA		;FETCH STATUS
 21731	053204	606 01 0 00 177777 		TRNN	1,177777	;SHOULD BE NON-0 IF RELEASE WORKED
 21732	053205	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 21733	053206	027 00 0 00 053217 		SCOPE	TBD3C		;CALL SCOPE ROUTINE
 21734	053207	254 00 0 00 053165 		JRST	DP3L		;LOOP
 21735	053210	263 17 0 00 000000 		RTN			;CONTINUE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-292
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0709

 21736
 21737					;SCOPE TABLES
 21738
 21739	053211	000000	000000		TBD3A:	0,,0
 21740	053212	100000	073421			NOINH![ASCIZ/FAILED TO CAPTURE PORT-B FROM NEUTRAL BY READING CONTROL REG/]
 21741	053213	010000	057032			SUBRTN!PCRB
 21742	053214	010000	057021			SUBRTN!PSRA
 21743	053215	400000	077771			HIPROB!DP
 21744	053216	620000	077775			LAST!LOPROB!RG
 21745
 21746	053217	000000	000000		TBD3C:	0,,0
 21747	053220	100000	073436			NOINH![ASCIZ/ONE SHOT DID NOT RELEASE FROM PORT-B AFTER 1.5 SEC/]
 21748	053221	010000	057021			SUBRTN!PSRA
 21749	053222	420000	077771			LAST!HIPROB!DP
 21750
 21751					 	XLIST
 21752					 	LIST
 21753						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-293
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0710

 21754					S^;*********************************************************************^
 21755					;*DUAL4 - VERIFY ABILITY TO HOLD PORT-A INDEFINITELY
 21756					S^;*********************************************************************^
 21757
 21758					COMMENT	$
 21759
 21760						TEST DESCRIPTION
 21761						---------------- 
 21762						1. REPEATEDLY CAPTURE PORT-A FOR SOME PERIOD OF TIME GREATER
 21763						   THAN 1.5 SECOND AND VERIFY THAT THE PORT STAYS CAPTURED
 21764						FOR THE ENTIRE TIME. THE FOLLOWING SEQUENCE IS USED:
 21765						A. GO INTO NEUTRAL.
 21766						B. CAPTURE PORT-A BY READING THE CONTROL REGISTER
 21767						C. READ PORT-B STATUS AND VERIFY THAT DRIVE HAS PORT-A
 21768						   CAPTURED
 21769						D. REPEAT STEPS B AND C FOR A PERIOD OF TIME LONGER THAN
 21770						   THE ONE SHOT TIME (APPROX 2 SECOND) 
 21771
 21772						RECOMMENDED DEBUG PROCEDURE
 21773						--------------------------- 
 21774						THIS TEST IS ESSENTIALLY TESTING THE ABILITY OF THE ONE SHOT
 21775						TO BE RE-TRIGGERED BY THE PORT-A CAPTURE
 21776						$
 21777					 	SALL
 21778
 21779
 21780	053223	200 01 0 00 073451 	DUAL4:	MOVE	1,[SIXBIT/DUAL4/]
 21781	053224	261 17 0 00 000014 		PUT	DRIVE
 21782	053225	261 17 0 00 000013 		PUT	MBCN
 21783	053226	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 21784	053227	262 17 0 00 000013 		GET	MBCN
 21785	053230	262 17 0 00 000014 		GET	DRIVE
 21786	053231	476 00 0 00 077307 		SETOM	NRHCS1		;INHIBIT READ OF RHCS1 FOR RAE TEST
 21787
 21788	053232	260 17 0 00 057044 	DP4AL:	GO	NEUTRL		;GET INTO NEUTRAL
 21789	053233	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 21790	053234	260 17 0 00 057044 		GO	NEUTRL		;GO INTO NEUTRAL
 21791
 21792					;INITIALIZE A COUNTER FOR THE LOOP SO IT LASTS AT LEAST 2 SECONDS
 21793
 21794	053235	200 02 0 00 077320 		MOVE	2,RRPS		;# OF REGISTER READS PER SECOND
 21795	053236	255 00 0 00 000000 		JFCL			;ALL SET. THERE ARE 2 READS IN LOOP
 21796
 21797					;START INTO THE LOOP FOR APPROX 2 SECONDS
 21798
 21799	053237	260 17 0 00 056741 	DP4X:	GO	RDCRA		;SIEZE PORT-A
 21800	053240	260 17 0 00 057002 		GO	RDSRB		;GET B STATUS
 21801	053241	200 01 0 00 077333 		MOVE	1,SRB		;FETCH B-STATUS
 21802	053242	602 01 0 00 177777 		TRNE	1,177777	;STILL ON PORT-A
 21803	053243	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 21804	053244	027 00 0 00 053250 		SCOPE	TBD4		;CALL SCOPE ROUTINE
 21805	053245	254 00 0 00 053232 		JRST	DP4AL		;LOOP
 21806	053246	367 02 0 00 053237 		SOJG	2,DP4X		;CONTINUE. JUMP IF NOT DONE
 21807	053247	263 17 0 00 000000 		RTN			;DONE. EXIT
 21808
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-294
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0711

 21809					;SCOPE TABLE
 21810
 21811	053250	000000	000000		TBD4:	0,,0
 21812	053251	100000	073452			NOINH![ASCIZ/FAILED TO HOLD PORT-A WITH REPEATED CAPTURE ATTEMPTS/]
 21813	053252	010000	057016			SUBRTN!PCRA
 21814	053253	010000	057035			SUBRTN!PSRB
 21815	053254	420000	077771			LAST!HIPROB!DP
 21816
 21817					 	XLIST
 21818					 	LIST
 21819						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-295
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0712

 21820					S^;*********************************************************************^
 21821					;*DUAL5 - VERIFY ABILITY TO HOLD PORT-B INDEFINITELY
 21822					S^;*********************************************************************^
 21823
 21824					COMMENT	$
 21825
 21826						TEST DESCRIPTION
 21827						---------------- 
 21828						1. REPEATEDLY CAPTURE PORT-B FOR SOME PERIOD OF TIME GREATER
 21829						   THAN 1.5 SECONDS AND VERIFY THAT THE PORT STAYS CAPTURED
 21830						   FOR THE ENTIRE PERIOD OF TIME.  THE FOLLOWING SEQUENCE IS USED:
 21831						A. GO INTO NEUTRAL
 21832						B. CAPTURE PORT-B BY READING THE CONTROL REGISTER
 21833						C. READ PORT-A STATUS AND VERIFY THAT PORT-B HAS
 21834						   BEEN CAPTURED.
 21835						D. REPEAT STEPS B AND C FOR A PERIOD OF TIME LONGER THAN
 21836						   THE ONE SLOT TIME (APPROX 2 SECONDS)
 21837
 21838						RECOMMENDED DEBUG PROCEDURE
 21839						--------------------------- 
 21840						THIS TEST IS ESSENTIALLY TESTING THE ABILITY OF THE ONE SLOT
 21841						TO BE RE-TRIGGERED BY THE PORT-B CAPTURE
 21842						$
 21843					 	SALL
 21844
 21845
 21846	053255	200 01 0 00 073465 	DUAL5:	MOVE	1,[SIXBIT/DUAL5/]
 21847	053256	261 17 0 00 000014 		PUT	DRIVE
 21848	053257	261 17 0 00 000013 		PUT	MBCN
 21849	053260	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 21850	053261	262 17 0 00 000013 		GET	MBCN
 21851	053262	262 17 0 00 000014 		GET	DRIVE
 21852	053263	476 00 0 00 077307 		SETOM	NRHCS1		;INHIBIT READ OF RHCS1 FOR RAE TEST
 21853
 21854	053264	260 17 0 00 057044 	DP5AL:	GO	NEUTRL		;GET INTO NEUTRAL
 21855	053265	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 21856	053266	260 17 0 00 057044 		GO	NEUTRL		;GET INTO NEUTRAL STATE
 21857
 21858					;INITIALIZE A COUNTER FOR THE LOOP SO IT LASTS AT LEAST 2 SECONDS
 21859
 21860	053267	200 02 0 00 077320 		MOVE	2,RRPS		;REGISTER READS PER SECOND
 21861	053270	255 00 0 00 000000 		JFCL			;ALL SET. THERE ARE 2 READS IN THE LOOP
 21862
 21863					;START INTO THE LOOP FOR APPROX 2 SECONDS
 21864
 21865	053271	260 17 0 00 056754 	DP5X:	GO	RDCRB		;CAPTURE PORT-B
 21866	053272	260 17 0 00 056767 		GO	RDSRA		;READ PORT-A STATUS
 21867	053273	200 01 0 00 077332 		MOVE	1,SRA		;FETCH PORT-A STATUS
 21868	053274	602 01 0 00 177777 		TRNE	1,177777	;STILL ON PORT-B
 21869	053275	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 21870	053276	027 00 0 00 053302 		SCOPE	TBD5		;CALL THE SCOPE ROUTINE
 21871	053277	254 00 0 00 053264 		JRST	DP5AL		;LOOP
 21872	053300	367 02 0 00 053271 		SOJG	2,DP5X		;CONTINUE. JUMP IF NOT DONE
 21873	053301	263 17 0 00 000000 		RTN			;EXIT
 21874
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-296
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0713

 21875					;SCOPE TABLE
 21876
 21877	053302	000000	000000		TBD5:	0,,0
 21878	053303	100000	073466			NOINH![ASCIZ/FAILED TO HOLD PORT-B WITH REPEATED CAPTURE ATTEMPTS/]
 21879	053304	010000	057032			SUBRTN!PCRB
 21880	053305	010000	057021			SUBRTN!PSRA
 21881	053306	420000	077771			LAST!HIPROB!DP
 21882
 21883					 	XLIST
 21884					 	LIST
 21885						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-297
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0714

 21886					S^;*********************************************************************^
 21887					;*DUAL6 - VERIFY THAT READING REG-00 ONLY, CAUSES PORT-A CAPTURE
 21888					S^;*********************************************************************^
 21889
 21890					COMMENT	$
 21891
 21892						TEST DESCRIPTION
 21893						---------------- 
 21894						1. GO INTO NEUTRAL
 21895						2. READ EACH OF THE MASS BUS REGISTERS (EXCLUDING CONTROL REG)
 21896						   AND AFTER EACH READ, VERIFY THAT PORT-A HAS NOT BEEN
 21897						   CAPTURED BY CHECKING STATUS ON PORT-B
 21898
 21899						RECOMMENDED DEBUG PROCEDURE
 21900						--------------------------- 
 21901						THIS TEST IS NECESSARY BECAUSE THERE IS SPECIAL CONTROL REGISTER
 21902						SELECT DECODING DONE ON THE DP BOARD FOR DUAL PORT
 21903						OPERATION.
 21904						$
 21905					 	SALL
 21906
 21907
 21908	053307	200 01 0 00 073501 	DUAL6:	MOVE	1,[SIXBIT/DUAL6/]
 21909	053310	261 17 0 00 000014 		PUT	DRIVE
 21910	053311	261 17 0 00 000013 		PUT	MBCN
 21911	053312	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 21912	053313	262 17 0 00 000013 		GET	MBCN
 21913	053314	262 17 0 00 000014 		GET	DRIVE
 21914	053315	476 00 0 00 077307 		SETOM	NRHCS1		;INHIBIT READ OF RHCS1 FOR RAE TEST
 21915
 21916	053316	201 02 0 00 000001 		MOVEI	2,1		;INIT AN INDEX REGISTER
 21917
 21918	053317	260 17 0 00 057044 	DP6L:	GO	NEUTRL		;GET INTO NEUTRAL
 21919	053320	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 21920	053321	260 17 0 00 057044 		GO	NEUTRL		;GO INTO NEUTRAL
 21921	053322	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 21922	053323	260 17 1 02 077571 		GO@	RDISP(2)	;READ SOME DEVICE REGISTER (PORT-A)
 21923	053324	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 21924	053325	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 21925	053326	260 17 0 00 057002 		GO	RDSRB		;READ PORT-B STATUS
 21926	053327	200 01 0 00 077333 		MOVE	1,SRB		;FETCH B STATUS
 21927	053330	606 01 0 00 177777 		TRNN	1,177777	;WAS PORT-A CAPTURED
 21928	053331	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
 21929	053332	027 00 0 00 053350 		SCOPE	TBD6		;CALL SCOPE
 21930	053333	254 00 0 00 053317 		JRST	DP6L		;LOOP
 21931	053334	350 00 0 00 000002 		AOS	2		;CONTINUE. BUMP INDEX
 21932	053335	305 02 0 00 000020 		CAIGE	2,20		;TRIED ALL REGISTERS
 21933	053336	254 00 0 00 053317 		JRST	DP6L		;NO. LOOP
 21934	053337	263 17 0 00 000000 		RTN			;YES. EXIT
 21935
 21936					;PRINT ROUTINE USED FOR DUAL6 AND DUAL7
 21937
 21938	053340	261 17 0 00 000000 	D6D7PT:	PUT	0
 21939						TEXT	[ASCIZ/
 21940	053341	030 00 0 00 073502 	THE REGISTER NUMBER CAUSING THE CAPTURE IS = /]
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-298
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0715

 21941	053342	200 00 0 00 000002 		MOVE	0,2
 21942	053343	037 02 0 00 000000 		PNT2
 21943	053344	037 00 0 00 030242 		PCRL
 21944	053345	255 00 0 00 000000 		JFCL
 21945	053346	262 17 0 00 000000 		GET	0
 21946	053347	263 17 0 00 000000 		RTN
 21947
 21948					;SCOPE TABLE FOR THIS TEST
 21949
 21950	053350	000000	053340		TBD6:	0,,D6D7PT
 21951	053351	100000	073514			NOINH![ASCIZ/READING SOME REGISTER ON PORT-A (OTHER THEN 0) HAS CAPTURED PORT-A/]
 21952	053352	010000	057035			SUBRTN!PSRB
 21953	053353	420000	077771			LAST!HIPROB!DP
 21954
 21955					 	XLIST
 21956					 	LIST
 21957						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-299
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0716

 21958					S^;*********************************************************************^
 21959					;*DUAL7 - VERIFY THAT READING REG-00 ONLY, CAUSES PORT-B CAPTURE 
 21960					S^;*********************************************************************^
 21961
 21962					COMMENT	$
 21963
 21964						TEST DESCRIPTION
 21965						---------------- 
 21966						1. GO INTO NEUTRAL
 21967						2. READ EACH OF THE MASS BUS REGISTERS (EXCLUDING CONTROL REG)
 21968						   AND AFTER EACH READ, VERIFY THAT PORT-B HAS NOT BEEN
 21969						   CAPTURED BY CHECKING THE STATUS ON PORT-A
 21970
 21971						RECOMMENDED DEBUG PROCEDURE
 21972						--------------------------- 
 21973						THIS TEST IS NECESSARY BECAUSE THERE IS SPECIAL REGISTER
 21974						SELECT DECODING DONE ON THE DP BOARD FOR DUAL PORT
 21975						OPERATION.
 21976						$
 21977					 	SALL
 21978
 21979
 21980	053354	200 01 0 00 073532 	DUAL7:	MOVE	1,[SIXBIT/DUAL7/]
 21981	053355	261 17 0 00 000014 		PUT	DRIVE
 21982	053356	261 17 0 00 000013 		PUT	MBCN
 21983	053357	260 17 0 00 060630 		GO	TRACE		;CALL THE TRACE ROUTINE
 21984	053360	262 17 0 00 000013 		GET	MBCN
 21985	053361	262 17 0 00 000014 		GET	DRIVE
 21986	053362	476 00 0 00 077307 		SETOM	NRHCS1		;INHIBIT READ OF RHCS1 FOR RAE TEST
 21987
 21988	053363	201 02 0 00 000001 		MOVEI	2,1		;INIT AN INDEX REGISTER
 21989
 21990	053364	260 17 0 00 057044 	DP7L:	GO	NEUTRL		;GET INTO NEUTRAL
 21991	053365	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON LINE
 21992	053366	260 17 0 00 057044 		GO	NEUTRL		;GO INTO NEUTRAL
 21993	053367	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;FETCH PORT-A DRIVE NUMBER
 21994	053370	640 14 0 00 000001 		TRC	DRIVE,1		;ALTER TO POINT TO PORT-B
 21995	053371	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 21996	053372	260 17 1 02 077571 		GO@	RDISP(2)	;READ SOME REGISTER ON PORT-B
 21997	053373	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 21998	053374	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 21999	053375	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;RESTORE TO PORT-A
 22000	053376	260 17 0 00 056767 		GO	RDSRA		;READ STATUS FROM PORT-A
 22001	053377	200 01 0 00 077332 		MOVE	1,SRA		;GET PORT-A STATUS
 22002	053400	606 01 0 00 177777 		TRNN	1,177777	;WAS PORT-B CAPTURED
 22003	053401	476 00 0 00 000010 		SETOM	ERFLG		;YES. ERROR
 22004	053402	027 00 0 00 053410 		SCOPE	TBD7		;CALL SCOPE ROUTINE
 22005	053403	254 00 0 00 053364 		JRST	DP7L		;LOOP
 22006	053404	350 00 0 00 000002 		AOS	2		;CONTINUE. BUMP INDEX
 22007	053405	305 02 0 00 000020 		CAIGE	2,20		;TRIED ALL REGISTERS
 22008	053406	254 00 0 00 053364 		JRST	DP7L		;NO. TRY NEXT ONE
 22009	053407	263 17 0 00 000000 		RTN			;YES. EXIT
 22010
 22011
 22012					;SCOPE TABLE FOR THIS TEST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-300
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0717

 22013
 22014	053410	000000	053340		TBD7:	0,,D6D7PT
 22015	053411	100000	073533			NOINH![ASCIZ/READING SOME REGISTER ON PORT-B (OTHER THAN 0) HAS CAPTURED PORT-B/]
 22016	053412	010000	057021			SUBRTN!PSRA
 22017	053413	420000	077771			LAST!HIPROB!DP
 22018
 22019					 	XLIST
 22020					 	LIST
 22021						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-301
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0718

 22022					S^;*********************************************************************^
 22023					;*DUAL10-VERIFY THAT WRITE TO OTHER ATA'S DOES NOT CAPTURE PORT
 22024					S^;*********************************************************************^
 22025
 22026					COMMENT	$
 22027
 22028						TEST DESCRIPTION
 22029						---------------- 
 22030						WRITE ATA REGISTERS FOR ALL DRIVES BUT THE ONE UNDER
 22031						TEST AND VERIFY NO PORT HAS BEEN CAPTURED.  
 22032
 22033						RECOMMENDED DEBUG PROCEDURE
 22034						--------------------------- 
 22035						THIS IS NECESSARY BECAUSE OF SPECIAL ATA DECODE LOGIC
 22036						ON THE DUAL PORT BOARD 
 22037						$
 22038					 	SALL
 22039
 22040
 22041	053414	200 01 0 00 073551 	DUAL10:	MOVE	1,[SIXBIT/DUAL10/]
 22042	053415	261 17 0 00 000014 		PUT	DRIVE
 22043	053416	261 17 0 00 000013 		PUT	MBCN
 22044	053417	260 17 0 00 060630 		GO 	TRACE		;CALL THE TRACE ROUTINE
 22045	053420	262 17 0 00 000013 		GET	MBCN
 22046	053421	262 17 0 00 000014 		GET	DRIVE
 22047	053422	476 00 0 00 077307 		SETOM	NRHCS1		;INHIBIT READ OF RHCS1 FOR RAE TEST
 22048
 22049	053423	260 17 0 00 057044 	DP10L:	GO	NEUTRL		;GET INTO NEUTRAL
 22050	053424	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 22051	053425	260 17 0 00 057132 		GO	CLRATA		;CLEAR ALL ATA'S, ALL DRIVES
 22052	053426	260 17 0 00 057044 		GO	NEUTRL		;GET INTO NEUTRAL
 22053
 22054					;WRITE ATA REG FOR ALL DRIVES BUT ONE UNDER TEST
 22055
 22056	053427	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;GET PORT-A DRIVE
 22057	053430	200 01 0 00 071215 		MOVE	1,[1B14!377]	;377 TO WRITE ALL DRIVES
 22058	053431	201 02 0 00 000001 		MOVEI	2,1		;SINGLE BIT MASK
 22059	053432	242 02 0 14 000000 		LSH	2,(DRIVE)	;POSITION IT
 22060	053433	630 01 0 00 000002 		TDZ	1,2		;CLEAR BIT FOR DRIVE UNDER TEST
 22061	053434	260 17 0 00 057416 		GO	LRPAS		;WRITE ATA REGISTER
 22062	053435	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 22063
 22064					;VERIFY THAT NO PORT ON TEST DRIVE HAS BEEN CAPTURED
 22065
 22066	053436	260 17 0 00 056767 		GO	RDSRA		;READ PORT-A STATUS
 22067	053437	260 17 0 00 057002 		GO	RDSRB		;READ PORT-B STATUS
 22068	053440	200 01 0 00 077332 		MOVE	1,SRA		;FETCH A-STATUS
 22069	053441	606 01 0 00 177777 		TRNN	1,177777	;WAS B-CAPTURED
 22070	053442	476 00 0 00 000010 		SETOM	ERFLG		;YES ERROR
 22071	053443	200 01 0 00 077333 		MOVE	1,SRB		;FETCH B-STATUS
 22072	053444	606 01 0 00 177777 		TRNN	1,177777	;WAS A-CAPTURED
 22073	053445	476 00 0 00 000010 		SETOM	ERFLG		;YES.  ERROR
 22074	053446	027 00 0 00 053451 		SCOPE	TBD10		;CALL SCOPE ROUTINE
 22075	053447	254 00 0 00 053423 		JRST	DP10L		;LOOP
 22076	053450	263 17 0 00 000000 		RTN			;CONTINUE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-302
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0719

 22077
 22078					;SCOPE TABLE(S)
 22079
 22080	053451	000000	000000		TBD10:	0,,0
 22081	053452	100000	073552			NOINH![ASCIZ/WROTE ATA REG FOR ALL DRIVES BUT THIS ONE AND ONE /]
 22082	053453	100000	073565			NOINH![ASCIZ/OF THE PORTS ON THIS DRIVE WAS CAPTURED/]
 22083	053454	010000	057021			SUBRTN!PSRA
 22084	053455	010000	057035			SUBRTN!PSRB
 22085	053456	420000	077771			LAST!HIPROB!DP
 22086
 22087					 	XLIST
 22088					 	LIST
 22089						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-303
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0720

 22090					S^;*********************************************************************^
 22091					;*DUAL11-CAPTURE PORT-A BY WRITING ITS CONTROL REGISTER 
 22092					S^;*********************************************************************^
 22093
 22094					COMMENT	$
 22095
 22096						TEST DESCRIPTION
 22097						---------------- 
 22098						WRITING ANY REGISTER WILL CAPTURE A PORT IF DRIVE IS IN
 22099						NEUTRAL, THE SELECTION OF THE CONTROL REGISTER IS ARBITRARY
 22100						A.  GET INTO NEUTRAL
 22101						B.  WRITE CONTROL REGISTER ON PORT-A
 22102						C.  READ STATUS FROM-B AND VERIFY THAT PORT-A WAS CAPTURED 
 22103
 22104						RECOMMENDED DEBUG PROCEDURE
 22105						--------------------------- 
 22106						NONE 
 22107						$
 22108					 	SALL
 22109
 22110
 22111
 22112	053457	200 01 0 00 073575 	DUAL11:	MOVE	1,[SIXBIT/DUAL11/]
 22113	053460	261 17 0 00 000014 		PUT	DRIVE		;SAVE DRIVE
 22114	053461	261 17 0 00 000013 		PUT	MBCN		;AND CONTROLLER #
 22115	053462	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 22116	053463	262 17 0 00 000013 		GET	MBCN		;RESTTORE CTRLR #
 22117	053464	262 17 0 00 000014 		GET	DRIVE		;AND DRIVE #
 22118	053465	476 00 0 00 077307 		SETOM	NRHCS1		;INHIBIT READ OF RHCS1 FOR RAE TEST
 22119
 22120	053466	260 17 0 00 057044 	DP11L:	GO	NEUTRL		;GET INTO NEUTRAL
 22121	053467	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON LINE
 22122	053470	260 17 0 00 057044 		GO	NEUTRL		;GET INTO NEUTRAL	
 22123	053471	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;PORT-A DRIVE NUMBER
 22124	053472	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ZERO
 22125	053473	260 17 0 00 057402 		GO	LRPCS1		;WRITE PORT-A CONTROL REG
 22126	053474	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 22127	053475	260 17 0 00 057002 		GO	RDSRB		;READ STATUS FROM PORT-B
 22128	053476	200 01 0 00 077333 		MOVE	1,SRB		;GET B-STATUS
 22129	053477	602 01 0 00 177777 		TRNE	1,177777	;WAS PORT-A CAPTURED?
 22130	053500	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 22131	053501	027 00 0 00 053504 		SCOPE	TBD11		;CALL SCOPE ROUTINE
 22132	053502	254 00 0 00 053466 		JRST	DP11L		;LOOP
 22133	053503	263 17 0 00 000000 		RTN			;CONTINUE
 22134
 22135					;SCOPE TABLE
 22136
 22137	053504	000000	000000		TBD11:	0,,0
 22138	053505	100000	073576			NOINH![ASCIZ/WRITING PORT-A CONTROL REGISTER FAILED TO CAPTURE THE PORT/]
 22139	053506	010000	057035			SUBRTN!PSRB
 22140	053507	420000	077771			LAST!HIPROB!DP
 22141
 22142					 	XLIST
 22143					 	LIST
 22144						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-304
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0721

 22145					S^;*********************************************************************^
 22146					;*DUAL12-CAPTURE PORT-B BY WRITING ITS CONTROL REGISTER 
 22147					S^;*********************************************************************^
 22148
 22149					COMMENT	$
 22150
 22151						TEST DESCRIPTION
 22152						---------------- 
 22153						WRITING ANY REGISTER WILL CAPTURE THE PORT IF DRIVE IS IN NEUTRAL,
 22154						THE SELECTION OF THE CONTROL REGISTER IS ARBITRARY.
 22155						A.  GET INTO NEUTRAL
 22156						B.  WRITE THE CONTROL REGISTER ON PORT-B
 22157						C.  READ STATUS FROM PORT-A AND VERIFY THAT PORT-B WAS
 22158						    CAPTURED 
 22159
 22160						RECOMMENDED DEBUG PROCEDURE
 22161						--------------------------- 
 22162						NONE
 22163						$
 22164					 	SALL
 22165
 22166
 22167	053510	200 01 0 00 073612 	DUAL12:	MOVE	1,[SIXBIT/DUAL12/]
 22168	053511	261 17 0 00 000014 		PUT	DRIVE		;SAVE DRIVE
 22169	053512	261 17 0 00 000013 		PUT	MBCN		;AND CONTROLLER #
 22170	053513	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 22171	053514	262 17 0 00 000013 		GET	MBCN		;RESTTORE CTRLR #
 22172	053515	262 17 0 00 000014 		GET	DRIVE		;AND DRIVE #
 22173	053516	476 00 0 00 077307 		SETOM	NRHCS1		;INHIBIT READ OF RHCS1 FOR RAE TEST
 22174
 22175	053517	260 17 0 00 057044 	DP12L:	GO	NEUTRL		;GET INTO NEUTRAL
 22176	053520	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 22177	053521	260 17 0 00 057044 		GO	NEUTRL		;GET DEVICE IN NEUTRAL
 22178	053522	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;GET DRIVE NUMBER FOR PORT-A
 22179	053523	640 14 0 00 000001 		TRC	DRIVE,1		;MODIFY FOR PORT-B
 22180	053524	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ZERO
 22181	053525	260 17 0 00 057402 		GO	LRPCS1		;WRITE PORT-B CONTROL REGISTER
 22182	053526	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 22183	053527	260 17 0 00 056767 		GO	RDSRA		;GET PORT-A STATUS
 22184	053530	200 01 0 00 077332 		MOVE	1,SRA		;NOW FETCH IT	
 22185	053531	602 01 0 00 177777 		TRNE	1,177777	;WAS PORT-B CAPTURED
 22186	053532	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 22187	053533	027 00 0 00 053536 		SCOPE	TBD12		;CALL SCOPE ROUTINE
 22188	053534	254 00 0 00 053517 		JRST	DP12L		;LOOP
 22189	053535	263 17 0 00 000000 		RTN			;CONTINUE
 22190
 22191					;SCOPE TABLE(S)
 22192
 22193	053536	000000	000000		TBD12:	0,,0
 22194	053537	100000	073613			NOINH![ASCIZ/WRITING PORT-B CONTROL REGISTER FAILED TO CAPTURE THE PORT/]
 22195	053540	010000	057021			SUBRTN!PSRA
 22196	053541	420000	077771			LAST!HIPROB!DP
 22197
 22198					 	XLIST
 22199					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-305
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0722

 22200						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-306
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0723

 22201					S^;*********************************************************************^
 22202					;*DUAL13-VERIFY THAT RELEASE FROM PORT-A DOES NOT SET ATA
 22203					S^;*********************************************************************^
 22204
 22205					COMMENT	$
 22206
 22207						TEST DESCRIPTION
 22208						---------------- 
 22209						WITH NO REQUEST ON PORT-B, A RELEASE FROM PORT-A SHOULD NOT SET
 22210						THE ATA FLOP ON PORT-B.
 22211						A. GET INTO NEUTRAL WITH ATA'S FOR BOTH PORTS CLEAR
 22212						B. READ CONTROL REGISTER FOR PORT-A TO CAPTURE
 22213						C. WAIT UNTIL WE FLIP BACK INTO NEUTRAL
 22214						D. VERIFY THAT ATA HAS NOT BEEN SET FOR PORT-B
 22215
 22216						RECOMMENDED DEBUG PROCEDURE
 22217						--------------------------- 
 22218						NONE
 22219						$
 22220					 	SALL
 22221
 22222	053542	200 01 0 00 073627 	DUAL13:	MOVE	1,[SIXBIT/DUAL13/]
 22223	053543	261 17 0 00 000014 		PUT	DRIVE
 22224	053544	261 17 0 00 000013 		PUT	MBCN
 22225	053545	260 17 0 00 060630 		GO 	TRACE
 22226	053546	262 17 0 00 000013 		GET	MBCN
 22227	053547	262 17 0 00 000014 		GET	DRIVE
 22228	053550	476 00 0 00 077307 		SETOM	NRHCS1		;INHIBIT READ OF RHCS1 FOR RAE TEST
 22229
 22230	053551	260 17 0 00 057044 	DP13L:	GO	NEUTRL		;GET INTO NEUTRAL
 22231	053552	260 17 0 00 055673 		GO	ONCHK		;GET ON-LINE
 22232	053553	260 17 0 00 057044 		GO	NEUTRL		;GET INTO NEURTAL
 22233	053554	260 17 0 00 057132 		GO	CLRATA		;CLEAR ATA'S
 22234	053555	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;GET PORT-A DRIVE #
 22235	053556	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 22236	053557	260 17 0 00 057576 		GO	RRPCS1		;CAPTURE PORT-A
 22237	053560	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 22238	053561	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 22239
 22240	053562	260 17 0 00 057044 		GO	NEUTRL		;GET BACK INTO NEUTRAL
 22241
 22242	053563	260 17 0 00 057002 		GO	RDSRB		;READ THE STATUS FROM B
 22243	053564	200 01 0 00 077333 		MOVE	1,SRB		;FETCH B'S STATUS
 22244	053565	602 01 0 00 100000 		TRNE	1,1B20		;IS ATA SET
 22245	053566	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 22246	053567	027 00 0 00 053572 		SCOPE	TBD13		;CALL SCOPE ROUTINE
 22247	053570	254 00 0 00 053551 		JRST	DP13L		;LOOP
 22248	053571	263 17 0 00 000000 		RTN			;CONTINUE
 22249
 22250
 22251					;SCOPE TABLE
 22252
 22253	053572	000000	000000		TBD13:	0,,0
 22254	053573	100000	073630			NOINH![ASCIZ/AUTO RELEASE FROM PORT-A HAS SET  ATA ON PORT-B/]
 22255	053574	100000	073642			NOINH![ASCIZ/BUT THERE WAS NO REQUEST ON PORT-B/]
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-307
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0724

 22256	053575	010000	057035			SUBRTN!PSRB
 22257	053576	400000	077775			HIPROB!RG
 22258	053577	420000	077771			LAST!HIPROB!DP
 22259
 22260					 	XLIST
 22261					 	LIST
 22262						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-308
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0725

 22263					S^;*********************************************************************^
 22264					;*DUAL14-VERIFY THAT RELEASE FROM PORT-B DOES NOT SET ATA
 22265					S^;*********************************************************************^
 22266
 22267					COMMENT	$
 22268
 22269						TEST DESCRIPTION
 22270						---------------- 
 22271						WITH NO REQUEST ON PORT-A, A RELEASE FROM PORT-B SHOULD NOT SET
 22272						THE ATA FLOP ON PORT-A.
 22273						A. GET INTO NEUTRAL WITH ATA'S FOR BOTH PORTS CLEAR
 22274						B. READ CONTROL REGISTER FOR PORT-B TO CAPTURE
 22275						C. WAIT UNTIL WE FLIP BACK INTO NEUTRAL
 22276						D. VERIFY THAT ATA HAS NOT BEEN SET FOR PORT-A
 22277
 22278						RECOMMENDED DEBUG PROCEDURE
 22279						--------------------------- 
 22280						NONE
 22281						$
 22282					 	SALL
 22283
 22284
 22285
 22286	053600	200 01 0 00 073651 	DUAL14:	MOVE	1,[SIXBIT/DUAL14/]
 22287	053601	261 17 0 00 000014 		PUT	DRIVE
 22288	053602	261 17 0 00 000013 		PUT	MBCN
 22289	053603	260 17 0 00 060630 		GO 	TRACE
 22290	053604	262 17 0 00 000013 		GET	MBCN
 22291	053605	262 17 0 00 000014 		GET	DRIVE
 22292	053606	476 00 0 00 077307 		SETOM	NRHCS1		;INHIBIT READ OF RHCS1 FOR RAE TEST
 22293
 22294	053607	260 17 0 00 057044 	DP14L:	GO	NEUTRL		;GET INTO NEUTRAL
 22295	053610	260 17 0 00 055673 		GO	ONCHK		;GET ON-LINE
 22296	053611	260 17 0 00 057044 		GO	NEUTRL		;GET INTO NEURTAL
 22297	053612	260 17 0 00 057132 		GO	CLRATA		;CLEAR ATA'S
 22298	053613	260 17 0 00 057044 		GO	NEUTRL		;GET INTO NEUTRAL
 22299	053614	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;GET PORT-A DRIVE #
 22300	053615	640 14 0 00 000001 		TRC	DRIVE,1		;NOW POINTS TO PORT-B
 22301	053616	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 22302	053617	260 17 0 00 057576 		GO	RRPCS1		;CAPTURE PORT-B
 22303	053620	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 22304	053621	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 22305
 22306	053622	260 17 0 00 057044 		GO	NEUTRL		;GET BACK INTO NEUTRAL
 22307
 22308	053623	260 17 0 00 056767 		GO	RDSRA		;READ THE STATUS FROM A
 22309	053624	200 01 0 00 077332 		MOVE	1,SRA		;FETCH A'S STATUS
 22310	053625	602 01 0 00 100000 		TRNE	1,1B20		;IS ATA SET
 22311	053626	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 22312	053627	027 00 0 00 053633 		SCOPE	TBD14		;CALL SCOPE ROUTINE
 22313	053630	254 00 0 00 053607 		JRST	DP14L		;LOOP
 22314	053631	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;POINT BACK TO PORT-A
 22315	053632	263 17 0 00 000000 		RTN			;AND CONTINUE
 22316
 22317					;SCOPE TABLE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-309
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0726

 22318
 22319	053633	000000	000000		TBD14:	0,,0
 22320	053634	100000	073652			NOINH![ASCIZ/AUTO RELEASE FROM PORT-B HAS SET  ATA ON PORT-A/]
 22321	053635	100000	073664			NOINH![ASCIZ/BUT THERE WAS NO REQUEST ON PORT-A/]
 22322	053636	010000	057021			SUBRTN!PSRA
 22323	053637	400000	077775			HIPROB!RG
 22324	053640	420000	077771			LAST!HIPROB!DP
 22325
 22326					 	XLIST
 22327					 	LIST
 22328						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-310
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0727

 22329					S^;*********************************************************************^
 22330					;*DUAL15-RELEASE, WITH RELEASE COMMAND, FROM PORT-A 
 22331					S^;*********************************************************************^
 22332
 22333					COMMENT	$
 22334
 22335						TEST DESCRIPTION
 22336						---------------- 
 22337						VERIFY THAT WE CAN RELEASE FROM PORT-A WITH A RELEASE
 22338						COMMAND AND THAT ISSUING THE RELEASE COMMAND DOES NOT
 22339						CAUSE COMPOSITE ERROR.
 22340						A.  GO INTO NEUTRAL
 22341						B.  READ CONTROL REGISTER ON PORT-A TO CAPTURE IT
 22342						C.  ISSUE A RELEASE COMMAND
 22343						D.  READ STATUS REGISTER ON PORT-B AND VERIFY THAT
 22344						    RELEASE WORKED CORRECTLY AND DID NOT CAUSE
 22345						    COMPOSITE ERROR 
 22346
 22347						RECOMMENDED DEBUG PROCEDURE
 22348						--------------------------- 
 22349						NONE 
 22350						$
 22351					 	SALL
 22352
 22353
 22354	053641	200 01 0 00 073673 	DUAL15:	MOVE	1,[SIXBIT/DUAL15/]
 22355	053642	261 17 0 00 000014 		PUT	DRIVE		;SAVE DRIVE
 22356	053643	261 17 0 00 000013 		PUT	MBCN		;AND CONTROLLER #
 22357	053644	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 22358	053645	262 17 0 00 000013 		GET	MBCN		;RESTTORE CTRLR #
 22359	053646	262 17 0 00 000014 		GET	DRIVE		;AND DRIVE #
 22360	053647	476 00 0 00 077307 		SETOM	NRHCS1		;INHIBIT READ OF RHCS1 FOR RAE TEST
 22361
 22362	053650	260 17 0 00 057044 	DP15L:	GO	NEUTRL		;GET INTO NEUTRAL
 22363	053651	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE ON-LINE
 22364	053652	260 17 0 00 057044 		GO	NEUTRL		;GO INTO NEUTRAL
 22365	053653	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;GET PORT-AA DRIVE
 22366	053654	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 22367	053655	260 17 0 00 057576 		GO	RRPCS1		;CAPTURE PORT-WITH A READ
 22368	053656	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 22369	053657	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 22370	053660	200 01 0 00 073674 		MOVE	1,[1B14!13]	;RELEASE COMMAND
 22371	053661	260 17 0 00 057402 		GO	LRPCS1		;ISSUE RELEASE
 22372	053662	260 17 0 00 060733 		GO 	CBTOER		;HANDSHAKE FAILED
 22373	053663	260 17 0 00 056767 		GO	RDSRA		;READ PORT-A STATUS
 22374	053664	260 17 0 00 057002 		GO	RDSRB		;READ PROT-B STATUS
 22375	053665	200 01 0 00 077333 		MOVE	1,SRB		;GET PORT-B STATUS
 22376	053666	606 01 0 00 177777 		TRNN	1,177777	;DID RELEASE WORK
 22377	053667	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 22378	053670	027 00 0 00 053701 		SCOPE	TBD15A		;CALL SCOPE ROUTINE
 22379	053671	254 00 0 00 053650 		JRST	DP15L		;LOOP
 22380	053672	255 00 0 00 000000 		JFCL			;CONTINUE
 22381
 22382					;CHECK FOR COMPOSITE ERROR
 22383
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-311
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0728

 22384	053673	200 01 0 00 077332 		MOVE	1,SRA		;FETCH PORT-A STATUS
 22385	053674	602 01 0 00 040000 		TRNE	1,1B21		;COMPOSITE ERROR
 22386	053675	476 00 0 00 000010 		SETOM	ERFLG		;YES.  ERROR
 22387	053676	027 00 0 00 053706 		SCOPE	TBD15B		;CALL SCOPE ROUTINE
 22388	053677	254 00 0 00 053650 		JRST	DP15L		;LOOP
 22389	053700	263 17 0 00 000000 		RTN			;CONTINUE
 22390
 22391					;SCOPE TABLE(S)
 22392
 22393	053701	000000	000000		TBD15A:	0,,0
 22394	053702	100000	073675			NOINH![ASCIZ/FAILED TO RELEASE FROM PORT-A WITH A RELEASE COMAND/]
 22395	053703	010000	057035			SUBRTN!PSRB
 22396	053704	400000	077775			HIPROB!RG
 22397	053705	420000	077771			LAST!HIPROB!DP
 22398
 22399	053706	057274	057320		TBD15B:	SNAPDR,,DUMPDR
 22400	053707	100000	073710			NOINH![ASCIZ/RELEASE COMMAND FROM PORT-A CAUSED COMPOSITE ERROR/]
 22401	053710	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 22402
 22403					 	XLIST
 22404					 	LIST
 22405						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-312
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0729

 22406					S^;*********************************************************************^
 22407					;*DUAL16-RELEASE, WITH RELEASE COMMAND, FROM PORT-B 
 22408					S^;*********************************************************************^
 22409
 22410					COMMENT	$
 22411
 22412						TEST DESCRIPTION
 22413						---------------- 
 22414						VERIFY THAT WE CAN RELEASE FROM PORT-B WITH A RELEASE
 22415						COMMAND AND THAT ISSUING THE RELEASE COMMAND DOES
 22416						NOT CAUSE COMPOSITE ERROR.
 22417						A.  GO INTO NEUTRAL
 22418						B.  READ CONTROL REGISTER FROM PORT-B TO CAPTURE THE PORT
 22419						C.  ISSUE A RELEASE COMMAND
 22420						D.  READ STATUS REGISTER ON PORT-B AND VERIFY THAT
 22421						    RELEASE COMMAND WORKED CORRECTLY AND DID NOT CAUSE
 22422						    COMPOSITE ERROR 
 22423
 22424						RECOMMENDED DEBUG PROCEDURE
 22425						--------------------------- 
 22426						NONE 
 22427						$
 22428					 	SALL
 22429
 22430
 22431	053711	200 01 0 00 073731 	DUAL16:	MOVE	1,[SIXBIT/DUAL16/]
 22432	053712	261 17 0 00 000014 		PUT	DRIVE		;SAVE DRIVE
 22433	053713	261 17 0 00 000013 		PUT	MBCN		;AND CONTROLLER #
 22434	053714	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 22435	053715	262 17 0 00 000013 		GET	MBCN		;RESTTORE CTRLR #
 22436	053716	262 17 0 00 000014 		GET	DRIVE		;AND DRIVE #
 22437	053717	476 00 0 00 077307 		SETOM	NRHCS1		;INHIBIT READ OF RHCS1 FOR RAE TEST
 22438
 22439	053720	260 17 0 00 057044 	DP16L:	GO	NEUTRL		;GET INTO NEUTRAL
 22440	053721	260 17 0 00 055673 		GO	ONCHK		;GET ON-LINE
 22441	053722	260 17 0 00 057044 		GO	NEUTRL		;GET INTO NEUTRL
 22442	053723	200 14 0 00 077265 		MOVE 	DRIVE,DRVA	;GET DRIVE FOR PORT-A
 22443	053724	640 14 0 00 000001 		TRC	DRIVE,1		;MODIFY FOR PORT-B
 22444	053725	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 22445	053726	260 17 0 00 057576 		GO	RRPCS1		;READ CONTROL REG ON PORT-B
 22446	053727	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 22447	053730	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 22448	053731	200 01 0 00 073674 		MOVE	1,[1B14!13]	;RELEASE COMMAND
 22449	053732	260 17 0 00 057402 		GO	LRPCS1		;ISSUE THE RELEASE
 22450	053733	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 22451	053734	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;SET DRIVE BACK TO PORT-A
 22452	053735	260 17 0 00 056767 		GO	RDSRA		;READ STATUS ON PORT-A
 22453	053736	260 17 0 00 057002 		GO	RDSRB		;READ STATUS ON PORT-B
 22454	053737	200 01 0 00 077332 		MOVE 	1,SRA		;FETCH PORT-A
 22455	053740	606 01 0 00 177777 		TRNN	1,177777	;DID PORT-B RELEASE WORK
 22456	053741	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR	
 22457	053742	027 00 0 00 053761 		SCOPE	TBD16A		;CALL SCOPE ROUTINE
 22458	053743	254 00 0 00 053720 		JRST	DP16L		;LOOP
 22459	053744	255 00 0 00 000000 		JFCL			;CONTINUE
 22460	053745	336 00 0 00 077273 		SKIPN	ERYET		;ERROR.  ?
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-313
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0730

 22461	053746	254 00 0 00 053751 		JRST	.+3		;NO
 22462	053747	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;YES.  SET UP FOR PORT-B
 22463	053750	640 14 0 00 000001 		TRC	DRIVE,1		;ALL SET
 22464	053751	260 17 0 00 057274 		GO 	SNAPDR		;SNAPSHOT FROM PORT-B
 22465	053752	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;NOW RESTORE DRIVE
 22466	053753	200 01 0 00 077333 		MOVE	1,SRB		;GET PORT-B STATUS
 22467	053754	602 01 0 00 040000 		TRNE	1,1B21		;COMPOSITE ERROR
 22468	053755	476 00 0 00 000010 		SETOM	ERFLG		;YES
 22469	053756	027 00 0 00 053766 		SCOPE	TBD16B		;CALL SCOPE ROUTINE
 22470	053757	254 00 0 00 053720 		JRST	DP16L		;LOOP
 22471	053760	263 17 0 00 000000 		RTN			;CONTINUE
 22472
 22473					;SCOPE TABLE(S)
 22474
 22475	053761	000000	000000		TBD16A:	0,,0
 22476	053762	100000	073732			NOINH![ASCIZ/FAILED TO RELEASE FROM PORT-B WITH A RELEASE COMMAND/]
 22477	053763	010000	057021			SUBRTN!PSRA
 22478	053764	400000	077775			HIPROB!RG
 22479	053765	420000	077771			LAST!HIPROB!DP
 22480
 22481	053766	000000	057316		TBD16B:	0,,DUMPS
 22482	053767	100000	073745			NOINH![ASCIZ/RELEASE COMMAND FROM PORT-B CAUSED COMPOSITE ERROR/]
 22483	053770	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 22484
 22485					 	XLIST
 22486					 	LIST
 22487						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-314
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0731

 22488					S^;*********************************************************************^
 22489					;*DUAL17-1ST TEST TO VERIFY REQUEST HOLD LOGIC 
 22490					S^;*********************************************************************^
 22491
 22492					COMMENT	$
 22493
 22494						TEST DESCRIPTION
 22495						---------------- 
 22496						1.  GO INTO NEUTRAL AND RESET ALL ATA'S
 22497						2.  CAPTURE PORT-B BY READING PORT-B CONTROL REG
 22498						3.  REQUEST PORT-A BY WRITING PORT-A CONTROL REG
 22499						4.  READ PORT-A STATUS AND VERIFY THAT IT IS NOT CAPTURED,
 22500						    PORT-B SHOULD BE IN POSESSION FOR 1 SEC.
 22501						5.  WAIT FOR GREATER THAN A SECOND TO GIVE AUTO-RELEASE
 22502						    FROM PORT-B A CHANCE TO HAPPEN
 22503						6.  READ STATUS FROM PORT-A AND VERIFY THAT "ATA"
 22504						    HAS SET (BECAUSE OF THE REQUEST FROM STEP-3) 
 22505
 22506						RECOMMENDED DEBUG PROCEDURE
 22507						--------------------------- 
 22508						NONE 
 22509						$
 22510					 	SALL
 22511
 22512
 22513	053771	200 01 0 00 073760 	DUAL17:	MOVE	1,[SIXBIT/DUAL17/]
 22514	053772	261 17 0 00 000014 		PUT	DRIVE		;SAVE DRIVE
 22515	053773	261 17 0 00 000013 		PUT	MBCN		;AND CONTROLLER #
 22516	053774	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 22517	053775	262 17 0 00 000013 		GET	MBCN		;RESTTORE CTRLR #
 22518	053776	262 17 0 00 000014 		GET	DRIVE		;AND DRIVE #
 22519	053777	476 00 0 00 077307 		SETOM	NRHCS1		;INHIBIT READ OF RHCS1 FOR RAE TEST
 22520
 22521	054000	260 17 0 00 057044 	DP17L:	GO	NEUTRL		;GET INTO NEUTRAL
 22522	054001	260 17 0 00 055673 		GO	ONCHK		;GET ON-LINE
 22523	054002	260 17 0 00 057132 		GO 	CLRATA		;CLEAR ALL ATA'S
 22524	054003	260 17 0 00 057044 		GO	NEUTRL		;GO INTO NEUTRAL
 22525	054004	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;GET PORT-A DRIVE NUMBER	
 22526	054005	640 14 0 00 000001 		TRC	DRIVE,1		;ADJUST FOR PORT-B
 22527	054006	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 22528	054007	260 17 0 00 057576 		GO	RRPCS1		;CAPTURE PORT-B
 22529	054010	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE	
 22530	054011	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 22531	054012	640 14 0 00 000001 		TRC	DRIVE,1		;SWITCH DRIVE NUMBER TO PORT-A
 22532	054013	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 22533	054014	260 17 0 00 057402 		GO	LRPCS1		;CAUSE A PORT-A REQUEST
 22534	054015	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 22535	054016	260 17 0 00 056767 		GO	RDSRA		;READ PORT-A STATUS
 22536	054017	200 01 0 00 077332 		MOVE	1,SRA		;FETCH PORT-A STATUS
 22537	054020	602 01 0 00 177777 		TRNE	1,177777	;IS B STILL CAPTURED
 22538	054021	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 22539	054022	027 00 0 00 054035 		SCOPE	TBD17A		;CALL SCOPE ROUTINE
 22540	054023	254 00 0 00 054000 		JRST	DP17L		;LOOP
 22541	054024	255 00 0 00 000000 		JFCL			;CONTINUE.
 22542
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-315
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0732

 22543					;NOW ON PORT-B WITH A REQUEST FOR PORT-A
 22544					;WAIT UNTIL ONE SHOT TIMES OUT
 22545
 22546	054025	260 17 0 00 057266 		GO	WAIT2		;WAIT 2 SECONDS
 22547
 22548					;VERIFY THAT WE HAVE RELEASED FROM B AND CAUSED ATA ON A
 22549
 22550	054026	260 17 0 00 056767 		GO	RDSRA		;READ STATUS PORT-A
 22551	054027	200 01 0 00 077332 		MOVE	1,SRA		;FETCH STATUS PORT-A
 22552	054030	606 01 0 00 100000 		TRNN	1,1B20		;IS ATA SET FOR PORT-A	
 22553	054031	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 22554	054032	027 00 0 00 054042 		SCOPE	TBD17B		;CALL SCOPE ROUTINE
 22555	054033	254 00 0 00 054000 		JRST	DP17L		;LOOP
 22556	054034	263 17 0 00 000000 		RTN			;CONTINUE
 22557
 22558					;SCOPE TABLE(S)
 22559
 22560	054035	000000	000000		TBD17A:	0,,0
 22561	054036	100000	073761			NOINH![ASCIZ/REQUEST ON PORT-A IMMEDIATLY CAPTURED THE/]
 22562	054037	100000	073772			NOINH![ASCIZ/DRIVE AWAY FROM PORT-B (BEFORE THE TIMEOUT)/]
 22563	054040	010000	057021			SUBRTN!PSRA
 22564	054041	420000	077771			LAST!HIPROB!DP
 22565
 22566	054042	000000	000000		TBD17B:	0,,0
 22567	054043	100000	074003			NOINH![ASCIZ/REQUEST HOLD FAULT.  PORT-A DID NOT RECEIVE AN ATA/]
 22568	054044	100000	074016			NOINH![ASCIZ/WHEN PORT-B RELEASED.  (PORT-A HAD REQUESTED)/]
 22569	054045	010000	057021			SUBRTN!PSRA
 22570	054046	420000	077771			LAST!HIPROB!DP
 22571
 22572					 	XLIST
 22573					 	LIST
 22574						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-316
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0733

 22575					S^;*********************************************************************^
 22576					;*DUAL20-2ND TEST TO VERIFY REQUEST HOLD LOGIC 
 22577					S^;*********************************************************************^
 22578
 22579					COMMENT	$
 22580
 22581						TEST DESCRIPTION
 22582						---------------- 
 22583						1.  GO INTO NEUTRAL AND RESET ALL ATA'S
 22584						2.  CAPTURE PORT-A BY READING PORT-A CONTROL REG
 22585						3.  REQUEST PORT-B BY WRITING PORT-B CONTROL REG
 22586						4.  READ PORT-B STATUS AND VERIFY THAT IT IS NOT CAPTURED,
 22587						    PORT-A SHOULD BE IN POSESSION FOR 1 SEC
 22588						5.  WAIT FOR GREATER THAN A SECOND TO GIVE AUTO-RELEASE
 22589						    FROM PORT-A A CHANCE TO HAPPEN
 22590						6.  READ STATUS FROM PORT-B AND VERIFY THAT "ATA" HAS SET
 22591						    (BECAUSE OF THE REQUEST FROM STEP-3 
 22592
 22593						RECOMMENDED DEBUG PROCEDURE
 22594						--------------------------- 
 22595						NONE 
 22596						$
 22597					 	SALL
 22598
 22599
 22600	054047	200 01 0 00 074030 	DUAL20:	MOVE	1,[SIXBIT/DUAL20/]
 22601	054050	261 17 0 00 000014 		PUT	DRIVE		;SAVE DRIVE
 22602	054051	261 17 0 00 000013 		PUT	MBCN		;AND CONTROLLER #
 22603	054052	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 22604	054053	262 17 0 00 000013 		GET	MBCN		;RESTTORE CTRLR #
 22605	054054	262 17 0 00 000014 		GET	DRIVE		;AND DRIVE #
 22606	054055	476 00 0 00 077307 		SETOM	NRHCS1		;INHIBIT READ OF RHCS1 FOR RAE TEST
 22607
 22608	054056	260 17 0 00 057044 	DP20L:	GO	NEUTRL		;GET INTO NEUTRAL
 22609	054057	260 17 0 00 055673 		GO	ONCHK		;GET ON LINE
 22610	054060	260 17 0 00 057132 		GO 	CLRATA		;CLEAR ATA'S
 22611	054061	260 17 0 00 057044 		GO	NEUTRL		;GET INTO NEUTRAL
 22612	054062	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;DRIVE TO PORT-A
 22613	054063	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S	
 22614	054064	260 17 0 00 057576 		GO	RRPCS1		;CAPTURE PORT-A
 22615	054065	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 22616	054066	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 22617	054067	640 14 0 00 000001 		TRC	DRIVE,1		;POINT DRIVE TO PORT-B
 22618	054070	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 22619	054071	260 17 0 00 057402 		GO	LRPCS1		;CAUSE A PORT-A REQUEST			   		
 22620	054072	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 22621	054073	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;SWITCH DRIVE TO PORT-A
 22622	054074	260 17 0 00 057002 		GO	RDSRB		;READ PORT-B STATUS
 22623	054075	200 01 0 00 077333 		MOVE	1,SRB		;FETCH PORT-B STATUS
 22624	054076	602 01 0 00 177777 		TRNE	1,177777	;STILL CAPTURED ON PORT-A
 22625	054077	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 22626	054100	027 00 0 00 054113 		SCOPE	TBD20A		;CALL SCOPE ROUTINE	
 22627	054101	254 00 0 00 054056 		JRST	DP20L		;LOOP
 22628	054102	255 00 0 00 000000 		JFCL			;CONTINUE
 22629
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-317
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0734

 22630					;NOW ON PORT-A WITH A REQUEST FOR PORT-B
 22631					;WAIT UNTIL THE ONE SHOT TIMES OUT
 22632
 22633	054103	260 17 0 00 057266 		GO	WAIT2		;WAIT 2 SECONDS
 22634
 22635					;VERIFY THAT WE HAVE RELEASED FROM A AND CAUSED ATA ON B
 22636
 22637	054104	260 17 0 00 057002 		GO	RDSRB		;READ STATUS ON PORT-B
 22638	054105	200 01 0 00 077333 		MOVE	1,SRB		;FETCH STATUS
 22639	054106	606 01 0 00 100000 		TRNN	1,1B20		;DID ATA GET SET
 22640	054107	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 22641	054110	027 00 0 00 054120 		SCOPE	TBD20B		;CALL SCOPE ROUTINE
 22642	054111	254 00 0 00 054056 		JRST	DP20L		;LOOP
 22643	054112	263 17 0 00 000000 		RTN
 22644
 22645					;SCOPE TABLE(S)
 22646
 22647	054113	000000	000000		TBD20A:	0,,0
 22648	054114	100000	074031			NOINH![ASCIZ/REQUEST FROM PORT-B IMMEDIATELY CAPTURED THE DRIVE/]
 22649	054115	100000	074044			NOINH![ASCIZ/AWAY FROM PORT-A (BEFORE THE TIMEOUT)/]
 22650	054116	010000	057035			SUBRTN!PSRB
 22651	054117	420000	077771			LAST!HIPROB!DP
 22652
 22653	054120	000000	000000		TBD20B:	0,,0
 22654	054121	100000	074054			NOINH![ASCIZ/REQUEST HOLD FAULT.  PORT-B DID NOT RECEIVE AN ATA/]
 22655	054122	100000	074067			NOINH![ASCIZ/WHEN PORT-A RELEASED.  (PORT-B HAD REQUESTED)/]
 22656	054123	010000	057035			SUBRTN!PSRB
 22657	054124	420000	077771			LAST!HIPROB!DP
 22658
 22659					 	XLIST
 22660					 	LIST
 22661						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-318
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0735

 22662					S^;*********************************************************************^
 22663					;*DUAL21-CHECK "AUTO UNLOCK" FEATURE FROM PORT-B 
 22664					S^;*********************************************************************^
 22665
 22666					COMMENT	$
 22667
 22668						TEST DESCRIPTION
 22669						---------------- 
 22670						VERIFY THAT WE DON'T HANG ON A PORT IF IT IS REQUESTED
 22671						BUT NOT USED.
 22672						A.  CLEAR ALL ATA'S AND GO INTO NEUTRAL
 22673						B.  CAPTURE PORT-A BY READING THE CONTROL REGISTER
 22674						C.  REQUEST PORT-B BY READING ITS CONTROL REGISTER
 22675						D.  WAIT APPROX 3 SEC.  DRIVE SHOULD TIME OUT ON PORT-A,
 22676						    FLIP TO PORT-B BECAUSE OF THE REQUEST, TIMEOUT ON PORT-B
 22677						    AND FLIP BACK TO NEUTRAL
 22678						E.  READ STATUS AND VERIFY THAT WE ARE NOT HUNG
 22679						    ON ONE OF THE PORTS. 
 22680
 22681						RECOMMENDED DEBUG PROCEDURE
 22682						--------------------------- 
 22683						NONE 
 22684						$
 22685					 	SALL
 22686
 22687	054125	200 01 0 00 074101 	DUAL21:	MOVE	1,[SIXBIT/DUAL21/]
 22688	054126	261 17 0 00 000014 		PUT	DRIVE		;SAVE DRIVE
 22689	054127	261 17 0 00 000013 		PUT	MBCN		;AND CONTROLLER #
 22690	054130	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 22691	054131	262 17 0 00 000013 		GET	MBCN		;RESTTORE CTRLR #
 22692	054132	262 17 0 00 000014 		GET	DRIVE		;AND DRIVE #
 22693	054133	476 00 0 00 077307 		SETOM	NRHCS1		;INHIBIT READ OF RHCS1 FOR RAE TEST
 22694
 22695	054134	260 17 0 00 057044 	DP21L:	GO	NEUTRL		;GET INTO NEUTRAL
 22696	054135	260 17 0 00 055673 		GO	ONCHK		;GET ON-LINE
 22697	054136	260 17 0 00 057132 		GO 	CLRATA		;CLEAR ATA'S
 22698	054137	260 17 0 00 057044 		GO 	NEUTRL		;GO INTO NEUTRAL
 22699	054140	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;GET DRIVE TO PORT-A
 22700	054141	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 22701	054142	260 17 0 00 057576 		GO	RRPCS1		;CAPTURE PORT-A
 22702	054143	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 22703	054144	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 22704	054145	640 14 0 00 000001 		TRC	DRIVE,1		;POINT DRIVE TO OTHER PORT
 22705	054146	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 22706	054147	260 17 0 00 057576 		GO	RRPCS1		;CAUSE PORT-B REQUEST
 22707	054150	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 22708	054151	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 22709
 22710					;DRIVE NOW CAPTURED BY PORT-A WITH REQUEST ON PORT-B
 22711					;SIT IDLE FOR AT LEAST 2 SECONDS AND VERIFY THAT WE GET
 22712					;BACK INTO NEUTRAL
 22713
 22714	054152	260 17 0 00 057266 		GO	WAIT2		;2 SEC
 22715	054153	260 17 0 00 057261 		GO	WAIT1		;1 SEC
 22716
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-319
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0736

 22717					;SHOULD NOW BE IN NEUTRAL
 22718
 22719	054154	260 17 0 00 056767 		GO	RDSRA		;READ STATUS FROM PORT-A
 22720	054155	260 17 0 00 057002 		GO	RDSRB		;READ STATUS FROM PORT-B
 22721	054156	200 01 0 00 077332 		MOVE	1,SRA		;FETCH PORT-A STATUS
 22722	054157	606 01 0 00 177777 		TRNN	1,177777	;LOOK LIKE NEUTRAL FROM HERE?
 22723	054160	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 22724	054161	200 01 0 00 077333 		MOVE	1,SRB		;FETCH PORT-B STATUS
 22725	054162	606 01 0 00 177777 		TRNN	1,177777	;LOOK LIKE NEUTRAL FROM HERE?
 22726	054163	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 22727	054164	027 00 0 00 054203 		SCOPE	TBD21		;CALL SCOPE ROUTINE
 22728	054165	254 00 0 00 054134 		JRST	DP21L		;LOOP
 22729	054166	263 17 0 00 000000 		RTN			;CONTINUE
 22730
 22731					;I/O ROUTINE TO RELEASE IT FROM HUNG STATE
 22732
 22733	054167	261 17 0 00 000001 	DP2021:	PUT 1
 22734	054170	261 17 0 00 000014 		PUT DRIVE		;SAVE DRIVE NUMBER
 22735	054171	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;GET DRIVE FROM PORT-A
 22736	054172	200 01 0 00 077333 		MOVE	1,SRB		;FETCH B-STSTUS
 22737	054173	602 01 0 00 177777 		TRNE	1,177777	;HUNG ON PORT-A
 22738	054174	640 14 0 00 000001 		TRC	DRIVE,1		;NO. ADUST DRIVE NUMBER
 22739	054175	200 01 0 00 073674 		MOVE	1,[1B14!13]	;GET A RELEASE COMMAND
 22740	054176	260 17 0 00 057402 		GO	LRPCS1		;RELEASE FROM PORT	
 22741	054177	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 22742	054200	262 17 0 00 000014 		GET	DRIVE		;RESTORE DRIVE
 22743	054201	262 17 0 00 000001 		GET	1		;AND AC
 22744	054202	263 17 0 00 000000 		RTN			;EXIT
 22745
 22746					;SCOPE TABLE(S)
 22747
 22748	054203	054167	000000		TBD21:	DP2021,,0
 22749	054204	100000	074102			NOINH![ASCIZ/FAULTY "AUTO UNLOCK" LOGIC.  DRIVE HANGS ON PORT /]
 22750	054205	100000	074114			NOINH![ASCIZ/SEE LISTING FOR TEST DESCRIPTION/]
 22751	054206	010000	057021			SUBRTN!PSRA
 22752	054207	010000	057035			SUBRTN!PSRB
 22753	054210	420000	077771			LAST!HIPROB!DP
 22754
 22755					 	XLIST
 22756					 	LIST
 22757						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-320
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0737

 22758					S^;*********************************************************************^
 22759					;*DUAL22-CHECK "AUTO UNLOCK" FEATURE FROM PORT-A 
 22760					S^;*********************************************************************^
 22761
 22762					COMMENT	$
 22763
 22764						TEST DESCRIPTION
 22765						---------------- 
 22766						VERIFY THAT WE DON'T HANG ON A PORT IF IT IS REQUESTED
 22767						BUT NOT USED.
 22768						A.  CLEAR ALL ATA'S AND GO INTO NEUTRAL
 22769						B.  CAPTURE PORT-B BY READING THE CONTROL REGISTER
 22770						C.  REQUEST PORT-A BY READING ITS CONTROL REGISTER
 22771						D.  WAIT APPROX 3 SEC.  DRIVE SHOULD TIME OUT ON PORT-B
 22772						    FLIP TO PORT-A BECAUSE OF THE REQUEST, TIMEOUT ON
 22773						    PORT-A AND FLIP BACK TO NEUTRAL
 22774						E.  READ STATUS AND VERIFY THAT WE ARE NOT HUNG ON
 22775						    ONE OF THE PORTS 
 22776
 22777						RECOMMENDED DEBUG PROCEDURE
 22778						--------------------------- 
 22779						NONE 
 22780						$
 22781					 	SALL
 22782
 22783	054211	200 01 0 00 074123 	DUAL22:	MOVE	1,[SIXBIT/DUAL22/]
 22784	054212	261 17 0 00 000014 		PUT	DRIVE		;SAVE DRIVE
 22785	054213	261 17 0 00 000013 		PUT	MBCN		;AND CONTROLLER #
 22786	054214	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 22787	054215	262 17 0 00 000013 		GET	MBCN		;RESTTORE CTRLR #
 22788	054216	262 17 0 00 000014 		GET	DRIVE		;AND DRIVE #
 22789	054217	476 00 0 00 077307 		SETOM	NRHCS1		;INHIBIT READ OF RHCS1 FOR RAE TEST
 22790
 22791	054220	260 17 0 00 057044 	DP22L:	GO	NEUTRL		;GET INTO NEUTRAL
 22792	054221	260 17 0 00 055673 		GO	ONCHK		;GET ON-LINE
 22793	054222	260 17 0 00 057132 		GO	CLRATA		;CLEAR ATA'S
 22794	054223	260 17 0 00 057044 		GO 	NEUTRL		;GO INTO NEUTRAL
 22795	054224	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;POINT TO PORT-A
 22796	054225	640 14 0 00 000001 		TRC	DRIVE,1		;NOW TO PORT-B
 22797	054226	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 22798	054227	260 17 0 00 057576 		GO	RRPCS1		;CAPTURE PORT-B
 22799	054230	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 22800	054231	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 22801	054232	640 14 0 00 000001 		TRC	DRIVE,1		;POINT TO OTHER PORT
 22802	054233	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 22803	054234	260 17 0 00 057576 		GO	RRPCS1		;CAUSE PORT-A REQUEST
 22804	054235	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 22805	054236	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 22806
 22807					;DRIVE NOW CAPTURED BY PORT-B WITH A REQUEST ON PORT-B
 22808					;SIT IDLE FOR AT LEAST 2 SECONDS AND VERIFY THAT WE GET
 22809					;BACK INTO NEUTRAL
 22810
 22811	054237	260 17 0 00 057266 			GO	WAIT2	;2 SEC
 22812	054240	260 17 0 00 057261 		GO	WAIT1		;1 SEC
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-321
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0738

 22813
 22814					;SHOULD NOW BE IN NEUTRAL
 22815
 22816	054241	260 17 0 00 056767 		GO	RDSRA		;READ PORT-A STATUS
 22817	054242	260 17 0 00 057002 		GO	RDSRB		;READ PORT-B STATUS
 22818	054243	200 01 0 00 077332 		MOVE 	1,SRA		;GET PORT-A STATUS
 22819	054244	606 01 0 00 177777 		TRNN	1,177777	;LOOK LIKE NEUTRAL FROM HERE?
 22820	054245	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 22821	054246	200 01 0 00 077333 		MOVE	1,SRB		;GET PORT-B STATUS
 22822	054247	606 01 0 00 177777 		TRNN	1,177777	;LOOK LIKE NEUTRAL FROM HERE?
 22823	054250	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 22824	054251	027 00 0 00 054254 		SCOPE	TBD22		;CALL SCOPE ROUTINE
 22825	054252	254 00 0 00 054220 		JRST	DP22L		;LOOP
 22826	054253	263 17 0 00 000000 		RTN			;CONTINUE
 22827
 22828					;SCOPE TABLE(S)
 22829
 22830	054254	054167	000000		TBD22:	DP2021,,0
 22831	054255	040000	054204			GOTO!TBD21+1
 22832
 22833					 	XLIST
 22834					 	LIST
 22835						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-322
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0739

 22836					S^;*********************************************************************^
 22837					;*DUAL23-VERIFY THAT RHCLR WILL NOT RESET ATA IN NEURTAL 
 22838					S^;*********************************************************************^
 22839
 22840					COMMENT	$
 22841
 22842						TEST DESCRIPTION
 22843						---------------- 
 22844						1.  CAUSE ATA ON PORT-A  (RECAL)  
 22845						2.  CAUSE ATA ON PORT-B  (RECAL)
 22846						3.  ISSUE RHCLR
 22847						4.  READ STATUS FROM BOTH PORTS AND VERIFY THAT
 22848						    NEITHER ATA BIT HAS BEEN RESET 
 22849
 22850						RECOMMENDED DEBUG PROCEDURE
 22851						--------------------------- 
 22852						NONE 
 22853						$
 22854					 	SALL
 22855
 22856	054256	200 01 0 00 074124 	DUAL23:	MOVE	1,[SIXBIT/DUAL23/]
 22857	054257	261 17 0 00 000014 		PUT	DRIVE		;SAVE DRIVE
 22858	054260	261 17 0 00 000013 		PUT	MBCN		;AND CONTROLLER #
 22859	054261	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 22860	054262	262 17 0 00 000013 		GET	MBCN		;RESTTORE CTRLR #
 22861	054263	262 17 0 00 000014 		GET	DRIVE		;AND DRIVE #
 22862	054264	476 00 0 00 077307 		SETOM	NRHCS1		;INHIBIT READ OF RHCS1 FOR RAE TEST
 22863
 22864	054265	260 17 0 00 057044 	DP23L:	GO	NEUTRL		;GET INTO NEUTRAL
 22865	054266	260 17 0 00 055673 		GO	ONCHK		;GET ON-LINE
 22866	054267	260 17 0 00 057044 		GO	NEUTRL		;GET INTO NEUTRAL
 22867	054270	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;POINT TO PORT-A
 22868	054271	260 17 0 00 056136 		GO	.RECAL		;CAUSE ATA ON PORT-A
 22869	054272	476 00 0 00 000010 		SETOM	ERFLG		;SET THE ERROR FLAG
 22870	054273	260 17 0 00 057044 		GO	NEUTRL		;GET INTO NEUTRAL
 22871	054274	640 14 0 00 000001 		TRC	DRIVE,1		;POINT TO PORT-B
 22872	054275	260 17 0 00 056136 		GO	.RECAL		;CAUSE ATA ON PORT-B
 22873	054276	476 00 0 00 000010 		SETOM	ERFLG		;SET THE ERROR FLAG
 22874	054277	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;POINT BACK TO PORT-A
 22875	054300	260 17 0 00 057044 		GO	NEUTRL		;GET INTO NEUTRAL
 22876	054301	260 17 0 00 060723 		GO	MSTCLR		;ISSUE RH CLEAR
 22877	054302	260 17 0 00 056767 		GO	RDSRA		;READ STATUS FROM PORT-A
 22878	054303	260 17 0 00 057002 		GO	RDSRB		;READ STATUS FROM PORT-B
 22879	054304	200 01 0 00 077332 		MOVE	1,SRA		;GET PORT-A STATUS
 22880	054305	606 01 0 00 100000 		TRNN	1,1B20		;ATA SET ON PORT-A
 22881	054306	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 22882	054307	200 01 0 00 077333 		MOVE	1,SRB		;FETCH PORT-B STATUS
 22883	054310	606 01 0 00 100000 		TRNN	1,1B20		;IS ATA SET ON PORT-B
 22884	054311	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 22885	054312	027 00 0 00 054315 		SCOPE	TBD23		;CALL SCOPE ROUTINE
 22886	054313	254 00 0 00 054265 		JRST	DP23L		;LOOP
 22887	054314	263 17 0 00 000000 		RTN			;CONTINUE
 22888
 22889
 22890					;SCOPE TABLE(S)
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-323
DSRPA3	MAC	23-Feb-79 09:36		DUAL PORT SUBTESTS                                                                 SEQ 0740

 22891
 22892	054315	000000	000000		TBD23:	0,,0
 22893	054316	100000	074125			NOINH![ASCIZ/RHCLR HAS CAUSED ATA ON ONE PORT (AT LEAST)/]
 22894	054317	100000	074136			NOINH![ASCIZ/TO BE RESET/]
 22895	054320	010000	057021			SUBRTN!PSRA
 22896	054321	010000	057035			SUBRTN!PSRB
 22897	054322	420000	077771			LAST!HIPROB!DP
 22898
 22899					SUBTTL	RH11 SUBTESTS
 22900						XLIST
 22901					 	LIST
 22902						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-324
DSRPA3	MAC	23-Feb-79 09:36		RH11 SUBTESTS                                                                      SEQ 0741

 22903					S^;*********************************************************************^
 22904					;*RH11 TEST 1 -- FLOAT 1'S AND 0'S TO C00-C15 OF RHWC
 22905					S^;*********************************************************************^
 22906
 22907					COMMENT	$
 22908
 22909						TEST DESCRIPTION
 22910						---------------- 
 22911						THIS TEST GUARANTEES THAT THERE IS NO CROSS COUPLING BETWEEN
 22912						ANY OF THE BITS C00-C15 IN RHWC
 22913
 22914						RECOMMENDED DEBUG PROCEDURE
 22915						--------------------------- 
 22916						$
 22917					 	SALL
 22918
 22919
 22920	054323	200 01 0 00 074141 	RHTST1:	MOVE	1,[SIXBIT/RHTST1/]	;GET TEST NUMBER
 22921	054324	260 17 0 00 060630 		GO	TRACE		;CALL TRACE
 22922
 22923	054325	260 17 0 00 060522 	RHT1S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 22924	054326	263 17 0 00 000000 		RTN			;TRIED ALL
 22925	054327	476 00 0 00 077330 		SETOM	SHMODE		;SET SHORT PRINTOUT MODE
 22926	054330	200 03 0 00 074142 		MOVE	3,[POINT 18,CBDAT,17] ;INIT BYTE POINTER
 22927
 22928	054331	260 17 0 00 077352 	RHT1L:	GO	DEVREQ		;REQUEST DEVICE
 22929
 22930	054332	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 22931
 22932	054333	135 01 0 00 000003 		LDB	1,3		;FETCH DATA PATTERN
 22933	054334	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE IT
 22934	054335	661 01 0 00 000010 		TLO	1,(1B14)	;DON'T REPORT RAE
 22935	054336	260 17 0 00 057462 		GO	LRPWC		;LOAD RHWC
 22936	054337	661 01 0 00 000010 		TLO	1,(1B14)	;DON'T REPORT RAE'S
 22937	054340	260 17 0 00 057656 		GO	RRPWC		;READ RHWC
 22938
 22939	054341	135 00 0 00 063764 		LDB	0,[POINT 16,1,35] ;GET DATA FIELD
 22940	054342	312 00 0 00 077314 		CAME	0,PATRN		;IS DATA CORRECT?
 22941	054343	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 22942	054344	027 00 0 00 054352 		SCOPE	RH1TBL		;CALL SCOPE
 22943	054345	254 00 0 00 054331 		JRST	RHT1L		;LOOP
 22944	054346	255 00 0 00 000000 		JFCL			;CONTINUE
 22945
 22946					;UPDATE BYTE POINTER AND SEE IF DONE
 22947
 22948	054347	134 00 0 00 000003 		ILDB	0,3		;FETCHES NEXT BYTE
 22949	054350	322 00 0 00 054325 		JUMPE	0,RHT1S		;JUMP IF DONE
 22950	054351	254 00 0 00 054331 		JRST	RHT1L		;NOT DONE.
 22951
 22952
 22953					;SCOPE TABLE
 22954
 22955	054352	000000	062461		RH1TBL:	0,,REGPNT
 22956	054353	100000	074143			NOINH![ASCIZ/CAN'T FLOAT PATTERNS DOWN C00-C15 OF RHWC REG./]
 22957	054354	010000	032320			SUBRTN!EXPECT		;A SHARED PRINT ROUTINE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-325
DSRPA3	MAC	23-Feb-79 09:36		RH11 SUBTESTS                                                                      SEQ 0742

 22958	054355	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 22959
 22960
 22961
 22962
 22963						XLIST
 22964					 	LIST
 22965						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-326
DSRPA3	MAC	23-Feb-79 09:36		RH11 SUBTESTS                                                                      SEQ 0743

 22966					S^;*********************************************************************^
 22967					;*RH11 TEST 2 -- FLOAT 1'S AND 0'S TO C00-C15 OF RHBA
 22968					S^;*********************************************************************^
 22969
 22970					COMMENT	$
 22971
 22972						TEST DESCRIPTION
 22973						---------------- 
 22974						THIS TEST GUARANTEES THAT THERE IS NO CROSS COUPLING BETWEEN
 22975						ANY OF THE BITS C00-C15 IN RHBA
 22976
 22977						RECOMMENDED DEBUG PROCEDURE
 22978						--------------------------- 
 22979						$
 22980					 	SALL
 22981
 22982
 22983
 22984	054356	200 01 0 00 074155 	RHTST2:	MOVE	1,[SIXBIT/RHTST2/]	;GET TEST NUMBER
 22985	054357	260 17 0 00 060630 		GO	TRACE		;CALL TRACE
 22986
 22987	054360	260 17 0 00 060522 	RHT2S:	GO	DEVSEL		;SELECT DEVICE
 22988	054361	263 17 0 00 000000 		RTN			;TRIED ALL
 22989	054362	476 00 0 00 077330 		SETOM	SHMODE		;SET SHORT PRINTOUT MODE
 22990	054363	200 03 0 00 074142 		MOVE	3,[POINT 18,CBDAT,17] ;INIT BYTE POINTER
 22991
 22992	054364	260 17 0 00 077352 	RHT2L:	GO	DEVREQ		;REQUEST DEVICE
 22993
 22994	054365	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 22995
 22996	054366	135 01 0 00 000003 		LDB	1,3		;FETCH DATA PATTERN
 22997	054367	405 01 0 00 177776 		ANDI	1,177776	;REMEMBER, LSB ALWAYS ZERO!!
 22998	054370	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE IT
 22999	054371	661 01 0 00 000010 		TLO	1,(1B14)	;DON'T REPORT RAE
 23000	054372	260 17 0 00 057465 		GO	LRPBA		;LOAD RHBA
 23001	054373	661 01 0 00 000010 		TLO	1,(1B14)	;DON'T REPORT RAE'S
 23002	054374	260 17 0 00 057661 		GO	RRPBA		;READ RHBA
 23003
 23004	054375	135 00 0 00 063764 		LDB	0,[POINT 16,1,35] ;GET DATA FIELD
 23005	054376	405 00 0 00 177776 		ANDI	0,177776	;REMEMBER, LSB ALWAYS ZERO!!
 23006	054377	312 00 0 00 077314 		CAME	0,PATRN		;IS DATA CORRECT?
 23007	054400	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 23008	054401	027 00 0 00 054407 		SCOPE	RH2TBL		;CALL SCOPE
 23009	054402	254 00 0 00 054364 		JRST	RHT2L		;LOOP
 23010	054403	255 00 0 00 000000 		JFCL			;CONTINUE
 23011
 23012					;UPDATE BYTE POINTER AND SEE IF DONE
 23013
 23014	054404	134 00 0 00 000003 		ILDB	0,3		;FETCHES NEXT BYTE
 23015	054405	322 00 0 00 054360 		JUMPE	0,RHT2S		;JUMP IF DONE
 23016	054406	254 00 0 00 054364 		JRST	RHT2L		;NOT DONE.
 23017
 23018
 23019					;SCOPE TABLE
 23020
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-327
DSRPA3	MAC	23-Feb-79 09:36		RH11 SUBTESTS                                                                      SEQ 0744

 23021	054407	000000	062461		RH2TBL:	0,,REGPNT
 23022	054410	100000	074156			NOINH![ASCIZ/CAN'T FLOAT PATTERNS DOWN C00-C15 OF RHBA/]
 23023	054411	010000	032320			SUBRTN!EXPECT		;A SHARED PRINT ROUTINE
 23024	054412	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 23025
 23026
 23027
 23028						XLIST
 23029					 	LIST
 23030						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-328
DSRPA3	MAC	23-Feb-79 09:36		RH11 SUBTESTS                                                                      SEQ 0745

 23031					S^;*********************************************************************^
 23032					;*RH11 TEST 3 -- FLOAT 1'S AND 0'S TO C00-C15 OF RHDB
 23033					S^;*********************************************************************^
 23034
 23035					COMMENT	$
 23036
 23037						TEST DESCRIPTION
 23038						---------------- 
 23039						THIS TEST GUARANTEES THAT THERE IS NO CROSS COUPLING BETWEEN
 23040						ANY OF THE BITS C00-C15 IN RHDB
 23041
 23042						RECOMMENDED DEBUG PROCEDURE
 23043						--------------------------- 
 23044						$
 23045					 	SALL
 23046
 23047
 23048
 23049
 23050	054413	200 01 0 00 074167 	RHTST3:	MOVE	1,[SIXBIT/RHTST3/]	;GET TEST NUMBER
 23051	054414	260 17 0 00 060630 		GO	TRACE		;CALL TRACE
 23052
 23053	054415	260 17 0 00 060522 	RHT3S:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 23054	054416	263 17 0 00 000000 		RTN			;TRIED ALL
 23055	054417	476 00 0 00 077330 		SETOM	SHMODE		;SET SHORT PRINTOUT MODE
 23056	054420	200 03 0 00 074142 		MOVE	3,[POINT 18,CBDAT,17] ;INIT BYTE POINTER
 23057
 23058	054421	260 17 0 00 077352 	RHT3L:	GO	DEVREQ		;REQUEST DEVICE
 23059
 23060	054422	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 23061
 23062	054423	135 01 0 00 000003 		LDB	1,3		;FETCH DATA PATTERN
 23063	054424	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE IT
 23064	054425	661 01 0 00 000010 		TLO	1,(1B14)	;DON'T REPORT RAE
 23065	054426	260 17 0 00 057473 		GO	LRPDB		;LOAD RHDB
 23066	054427	661 01 0 00 000010 		TLO	1,(1B14)	;DON'T REPORT RAE'S
 23067	054430	260 17 0 00 057667 		GO	RRPDB		;READ RHDB
 23068
 23069	054431	135 00 0 00 063764 		LDB	0,[POINT 16,1,35] ;GET DATA FIELD
 23070	054432	312 00 0 00 077314 		CAME	0,PATRN		;IS DATA CORRECT?
 23071	054433	476 00 0 00 000010 		SETOM	ERFLG		;NO. ERROR
 23072	054434	027 00 0 00 054442 		SCOPE	RH3TBL		;CALL SCOPE
 23073	054435	254 00 0 00 054421 		JRST	RHT3L		;LOOP
 23074	054436	255 00 0 00 000000 		JFCL			;CONTINUE
 23075
 23076					;UPDATE BYTE POINTER AND SEE IF DONE
 23077
 23078	054437	134 00 0 00 000003 		ILDB	0,3		;FETCHES NEXT BYTE
 23079	054440	322 00 0 00 054415 		JUMPE	0,RHT3S		;JUMP IF DONE
 23080	054441	254 00 0 00 054421 		JRST	RHT3L		;NOT DONE.
 23081
 23082
 23083					;SCOPE TABLE
 23084
 23085	054442	000000	062461		RH3TBL:	0,,REGPNT
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-329
DSRPA3	MAC	23-Feb-79 09:36		RH11 SUBTESTS                                                                      SEQ 0746

 23086	054443	100000	074170			NOINH![ASCIZ/CAN'T FLOAT PATTERNS DOWN C00-C15 OF RHDB/]
 23087	054444	010000	032320			SUBRTN!EXPECT		;A SHARED PRINT ROUTINE
 23088	054445	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 23089
 23090
 23091
 23092						XLIST
 23093					 	LIST
 23094						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-330
DSRPA3	MAC	23-Feb-79 09:36		RH11 SUBTESTS                                                                      SEQ 0747

 23095					S^;*********************************************************************^
 23096					;*RH11 TEST 4 -- SILO TEST 1
 23097					S^;*********************************************************************^
 23098
 23099					COMMENT	$
 23100
 23101						TEST DESCRIPTION
 23102						---------------- 
 23103					 	TEST THE SILO BUFFER IN THE RH11 CONTROLLER.
 23104						A READ IS ATTEMPTED FROM AN EMPTY SILO, DATA LATE,
 23105						TRANSFER ERROR AND SPECIAL CONDITION SHOULD SET.
 23106						THEN LOADING A 1 INTO TRE SHOULD CLEAR DLT, TRE & SC.
 23107
 23108						RECOMMENDED DEBUG PROCEDURE
 23109						--------------------------- 
 23110						$
 23111					 	SALL
 23112
 23113
 23114	054446	200 01 0 00 074201 	RHTST4:	MOVE	1,[SIXBIT/RHTST4/]	;GET TEST NUMBER
 23115	054447	260 17 0 00 060630 		GO	TRACE		;CALL TRACE
 23116
 23117	054450	260 17 0 00 060522 	RHT4S:	GO	DEVSEL		;SELECT DEVICE
 23118	054451	263 17 0 00 000000 		RTN			;EXIT
 23119
 23120	054452	260 17 0 00 060723 	RHT4L:	GO	MSTCLR		;CLEAR ERRORS
 23121
 23122	054453	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23123	054454	260 17 0 00 057667 		GO	RRPDB		;SHOULD FORCE A DATA LATE ERROR
 23124
 23125	054455	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23126	054456	260 17 0 00 057664 		GO	RRPCS2		;READ RHCS2 REG.
 23127
 23128	054457	606 01 0 00 100000 		TRNN	1,100000	;SKIP IF DATA LATE SET
 23129	054460	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 23130	054461	027 00 0 00 054545 		SCOPE	RH4TB1		;CALL ERROR HANDLER
 23131	054462	254 00 0 00 054452 		JRST	RHT4L		;LOOP
 23132	054463	332 00 0 00 077273 		SKIPE	ERYET		;ERROR YET?
 23133	054464	254 00 0 00 054450 		JRST	RHT4S		;YES, GO SELECT NEXT
 23134	054465	255 00 0 00 000000 		JFCL			;NO, CONTINUE
 23135
 23136	054466	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23137	054467	260 17 0 00 057576 		GO	RRPCS1		;READ RHCS1 REG.
 23138	054470	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 23139	054471	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 23140	054472	606 01 0 00 040000 		TRNN	1,40000		;SKIP IF TRE SET
 23141	054473	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 23142	054474	027 00 0 00 054550 		SCOPE	RH4TB2		;CALL ERROR HANDLER
 23143	054475	254 00 0 00 054452 		JRST	RHT4L		;LOOP
 23144	054476	332 00 0 00 077273 		SKIPE	ERYET		;ERROR YET?
 23145	054477	254 00 0 00 054450 		JRST	RHT4S		;YES, GO SELECT NEXT
 23146	054500	255 00 0 00 000000 		JFCL			;NO, CONTINUE
 23147
 23148	054501	606 01 0 00 100000 		TRNN	1,100000	;SKIP IF SC SET
 23149	054502	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-331
DSRPA3	MAC	23-Feb-79 09:36		RH11 SUBTESTS                                                                      SEQ 0748

 23150	054503	027 00 0 00 054553 		SCOPE	RH4TB3		;CALL ERROR HANDLER
 23151	054504	254 00 0 00 054452 		JRST	RHT4L		;LOOP
 23152	054505	332 00 0 00 077273 		SKIPE	ERYET		;ERROR YET?
 23153	054506	254 00 0 00 054450 		JRST	RHT4S		;YES, GO SELECT NEXT
 23154	054507	255 00 0 00 000000 		JFCL			;NO, CONTINUE
 23155
 23156	054510	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23157	054511	660 01 0 00 040000 		TRO	1,40000		;SET BIT C14
 23158	054512	260 17 0 00 057402 		GO	LRPCS1		;SHOULD CLEAR OUT DLT,TRE, AND SC
 23159	054513	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 23160	054514	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23161	054515	260 17 0 00 057664 		GO	RRPCS2		;READ RHCS2 REG.
 23162	054516	602 01 0 00 100000 		TRNE	1,100000	;SKIP IF DATA LATE CLEARED
 23163	054517	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 23164	054520	027 00 0 00 054556 		SCOPE	RH4TB4		;CALL ERROR HANDLER
 23165	054521	254 00 0 00 054452 		JRST	RHT4L		;LOOP
 23166	054522	332 00 0 00 077273 		SKIPE	ERYET		;ERROR YET?
 23167	054523	254 00 0 00 054450 		JRST	RHT4S		;YES, GO SELECT NEXT
 23168	054524	255 00 0 00 000000 		JFCL			;NO, CONTINUE
 23169
 23170	054525	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23171	054526	260 17 0 00 057576 		GO	RRPCS1		;READ RHCS1 REG.
 23172	054527	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 23173	054530	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 23174	054531	602 01 0 00 040000 		TRNE	1,40000		;SKIP IF TRE CLEARED
 23175	054532	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 23176	054533	027 00 0 00 054561 		SCOPE	RH4TB5		;CALL ERROR HANDLER
 23177	054534	254 00 0 00 054452 		JRST	RHT4L		;LOOP
 23178	054535	332 00 0 00 077273 		SKIPE	ERYET		;ERROR YET?
 23179	054536	254 00 0 00 054450 		JRST	RHT4S		;YES, GO SELECT NEXT
 23180	054537	255 00 0 00 000000 		JFCL			;NO, CONTINUE
 23181
 23182	054540	602 01 0 00 100000 		TRNE	1,100000	;SKIP IF SC CLEARED
 23183	054541	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 23184	054542	027 00 0 00 054564 		SCOPE	RH4TB6		;CALL ERROR HANDLER
 23185	054543	254 00 0 00 054452 		JRST	RHT4L		;LOOP
 23186									;OR
 23187	054544	254 00 0 00 054450 		JRST	RHT4S		;DONE, GO SELECT NEXT
 23188
 23189					;SCOPE TABLE
 23190	054545	057274	057316		RH4TB1:	SNAPS,,DUMPS
 23191	054546	100000	074202			NOINH![ASCIZ/ERROR DETECTED - DLT BIT DID NOT SET/]
 23192	054547	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 23193
 23194					;SCOPE TABLE
 23195	054550	057274	057316		RH4TB2:	SNAPS,,DUMPS
 23196	054551	100000	074212			NOINH![ASCIZ/ERROR DETECTED - TRE BIT DID NOT SET/]
 23197	054552	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 23198
 23199					;SCOPE TABLE
 23200	054553	057274	057316		RH4TB3:	SNAPS,,DUMPS
 23201	054554	100000	074222			NOINH![ASCIZ/ERROR DETECTED - SC BIT DID NOT SET/]
 23202	054555	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 23203
 23204					;SCOPE TABLE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-332
DSRPA3	MAC	23-Feb-79 09:36		RH11 SUBTESTS                                                                      SEQ 0749

 23205	054556	057274	057316		RH4TB4:	SNAPS,,DUMPS
 23206	054557	100000	074232			NOINH![ASCIZ/ERROR DETECTED - DLT BIT DID NOT CLEAR/]
 23207	054560	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 23208
 23209					;SCOPE TABLE
 23210	054561	057274	057316		RH4TB5:	SNAPS,,DUMPS
 23211	054562	100000	074242			NOINH![ASCIZ/ERROR DETECTED - TRE BIT DID NOT CLEAR/]
 23212	054563	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 23213
 23214					;SCOPE TABLE
 23215	054564	057274	057316		RH4TB6:	SNAPS,,DUMPS
 23216	054565	100000	074252			NOINH![ASCIZ/ERROR DETECTED - SC BIT DID NOT CLEAR/]
 23217	054566	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 23218
 23219
 23220						XLIST
 23221					 	LIST
 23222						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-333
DSRPA3	MAC	23-Feb-79 09:36		RH11 SUBTESTS                                                                      SEQ 0750

 23223					S^;*********************************************************************^
 23224					;*RH11 TEST 5 -- SILO TEST 2
 23225					S^;*********************************************************************^
 23226
 23227					COMMENT	$
 23228
 23229						TEST DESCRIPTION
 23230						---------------- 
 23231					 	TEST THE 'IR' AND 'OR' BITS OF RHCS2.
 23232						AT THE BEGINNING 'IR' SHOULD BE SET AND 'OR' RESET.
 23233						FIRST AN ALL ZEROES WORD IS LOADED INTO THE SILO VIA RHDB, AND
 23234						THEN AN ALL 1'S WORD IS LOADED INTO THE SILO, 'OR' SHOULD
 23235						BECOME SET IN 30 MICROSECONDS, AGAIN THE TIME IS NOT CHECKED
 23236						BUT 'OR' SHOULD BE SET. THE OUTPUT FROM THE SILO SHOULD BE AN
 23237						ALL 0 WORD AND THEN AN ALL 1 WORD.
 23238
 23239						RECOMMENDED DEBUG PROCEDURE
 23240						--------------------------- 
 23241						$
 23242					 	SALL
 23243
 23244
 23245
 23246
 23247	054567	200 01 0 00 074262 	RHTST5:	MOVE	1,[SIXBIT/RHTST5/]	;GET TEST NUMBER
 23248	054570	260 17 0 00 060630 		GO	TRACE		;CALL TRACE
 23249
 23250	054571	260 17 0 00 060522 	RHT5S:	GO	DEVSEL		;SELECT DEVICE
 23251	054572	263 17 0 00 000000 		RTN			;EXIT
 23252
 23253	054573	260 17 0 00 060723 	RHT5L:	GO	MSTCLR		;CLEAR ERRORS
 23254
 23255	054574	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23256	054575	260 17 0 00 057664 		GO	RRPCS2		;READ RHCS2 REG.
 23257	054576	606 01 0 00 000100 		TRNN	1,100		;SKIP IF INPUT READY BIT SET
 23258	054577	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 23259	054600	027 00 0 00 054657 		SCOPE	RH5TB1		;CALL ERROR HANDLER
 23260	054601	254 00 0 00 054573 		JRST	RHT5L		;LOOP
 23261	054602	332 00 0 00 077273 		SKIPE	ERYET		;ERROR YET?
 23262	054603	254 00 0 00 054571 		JRST	RHT5S		;YES, GO SELECT NEXT
 23263	054604	255 00 0 00 000000 		JFCL			;NO, CONTINUE
 23264
 23265	054605	602 01 0 00 000200 		TRNE	1,200		;SKIP IF OUTPUT READY BIT CLEAR
 23266	054606	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 23267	054607	027 00 0 00 054662 		SCOPE	RH5TB2		;CALL ERROR HANDLER
 23268	054610	254 00 0 00 054573 		JRST	RHT5L		;LOOP
 23269	054611	332 00 0 00 077273 		SKIPE	ERYET		;ERROR YET?
 23270	054612	254 00 0 00 054571 		JRST	RHT5S		;YES, GO SELECT NEXT
 23271	054613	255 00 0 00 000000 		JFCL			;NO, CONTINUE
 23272
 23273	054614	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23274	054615	260 17 0 00 057473 		GO	LRPDB		;LOAD RHDB WITH 0'S
 23275	054616	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23276	054617	660 01 0 00 177777 		TRO	1,177777	;SET TO ALL 1'S
 23277	054620	260 17 0 00 057473 		GO	LRPDB		;LOAD RHDB WITH 1'S
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-334
DSRPA3	MAC	23-Feb-79 09:36		RH11 SUBTESTS                                                                      SEQ 0751

 23278	
 23279	054621	205 01 0 00 000010 	RHT5A:	MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23280	054622	260 17 0 00 057664 		GO	RRPCS2		;READ RHCS2 REG.
 23281	054623	606 01 0 00 000200 		TRNN	1,200		;SKIP IF OUTPUT READY SET
 23282	054624	260 17 0 00 057253 		GO	WAIT.5		;OR WAIT AWHILE
 23283
 23284	054625	606 01 0 00 000200 		TRNN	1,200		;SKIP IF OUTPUT READY SET
 23285	054626	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 23286	054627	027 00 0 00 054665 		SCOPE	RH5TB3		;CALL ERROR HANDLER
 23287	054630	254 00 0 00 054573 		JRST	RHT5L		;LOOP
 23288	054631	332 00 0 00 077273 		SKIPE	ERYET		;ERROR YET?
 23289	054632	254 00 0 00 054571 		JRST	RHT5S		;YES, GO SELECT NEXT
 23290	054633	255 00 0 00 000000 		JFCL			;NO, CONTINUE
 23291
 23292	054634	402 00 0 00 000002 		SETZM	2		;CLEAR AC2
 23293	054635	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23294	054636	260 17 0 00 057667 		GO	RRPDB		;READ RHDB REG.
 23295	054637	621 01 0 00 777777 		TLZ	1,-1		;CLEAR LEFT HALF
 23296	054640	312 01 0 00 000002 		CAME	1,2		;THE FIRST WORD OUT SHOULD BE ALL ZEROES
 23297	054641	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 23298	054642	027 00 0 00 054670 		SCOPE	RH5TB4		;CALL ERROR HANDLER
 23299	054643	254 00 0 00 054573 		JRST	RHT5L		;LOOP
 23300	054644	332 00 0 00 077273 		SKIPE	ERYET		;ERROR YET?
 23301	054645	254 00 0 00 054571 		JRST	RHT5S		;YES, GO SELECT NEXT
 23302	
 23303	054646	201 02 0 00 177777 		MOVEI	2,177777	;SET UP ALL 1'S
 23304	054647	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23305	054650	260 17 0 00 057667 		GO	RRPDB		;READ RHDB REG.
 23306	054651	621 01 0 00 777777 		TLZ	1,-1		;CLEAR LEFT HALF
 23307	054652	312 01 0 00 000002 		CAME	1,2		;SKIP IF SECOND WORD OUT ALL 1'S
 23308	054653	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 23309	054654	027 00 0 00 054673 		SCOPE	RH5TB5		;CALL ERROR HANDLER
 23310	054655	254 00 0 00 054573 		JRST	RHT5L		;LOOP
 23311									;OR
 23312	054656	254 00 0 00 054571 		JRST	RHT5S		;DONE, GO SELECT NEXT
 23313
 23314					;SCOPE TABLE
 23315	054657	057274	057316		RH5TB1:	SNAPS,,DUMPS
 23316	054660	100000	074263			NOINH![ASCIZ/IR BIT DID NOT SET AFTER INITIALIZATION/]
 23317	054661	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 23318
 23319					;SCOPE TABLE
 23320	054662	057274	057316		RH5TB2:	SNAPS,,DUMPS
 23321	054663	100000	074273			NOINH![ASCIZ/OR BIT SET AFTER INITIALIZATION/]
 23322	054664	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 23323
 23324					;SCOPE TABLE
 23325	054665	057274	057316		RH5TB3:	SNAPS,,DUMPS
 23326	054666	100000	074302			NOINH![ASCIZ/OUTPUT READY DID NOT SET AFTER LOADING A WORD/]
 23327	054667	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 23328
 23329					;SCOPE TABLE
 23330	054670	057274	057316		RH5TB4:	SNAPS,,DUMPS
 23331	054671	100000	074314			NOINH![ASCIZ/FIRST WORD OUT OF THE SILO SHOULD HAVE BEEN ALL ZEROS/]
 23332	054672	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-335
DSRPA3	MAC	23-Feb-79 09:36		RH11 SUBTESTS                                                                      SEQ 0752

 23333
 23334					;SCOPE TABLE
 23335	054673	057274	057316		RH5TB5:	SNAPS,,DUMPS
 23336	054674	100000	074327			NOINH![ASCIZ/SECOND WORD OUT OF THE SILO SHOULD HAVE BEEN ALL ONES/]
 23337	054675	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 23338
 23339
 23340
 23341
 23342						XLIST
 23343					 	LIST
 23344						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-336
DSRPA3	MAC	23-Feb-79 09:36		RH11 SUBTESTS                                                                      SEQ 0753

 23345					S^;*********************************************************************^
 23346					;*RH11 TEST 6 -- SILO TEST 3
 23347					S^;*********************************************************************^
 23348
 23349					COMMENT	$
 23350
 23351						TEST DESCRIPTION
 23352						---------------- 
 23353					 	TEST THE SILO BUFFER BY FILLING IT WITH A COUNT OF 0 TO 65
 23354						AND THEN CHECKING IF 'IR' IS DOWN AND 'OR' IS HIGH AND 
 23355						READING AND VERIFING THE SILO OUTPUT.
 23356
 23357						RECOMMENDED DEBUG PROCEDURE
 23358						--------------------------- 
 23359						$
 23360					 	SALL
 23361
 23362
 23363
 23364	054676	200 01 0 00 074342 	RHTST6:	MOVE	1,[SIXBIT/RHTST6/]	;GET TEST NUMBER
 23365	054677	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 23366
 23367	054700	260 17 0 00 060522 	RHT6S:	GO	DEVSEL		;SELECT DEVICE
 23368	054701	263 17 0 00 000000 		RTN			;EXIT
 23369
 23370	054702	260 17 0 00 060723 	RHT6L:	GO	MSTCLR		;CLEAR ERRORS
 23371
 23372	054703	201 03 0 00 000101 		MOVEI	3,^D65		;INITIALIZE SILO COUNT
 23373	054704	200 01 0 00 000003 		MOVE	1,3		;PUT INTO AC1
 23374	054705	661 01 0 00 000010 		TLO	1,(1B14)	;DON'T REPORT RAE'S
 23375	054706	260 17 0 00 057473 		GO	LRPDB		;LOAD RHDB REG.
 23376	054707	365 03 0 00 054704 		SOJGE	3,.-3		;AND LOOP, FILLING ALL OF SILO
 23377
 23378	054710	661 01 0 00 000010 		TLO	1,(1B14)	;DON'T REPORT RAE'S
 23379	054711	260 17 0 00 057664 		GO	RRPCS2		;READ RHCS2 REG.
 23380	054712	602 01 0 00 000100 		TRNE	1,100		;SKIP IF INPUT READY BIT CLEARED
 23381	054713	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 23382	054714	027 00 0 00 054744 		SCOPE	RH6TB1		;CALL ERROR HANDLER
 23383	054715	254 00 0 00 054702 		JRST	RHT6L		;LOOP
 23384	054716	332 00 0 00 077273 		SKIPE	ERYET		;ERROR YET?
 23385	054717	254 00 0 00 054700 		JRST	RHT6S		;YES, GO SELECT NEXT
 23386	054720	255 00 0 00 000000 		JFCL			;NO, CONTINUE
 23387
 23388	054721	606 01 0 00 000200 		TRNN	1,200		;SKIP IF OUTPUT READY BIT SET
 23389	054722	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 23390	054723	027 00 0 00 054747 		SCOPE	RH6TB2		;CALL ERROR HANDLER
 23391	054724	254 00 0 00 054702 		JRST	RHT6L		;LOOP
 23392	054725	332 00 0 00 077273 		SKIPE	ERYET		;ERROR YET?
 23393	054726	254 00 0 00 054700 		JRST	RHT6S		;YES, GO SELECT NEXT
 23394	054727	255 00 0 00 000000 		JFCL			;NO, CONTINUE
 23395
 23396	054730	201 03 0 00 000101 		MOVEI	3,^D65		;RE-INITIALIZE SILO INDEX
 23397	054731	205 01 0 00 000010 	RHT6A:	MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23398	054732	260 17 0 00 057667 		GO	RRPDB		;READ RHDB REG.
 23399	054733	621 01 0 00 777777 		TLZ	1,-1		;CLEAR LEFT HALF
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-337
DSRPA3	MAC	23-Feb-79 09:36		RH11 SUBTESTS                                                                      SEQ 0754

 23400	054734	312 01 0 00 000003 		CAME	1,3		;SKIP IF SILO DATA OK
 23401	054735	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 23402	054736	027 00 0 00 054752 		SCOPE	RH6TB3		;CALL ERROR HANDLER
 23403	054737	254 00 0 00 054702 		JRST	RHT6L		;LOOP
 23404	054740	332 00 0 00 077273 		SKIPE	ERYET		;ERROR YET?
 23405	054741	254 00 0 00 054700 		JRST	RHT6S		;YES, GO SELECT NEXT
 23406	054742	365 03 0 00 054731 		SOJGE	3,RHT6A		;LOOP UNTIL THEY ARE ALL DONE
 23407									;OR
 23408	054743	254 00 0 00 054700 		JRST	RHT6S		;DONE, GO SELECT NEXT
 23409
 23410					;SCOPE TABLE
 23411	054744	057274	057316		RH6TB1:	SNAPS,,DUMPS
 23412	054745	100000	074343			NOINH![ASCIZ/IR BIT DID NOT CLEAR AFTER THE SILO WAS FILLED/]
 23413	054746	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 23414
 23415					;SCOPE TABLE
 23416	054747	057274	057316		RH6TB2:	SNAPS,,DUMPS
 23417	054750	100000	074355			NOINH![ASCIZ/OR BIT WAS NOT SET AFTER THE SILO WAS FILLED/]
 23418	054751	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 23419
 23420					;SCOPE TABLE
 23421	054752	057274	057316		RH6TB3:	SNAPS,,DUMPS
 23422	054753	100000	074366			NOINH![ASCIZ/DATA RETURNED FROM THE SILO WAS INCORRECT/]
 23423	054754	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 23424
 23425
 23426						XLIST
 23427					 	LIST
 23428						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-338
DSRPA3	MAC	23-Feb-79 09:36		RH11 SUBTESTS                                                                      SEQ 0755

 23429					S^;*********************************************************************^
 23430					;*RH11 TEST 7 -- SILO TEST 4
 23431					S^;*********************************************************************^
 23432
 23433					COMMENT	$
 23434
 23435						TEST DESCRIPTION
 23436						---------------- 
 23437					 	67 WORDS ARE NOW WRITTEN INTO THE SILO AND THIS SHOULD CAUSE
 23438						A DATA LATE CONDITION.  EVEN AFER THE 67TH WORD INPUT THE OUTPUT
 23439						FIRST WORD SHOULD NOT CHANGE.
 23440
 23441						RECOMMENDED DEBUG PROCEDURE
 23442						--------------------------- 
 23443						$
 23444					 	SALL
 23445
 23446
 23447
 23448
 23449	054755	200 01 0 00 074377 	RHTST7:	MOVE	1,[SIXBIT/RHTST7/]	;GET TEST NUMBER
 23450	054756	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 23451
 23452	054757	260 17 0 00 060522 	RHT7S:	GO	DEVSEL		;SELECT A DEVICE
 23453	054760	263 17 0 00 000000 		RTN			;EXIT
 23454
 23455	054761	260 17 0 00 060723 	RHT7L:	GO	MSTCLR		;CLEAR ERRORS
 23456
 23457	054762	201 01 0 00 070707 		MOVEI	1,070707	;GET FIRST WORD OF SILO PATTERN
 23458	054763	202 01 0 00 077314 		MOVEM	1,PATRN		;SAVE IT IN MEMORY
 23459	054764	661 01 0 00 000010 		TLO	1,(1B14)	;DON'T REPORT RAE'S
 23460	054765	260 17 0 00 057473 		GO	LRPDB		;LOAD RHDB REG.
 23461
 23462	054766	201 01 0 00 052525 		MOVEI	1,52525		;STUFF REST OF SILO WITH ANOTHER PTRN
 23463	054767	201 03 0 00 000102 		MOVEI	3,^D66		;INITIALIZE SILO COUNT
 23464	054770	661 01 0 00 000010 	RHT7A:	TLO	1,(1B14)	;DON'T REPORT RAE'S
 23465	054771	260 17 0 00 057473 		GO	LRPDB		;LOAD RHDB REG.
 23466	054772	365 03 0 00 054770 		SOJGE	3,RHT7A		;AND LOOP TO FILL IT ALL UP
 23467
 23468	054773	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23469	054774	260 17 0 00 057664 		GO	RRPCS2		;READ RHCS2 REG.
 23470	054775	606 01 0 00 100000 		TRNN	1,100000	;SKIP IF DATA LATE BIT SET OK
 23471	054776	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 23472	054777	027 00 0 00 055014 		SCOPE	RH7TB1		;CALL ERROR HANDLER
 23473	055000	254 00 0 00 054761 		JRST	RHT7L		;LOOP
 23474	055001	332 00 0 00 077273 		SKIPE	ERYET		;ERROR YET?
 23475	055002	254 00 0 00 054757 		JRST	RHT7S		;YES, GO SELECT NEXT
 23476	055003	255 00 0 00 000000 		JFCL			;NO, CONTINUE
 23477
 23478	055004	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23479	055005	260 17 0 00 057667 		GO	RRPDB		;READ RHDB REG.
 23480	055006	621 01 0 00 777777 		TLZ	1,-1		;CLEAR LEFT HALF
 23481	055007	312 01 0 00 077314 		CAME	1,PATRN		;SKIP IF FIRST WORD UNCHANGED
 23482	055010	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 23483	055011	027 00 0 00 055017 		SCOPE	RH7TB2		;CALL ERROR HANDLER
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-339
DSRPA3	MAC	23-Feb-79 09:36		RH11 SUBTESTS                                                                      SEQ 0756

 23484	055012	254 00 0 00 054761 		JRST	RHT7L		;LOOP
 23485									;OR
 23486	055013	254 00 0 00 054757 		JRST	RHT7S		;DONE, GO SELECT NEXT
 23487
 23488
 23489
 23490					;SCOPE TABLE
 23491	055014	057274	057316		RH7TB1:	SNAPS,,DUMPS
 23492	055015	100000	074400			NOINH![ASCIZ/DLT BIT DID NOT SET AFTER A SILO OVERFLOW/]
 23493	055016	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 23494
 23495					;SCOPE TABLE
 23496	055017	057274	057316		RH7TB2:	SNAPS,,DUMPS
 23497	055020	100000	074411			NOINH![ASCIZ/THE FIRST WORD IN THE SILO CHANGED WITH OVERFLOW/]
 23498	055021	100000	074423			NOINH![ASCIZ/CONDITION, SHOULD NOT HAVE BEEN AFFECTED/]
 23499	055022	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 23500
 23501
 23502						XLIST
 23503					 	LIST
 23504						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-340
DSRPA3	MAC	23-Feb-79 09:36		RH11 SUBTESTS                                                                      SEQ 0757

 23505					S^;*********************************************************************^
 23506					;*RH11 TEST 10 -- SILO TEST 5
 23507					S^;*********************************************************************^
 23508
 23509					COMMENT	$
 23510
 23511						TEST DESCRIPTION
 23512						---------------- 
 23513					 	THE SILO IS LOADED WITH 0,1,2,3 THEN AFTER 'OR' IS SET A CLEAR
 23514						TO RHCS2 IS DONE, THEN 4 IS LOADED INTO THE SILO.  AFTER 'OR'
 23515						IS SET 2 READS FROM THE SILO ARE DONE, ON THE LAST 'DLT' IN
 23516						RHCS2 SHOULD BE SET.
 23517
 23518						RECOMMENDED DEBUG PROCEDURE
 23519						--------------------------- 
 23520						$
 23521					 	SALL
 23522
 23523
 23524
 23525	055023	200 01 0 00 074434 	RHTS10:	MOVE	1,[SIXBIT/RHTS10/]	;GET TEST NUMBER
 23526	055024	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 23527
 23528	055025	260 17 0 00 060522 	RHT10S:	GO	DEVSEL		;SELECT A DEVICE
 23529	055026	263 17 0 00 000000 		RTN			;EXIT
 23530	055027	402 00 0 00 000001 		SETZM	1		;CLEAR AC1
 23531
 23532	055030	260 17 0 00 060723 	RHT10L:	GO	MSTCLR		;CLEAR ERRORS
 23533
 23534	055031	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23535	055032	260 17 0 00 057473 		GO	LRPDB		;LOAD RHDB REG.
 23536	055033	340 01 0 00 000000 		AOJ	1,		;INCREMENT SILO COUNT
 23537	055034	621 01 0 00 777777 		TLZ	1,-1		;STRIP THE LEFT HALF
 23538	055035	305 01 0 00 000004 		CAIGE	1,4		;TEST, WE ONLY WANT TO DO 0,1,2,3
 23539	055036	254 00 0 00 055033 		JRST	RHT10L+3	;GO BACK IF NOT DONE
 23540
 23541	055037	201 00 0 00 001750 		MOVEI	^D1000		;AMPLY LONG TIMING LOOP
 23542
 23543	055040	205 01 0 00 000010 	RHT10B:	MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23544	055041	260 17 0 00 057664 		GO	RRPCS2		;READ RHCS2 REG.
 23545	055042	606 01 0 00 000200 		TRNN	1,200		;SKIP IF OUTPUT READY SET
 23546	055043	365 00 0 00 055040 		SOJGE	RHT10B		;ELSE LOOP
 23547
 23548	055044	606 01 0 00 000200 		TRNN	1,200		;SKIP IF OUTPUT READY SET
 23549	055045	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 23550	055046	027 00 0 00 055112 		SCOPE	RH10TA		;CALL ERROR HANDLER
 23551	055047	254 00 0 00 055030 		JRST	RHT10L		;LOOP
 23552	055050	332 00 0 00 077273 		SKIPE	ERYET		;ERROR YET?
 23553	055051	254 00 0 00 055025 		JRST	RHT10S		;YES, GO SELECT NEXT
 23554	055052	255 00 0 00 000000 		JFCL			;NO, CONTINUE
 23555
 23556	055053	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23557	055054	660 01 0 00 000040 		TRO	1,40		;SET THE CLR BIT
 23558	055055	434 01 0 00 000014 		IOR	1,DRIVE		;PUT IN DRIVE #
 23559	055056	260 17 0 00 057470 		GO	LRPCS2		;LOAD RHCS2 REG.
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-341
DSRPA3	MAC	23-Feb-79 09:36		RH11 SUBTESTS                                                                      SEQ 0758

 23560
 23561	055057	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23562	055060	660 01 0 00 000004 		TRO	1,4		;LOAD "4" INTO RHDB
 23563	055061	434 01 0 00 000014 		IOR	1,DRIVE		;PUT IN DRIVE #
 23564	055062	260 17 0 00 057473 		GO	LRPDB		;LOAD RHDB REG. WITH "4"
 23565	055063	201 00 0 00 001750 		MOVEI	^D1000		;AMPLY LONG TINING LOOP
 23566	055064	205 01 0 00 000010 	RHT10C:	MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23567	055065	260 17 0 00 057664 		GO	RRPCS2		;READ RHCS2 REG.
 23568	055066	606 01 0 00 000200 		TRNN	1,200		;SKIP IF OUTPUT READY SET
 23569	055067	365 00 0 00 055064 		SOJGE	RHT10C		;ELSE LOOP
 23570
 23571	055070	606 01 0 00 000200 		TRNN	1,200		;SKIP IF OUTPUT READY SET
 23572	055071	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 23573	055072	027 00 0 00 055115 		SCOPE	RH10TB		;CALL ERROR HANDLER
 23574	055073	254 00 0 00 055030 		JRST	RHT10L		;LOOP
 23575	055074	332 00 0 00 077273 		SKIPE	ERYET		;ERROR YET?
 23576	055075	254 00 0 00 055025 		JRST	RHT10S		;YES, GO SELECT NEXT
 23577	055076	255 00 0 00 000000 		JFCL			;NO, CONTINUE
 23578
 23579	055077	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23580	055100	260 17 0 00 057667 		GO	RRPDB		;READ RHDB REG.
 23581	055101	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23582	055102	260 17 0 00 057667 		GO	RRPDB		;READ RHDB REG.(SHOULD CAUSE DLT)
 23583
 23584	055103	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23585	055104	260 17 0 00 057664 		GO	RRPCS2		;READ RHCS2 REG.
 23586	055105	606 01 0 00 100000 		TRNN	1,100000	;SKIP IF DATA LATE SET OK
 23587	055106	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 23588	055107	027 00 0 00 055120 		SCOPE	RH10TC		;CALL ERROR HANDLER
 23589	055110	254 00 0 00 055030 		JRST	RHT10L		;LOOP
 23590									;OR
 23591	055111	254 00 0 00 055025 		JRST	RHT10S		;DONE, GO SELECT NEXT
 23592
 23593					;SCOPE TABLE
 23594	055112	057274	057316		RH10TA:	SNAPS,,DUMPS
 23595	055113	100000	074435			NOINH![ASCIZ/OUTPUT READY BIT DID NOT SET AFTER SILO WAS LOADED/]
 23596	055114	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 23597
 23598					;SCOPE TABLE
 23599	055115	057274	057316		RH10TB:	SNAPS,,DUMPS
 23600	055116	100000	074450			NOINH![ASCIZ/OUTPUT READY DID NOT SET AFTER THE SILO WAS LOADED/]
 23601	055117	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 23602
 23603					;SCOPE TABLE
 23604	055120	057274	057316		RH10TC:	SNAPS,,DUMPS
 23605	055121	100000	074463			NOINH![ASCIZ/DATA LATE DID NOT SET AFTER 2 SILO READS/]
 23606	055122	120000	073723			LAST!NOINH![ASCIZ/MODULE CALLOUT IMPOSSIBLE/]
 23607
 23608					SUBTTL	RP06 HEAD ALIGNMENT VERIFICATION TEST
 23609					 	XLIST
 23610					 	LIST
 23611						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1
DSRPA4	MAC	15-Feb-79 15:46		RP06 HEAD ALIGNMENT VERIFICATION TEST                                              SEQ 0759

 23612					S^;*********************************************************************^
 23613					;*ALIGN -- HEAD ALIGNMENT VERIFICATION TEST
 23614					S^;*********************************************************************^
 23615
 23616					COMMENT	$
 23617
 23618						TEST DESCRIPTION
 23619						---------------- 
 23620						THIS TEST WILL OPERATE ON ALL DRIVES UNDER TEST
 23621
 23622						THE OVERALL HEAD ALIGNMENT FOR A DRIVE IS VERIFIED
 23623						IN THE FOLLOWING MANNER.
 23624						 1. RECALIBRATE THE POSITIONER
 23625						 2. SEEK TO CYLINDER 496.
 23626						 3. VERIFY ALIGNMENT OF HEADS 0 THRU 18.
 23627						 4. SEEK TO CYLINDER 8
 23628						 5. VERIFY THE ALIGNMENT OF HEADS 0,1 AND 17.,18.
 23629						 6. SEEK TO CYLINDER 800.
 23630						 7. VERIFY THE ALIGNMENT OF HEADS 0,1 AND 17.,18.
 23631						 8. SEEK TO CYLINDER 496.
 23632						 9. RE-VERIFY ALIGNMENT OF HEADS 0 THRU 18.
 23633
 23634						THE FOLLOWING ALGORITHM IS USED TO VERIFY THE ALIGNMENT
 23635						OF A PARTICULAR HEAD:
 23636						 1. OFFSET THE POSITIONER TO +600 MICRO-INCHES
 23637						 2. RECORD THE VALUE OF THE SIGN BIT
 23638						 3. MOVE THE POSITIONER TOWARDS THE TRACK CENTER LINE IN
 23639						    25 MICRO-INCH INCREMENTS UNTIL THE SIGN BIT CHANGES.
 23640						    UPON DETECTING A SIGN CHANGE, RECORD THE OFFSET VALUE.
 23641						 4. OFFSET THE POSITIONER TO -600 MICRO-INCHES AND REPEAT
 23642						    STEPS 2 AND 3 ABOVE.
 23643						 5. AVERAGE THE 2 VALUES OF OFFSET AND CONSIDER THE HEAD
 23644						    TO BE OUT OF ALIGNMENT IF THE AVERAGE OFFSET HAS TURNED
 23645						    OUT TO BE IN EXCESS OF 75 MICRO-INCHES (ABSOLUTE VALUE)
 23646						    ON CYLINDER 496, 150 MICRO-INCHES ON CYLINDERS 8 AND 800.
 23647
 23648						NOTES:
 23649						 1. POSITIVE OFFSETS INDICATE A HEAD POSITION TOWARDS THE
 23650						    SPINDLE SIDE OF THE ACTUAL TRACK CENTER LINE.
 23651						 2. BY DEFAULT, NORMAL PRINTOUT MODE (SW-10 RESET), THE
 23652						    PROGRAM WILL PRINT A COMPLETE TABLE OF OFFSETS FOR
 23653						    ALL HEADS. IN SHORT PRINTOUT MODE (SW-10 SET), INFORMATION
 23654						    WILL BE PRINTED FOR ONLY THOSE HEADS WHICH ARE OUT OF
 23655						    ALIGNMENT.
 23656						 3. THE OFF-LINE TESTER MUST BE INTERFACED
 23657						 4. AN INDUSTRY STANDARD ALIGNMENT PACK IF REQUIRED.
 23658						 5. THE TEST HAS 2 PARTS. ADJUST MODE AND VERIFY MODE
 23659						    IF THE QUESTION (ADJUST OR VERIFY) IS ANSWERED WITH
 23660						    ADJUST, NO HEAD ALIGNMENT TESTING IS PERFORMED BY THE
 23661						    PROGRAM, THE PROGRAM MERELY FURNISHES A METHOD
 23662						    (SELF DOCUMENTING) OF POSITIONING BACK AND FOURTH
 23663						    BETWEEN CYLINDER 496. AND 0.    CYLINDER 496. BEING USED
 23664						    TO SCOPE THE DIE BITS AND CYLINDER 0 TO  ADJUST THE HEAD.
 23665
 23666						SET UP PROCEDURES:
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-1
DSRPA4	MAC	15-Feb-79 15:46		RP06 HEAD ALIGNMENT VERIFICATION TEST                                              SEQ 0760

 23667						1. INSTALL A CE PACK WITH DRIVE WRITE PROTECTED
 23668						2. SLIDE THE LOGIC ASSY FORWARD
 23669						3. REMOVE DRIVE D.C. POWER
 23670						4. CONNECT THE HEAD ALIGNMENT UNIT (PN-211292) INTERFACE
 23671						   CABLE OR TESTERS HEAD ALIGNMENT CABLE TO THE B04 SLOT OF THE
 23672						   LOGIC ASSY
 23673						5. TURN DRIVE D.C. POWER BACK ON AND LOAD HEADS
 23674						6. PRESS THE CALIBRATE SWITCH ON THE HEAD ALIGNMENT UNIT OR THE
 23675						   TESTERS CONTROL PANEL
 23676						7. VERIFY THAT THE TESTERS "ALIGN INVALID" LAMP IS ILLUMINATED.
 23677						   IF THE SETUP DOES NOT WORK, REFER TO THE APPENDIX OF THE
 23678						   MAINT MANUAL FOR POSSIBLE FAULTS AND SOLUTIONS.
 23679						8. TO PREVENT INDEX ERROR, PLACE A JUMPER BETWEEN
 23680						   D04-R19 AND D04-R39. THIS WILL PREVENT INDEX ERRORS.
 23681						   THE JUMPER IS TO BE REMOVED WHEN THE HEAD ALIGNMENT TEST
 23682						   IS COMPLETE.
 23683
 23684
 23685						THERMAL EQUILLIBRIUM REQUIREMENTS (MINIMUM):
 23686						1. WITH THE WIND TUNNEL IN THE CLOSED POSITION, THE DRIVE MUST
 23687						   OPERATE IN TRACK FOLLOWING OR SEEK MODE FOR 20 MINUTES. ANY
 23688						   PACK MAY BE USED FOR THE FIRST 15 MINUTES BUT THE C.E. PACK
 23689						   MUST BE MOUNTED FOR THE LAST 5 MINUTES.
 23690
 23691						2. THE C.E. PACK MUST REACH EQUILLIBRIUM BY BEING IN THE COMPUTER
 23692						   ROOM FOR 1 HOUR, OR BY BEING USED FOR THE ENTIRE 20 MINUTE
 23693						   CYCLE DESCRIBED IN THE FIRST STEP
 23694
 23695						RECOMMENDED DEBUG PROCEDURE
 23696						--------------------------- 
 23697						ADJUST HEADS THAT ARE OUT OF SPEC.
 23698						$
 23699					 	SALL
 23700
 23701					;SOME ACS USED DURING THIS TEST
 23702
 23703			000002		CTP=2				;COUNTER,,POINTER (TO DATA BASE TABLE)
 23704			000003		COF=3				;CONTENTS OF THE OFFSET REGISTER
 23705			000004		CC=4				;LAST CYLINDER,,THIS CYLINDER
 23706			000005		CH=5				;CURRENT HEAD
 23707			000006		CFLG=6				;A SOFTWARE FLAG
 23708
 23709
 23710	055123	200 01 0 00 074474 	ALIGN:	MOVE	1,[SIXBIT/ALIGN/]  ;GET TEST NAME
 23711	055124	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 23712
 23713					;DON'T PROCEED IF SW-3 IS SET
 23714
 23715	055125	037 10 0 00 000002 		SWITCH			;READ THE SWITCHES
 23716	055126	607 00 0 00 040000 		TLNN	0,(1B3)		;SW-3 SET ?
 23717	055127	254 00 0 00 055134 		JRST	ALS3Z		;NO
 23718						TEXTF	[ASCIZ/
 23719					RESET SWITCH - 3 TO CONTINUE
 23720	055130	031 00 0 00 074475 	/]
 23721	055131	037 10 0 00 000002 		SWITCH			;READ THE SWITCHES AGAIN
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-2
DSRPA4	MAC	15-Feb-79 15:46		RP06 HEAD ALIGNMENT VERIFICATION TEST                                              SEQ 0761

 23722	055132	603 00 0 00 040000 		TLNE	0,(1B3)		;TEST SW-3 AGAIN
 23723	055133	254 00 0 00 055131 		JRST	.-2		;WAIT UNTIL ITS CLEAR
 23724	055134	255 00 0 00 000000 	ALS3Z:	JFCL			;FINALLY RESET IT
 23725
 23726						TEXT	[ASCIZ/
 23727					RP06 HEAD ALIGNMENT, VERIFICATION ROUTINE
 23728	055135	030 00 0 00 074504 	/]
 23729	055136	202 17 0 00 077253 	ALIGNS:	MOVEM	P,ALP#		;SAVE STACK....
 23730	055137	260 17 0 00 060522 		GO	DEVSEL		;SELECT A DEVICE FOR TEST
 23731	055140	263 17 0 00 000000 		RTN			;TRIED ALL
 23732	055141	255 00 0 00 000000 		JFCL			;NXT READY
 23733
 23734	055142				APT1:	TEXT	[ASCIZ/
 23735					TO BE SAFE - - WRITE PROTECT THE DRIVE
 23736	055142	030 00 0 00 074516 	MOUNT C.E. PACK AND ATTACH THE "TESTER" TO/]
 23737	055143	260 17 0 00 061364 		GO	TELWHO		;TELL WHICH DEVICE
 23738						TEXT	[ASCIZ/
 23739	055144	030 00 0 00 074537 	PLACE A JUMPER FROM D04-R19 TO D04-R39. REMOVE WHEN DONE./]
 23740						TEXTF	[ASCIZ/
 23741	055145	031 00 0 00 074553 	INSTRUCTIONS ARE IN THE LISTING. HIT <CR> WHEN READY /]
 23742	055146	037 01 0 00 000026 		PFORCE			;FORCE PRINT ABOVE MSG.
 23743	055147	201 00 0 00 000015 		MOVEI	0,15		;CODE FOR A <CR>
 23744	055150	260 17 0 00 061324 		GO	CHARIN		;WAIT FOR INPUT
 23745	055151	254 00 0 00 055142 		JRST	APT1		;TIMEOUT
 23746	055152	254 00 0 00 055142 		JRST	APT1		;WRONG CHARACTER
 23747	055153	255 00 0 00 000000 		JFCL			;CORRECT
 23748
 23749	055154				APT2:	TEXTF	[ASCIZ/
 23750	055154	031 00 0 00 074567 	ADJUST OR VERIFY (ENTER: "A" OR "V" <CR>)   /]
 23751	055155	037 01 0 00 000026 		PFORCE
 23752	055156	201 00 0 00 000101 		MOVEI	0,"A"		;CODE FOR AN "A"
 23753	055157	260 17 0 00 061324 		GO	CHARIN		;WAIT FOR INPUT
 23754	055160	254 00 0 00 055154 		JRST	APT2		;TIMEOUT
 23755	055161	334 00 0 00 000000 		SKIPA			;WRONG CHARACTER
 23756						JRST	[GO AL4
 23757	055162	254 00 0 00 074601 			 JRST ALIGNA] ;PROPER LINKAGE
 23758	055163	302 00 0 00 000126 		CAIE	0,"V"		;WAS IT A "V"
 23759	055164	254 00 0 00 055154 		JRST	APT2		;NO. ILLEGAL
 23760	055165	254 00 0 00 055166 		JRST	ALIGNA		;CHAR WAS A "V"
 23761
 23762					;CODE TO VERIFY ALIGNMENT OF ALL HEADS
 23763
 23764	055166	260 17 0 00 055673 	ALIGNA:	GO	ONCHK		;GET ON-LINE WITH VV SET
 23765	055167	402 00 0 00 000010 		SETZM	ERFLG		;CLEAR THE ERROR FLAG
 23766	055170	260 17 0 00 060723 		GO	MSTCLR		;RESET THE DEVICE
 23767						TEXT	[ASCIZ/
 23768					RUNNING:SET SW-10 FOR SHORT PRINTOUT
 23769	055171	030 00 0 00 074603 	/]
 23770
 23771					;CHECK ALIGNMENT BY SETTING UP A DATA BASE AS WE GO ALONG
 23772
 23773	055172	260 17 0 00 055176 		GO	AL1		;THIS ROUTINE TESTS ALL HEADS
 23774
 23775					;PRINT RESULTS OF THE TEST.
 23776
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-3
DSRPA4	MAC	15-Feb-79 15:46		RP06 HEAD ALIGNMENT VERIFICATION TEST                                              SEQ 0762

 23777	055173	260 17 0 00 055401 		GO	AL3		;ANALYZER ROUTINE
 23778
 23779					;FINISHED WITH THIS DRIVE
 23780
 23781						TEXT	[ASCIZ/
 23782
 23783	055174	030 00 0 00 074614 	/]
 23784	055175	254 00 0 00 055136 		JRST	ALIGNS		;SELECT NEXT-DRIVE
 23785
 23786					;PERFORM THE ALIGNMENT TESTS
 23787
 23788	055176	260 17 0 00 055673 	AL1:	GO	ONCHK		;GET DEVICE ON LINE
 23789	055177	201 07 0 00 710360 		MOVEI	RGLIST,710360	;REGS FOR SNAPSHOT
 23790	055200	322 10 0 00 055210 		JUMPE	ERFLG,AL1NE	;JUMP IF NO ERROR
 23791
 23792	055201	260 17 0 00 057274 		GO	SNAPS		;ERROR. SNAPSHOT REGISTERS
 23793	055202	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 23794	055203	402 00 0 00 000010 		SETZM	ERFLG		;CLEAR THE ERROR FLAG
 23795						TEXT	[ASCIZ/
 23796					** DEVICE ERROR: PGM WILL CLEAR AND RETRY
 23797	055204	030 00 0 00 074615 	/]
 23798	055205	260 17 0 00 057316 		GO	DUMPS		;DUMP REGISTERS
 23799	055206	260 17 0 00 063452 		GO	.CRLF		;A CRLF
 23800	055207	260 17 0 00 055673 		GO	ONCHK		;GET DEVICE BACK
 23801	055210	255 00 0 00 000000 	AL1NE:	JFCL			;NO ERROR NOW
 23802
 23803	055211	260 17 0 00 056136 		GO	.RECAL		;RECALIBRATE
 23804	055212	254 00 0 00 055176 		JRST	AL1		;ERROR. START OVER
 23805	055213	255 00 0 00 000000 		JFCL			;NO ERROR. CONTINUE
 23806
 23807	055214	402 00 0 00 000004 		SETZM	CC		;INITIALIZE LAST CYL,,THIS CYL
 23808	055215	515 02 0 00 777722 		HRLZI	CTP,-^D46	;GET A BUFFER SIZE SET UP
 23809	055216	540 02 0 00 100213 		HRR	CTP,BUF1A	;HAVE TABLE COUNTER,,POINTER
 23810	055217	402 00 0 00 000003 		SETZM	COF		;VALUE FOR OFFSET REGISTER
 23811
 23812					;HERE IS THE MAIN CONTROL LOOP
 23813
 23814	055220	402 00 0 00 000005 	AL1.1:	SETZM	CH		;HEAD = 0
 23815	055221	550 00 0 00 000004 		HRRZ	0,CC		;FETCH CURRENT CYLINDER
 23816	055222	332 00 0 00 000000 		SKIPE			;CURRENT CYLINDER = 0?
 23817	055223	254 00 0 00 055226 		JRST	.+3		;NO
 23818	055224	200 04 0 00 074627 		MOVE	CC,[0,,^D496]	;YES. UPDATE FOR NEXT CYLINDER
 23819	055225	254 00 0 00 055242 		JRST	AL1.2		;TO COMMON CODE
 23820	055226	302 00 0 00 000760 		CAIE	0,^D496		;CURRENT CYLINDER = 496?
 23821	055227	254 00 0 00 055232 		JRST	.+3		;NO.
 23822	055230	200 04 0 00 074630 		MOVE	CC,[^D496,,^D8]	;YES. UPDATE CC FOR NEXT CYLINDER
 23823	055231	254 00 0 00 055242 		JRST	AL1.2		;TO COMMON CODE
 23824	055232	302 00 0 00 000010 		CAIE	0,^D8		;CURRENT CYLINDER = 8?
 23825	055233	254 00 0 00 055236 		JRST	.+3		;NO
 23826	055234	200 04 0 00 074631 		MOVE	CC,[8,,^D800]	;YES. UPDATE FOR NEXT CYLINDER
 23827	055235	254 00 0 00 055242 		JRST	AL1.2		;TO COMMON CODE
 23828	055236	302 00 0 00 001440 		CAIE	0,^D800		;CURRENT CYLINDER = 800?
 23829	055237	037 15 0 00 000004 		FATAL			;PGM BUG!!! GOT ILLEGAL CYL.
 23830	055240	200 04 0 00 074632 		MOVE	CC,[^D800,,^D496]  ;UPDATE CC FOR NEXT TEST
 23831	055241	254 00 0 00 055242 		JRST	AL1.2		;TO COMMON CODE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-4
DSRPA4	MAC	15-Feb-79 15:46		RP06 HEAD ALIGNMENT VERIFICATION TEST                                              SEQ 0763

 23832
 23833					;SEEK TO PROPER CYLINDER
 23834
 23835	055242	260 17 0 00 055673 	AL1.2:	GO	ONCHK		;REQUEST DEVICE
 23836
 23837	055243	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 23838
 23839	055244	550 01 0 00 000004 		HRRZ	1,CC		;GET CURRENT CYLINDER
 23840	055245	260 17 0 00 056167 		GO	.SEEK		;SEEK TO PROPER CYL
 23841	055246	254 00 0 00 055177 		JRST	AL1+1		;ERROR. START AGAIN
 23842	055247	255 00 0 00 000000 		JFCL			;SEEK OK
 23843
 23844					;NOW ON CYLINDER. CALL ROUTINE TO TEST THE HEAD SPECIFIED BY C(CH)
 23845
 23846	055250	260 17 0 00 055264 	AL1.3:	GO	AL2
 23847
 23848					;KEEP TRACK OF HEAD NUMBERS AND THE TABLE POINTER
 23849
 23850	055251	253 02 0 00 055253 		AOBJN	CTP,.+2		;ARE WE DONE?
 23851	055252	263 17 0 00 000000 		RTN			;YES. RETURN
 23852	055253	301 05 0 00 000022 		CAIL	CH,^D18		;NO. TRIED ALL HEADS ON THIS CYL?
 23853	055254	254 00 0 00 055220 		JRST	AL1.1		;YES. GO FETCH NEXT CYL
 23854	055255	550 00 0 00 000004 		HRRZ	0,CC		;NO. GET CC TO FIND OUT HOW TO ADJUST
 23855	055256	306 00 0 00 000760 		CAIN	0,^D496		;AT CYL 496. ?
 23856	055257	254 00 0 00 055262 		JRST	.+3		;YES
 23857	055260	306 05 0 00 000001 		CAIN	CH,1		;NO. HEAD=1 ?
 23858	055261	201 05 0 00 000020 		MOVEI	CH,^D16		;YES
 23859	055262	350 00 0 00 000005 		AOS	CH		;YES. BUMP THE HEAD NUMBER
 23860	055263	254 00 0 00 055250 		JRST	AL1.3		;GO TEST THE NEXT HEAD ON THIS CYL
 23861
 23862					;ROUTINE TO TEST THE HEAD SPECIFIED BY C(CH) ON THE CURRENT CYLINDER
 23863
 23864	055264	201 06 0 00 000001 	AL2:	MOVEI	CFLG,1		;SET SOFTWARE FLAG TO 1
 23865	055265	201 03 0 00 000030 		MOVEI	COF,^D24	;MAXIMUM POSITIVE OFFSET
 23866	055266	402 00 0 00 077343 		SETZM	THRUZ#		;CLEAR "THRU ZERO" FLAG
 23867	055267	255 00 0 00 000000 		JFCL			;	TELLS WHICH SIDE OF CTR WE'RE ON
 23868
 23869	055270	260 17 0 00 055673 	AL2.1:	GO	ONCHK		;REQUEST THE DEVICE
 23870
 23871	055271	640 06 0 00 000001 		TRC	CFLG,1		;TELLS WHETHER OFFSET IS (+ OR -)
 23872	055272	255 00 0 00 000000 		JFCL			;	(0 MEANS +)
 23873
 23874					;LOAD NECESSARY DRIVE REGISTERS
 23875
 23876	055273	200 01 0 00 000005 		MOVE	1,CH		;GET THE HEAD NUMBER
 23877	055274	242 01 0 00 000010 		LSH	1,^D8		;POSITION TO TRACK FIELD
 23878	055275	661 01 0 00 000010 		TLO	1,(1B14)	;SET DON'T REPORT RAE BIT
 23879	055276	260 17 0 00 057421 		GO	LRPDA		;LOAD DESIRED ADDRESS REGISTER
 23880	055277	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 23881	055300	326 10 0 00 055356 		JUMPN	ERFLG,AL2.ER	;JUMP IF ERROR
 23882
 23883	055301	200 01 0 00 000003 		MOVE	1,COF		;GET DESIRED OFFSET
 23884	055302	260 17 0 00 056220 		GO	.OFSET		;DO THE OFFSET
 23885	055303	254 00 0 00 055356 		JRST	AL2.ER		;ERROR. ABORT AND RESTART
 23886	055304	255 00 0 00 000000 		JFCL			;NO. ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-5
DSRPA4	MAC	15-Feb-79 15:46		RP06 HEAD ALIGNMENT VERIFICATION TEST                                              SEQ 0764

 23887
 23888	055305	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23889	055306	260 17 0 00 057631 		GO	RRPOF		;READ THE OFFSET REGISTER
 23890	055307	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 23891	055310	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 23892	055311	202 01 0 00 077647 		MOVEM	1,SRPOF		;SAVE RESULTS
 23893	055312	326 10 0 00 055356 		JUMPN	ERFLG,AL2.ER	;JUMP IF ERROR
 23894	055313	135 00 0 00 074633 		LDB	0,[POINT 1,SRPOF,20]   ;GET SIGN BIT AS READ
 23895	055314	202 00 0 00 077327 		MOVEM	0,SGNBIT#	;AND SAVE FOR REFERENCE
 23896
 23897					;LOOK AT CURRENT OFFSET AND DECIDE HOW TO UPDATE IT
 23898
 23899	055315	135 00 0 00 074634 	AL2.2:	LDB	[POINT 6,SRPOF,35]  ;FETCH THE MAGNITUDE
 23900	055316	332 00 0 00 000000 		SKIPE			;IS MAGNITUDE ZERO
 23901	055317	254 00 0 00 055322 		JRST	.+3		;NO. DIRECTION BIT IS OK
 23902	055320	640 03 0 00 000200 		TRC	COF,1B28	;YES. CHANGE DIRECTION BIT
 23903	055321	476 00 0 00 077343 		SETOM	THRUZ		;REMEMBER YOU'VE CROSSED CTR LNE
 23904	055322	275 03 0 00 000001 		SUBI	COF,1		;DECREMENT THE MAGNITUDE
 23905	055323	332 00 0 00 077343 		SKIPE	THRUZ		;SHOULD WE HAVE INCREMENTED?
 23906	055324	271 03 0 00 000002 		ADDI	COF,2		;YES. THEN DO IT
 23907
 23908					;RANGE CHECK THE MAGNITUDE OF THE OFFSET
 23909
 23910	055325	135 00 0 00 074635 		LDB	[POINT 6,COF,35]  ;FETCH MAGNITUDE BITS
 23911	055326	303 00 0 00 000030 		CAILE	0,^D24		;24 IS EQUAL TO 600 MICRO-INCHES
 23912	055327	254 00 0 00 055361 		JRST	SGNERR		;PROBLEM? NO SIGN CHANGE!!
 23913
 23914					;DO THE NEXT OFFSET
 23915
 23916	055330	200 01 0 00 000003 		MOVE	1,COF		;GET CURRENT VALUE
 23917	055331	260 17 0 00 056220 		GO	.OFSET		;DO THE OFFSET
 23918	055332	254 00 0 00 055356 		JRST	AL2.ER		;ERROR. ABORT AND RESTART
 23919	055333	255 00 0 00 000000 		JFCL			;OFFSET OK
 23920
 23921					;READ THE OFFSET REGISTER BACK AND LOOK FOR A SIGN CHANGE
 23922
 23923	055334	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 23924	055335	260 17 0 00 057631 		GO	RRPOF		;READ THE OFFSET REGISTER
 23925	055336	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 23926	055337	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 23927	055340	202 01 0 00 077647 		MOVEM	1,SRPOF		;SAVE RESULTS
 23928	055341	326 10 0 00 055356 		JUMPN	ERFLG,AL2.ER	;JUMP IF ERROR
 23929	055342	135 00 0 00 074633 		LDB	[POINT 1,SRPOF,20]  ;FETCH SIGN CHANGE BIT
 23930	055343	316 00 0 00 077327 		CAMN	SGNBIT		;WAS THERE A SIGN CHANGE BIT
 23931	055344	254 00 0 00 055315 		JRST	AL2.2		;NO. CHANGE BY ANOTHER 25 U-IN
 23932	055345	260 17 0 00 077352 		GO	DEVREL		;RELEASE THE DEVICE
 23933
 23934					;GOT A SIGN CHANGE
 23935					;PUT IN LEFT OR RIGHT SIDE OF TABLE BASED ON STATE OF THE FLAG
 23936
 23937	055346	135 00 0 00 074636 		LDB	[POINT 8,SRPOF,35]  ;GET THE OFFSET VALUE
 23938	055347	322 06 0 00 055352 		JUMPE	CFLG,.+3	;LEFT OR RIGHT?
 23939	055350	542 00 0 02 000000 		HRRM	0,(CTP)		;PUT IN RIGHT SIDE
 23940	055351	263 17 0 00 000000 		RTN			;AND EXIT
 23941	055352	506 00 0 02 000000 		HRLM	0,(CTP)		;PUT IN LEFT SIDE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-6
DSRPA4	MAC	15-Feb-79 15:46		RP06 HEAD ALIGNMENT VERIFICATION TEST                                              SEQ 0765

 23942
 23943	055353	201 03 0 00 000230 		MOVEI	COF,230		;EQUIV TO MAX NEGATIVE OFFSET
 23944	055354	402 00 0 00 077343 		SETZM	THRUZ		;CLEAR THRU ZERO FLAG
 23945	055355	254 00 0 00 055270 		JRST	AL2.1		;TIME FOR NEGATIVE OFFSET CALCULATION
 23946
 23947	055356	262 17 0 00 000000 	AL2.ER:	POP	P,		;COMPENSATE FOR PUSHJ THAT GO US HERE
 23948	055357	402 00 0 00 000004 		SETZM	CC		;CYLINDERS GO TO ZERO
 23949	055360	254 00 0 00 055176 		JRST	AL1		;AND START OVER
 23950
 23951					;ERROR REPORT FOR NO SIGN CHANGE
 23952
 23953	055361				SGNERR:	TEXTF	[ASCIZ/
 23954
 23955					HEAD ALIGNMENT PROBLEM -- CAN NO LONGER CONTINUE ...
 23956	055361	031 00 0 00 074637 	/]
 23957	055362	260 17 0 00 061364 		GO	TELWHO		;TELL WHICH DRIVE
 23958	055363	030 00 0 00 074653 		TEXT	[ASCIZ/NO SIGN CHANGE DETECTED ON HEAD - /]
 23959	055364	200 00 0 00 000005 		MOVE	CH		;GET HEAD NUMBER
 23960	055365	260 17 0 00 063457 		GO	PSDN		;PRINT HEAD NUMBER
 23961	055366	030 00 0 00 074662 		TEXT	[ASCIZ/  CYL - /]
 23962	055367	550 00 0 00 000004 		HRRZ	CC
 23963	055370	260 17 0 00 063457 		GO	PSDN		;PRINT CYLINDER #
 23964						TEXT	[ASCIZ/
 23965	055371	030 00 0 00 074664 	WITHIN THE ENTIRE RANGE OF PLUS TO MINUS 600 MICRO-INCHES /]
 23966
 23967						TEXT	[ASCIZ/
 23968	055372	030 00 0 00 074701 	HEAD MAY BE TO FAR OUT OF ALIGNMENT "OR OPEN" /]
 23969						TEXT	[ASCIZ/
 23970					DIAG. GOING INTO ALIGN MODE SO DIE BITS CAN BE OBSERVED
 23971	055373	030 00 0 00 074713 	/]
 23972						TEXT	[ASCIZ/
 23973					PROCEDURE IS DESCRIBED IN THE MAINT MANUAL FOR THIS DEVICE
 23974
 23975	055374	030 00 0 00 074727 	/]
 23976	055375	260 17 0 00 055553 		GO	AL4		;INTO ALIGNMENT MODE
 23977	055376	262 17 0 00 000000 		GET			;DUMMY TO ADJUST STACK
 23978	055377	262 17 0 00 000000 		GET			;DUMMY TO ADJUST STACK
 23979	055400	263 17 0 00 000000 		RTN			;BACK TO TEST DISPATCH ROUTINE
 23980
 23981					;PORTION OF TEST WHICH ANALYZES RESULTS AND DOES THE PRINTING
 23982
 23983	055401	515 02 0 00 777722 	AL3:	HRLZI	CTP,-^D46	;SET UP TABLE POINTER,,COUNTER
 23984	055402	540 02 0 00 100213 		HRR	CTP,BUF1A
 23985	055403	402 00 0 00 000004 		SETZM	CC		;CYLINDERS=0
 23986	055404	402 00 0 00 000006 		SETZM	CFLG		;CLEAR THE HEADER FLAG
 23987
 23988					;SET UP THE PROPER CYLINDER #'S FOR AN ENTRY
 23989
 23990	055405	037 00 0 00 030242 	AL3.0:	PCRL
 23991	055406	402 00 0 00 000005 		SETZM	CH		;HEAD IS ZERO
 23992	055407	550 00 0 00 000004 		HRRZ	CC		;AC0=CURRENT CYLINDER
 23993	055410	332 00 0 00 000000 		SKIPE			;CURRENT CYLINDER=0 ??
 23994	055411	254 00 0 00 055414 		JRST	.+3		;NO
 23995	055412	200 04 0 00 074627 		MOVE	CC,[0,,^D496]	;YES. SET UP FOR THE NEXT ENTRY
 23996	055413	254 00 0 00 055426 		JRST	AL3.1		;AND LOOP
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-7
DSRPA4	MAC	15-Feb-79 15:46		RP06 HEAD ALIGNMENT VERIFICATION TEST                                              SEQ 0766

 23997	055414	302 00 0 00 000760 		CAIE	^D496		;CURRENT CYLINDER=496 ??
 23998	055415	254 00 0 00 055420 		JRST	.+3		;NO
 23999	055416	200 04 0 00 074630 		MOVE	CC,[^D496,,8]	;YES. SET UP FOR THE NEXT TEST
 24000	055417	254 00 0 00 055426 		JRST	AL3.1		;AND LOOP
 24001	055420	302 00 0 00 000010 		CAIE	8		;CURRENT CYLINDER=8 ??
 24002	055421	254 00 0 00 055424 		JRST	.+3		;NO
 24003	055422	200 04 0 00 074631 		MOVE	CC,[8,,^D800]	;YES. SET UP FOR THE NEXT TEST
 24004	055423	254 00 0 00 055426 		JRST	AL3.1		;AND LOOP
 24005	055424	200 04 0 00 074632 		MOVE	CC,[^D800,,^D496] ;LAST ONE
 24006	055425	254 00 0 00 055426 		JRST	AL3.1		;AND LOOP
 24007
 24008					;WE WORK ON SINGLE ENTRIES AT A TIME. EACH TIME
 24009					;STORING THE AVERAGE VALUE IN "SGNBIT"
 24010
 24011	055426	554 01 0 02 000000 	AL3.1:	HLRZ	1,(CTP)		;FETCH LEFT HALF DATA
 24012	055427	135 00 0 00 066742 		LDB	[POINT 6,1,35] ;FETCH THE MAGNITUDE
 24013	055430	221 00 0 00 000031 		IMULI	^D25		;EACH COUNT IS WORTH 25 U-INCHES
 24014	055431	602 01 0 00 000200 		TRNE	1,1B28		;CHECK THE DIRECTION BIT
 24015	055432	213 00 0 00 000000 		MOVNS			;NEGATE
 24016	055433	506 00 0 02 000000 		HRLM	(CTP)		;PUT BACK IN THE TABLE
 24017
 24018	055434	550 01 0 02 000000 		HRRZ	1,(CTP)		;FETCH RIGHT HALF DATA
 24019	055435	135 00 0 00 066742 		LDB	[POINT 6,1,35] ;GET THE MAGNITUDE
 24020	055436	221 00 0 00 000031 		IMULI	^D25		;EACH COUNT IS WORTH 25 U-INCHES
 24021	055437	602 01 0 00 000200 		TRNE	1,1B28		;CHECK THE DIRECTION BIT
 24022	055440	213 00 0 00 000000 		MOVNS			;NEGATE
 24023	055441	542 00 0 02 000000 		HRRM	(CTP)		;PUT BACK IN THE TABLE
 24024
 24025	055442	202 00 0 00 077327 		MOVEM	SGNBIT		;A TEMPORARY LOCATION
 24026
 24027	055443	574 00 0 02 000000 		HLRE	(CTP)		;GET LEFT HALF AGAIN
 24028	055444	270 00 0 00 077327 		ADD	SGNBIT		;AC0 NOW HAS THE SUM
 24029	055445	350 00 0 00 000000 		AOS			;A ROUNDING FACTOR
 24030	055446	231 00 0 00 000002 		IDIVI	2		;AND AVERAGE
 24031	055447	202 00 0 00 077327 		MOVEM	SGNBIT		;SAVE THE AVERAGE
 24032
 24033					;HERE IS WHERE WE PRINT
 24034
 24035	055450	037 10 0 00 000002 	AL3.2:	SWITCH
 24036	055451	607 00 0 00 000200 		TLNN	TXTINH		;WANT LONG PRINTOUT
 24037	055452	254 00 0 00 055467 		JRST	AL3.3		;YES WE DO
 24038	055453	200 00 0 00 077327 		MOVE	SGNBIT		;GET AVERAGE
 24039	055454	335 00 0 00 000000 		SKIPGE			;TAKE THE ABSOLUTE VALUE
 24040	055455	213 00 0 00 000000 		MOVNS			;MAKE IT POSITIVE
 24041
 24042					;SEE IF HEAD IS WITHIN ALLOWED TOLERANCE
 24043	055456	550 01 0 00 000004 		HRRZ	1,CC		;PULL OUT THE CURRENT CYLINDER
 24044	055457	302 01 0 00 000760 		CAIE	1,^D496		;IS IT CYL 496. ??
 24045	055460	254 00 0 00 055464 		JRST	.+4		;NO ITS NOT. MUST BE 8 OR 800
 24046	055461	303 00 0 00 000113 		CAILE	^D75		;ALLOW 75 U-INCHES AT CYL 496
 24047	055462	254 00 0 00 055467 		JRST	AL3.3		;HEAD OUT OF ALIGNMENT. PRINT IT
 24048	055463	254 00 0 00 055472 		JRST	AL3.4		;HEAD IS O.K.
 24049	
 24050	055464	303 00 0 00 000226 		CAILE	^D150		;150 U-INCHES AT CYL 8 OR 800
 24051	055465	254 00 0 00 055467 		JRST	AL3.3		;OUT OF ALIGNMENT. PRINT IT
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-8
DSRPA4	MAC	15-Feb-79 15:46		RP06 HEAD ALIGNMENT VERIFICATION TEST                                              SEQ 0767

 24052	055466	254 00 0 00 055472 		JRST	AL3.4		;HEAD IS O.K.
 24053
 24054	055467	336 00 0 00 000006 	AL3.3:	SKIPN	CFLG		;HAS HEADER BEEN PRINTED ??
 24055	055470	260 17 0 00 055511 		GO	ALHEAD		;NO. PRINT IT
 24056	055471	260 17 0 00 055525 		GO	ALSTAT		;YES. PRINT THE DATA LINE
 24057
 24058	055472	252 02 0 00 055504 	AL3.4:	AOBJP	CTP,AL3.5	;SEE IF DONE
 24059	055473	301 05 0 00 000022 		CAIL	CH,^D18		;NOPE. SEE HOW TO UPDATE HEAD #
 24060	055474	254 00 0 00 055405 		JRST	AL3.0		;THIS CYL DONE. ON TO THE NEXT ONE
 24061	055475	550 00 0 00 000004 		HRRZ	CC		;FIND OUT HOW TO UPDATE HEAD #
 24062	055476	306 00 0 00 000760 		CAIN	0,^D496		;AT 496. ?
 24063	055477	254 00 0 00 055502 		JRST	.+3		;YES
 24064	055500	306 05 0 00 000001 		CAIN	CH,1		;NO. HEAD=1 ?
 24065	055501	201 05 0 00 000020 		MOVEI	CH,^D16		;YES
 24066	055502	350 00 0 00 000005 		AOS	CH		;BUMP THE HEAD
 24067	055503	254 00 0 00 055426 		JRST	AL3.1
 24068
 24069	055504	332 00 0 00 000006 	AL3.5:	SKIPE	CFLG		;YES. SEE IF WE'VE PRINTED
 24070	055505	263 17 0 00 000000 		RTN			;DONE
 24071	055506	255 00 0 00 000000 		JFCL			;WE'VE NOT PRINTED. TELL OPERATOR
 24072						TEXT	[ASCIZ/  ALIGNMENT O.K. ! ! !
 24073
 24074	055507	030 00 0 00 074744 	/]
 24075	055510	263 17 0 00 000000 		RTN			;DONE
 24076
 24077					;PRINT A HEADER MESSAGE
 24078
 24079	055511	476 00 0 00 000006 	ALHEAD:	SETOM	CFLG		;SET THE HEADER FLAG
 24080						TEXT	[ASCIZ/
 24081
 24082	055512	030 00 0 00 074752 	HEAD ALIGNMENT DATA:    /]
 24083	055513	260 17 0 00 077352 		GO	DEVREQ		;REQUEST THE DEVICE
 24084	055514	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 24085	055515	260 17 0 00 057626 		GO	RRPSN		;READ SN REG
 24086	055516	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 24087	055517	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 24088	055520	260 17 0 00 062461 		GO	REGPNT		;PRINT SERIAL NUMBER
 24089						TEXT	[ASCIZ/
 24090	055521	030 00 0 00 074760 	POSITIONS ARE IN MICRO-INCHES OF OFFSET/]
 24091						TEXT	[ASCIZ/
 24092	055522	030 00 0 00 074771 	LAST	THIS	DR-HD	+ SIGN	- SIGN	HEAD POSITION/]
 24093						TEXT	[ASCIZ/
 24094					CYL #	CYL #	NUMB	CHANGE	CHANGE	FROM TRUE CENTER
 24095
 24096	055523	030 00 0 00 075003 	/]
 24097	055524	263 17 0 00 000000 		RTN			;HEADER IS DONE
 24098
 24099					;PRINT A TABLE ENTRY IN STANDARD FORMAT
 24100
 24101	055525	554 00 0 00 000004 	ALSTAT:	HLRZ	CC		;PRINT LAST CYLINDER
 24102	055526	260 17 0 00 063457 		GO	PSDN		;PRINT A SIGNED DECIMAL #
 24103	055527	260 17 0 00 063413 		GO	.TAB
 24104	055530	550 00 0 00 000004 		HRRZ	CC		;PRINT THIS CYLINDER
 24105	055531	260 17 0 00 063457 		GO	PSDN		;PRINT A SIGNED DECIMAL #
 24106	055532	260 17 0 00 063413 		GO	.TAB
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-9
DSRPA4	MAC	15-Feb-79 15:46		RP06 HEAD ALIGNMENT VERIFICATION TEST                                              SEQ 0768

 24107	055533	200 00 0 00 000014 		MOVE	DRIVE		;PRINT DRIVE #
 24108	055534	037 15 0 00 000000 		PNTDEC
 24109	055535	260 17 0 00 063416 		GO	.DASH		;PRINT THE MINUS SIGN
 24110	055536	200 00 0 00 000005 		MOVE	CH		;PRINT THE HEAD NUMBER
 24111	055537	260 17 0 00 063457 		GO	PSDN		;PRINT A SIGNED DECIMAL #
 24112	055540	260 17 0 00 063413 		GO	.TAB
 24113	055541	574 00 0 02 000000 		HLRE	(CTP)		;PRINT POSITIVE CHANGE
 24114	055542	260 17 0 00 063457 		GO	PSDN		;PRINT A SIGNED DECIMAL #
 24115	055543	260 17 0 00 063413 		GO	.TAB
 24116	055544	570 00 0 02 000000 		HRRE	(CTP)		;PRINT THE NEGATIVE CHANGE
 24117	055545	260 17 0 00 063457 		GO	PSDN		;PRINT A SIGNED DECIMAL #
 24118	055546	260 17 0 00 063413 		GO	.TAB
 24119	055547	200 00 0 00 077327 		MOVE	SGNBIT		;PRINT THE AVERAGE
 24120	055550	260 17 0 00 063457 		GO	PSDN		;PRINT A SIGNED DECIMAL #
 24121	055551	260 17 0 00 063452 		GO	.CRLF
 24122	055552	263 17 0 00 000000 		RTN
 24123
 24124					;MANUAL HEAD SELECTION ROUTINE
 24125
 24126	055553	402 00 0 00 000010 	AL4:	SETZM	ERFLG		;CLEAR THE ERROR FLAG
 24127						TEXTF	[ASCIZ/
 24128					TYPE HEAD TO BE TESTED (OCTAL OR DECIMAL) OR "V" TO VERIFY ALIGNMENT.
 24129	055554	031 00 0 00 075016 	TYPE ANY OTHER CHARACTER TO EXIT.   HEAD = /]
 24130	055555	037 05 0 00 000003 		TTICNV			;INPUT FROM TTY
 24131	055556	254 00 0 00 055637 		JRST	AL4A		;TIMEOUT OR ILLEGAL NUMBER
 24132	055557	307 00 0 00 000022 		CAIG	^D18		;RANGE TEST INPUT
 24133	055560	305 00 0 00 000000 		CAIGE	0		;0-18. ACCEPTABLE
 24134	055561	263 17 0 00 000000 		RTN			;ERROR. EXIT
 24135	055562	202 00 0 00 000005 		MOVEM	0,CH		;VALUE IS CORRECT
 24136
 24137					;GO OUT TO CYL 496.
 24138
 24139	055563	260 17 0 00 055673 	AL4EL:	GO	ONCHK		;GET ON-LINE
 24140	055564	201 07 0 00 710360 		MOVEI	RGLIST,710360	;REGS FOR SNAPSHOT
 24141	055565	322 10 0 00 055575 		JUMPE	ERFLG,AL4NE	;JUMP IF NO ERROR
 24142
 24143	055566	260 17 0 00 057274 		GO	SNAPS		;ERROR. SNAPSHOT REGS
 24144	055567	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 24145	055570	402 00 0 00 000010 		SETZM	ERFLG		;CLEAR THE ERROR FLAG
 24146						TEXT	[ASCIZ/
 24147					*** DEVICE ERROR: PGM WILL CLEAR AND RETRY
 24148	055571	030 00 0 00 075046 	/]
 24149	055572	260 17 0 00 057316 		GO	DUMPS		;DUMP REGISTERS
 24150	055573	260 17 0 00 063452 		GO	.CRLF
 24151	055574	260 17 0 00 055673 		GO	ONCHK		;GET THE DEVICE BACK
 24152
 24153	055575	260 17 0 00 060723 	AL4NE:	GO	MSTCLR		;NO LONGER ANY ERROR
 24154
 24155	055576	260 17 0 00 056136 		GO	.RECAL		;ISSUE RECAL
 24156	055577	254 00 0 00 055563 		JRST	AL4EL		;ERROR
 24157	055600	200 01 0 00 000005 		MOVE	1,CH		;GET SURFACE #
 24158	055601	242 01 0 00 000010 		LSH	1,^D8		;POSITION TO PROPER FIELD
 24159	055602	661 01 0 00 000010 		TLO	1,(1B14)	;SET DON'T REPORT RAE BIT
 24160	055603	260 17 0 00 057421 		GO	LRPDA		;LOAD DESIRED ADDRESS REGISTER
 24161	055604	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-10
DSRPA4	MAC	15-Feb-79 15:46		RP06 HEAD ALIGNMENT VERIFICATION TEST                                              SEQ 0769

 24162	055605	255 00 0 00 000000 		JFCL			;OK
 24163
 24164	055606	201 01 0 00 000760 		MOVEI	1,^D496		;WE CHECK ALIGNMENT ON 496
 24165	055607	260 17 0 00 056167 		GO	.SEEK		;SEEK TO 496
 24166	055610	254 00 0 00 055563 		JRST	AL4EL		;ERROR
 24167	055611	255 00 0 00 000000 		JFCL			;NO ERROR
 24168
 24169						TEXT	[ASCIZ/
 24170	055612	030 00 0 00 075060 	NOW ON CYL #496. BEFORE PROCEEDING,MAKE SURE THE/]
 24171						TEXT	[ASCIZ/
 24172	055613	030 00 0 00 075073 	CARR LOCK IS NOT ENABLED. TYPE Z<CR> TO SEEK TO CYL #0/]
 24173						TEXTF	[ASCIZ/
 24174					OR A <CR> TO CONTINUE
 24175
 24176	055614	031 00 0 00 075107 	/]
 24177
 24178	055615	037 00 0 00 000003 	AL4B:	TTICHR			;GET A CHARACTER
 24179	055616	254 00 0 00 055634 		JRST	AL4D		;ERROR OR TIMEOUT
 24180	055617	302 00 0 00 000132 		CAIE	"Z"		;IS IT A <Z>
 24181	055620	254 00 0 00 055553 		JRST	AL4		;NO. GET NEXT HEAD
 24182	055621	260 17 0 00 055673 		GO	ONCHK
 24183	055622	260 17 0 00 060723 		GO	MSTCLR
 24184	055623	201 01 0 00 000000 		MOVEI	1,0		;YES
 24185	055624	260 17 0 00 056167 		GO	.SEEK		;SEEK TO CYL-0
 24186	055625	254 00 0 00 055563 		JRST	AL4EL		;ERROR
 24187	055626				AL4C:	TEXTF	[ASCIZ/
 24188	055626	031 00 0 00 075115 	RE-TORQUE HEAD HIT <CR> WHEN READY   /]
 24189
 24190	055627	201 00 0 00 000015 		MOVEI	0,15		;LOOK FOR A <CR>
 24191	055630	260 17 0 00 061324 		GO	CHARIN		;INPUT A CHAR
 24192	055631	254 00 0 00 055626 		JRST	AL4C		;TIMEOUT
 24193	055632	254 00 0 00 055626 		JRST	AL4C		;WRONG CHAR
 24194	055633	254 00 0 00 055553 		JRST	AL4		;TO NEXT HEAD
 24195
 24196	055634	337 00 0 00 030225 	AL4D:	SKIPG	$TWCNT		;TIMEOUT?
 24197	055635	254 00 0 00 055615 		JRST	AL4B		;YES. KEEP WAITING
 24198	055636	254 00 0 00 055553 		JRST	AL4		;NO. NEXT HEAD
 24199
 24200	055637	337 00 0 00 030225 	AL4A:	SKIPG	$TWCNT		;TIMEOUT?
 24201	055640	263 17 0 00 000000 		RTN			;YES
 24202						JRST	[MOVE P,ALP
 24203	055641	254 00 0 00 075125 			 JRST ALIGNS] ;PROPER STACK ADJUSTMENT
 24204	055642	302 00 0 00 000126 		CAIE	"V"		;"V" MEANS VERIFY
 24205	055643	263 17 0 00 000000 		RTN
 24206
 24207					SUBTTL	SOME STATUS CHECK ROUTINES
 24208					 	XLIST
 24209					 	LIST
 24210						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-11
DSRPA4	MAC	15-Feb-79 15:46		SOME STATUS CHECK ROUTINES                                                         SEQ 0770

 24211					S^;*********************************************************************^
 24212					;*ONCK -- SEE IF DRIVE IS ON LINE
 24213					S^;*********************************************************************^
 24214
 24215					COMMENT $
 24216
 24217						THIS ROUTINE WILL SEE IF MOL IS SET. IF NOT, IT ASKS TO CYCLE
 24218						UP THE DRIVE.  RETURN IS TAKEN WHEN THE DRIVE IS CYCLED UP
 24219						CALLING SEQ:
 24220						GO	ONCK		;SEE IF DRIVE IS ON LINE
 24221						RTN			;DRIVE IS ON LINE 
 24222						$
 24223						XLIST
 24224					 	LIST
 24225
 24226	055644	261 17 0 00 000000 	ONCK:	PUT	0		;SAVE AC'S
 24227	055645	261 17 0 00 000001 		PUT	1
 24228	055646	260 17 0 00 077352 	ONCK1:	GO	DEVREQ		;REQ THE DEVICE
 24229	055647	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 24230	055650	260 17 0 00 057601 		GO	RRPDS		;READ STATUS REGISTER
 24231	055651	260 17 0 00 060733 		GO	CBTOER		;HARDWARE FAILURE
 24232	055652	254 00 0 00 055647 		JRST	.-3		;PARITY ERROR
 24233	055653	202 01 0 00 077310 		MOVEM	1,ONCKD#	;SAVE STATUS (FOR ONCHK)
 24234	055654	606 01 0 00 010000 		TRNN	1,1B23		;IS "MOL" SET
 24235	055655	254 00 0 00 055661 		JRST	ONCK3		;NO
 24236	055656	262 17 0 00 000001 	ONCK2:	GET	1		;YES, RESTORE AC'S
 24237	055657	262 17 0 00 000000 		GET	0		;
 24238	055660	263 17 0 00 000000 		RTN			;EXIT
 24239
 24240	055661	260 17 0 00 061373 	ONCK3:	GO	TELTST		;TELL WHICH TEST
 24241	055662	031 00 0 00 066242 		TEXTF	[ASCIZ/CYCLE/]
 24242	055663	260 17 0 00 061364 		GO	TELWHO		;IDENTIFY THE DEVICE IN QUESTION
 24243	055664	031 00 0 00 075127 		TEXTF	[ASCIZ/ON-LINE	HIT <CR> WHEN READY /]
 24244	055665	037 01 0 00 000026 		PFORCE			;FORCE PRINT THE ABOVE MESSAGE
 24245	055666	201 00 0 00 000015 		MOVEI	0,15		;GET CODE FOR <CR>
 24246	055667	260 17 0 00 061324 		GO	CHARIN		;INPUT FROM TTY
 24247	055670	254 00 0 00 055661 		JRST	ONCK3		;NO, RESPONSE TIMEOUT
 24248	055671	254 00 0 00 055661 		JRST	ONCK3		;WRONG CHARACTER
 24249	055672	254 00 0 00 055646 		JRST	ONCK1		;<CR>
 24250
 24251					 	XLIST
 24252					 	LIST
 24253						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-12
DSRPA4	MAC	15-Feb-79 15:46		SOME STATUS CHECK ROUTINES                                                         SEQ 0771

 24254					S^;*********************************************************************^
 24255					;*ONCHK -- SEE IF DRIVE IS ON LINE
 24256					S^;*********************************************************************^
 24257
 24258					COMMENT $
 24259
 24260						ROUTINE CHECKS TO SEE IF "MOL" IS SET. IF NOT, IT ASKS TO
 24261						CYCLE UP THE DRIVE. IT DIFFERS FROM "ONCK" IN THAT IT ISSUES
 24262						A PACK ACKNOWLEDGE COMMAND BEFORE RETURNING (IF NECESSARY).
 24263						CALLING SEQ:
 24264						GO	ONCHK		;SEE IF ON-LINE
 24265						RTN			;ON-LINE WITH VOLUME VALID 
 24266						$
 24267						XLIST
 24268					 	LIST^
 24269
 24270	055673	261 17 0 00 000001 	ONCHK:	PUT	1		;SAVE AC
 24271	055674	260 17 0 00 055644 		GO	ONCK		;GET DRIVE ON-LINE
 24272	055675	200 01 0 00 077310 		MOVE	1,ONCKD		;GET STATUS (FROM ONCK)
 24273	055676	602 01 0 00 000100 		TRNE	1,1B29		;WAS VV SET ?
 24274	055677	254 00 0 00 055705 		JRST	ONCHKX		;YES. THEN EXIT
 24275	055700	602 01 0 00 040000 		TRNE	1,1B21		;NO. IS COMP ERROR SET ?
 24276	055701	260 17 0 00 060723 		GO	MSTCLR		;YES. MUST CLR ERROR BEFORE PACK ACK
 24277	055702	200 01 0 00 066464 		MOVE	1,[1B14!23]	;A PACK ACKNOWLEDGE COMMAND
 24278	055703	260 17 0 00 057402 		GO	LRPCS1		;LOAD CONTROL REGISTER
 24279	055704	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24280	055705	262 17 0 00 000001 	ONCHKX:	GET	1		;RESTORE THE AC
 24281	055706	263 17 0 00 000000 		RTN			;AND EXIT
 24282
 24283					 	XLIST
 24284					 	LIST
 24285						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-13
DSRPA4	MAC	15-Feb-79 15:46		SOME STATUS CHECK ROUTINES                                                         SEQ 0772

 24286					S^;*********************************************************************^
 24287					;*OFFCK -- ROUTINE TO SEE IF DRIVE IS OFF-LINE
 24288					S^;*********************************************************************^
 24289
 24290					COMMENT $
 24291
 24292						THIS ROUTINE WILL SEE IF MOL IS CLEAR. IF NOT, IT REQUESTS
 24293						OPERATOR TO CYCLE THE PACK DOWN AND HIT RETURN WHEN
 24294						READY.
 24295						CALLING SEQ:
 24296						GO	OFFCK		;CALL THE ROUTINE
 24297						RTN			;DRIVE IS OFF-LINE 
 24298						$
 24299						XLIST
 24300					 	LIST^
 24301
 24302	055707	261 17 0 00 000000 	OFFCK:	PUT	0		;CALL THE ROUTINE
 24303	055710	261 17 0 00 000001 		PUT	1
 24304	055711	260 17 0 00 077352 	OFCK1:	GO	DEVREQ		;REQUEST THE DEVICE
 24305	055712	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 24306	055713	260 17 0 00 057601 		GO	RRPDS		;READ STATUS REGISTER
 24307	055714	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24308
 24309	055715	254 00 0 00 055712 		JRST	.-3		;PARITY ERROR
 24310	055716	602 01 0 00 010000 		TRNE	1,1B23		;MOL CLEAR?
 24311	055717	254 00 0 00 055723 		JRST	OFCK3		;NO
 24312	055720	262 17 0 00 000001 	OFCK2:	GET	1		;YES, RESTORE AC'S
 24313	055721	262 17 0 00 000000 		GET	0
 24314	055722	263 17 0 00 000000 		RTN			;AND RETURN
 24315
 24316	055723	260 17 0 00 061373 	OFCK3:	GO	TELTST		;TELL WHICH TEST
 24317	055724	031 00 0 00 075135 		TEXTF	[ASCIZ/USING START-STOP SWITCH, CYCLE /]
 24318	055725	260 17 0 00 061364 		GO	TELWHO		;IDENTIFY DEVICE IN QUESTION
 24319						TEXTF	[ASCIZ/OFF LINE
 24320	055726	031 00 0 00 075144 	HIT <CR> WHEN READY  /]
 24321	055727	037 01 0 00 000026 		PFORCE			;FORCE PRINT ABOVE MESSAGE
 24322	055730	201 00 0 00 000015 		MOVEI	0,15		;GET CODE FOR <CR>
 24323	055731	260 17 0 00 061324 		GO	CHARIN		;WAIT FOR CHAR
 24324	055732	254 00 0 00 055723 		JRST	OFCK3		;TIMEOUT. NO RESPONSE
 24325	055733	254 00 0 00 055723 		JRST	OFCK3		;WRONG CHAR
 24326	055734	254 00 0 00 055711 		JRST	OFCK1		;<CR>
 24327
 24328					 	XLIST
 24329					 	LIST
 24330						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-14
DSRPA4	MAC	15-Feb-79 15:46		SOME STATUS CHECK ROUTINES                                                         SEQ 0773

 24331					S^;*********************************************************************^
 24332					;*OFFCHK -- ROUTINE TO SEE IF DRIVE IS OFF-LINE
 24333					S^;*********************************************************************^
 24334
 24335					COMMENT $
 24336
 24337						THIS ROUTINE WILL SEE IF "MOL" IS CLEAR. IF NOT, IT WILL
 24338						ISSUE AN UNLOAD COMMAND AND RETURN WHEN THE DRIVE
 24339						HAS CYCLED DOWN.
 24340						CALLING SEQ:
 24341						GO	OFFCHK		;SEE IF DRIVE IS OFF-LINE
 24342						RTN			;DRIVE IS OFF-LINE 
 24343						$
 24344						XLIST
 24345					 	LIST^
 24346
 24347	055735	261 17 0 00 000001 	OFFCHK:	PUT	1		;SAVE AC
 24348	055736	260 17 0 00 077352 		GO	DEVREQ		;REQUEST THE DEVICE
 24349	055737	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 24350	055740	260 17 0 00 057601 		GO	RRPDS		;READ STATUS REGISTER
 24351	055741	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24352	055742	254 00 0 00 055737 		JRST	.-3		;PARITY ERROR
 24353	055743	606 01 0 00 010000 		TRNN	1,1B23		;MOL SET?
 24354	055744	254 00 0 00 055756 		JRST	OFCHK2		;NO
 24355	055745	200 01 0 00 075153 		MOVE	1,[1B23!3]	;YES. GET AN UNLOAD COMMAND
 24356	055746	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 24357	055747	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24358	055750	205 01 0 00 000010 	OFCHK1:	MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 24359	055751	260 17 0 00 057601 		GO	RRPDS		;READ THE STATUS REGISTER
 24360	055752	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24361	055753	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 24362	055754	602 01 0 00 010000 		TRNE	1,1B23		;IS "MOL" SET ?
 24363	055755	254 00 0 00 055750 		JRST	OFCHK1		;YES
 24364	055756	262 17 0 00 000001 	OFCHK2:	GET	1		;RESTORE THE AC
 24365	055757	263 17 0 00 000000 		RTN
 24366
 24367					 	XLIST
 24368					 	LIST
 24369						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-15
DSRPA4	MAC	15-Feb-79 15:46		SOME STATUS CHECK ROUTINES                                                         SEQ 0774

 24370					S^;*********************************************************************^
 24371					;*WRTENB -- VERIFY THAT DRIVE IS READY AND WRITE ENABLED
 24372					S^;*********************************************************************^
 24373
 24374					COMMENT $
 24375
 24376						THIS ROUTINE FIRST CALLS "ONCHK" TO INSURE THAT THE DEVICE IS
 24377						ON-LINE AND READY WITH "VV" SET. IT THEN CHECKS THE STATUS
 24378						REGISTER TO INSURE THAT THE DRIVE IS WRITE ENABLED. IF NOT,
 24379						THE OPERATOR IS ASKED TO WRITE ENABLE THE DRIVE.
 24380
 24381						CALLING SEQUENCE:
 24382						GO	WRTENB		;CALL THE ROUTINE
 24383						RETURN			;DRIVE READY AND WRITE ENABLED
 24384						$
 24385						XLIST
 24386					 	LIST^
 24387
 24388	055760	261 17 0 00 000000 	WRTENB:	PUT	0		;SAVE AC0
 24389
 24390	055761	260 17 0 00 055673 	WENB1:	GO	ONCHK		;GET DEVICE ON-LINE WITH VV=1
 24391	055762	200 00 0 00 077310 		MOVE	0,ONCKD		;GET CURRENT STATUS
 24392	055763	602 00 0 00 004000 		TRNE	0,1B24		;IS WRL SET
 24393	055764	254 00 0 00 055767 		JRST	WENB2		;YES
 24394	055765	262 17 0 00 000000 	WENB3:	GET	0		;NO. RESTORE AC'S AND EXIT
 24395	055766	263 17 0 00 000000 		RTN
 24396
 24397	055767	260 17 0 00 061373 	WENB2:	GO	TELTST		;IDENTIFY TEST
 24398	055770	031 00 0 00 075154 		TEXTF	[ASCIZ/WRITE ENABLE/]
 24399	055771	260 17 0 00 061364 		GO	TELWHO		;IDENTIFY DRIVE
 24400						TEXTF	[ASCIZ/
 24401	055772	031 00 0 00 075157 	HIT <CR> WHEN READY /]
 24402	055773	201 00 0 00 000015 		MOVEI	0,15		;CR CODE
 24403	055774	260 17 0 00 061324 		GO	CHARIN		;WAIT FOR OPERATOR
 24404	055775	254 00 0 00 055767 		JRST	WENB2		;TIMEOUT
 24405	055776	254 00 0 00 055767 		JRST	WENB2		;ERROR INPUT
 24406	055777	254 00 0 00 055761 		JRST	WENB1		;<CR> INPUT
 24407
 24408					SUBTTL	MAINTENANCE MODE ROUTINES
 24409						BOX <MMODE - - ROUTINE TO PUT DRIVE IN MAINT MODE>,<
 24410						THIS ROUTINE MERELY WRITES A ONE TO THE MAINT MODE BIT OF REG-03
 24411						CALLING SEQ:
 24412							GO	MMODE	;CALL THE ROUTINE
 24413							RTN		;RETURNS HERE >^
 24414					 	LIST
 24415						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-16
DSRPA4	MAC	15-Feb-79 15:46		MAINTENANCE MODE ROUTINES                                                          SEQ 0775

 24416					S^;*********************************************************************^
 24417					;*MMODE - - ROUTINE TO PUT DRIVE IN MAINT MODE
 24418					S^;*********************************************************************^
 24419
 24420					COMMENT $
 24421
 24422						THIS ROUTINE MERELY WRITES A ONE TO THE MAINT MODE BIT OF REG-03
 24423						CALLING SEQ:
 24424							GO	MMODE	;CALL THE ROUTINE
 24425							RTN		;RETURNS HERE 
 24426						$
 24427						XLIST
 24428					 	LIST^
 24429	056000	261 17 0 00 000001 	MMODE:	PUT	1		;SAVE AC1
 24430	056001	200 01 0 00 064447 		MOVE	1,[1B14!1]	;SETS M-MODE BIT
 24431	056002	260 17 0 00 057413 		GO	LRPMR		;LOAD REGISTER 03
 24432	056003	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24433	056004	262 17 0 00 000001 		GET	1		;RESTORE THE AC
 24434	056005	263 17 0 00 000000 		RTN			;AND EXIT
 24435
 24436					 	XLIST
 24437					 	LIST
 24438						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-17
DSRPA4	MAC	15-Feb-79 15:46		MAINTENANCE MODE ROUTINES                                                          SEQ 0776

 24439					S^;*********************************************************************^
 24440					;*MMODE1 - - ALTERNATE METHOD OF PUTTING DRIVE IN MAINT MODE 
 24441					S^;*********************************************************************^
 24442
 24443					COMMENT $
 24444
 24445						ROUTINE IS SIMILAR TO MMODE EXCEPT THAT IT GUARANTEES THAT
 24446						SECTOR PULSE WILL HAVE GONE THRU A COMPLETE PULSE CYCLE
 24447						BEFORE IT EXITS. THIS IS NESSARY FOR THE MAINT MODE DATA
 24448						TRANSFER OPERATIONS.
 24449						CALLING SEQ:
 24450						GO	MMODE1		;CALL THE ROUTINE
 24451						RTN			;RETURNS HERE 
 24452						$
 24453						XLIST
 24454					 	LIST^
 24455
 24456	056006	261 17 0 00 000001 	MMODE1:	PUT	1		;SAVE THE AC
 24457	056007	260 17 0 00 056000 		GO	MMODE		;GO INTO MAINT MODE
 24458	056010	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX TO CAUSE SECT PULSE
 24459	056011	201 01 0 00 000001 		MOVEI	1,1		;# OF SECTOR CLOCKS
 24460	056012	260 17 0 00 056047 		GO	SECTCK		;CAUSE TRAIL EDGE OF SECT PULSE
 24461	056013	262 17 0 00 000001 		GET	1		;RESTORE THE AC
 24462	056014	263 17 0 00 000000 		RTN			;AND EXIT
 24463
 24464					 	XLIST
 24465					 	LIST
 24466						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-18
DSRPA4	MAC	15-Feb-79 15:46		MAINTENANCE MODE ROUTINES                                                          SEQ 0777

 24467					S^;*********************************************************************^
 24468					;*INDEX -- ROUTINE TO ISSUE DIAGNOSTIC INDEX PULSE
 24469					S^;*********************************************************************^
 24470
 24471					COMMENT $
 24472
 24473						THE DRIVE SHOULD BE IN MAINT MODE PRIOR TO THIS CALL
 24474						THIS ROUTINE ISSUES SECTOR CLOCK OVERLAPPING INDEX, JUST
 24475						AS THE DEVICE DOES
 24476						CALLING SEQUENCE:
 24477						GO	INDEX		;CALL THE ROUTINE
 24478						RETURN			;RETURN	
 24479						$
 24480						XLIST
 24481					 	LIST^
 24482
 24483	056015	261 17 0 00 000001 	INDEX:	PUT	1		;SAVE AC
 24484
 24485	056016	205 01 0 00 000010 		MOVSI	1,(1B14)	;READ CURRENT VALUE OF MAINT REG
 24486	056017	260 17 0 00 057607 		GO	RRPMR		;READ MAINT REG
 24487	056020	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24488	056021	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 24489
 24490	056022	405 01 0 00 000377 		ANDI	1,377		;RETAIN BITS THAT ARE MASKED
 24491	056023	661 01 0 00 000010 		TLO	1,(1B14)	;SET DON'T REPORT RAE BIT
 24492	056024	261 17 0 00 000001 		PUT	1		;SAVE EVERYTHING
 24493
 24494	056025	660 01 0 00 000014 		TRO	1,14		;LEAD ELSE OF INDEX AND SECTOR CLOCKS
 24495	056026	260 17 0 00 057413 		GO	LRPMR		;WRITE MAINT REG
 24496	056027	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24497
 24498	056030	262 17 0 00 000001 		GET	1		;GET SAVED DATA
 24499	056031	620 01 0 00 000014 		TRZ	1,14		;TRAIL EDGE OF SECT AND INDEX CLK
 24500	056032	260 17 0 00 057413 		GO	LRPMR		;LOAD MAINT REG
 24501	056033	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24502	056034	262 17 0 00 000001 		GET	1		;RESTORE THE AC
 24503	056035	263 17 0 00 000000 		RTN			;AND EXIT
 24504
 24505					 	XLIST
 24506					 	LIST
 24507						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-19
DSRPA4	MAC	15-Feb-79 15:46		MAINTENANCE MODE ROUTINES                                                          SEQ 0778

 24508					S^;*********************************************************************^
 24509					;*INDX -- ALTERNATE INDEX PULSE ROUTINE
 24510					S^;*********************************************************************^
 24511
 24512					COMMENT $
 24513
 24514						THIS ROUTINE ISSUES INDEX PULSE THROUGH THE MAINT REG. UNLIKE
 24515						"INDEX", IT DOES NOT OVERLAP SECTOR CLOCK. THE DRIVE MUST BE
 24516						IN MAINT MODE WHEN THIS ROUTINE IS CALLED.
 24517						CALLING SEQ:
 24518						GO	INDX		;CALL THE ROUTINE
 24519						RTN			;RETURN 
 24520						$
 24521						XLIST
 24522					 	LIST^
 24523
 24524	056036	261 17 0 00 000001 	INDX:	PUT	1		;SAVE THE AC
 24525	056037	200 01 0 00 066700 		MOVE	1,[1B14!5]	;LEADING EDGE OF INDEX
 24526	056040	260 17 0 00 057413 		GO	LRPMR		;WRITE THE MAINT REG
 24527	056041	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 24528
 24529	056042	200 01 0 00 064447 		MOVE	1,[1B14!1]	;TRAIL EDGE OF INDEX
 24530	056043	260 17 0 00 057413 		GO	LRPMR		;WRITE THE MAINT REG
 24531	056044	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24532	056045	262 17 0 00 000001 		GET	1		;RESTORE THE AC
 24533	056046	263 17 0 00 000000 		RTN			;AND EXIT
 24534
 24535					 	XLIST
 24536					 	LIST
 24537						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-20
DSRPA4	MAC	15-Feb-79 15:46		MAINTENANCE MODE ROUTINES                                                          SEQ 0779

 24538					S^;*********************************************************************^
 24539					;*SECTCK -- ROUTINE TO ISSUE SECTOR CLOCKS
 24540					S^;*********************************************************************^
 24541
 24542					COMMENT $
 24543
 24544						THIS ROUTINE ISSUES A VARIABLE NUMBER OF SECTOR CLOCKS
 24545						AS SPECIFIED BY AC1 ON THE CALL.
 24546						CALLING SEQUENCE:
 24547						MOVEI	1,NUM		;SPECIFY THE NUMBER
 24548						GO	SECTCK		;CALL THE ROUTINE
 24549						RETURN			;RETURN	
 24550						$
 24551						XLIST
 24552					 	LIST^
 24553
 24554	056047	261 17 0 00 000001 	SECTCK:	PUT	1		;SAVE AC'S
 24555	056050	261 17 0 00 000002 		PUT	2
 24556	056051	200 02 0 00 000001 		MOVE	2,1		;COUNT TO AC2
 24557	056052	202 02 0 00 077322 		MOVEM	2,SCLK#		;SAVE # OF SECTOR CLOCKS
 24558	056053	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 24559	056054	260 17 0 00 057607 		GO	RRPMR		;READ MAINT REGISTER
 24560	056055	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 24561	056056	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 24562
 24563	056057	405 01 0 00 000377 		ANDI	1,377		;SAVE SOME BITS
 24564	056060	670 01 0 00 064603 		TDO	1,[1B14!10]	;SET RAE BIT AND LEAD EDGE
 24565	056061	261 17 0 00 000001 		PUT	1		;SAVE
 24566
 24567					;ALL INITIALIZED. START CLOCKING
 24568
 24569	056062	200 01 0 17 000000 	SECTL:	MOVE	1,(P)		;GET LEAD EDGE DATA
 24570	056063	260 17 0 00 057413 		GO	LRPMR		;LOAD MAINT REG
 24571	056064	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 24572
 24573	056065	200 01 0 17 000000 		MOVE	1,(P)		;GET LEAD EDGE DATA
 24574	056066	620 01 0 00 000014 		TRZ	1,14		;MAKE TRAILING EDGE
 24575	056067	260 17 0 00 057413 		GO	LRPMR		;LOAD MAINT REG
 24576	056070	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24577	056071	367 02 0 00 056062 		SOJG	2,SECTL		;LOOP TILL DONE
 24578
 24579	056072	262 17 0 00 000001 		GET	1		;RESTORE AC'S
 24580	056073	262 17 0 00 000002 		GET	2
 24581	056074	262 17 0 00 000001 		GET	1
 24582	056075	263 17 0 00 000000 		RTN			;AND EXIT
 24583
 24584					 	XLIST
 24585					 	LIST
 24586						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-21
DSRPA4	MAC	15-Feb-79 15:46		MAINTENANCE MODE ROUTINES                                                          SEQ 0780

 24587					S^;*********************************************************************^
 24588					;*SECPLS -- CAUSE A SECTOR PULSE AT SECTOR ZERO
 24589					S^;*********************************************************************^
 24590
 24591					COMMENT $
 24592
 24593						THIS ROUTINE CAUSES THE NECESSARY SECTOR PULSE AT SECTOR ZERO
 24594						TO START A MAINT MODE DATA TRANSFER OPERATION.
 24595						CALLING SEQ:
 24596						GO	SECPLS		;CALL THE ROUTINE
 24597						RTN			;RETURNS HERE 
 24598						$
 24599						XLIST
 24600					 	LIST^
 24601
 24602	056076	261 17 0 00 000001 	SECPLS:	PUT	1		;SAVE AC1
 24603	056077	260 17 0 00 056015 		GO	INDEX		;ISSUE INDEX PULSE
 24604	056100	201 01 0 00 000001 		MOVEI	1,1		;# OF SECTOR CLOCKS
 24605	056101	260 17 0 00 056047 		GO	SECTCK		;ONE SECTOR CLOCK
 24606	056102	262 17 0 00 000001 		GET	1		;RESTORE THE AC
 24607	056103	263 17 0 00 000000 		RTN
 24608
 24609					SUBTTL	OPERATION CONTROL ROUTINES
 24610					 	XLIST
 24611					 	LIST
 24612						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-22
DSRPA4	MAC	15-Feb-79 15:46		OPERATION CONTROL ROUTINES                                                         SEQ 0781

 24613					S^;*********************************************************************^
 24614					;*MODE20 -- ROUTINE TO GO INTO 20 SECTOR MODE
 24615					S^;*********************************************************************^
 24616
 24617					COMMENT $
 24618
 24619						MERELY READ AND REWRITE THE OFFSET REGISTER WITH THE
 24620						FORMAT BIT CLEAR.
 24621						CALLING SEQUENCE:
 24622						GO	MODE20		;CALL THE ROUTINE
 24623						RETURN			;RETURN	
 24624						$
 24625						XLIST
 24626					 	LIST^
 24627
 24628	056104	261 17 0 00 000001 	MODE20:	PUT	1		;SAVE AC1
 24629	056105	201 01 0 00 000020 		MOVEI	1,20		;SET MODE
 24630	056106	202 01 0 00 077306 		MOVEM	1,MODE#
 24631
 24632	056107	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 24633	056110	260 17 0 00 057631 		GO	RRPOF		;READ OFFSET REGISTER
 24634	056111	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24635	056112	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 24636
 24637	056113	405 01 0 00 167777 		ANDI	1,167777	;SAVE RESULTS
 24638	056114	661 01 0 00 000010 		TLO	1,(1B14)	;DON'T REPORT RAE'S
 24639	056115	260 17 0 00 057435 		GO	LRPOF		;LOAD OFFSET REG
 24640	056116	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24641
 24642	056117	262 17 0 00 000001 		GET	1		;RESTORE THE AC
 24643	056120	263 17 0 00 000000 		RTN			;EXIT
 24644
 24645					 	XLIST
 24646					 	LIST
 24647						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-23
DSRPA4	MAC	15-Feb-79 15:46		OPERATION CONTROL ROUTINES                                                         SEQ 0782

 24648					S^;*********************************************************************^
 24649					;*MODE22 -- ROUTINE TO GO INTO 22 SECTOR MODE
 24650					S^;*********************************************************************^
 24651
 24652					COMMENT $
 24653
 24654						MERELY READ AND REWRITE THE OFFSET REGISTER WITH THE
 24655						FORMAT BIT SET.
 24656						CALLING SEQUENCE:
 24657						GO	MODE22		;CALL THE ROUTINE
 24658						RTN			;RETURN	
 24659						$
 24660						XLIST
 24661					 	LIST^
 24662
 24663	056121	261 17 0 00 000001 	MODE22:	PUT	1		;SAVE AC1
 24664	056122	201 01 0 00 000022 		MOVEI	1,22		;SET MODE
 24665	056123	202 01 0 00 077306 		MOVEM	1,MODE
 24666
 24667	056124	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 24668	056125	260 17 0 00 057631 		GO	RRPOF		;READ THE OFFSET REGISTER
 24669	056126	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24670	056127	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 24671	056130	405 01 0 00 177777 		ANDI	1,177777	;SAVE REGISTER DATA
 24672
 24673	056131	670 01 0 00 066631 		TDO	1,[1B14!1B23!]	;MODIFY FOR RE-WRITE
 24674	056132	260 17 0 00 057435 		GO	LRPOF		;LOAD OFFSET REG
 24675	056133	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24676	056134	262 17 0 00 000001 		GET	1		;RESTORE THE AC
 24677	056135	263 17 0 00 000000 		RTN			;AND EXIT
 24678
 24679					 	XLIST
 24680					 	LIST
 24681						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-24
DSRPA4	MAC	15-Feb-79 15:46		OPERATION CONTROL ROUTINES                                                         SEQ 0783

 24682					S^;*********************************************************************^
 24683					;*.RECAL -- ROUTINE TO ISSUE A RECAL
 24684					S^;*********************************************************************^
 24685
 24686					COMMENT $
 24687
 24688						ISSUES A RECAL TO THE SELECTED DRIVE. THIS ROUTINE SUPPLIES
 24689						AN ERROR RETURN FOR MAINLINE. BRANCHING. WHEN THE
 24690						ERROR RETURN IS TAKEN, "ERFLG" IS SET. IF A COMPOSITE
 24691						ERROR IS, DETECTED, THE FOLLOWING REGISTERS GET Q'D FOR ANALYSIS
 24692						CR,SR,ER1,ER2,ER3
 24693						CALLING SEQ:
 24694						GO	.RECAL		;CALL THE ROUTINE
 24695						RTN-1			;COMPOSITE ERROR OR TIMEOUT
 24696						RTN-2			;NORMAL	
 24697						$
 24698						XLIST
 24699					 	LIST^
 24700
 24701	056136	326 10 0 00 075164 	.RECAL:	JUMPN	ERFLG,[RTN]	;EXIT IF ERROR ON ENTRY
 24702	056137	261 17 0 00 000001 		PUT	1		;SAVE AC1
 24703	056140	205 01 0 00 000010 		MOVSI	1,(1B14)	;DATA IS ZERO
 24704	056141	260 17 0 00 057421 		GO	LRPDA		;CLEAR THE DA REG
 24705	056142	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24706	056143	200 01 0 00 070005 		MOVE	1,[1B14!7]	;ISSUE A RECAL
 24707	056144	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REG
 24708	056145	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24709	056146	326 10 0 00 056163 		JUMPN	ERFLG,RECEX	;GET OUT IF WE HAVE AN ERROR
 24710	056147	260 17 0 00 056451 		GO	WAITGO		;WAIT UNTIL DONE
 24711	056150	254 00 0 00 056163 		JRST	RECEX		;HUNG DEVICE. TIMEOUT
 24712	056151	255 00 0 00 000000 		JFCL			;NO. ERROR
 24713
 24714	056152	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 24715	056153	260 17 0 00 057601 		GO	RRPDS		;READ THE STATUS REGISTER
 24716	056154	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24717	056155	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 24718	056156	326 10 0 00 056163 		JUMPN	ERFLG,RECEX	;GET OUT IF WE HAVE AN ERROR
 24719	056157	606 01 0 00 040000 		TRNN	1,1B21		;COMPOSITE ERROR?
 24720	056160	254 00 0 00 056163 		JRST	RECEX		;NO. MAY EXIT THEN
 24721	056161	476 00 0 00 000010 		SETOM	ERFLG		;YES. SET ERROR FLAG
 24722	056162	660 07 0 00 700060 		TRO	RGLIST,700060	;Q UP REGISTERS FOR REPORT
 24723	056163	336 00 0 00 000010 	RECEX:	SKIPN	ERFLG		;ANY ERRORS?
 24724	056164	350 00 0 17 777777 		AOS	-1(P)		;NO BUMP RETURN
 24725	056165	262 17 0 00 000001 		GET	1		;RESTORE THE AC
 24726	056166	263 17 0 00 000000 		RTN			;EXIT
 24727
 24728					 	XLIST
 24729					 	LIST
 24730						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-25
DSRPA4	MAC	15-Feb-79 15:46		OPERATION CONTROL ROUTINES                                                         SEQ 0784

 24731					S^;*********************************************************************^
 24732					;*.SEEK -- ROUTINE TO ISSUE A SEEK
 24733					S^;*********************************************************************^
 24734
 24735					COMMENT $
 24736
 24737						ISSUES A SEEK TO THE CYLINDER SPECIFIED BY AC1 ON
 24738						THE CALL. THE ROUTINE SUPPLIES AN ERROR RETURN FOR MAINLINE
 24739						BRANCHING. WHEN THE ERROR RETURN IS TAKEN "ERFLG" IS SET.
 24740						WHEN A COMPOSITE ERROR IS CAUSED BY A SEEK COMMAND, THE FOLLOWING
 24741						REGISTERS ARE Q'D FOR ANALYSIS: CR,SR,ER1,ER2,ER3,DCA,CCA
 24742						CALLING SEQ:
 24743						MOVE	1,ARG		;CYLINDER TO AC1
 24744						GO	.SEEK		;ISSUE THE SEEK
 24745						RTN-1			;TIMEOUT OR COMPOSITE ERROR
 24746						RTN-2			;NORMAL	
 24747						$
 24748						XLIST
 24749					 	LIST^
 24750
 24751	056167	326 10 0 00 075164 	.SEEK:	JUMPN	ERFLG,[RTN]	;EXIT IF ERROR ON ENTRY
 24752	056170	261 17 0 00 000001 		PUT	1		;SAVE AC1
 24753	056171	661 01 0 00 000010 		TLO	1,(1B14)	;SET DON'T REPORT RAE BIT
 24754	056172	260 17 0 00 057440 		GO	LRPDC		;LOAD DESIRED CYL REG
 24755	056173	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 24756	056174	326 10 0 00 056214 		JUMPN	ERFLG,SEKEX	;EXIT IF ERROR
 24757
 24758	056175	200 01 0 00 066700 		MOVE	1,[1B14!5]	;GET A SEEK COMMAND
 24759	056176	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 24760	056177	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24761	056200	326 10 0 00 056214 		JUMPN	ERFLG,SEKEX	;EXIT IF ERROR
 24762
 24763	056201	260 17 0 00 056451 		GO	WAITGO		;WAIT TILL DONE
 24764	056202	254 00 0 00 056214 		JRST	SEKEX		;HUNG DEVICE
 24765
 24766	056203	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 24767	056204	260 17 0 00 057601 		GO	RRPDS		;READ THE STATUS REGISTER
 24768	056205	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 24769	056206	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 24770	056207	326 10 0 00 056214 		JUMPN	ERFLG,SEKEX	;EXIT IF ERROR
 24771	056210	606 01 0 00 040000 		TRNN	1,1B21		;COMPOSITE ERROR?
 24772	056211	254 00 0 00 056214 		JRST	SEKEX		;NO. MAY EXIT
 24773	056212	660 07 0 00 700360 		TRO	RGLIST,700360	;YES Q REG FOR ANALYSIS
 24774	056213	476 00 0 00 000010 		SETOM	ERFLG		;SET THE ERROR FLAG
 24775	056214	336 00 0 00 000010 	SEKEX:	SKIPN	ERFLG
 24776	056215	350 00 0 17 777777 		AOS	-1(P)		;NO. BUMP RETURN
 24777	056216	262 17 0 00 000001 		GET	1		;RESTORE THE AC
 24778	056217	263 17 0 00 000000 		RTN			;AND EXIT
 24779
 24780					 	XLIST
 24781					 	LIST
 24782						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-26
DSRPA4	MAC	15-Feb-79 15:46		OPERATION CONTROL ROUTINES                                                         SEQ 0785

 24783					S^;*********************************************************************^
 24784					;*.OFSET -- ROUTINE TO ISSUE AN OFFSET COMMAND
 24785					S^;*********************************************************************^
 24786
 24787					COMMENT $
 24788
 24789						ISSUE AN OFFSET COMMAND TO THE SELECTED DRIVE. THE
 24790						OFFSET IS SPECIFIED IN AC1 AT CALL TIME. THE LOW ORDER
 24791						8 BITS OF AC1 ARE THE ONLY ONES USED. THE OFFSET
 24792						REGISTER IS READ/MODIFIED/WRITTEN WITH NEW OFFSET DATA
 24793						ONLY AND THEN THE OFFSET COMMAND IS ISSUED. AN ERROR
 24794						RETURN IS SUPPLIED FOR MAINLINE BRANCHING. WHEN AN OFFSET
 24795						COMMAND CAUSES A COMPOSITE ERROR THE FOLLOWING REGISTERS ARE
 24796						Q'D FOR ANALYSIS: CR,SR,ER1,ER2,ER3,DCY,CCY,OF.
 24797						CALLING SEQ:
 24798						MOVE	1,ARG		;SPECIFY THE OFFSET DESIRED
 24799						GO	.OFSET		;CALL THE OFFSET DESIRED
 24800						RTN-1			;TIMEOUT OR DEVICE ERROR
 24801						RTN-2			;NORMAL	
 24802						$
 24803						XLIST
 24804					 	LIST^
 24805
 24806	056220	326 10 0 00 075164 	.OFSET:	JUMPN	ERFLG,[RTN]	;EXIT IF ERROR ON ENTRY
 24807	056221	261 17 0 00 000001 		PUT	1		;SAVE AC1
 24808	056222	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 24809	056223	260 17 0 00 057631 		GO	RRPOF		;READ THE OFFSET REGISTER
 24810	056224	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24811	056225	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 24812	056226	326 10 0 00 056257 		JUMPN	ERFLG,OFSEX	;EXIT IF ERROR
 24813	056227	135 01 0 00 063764 		LDB	1,[POINT 16,1,35]	;REG DATA
 24814	056230	261 17 0 00 000001 		PUT	1		;PUT DATA ON STACK
 24815	056231	135 01 0 00 075165 		LDB	1,[POINT 8,-1(P),35]  ;GET NEW OFFSET
 24816	056232	137 01 0 00 075166 		DPB	1,[POINT 8,(P),35]  ;UPDATE OFFSET REG DATA
 24817	056233	262 17 0 00 000001 		GET	1		;GET NEW OFFSET DATA
 24818	056234	661 01 0 00 000010 		TLO	1,(1B14)	;GET DON'T REPORT RAE BIT
 24819	056235	260 17 0 00 057435 		GO	LRPOF		;RELOAD THE OFFSET REGISTER
 24820	056236	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24821	056237	326 10 0 00 056257 		JUMPN	ERFLG,OFSEX	;EXIT IF ERROR
 24822
 24823	056240	200 01 0 00 075167 		MOVE	1,[1B14!15]	;GET AN OFFSET COMMAND
 24824	056241	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 24825	056242	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24826	056243	326 10 0 00 056257 		JUMPN	ERFLG,OFSEX	;EXIT IF ERROR
 24827
 24828	056244	260 17 0 00 056451 		GO	WAITGO		;WAIT FOR COMPLETION
 24829	056245	254 00 0 00 056257 		JRST	OFSEX		;TIMEOUT. DEVICE HUNG
 24830	056246	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 24831	056247	260 17 0 00 057601 		GO	RRPDS		;READ THE STATUS REGISTER
 24832	056250	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24833	056251	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 24834	056252	326 10 0 00 056257 		JUMPN	ERFLG,OFSEX	;EXIT IF ERROR
 24835	056253	606 01 0 00 040000 		TRNN	1,1B21		;COMPOSITE ERROR?
 24836	056254	254 00 0 00 056257 		JRST	OFSEX		;NO
 24837	056255	476 00 0 00 000010 		SETOM	ERFLG		;YES. SET ERROR FLAG
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-27
DSRPA4	MAC	15-Feb-79 15:46		OPERATION CONTROL ROUTINES                                                         SEQ 0786

 24838	056256	660 07 0 00 700760 		TRO	RGLIST,700760	;Q REGISTERS FOR ANALYSIS
 24839	056257	336 00 0 00 000010 	OFSEX:	SKIPN	ERFLG		;ANY ERRORS?
 24840	056260	350 00 0 17 777777 		AOS	-1(P)		;NO. BUMP RETURN
 24841	056261	262 17 0 00 000001 		GET	1		;YES. RESTORE THE AC
 24842	056262	263 17 0 00 000000 		RTN			;EXIT
 24843
 24844					 	XLIST
 24845					 	LIST
 24846						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-28
DSRPA4	MAC	15-Feb-79 15:46		OPERATION CONTROL ROUTINES                                                         SEQ 0787

 24847					S^;*********************************************************************^
 24848					;*.SRCH -- ROUTINE TO ISSUE A SEARCH COMMAND
 24849					S^;*********************************************************************^
 24850
 24851					COMMENT $
 24852
 24853						ISSUE A SEARCH COMMAND TO THE SELECTED DRIVE. THE SEARCH
 24854						ADDRESS IS PASSED IN ACCUMULATOR AT THE CALL. AN ERROR
 24855						RETURN IS PROVIDED FOR MAINLINE BRANCHING. WHEN THE ERROR
 24856						RETURN IS TAKEN, "ERFLG" IS SET. IF A COMPOSITE ERROR IS
 24857						CAUSED BY THE SEARCH COMMAND, THE FOLLOWING REGISTERS ARE
 24858						Q'D FOR ANALYSIS: CR,SR,ER1,ER2,ER3,DA,DC4,CCY
 24859						CALLING SEQUENCE:
 24860						MOVE	1,ARG1		;AC1 CONTAINS CYLINDER
 24861						MOVE	2,ARG2		;AC2 CONTAINS SURF,,SECTOR
 24862						GO	.SRCH		;CALL THE SEARCH ROUTINE
 24863						RTN-1			;ERROR TIMEOUT
 24864						RTN-2			;NORMAL	
 24865						$
 24866						XLIST
 24867					 	LIST^
 24868
 24869	056263	326 10 0 00 075164 	.SRCH:	JUMPN	ERFLG,[RTN]	;EXIT IF ERROR ON ENTRY
 24870	056264	261 17 0 00 000001 		PUT	1		;SAVE AC
 24871	056265	661 01 0 00 000010 		TLO	1,(1B14)	;DON'T REPORT RAE'S
 24872	056266	260 17 0 00 057440 		GO	LRPDC		;LOAD DESIRED CYLINDER REG
 24873	056267	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24874	056270	326 10 0 00 056320 		JUMPN	ERFLG,SEAEX	;EXIT IF ERROR
 24875
 24876	056271	554 01 0 17 000000 		HLRZ	1,(P)		;GET DA TRACK FIELD
 24877	056272	242 01 0 00 000010 		LSH	1,8		;POSITION IT PROPERLY
 24878	056273	434 01 0 17 000000 		IOR	1,(P)		;INCLUDE SECTOR ADDRESS
 24879	056274	550 01 0 00 000001 		HRRZ	1,1		;NOW GET RID OF LEFT SIDE
 24880	056275	661 01 0 00 000010 		TLO	1,(1B14)	;SET DON'T REPORT RAE BIT
 24881	056276	260 17 0 00 057421 		GO	LRPDA		;LOAD DESIRED ADDRESS REG
 24882	056277	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24883	056300	326 10 0 00 056320 		JUMPN	ERFLG,SEAEX	;EXIT IF ERROR
 24884
 24885	056301	200 01 0 00 070247 		MOVE	1,[1B14!31]	;GET A SEARCH COMMAND
 24886	056302	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REG
 24887	056303	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24888	056304	326 10 0 00 056320 		JUMPN	ERFLG,SEAEX	;EXIT IF ERROR
 24889
 24890	056305	260 17 0 00 056451 		GO	WAITGO		;WAIT FOR GO BIT TO CLEAR
 24891	056306	254 00 0 00 056320 		JRST	SEAEX		;HUNG DEVICE
 24892
 24893	056307	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 24894	056310	260 17 0 00 057601 		GO	RRPDS		;READ THE STATUS REG
 24895	056311	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24896	056312	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 24897	056313	326 10 0 00 056320 		JUMPN	ERFLG,SEAEX	;EXIT IF ANY ERROR
 24898
 24899	056314	606 01 0 00 040000 		TRNN	1,1B21		;COMPOSITE ERROR?
 24900	056315	254 00 0 00 056320 		JRST	SEAEX		;NO.
 24901	056316	476 00 0 00 000010 		SETOM	ERFLG		;YES. SET ERROR FLAG
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-29
DSRPA4	MAC	15-Feb-79 15:46		OPERATION CONTROL ROUTINES                                                         SEQ 0788

 24902	056317	660 07 0 00 710360 		TRO	RGLIST,710360	;Q-REG FOR ANALYSIS
 24903	056320	336 00 0 00 000010 	SEAEX:	SKIPN	ERFLG		;ANY ERRORS
 24904	056321	350 00 0 17 777777 		AOS	-1(P)		;NO. BUMP THE RETURN
 24905	056322	262 17 0 00 000001 		GET	1		;RESTORE AC
 24906	056323	263 17 0 00 000000 		RTN			;EXIT
 24907
 24908					 	XLIST
 24909					 	LIST
 24910						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-30
DSRPA4	MAC	15-Feb-79 15:46		OPERATION CONTROL ROUTINES                                                         SEQ 0789

 24911					S^;*********************************************************************^
 24912					;*RTNCTL -- ROUTINE TO ISSUE RETURN TO CENTER LINE
 24913					S^;*********************************************************************^
 24914
 24915					COMMENT $
 24916
 24917						ISSUE A RETURN TO CENTER LINE TO THE SELECTED DRIVE. THE
 24918						ROUTINE WILL SUPPLY AN ERRROR RETURN FOR MAINLINE BRANCHING.
 24919						WHEN THE ERROR RETURN IS TAKEN, "ERFLG" IS SET. IF THE RETURN
 24920						TO CENTERLINE COMMAND CAUSES A COMPOSITE ERROR, THE FOLLOWING
 24921						REGISTERS WILL BE Q'D FOR ANALYSIS: CR,CR,ER1,ER2,ER3,DCY,CCY
 24922						CALLING SEQUENCE:
 24923						GO	RTNCTL		;CALL THE ROUTINE
 24924						RTN-1			;ERROR OR HUNG DEVICE
 24925						RTN-2			;NO ERROR	
 24926						$
 24927						XLIST
 24928					 	LIST^
 24929
 24930	056324	326 10 0 00 075164 	RTNCTL:	JUMPN	ERFLG,[RTN]	;EXIT IF ERROR ON ENTRY
 24931	056325	261 17 0 00 000001 		PUT	1		;SAVE THE AC
 24932	056326	200 01 0 00 075170 		MOVE	1,[1B14!17]	;GET THE RTNCTL CMD
 24933	056327	260 17 0 00 057402 		GO	LRPCS1		;LOAD THE CONTROL REGISTER
 24934	056330	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24935	056331	326 10 0 00 056345 		JUMPN	ERFLG,RTNEX	;EXIT IF ERROR
 24936
 24937	056332	260 17 0 00 056451 		GO	WAITGO		;WAIT FOR GO-BIT TO CLEAR
 24938	056333	254 00 0 00 056345 		JRST	RTNEX		;HUNG DEVICE
 24939
 24940	056334	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 24941	056335	260 17 0 00 057601 		GO	RRPDS		;READ THE STATUS REG
 24942	056336	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 24943	056337	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 24944	056340	326 10 0 00 056345 		JUMPN	ERFLG,RTNEX	;EXIT IF ERROR
 24945
 24946	056341	606 01 0 00 040000 		TRNN	1,1B21		;COMPOSITE ERROR?
 24947	056342	254 00 0 00 056345 		JRST	RTNEX		;NO
 24948	056343	476 00 0 00 000010 		SETOM	ERFLG		;YES. SET ERROR FLAG
 24949	056344	660 07 0 00 700360 		TRO	RGLIST,700360	;Q REGISTERS FOR ANALYSIS
 24950	056345	336 00 0 00 000010 	RTNEX:	SKIPN	ERFLG		;ANY ERROR?
 24951	056346	350 00 0 17 777777 		AOS	-1(P)		;NO. BUMP RETURN
 24952	056347	262 17 0 00 000001 		GET	1		;YES. RESTORE AC
 24953	056350	263 17 0 00 000000 		RTN			;EXIT
 24954
 24955					 	XLIST
 24956					 	LIST
 24957						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-31
DSRPA4	MAC	15-Feb-79 15:46		OPERATION CONTROL ROUTINES                                                         SEQ 0790

 24958					S^;*********************************************************************^
 24959					;*XFSTRT -- ROUTINE TO INITIATE A DATA TRANSFER
 24960					S^;*********************************************************************^
 24961
 24962					COMMENT $
 24963
 24964						THIS ROUTINE IS USED TO LOAD DCY, DA, AND RH CONTROL
 24965						REGISTERS.
 24966						THE ROUTINE HAS A NORMAL AND AN ERROR RETURN.
 24967
 24968						WHEN TAKING THE ERROR RETURN (RTN-1) AC1 WILL BE ZERO.
 24969						AN ERROR RETURN IS TAKEN IF A CBTO OCCURED WHEN LOADING
 24970						ONE OF THE DRIVE REGISTERS.
 24971
 24972						CALLING SEQUENCE:
 24973						MOVE	AC1,ARG1	;FUNCTION CODE & MISC. CR BITS
 24974						MOVE	AC2,ARG2	;VALUES FOR DCY,,DA
 24975						MOVE	AC3,ARG2	;VALUES FOR +WC,,CORE ADR
 24976						GO	XFSTRT		;CALL THE ROUTINE
 24977						RTN-1			;ERROR RETURN
 24978						RTN-2			;NORMAL RETURN 
 24979						$
 24980						XLIST
 24981					 	LIST^
 24982
 24983	056351	326 10 0 00 056353 	XFSTRT:	JUMPN	ERFLG,.+2
 24984	056352	254 00 0 00 056355 		JRST	.+3		;NO ERROR SO FAR
 24985	056353	402 00 0 00 000001 		SETZM	1		;CLEAR AC1
 24986	056354	263 17 0 00 000000 		RTN			;AND EXIT
 24987
 24988	056355	261 17 0 00 000003 		PUT	3		;SAVE AC'S
 24989	056356	261 17 0 00 000002 		PUT	2
 24990	056357	261 17 0 00 000001 		PUT	1
 24991
 24992	056360	400 03 0 00 000000 		SETZ	3,
 24993	056361	201 01 0 00 140000 	CLRRAM:	MOVEI	1,LVALID!LXFR36
 24994	056362	137 03 0 00 075171 		DPB	3,[POINT 6,1,5]	;SETUP RAM ADDRESS
 24995	056363	260 17 0 00 062267 		GO	LDRAM		;LOAD ZEROS IN PAGING RAM
 24996	056364	305 03 0 00 000077 		CAIGE	3,77		;CLEARED ALL LOCATIONS ?
 24997	056365	344 03 0 00 056361 		AOJA	3,CLRRAM	;NO
 24998
 24999	056366	550 01 0 17 777776 		HRRZ	1,-2(P)		;GET BUFFER ADDRESS
 25000	056367	242 01 0 00 777767 		LSH	1,-^D9		;POSITION PAGE ADDRESS
 25001	056370	660 01 0 00 040000 		TRO	1,LVALID
 25002	056371	336 00 0 00 077305 		SKIPN	MCLK3F		;DO 18 BIT XFER ?
 25003	056372	660 01 0 00 100000 		TRO	1,LXFR36	;NO, DO 36 BIT XFER
 25004	056373	260 17 0 00 062267 		GO	LDRAM		;LOAD RAM LOC 0
 25005
 25006	056374	550 01 0 17 777776 		HRRZ	1,-2(P)		;GET BUFFER ADDRESS
 25007	056375	405 01 0 00 000777 		ANDI	1,777		;KEEP ADR IN PAGE
 25008	056376	505 01 0 00 000200 		HRLI	1,(1B10)
 25009	056377	260 17 0 00 057465 		GO	LRPBA		;LOAD RH11 BUS ADDRESS REG
 25010
 25011	056400	554 01 0 17 777776 		HLRZ	1,-2(P)		;FETCH WC
 25012	056401	202 01 0 00 077256 		MOVEM	1,BLKSIZ#	;SIZE OF BLOCK FOR THIS TRANSFER
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-32
DSRPA4	MAC	15-Feb-79 15:46		OPERATION CONTROL ROUTINES                                                         SEQ 0791

 25013
 25014	056402	210 01 0 00 077256 		MOVN	1,BLKSIZ	;GET 2'S COMP OF XFR SIZE
 25015	056403	242 01 0 00 000001 		LSH	1,1		;DOUBLE IT
 25016	056404	505 01 0 00 000200 		HRLI	1,(1B10)
 25017	056405	260 17 0 00 057462 		GO	LRPWC		;LOAD WORD COUNT REG
 25018
 25019	056406	550 01 0 17 777777 		HRRZ	1,-1(P)		;NO ERROR FETCH DA DATA
 25020	056407	661 01 0 00 000010 		TLO	1,(1B14)	;DON'T REPORT RAE'S
 25021	056410	260 17 0 00 057421 		GO	LRPDA		;LOAD THE DA REGISTER
 25022	056411	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25023	056412	326 10 0 00 056426 		JUMPN	ERFLG,XFEREX	;BRANCH IF ERROR
 25024
 25025	056413	554 01 0 17 777777 		HLRZ	1,-1(P)		;FETCH DCY DATA FROM STACK
 25026	056414	661 01 0 00 000010 		TLO	1,(1B14)	;DON'T REPORT RAE'S
 25027	056415	260 17 0 00 057440 		GO	LRPDC		;LOAD DCY
 25028	056416	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25029	056417	326 10 0 00 056426 		JUMPN	ERFLG,XFEREX	;BRANCH IF ERROR
 25030
 25031	056420	200 01 0 17 000000 		MOVE	1,(P)		;GET COMMAND
 25032	056421	505 01 0 00 000200 		HRLI	1,(1B10)	;DONT REPORT RAE'S
 25033	056422	260 17 0 00 057402 		GO	LRPCS1		;START COMMAND
 25034	056423	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25035	056424	326 10 0 00 056426 		JUMPN	ERFLG,XFEREX	;BRANCH IF ERROR
 25036
 25037	056425	350 00 0 17 777775 		AOS	-3(P)		;BUMP THE RETURN FOR NORMAL
 25038
 25039	056426	262 17 0 00 000001 	XFEREX:	GET	1		;RESTORE AC'S
 25040	056427	262 17 0 00 000002 		GET	2
 25041	056430	262 17 0 00 000003 		GET	3
 25042
 25043	056431	263 17 0 00 000000 		RTN			;AND EXIT
 25044
 25045					 	XLIST
 25046					 	LIST
 25047						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-33
DSRPA4	MAC	15-Feb-79 15:46		OPERATION CONTROL ROUTINES                                                         SEQ 0792

 25048					S^;*********************************************************************^
 25049					;*XFSTOP -- ROUTINE TO TERMINATE A DATA TRANSFER
 25050					S^;*********************************************************************^
 25051
 25052					COMMENT $
 25053
 25054						THIS ROUTINE WHEN CALLED DOES A CONTROLLER MASTER RESET
 25055						TO FORCE THE TRANSFER TO BE COMPLETELY TERMINATED.
 25056
 25057						CALLING SEQUENCE:
 25058						GO	XFSTOP		;CALL THE ROUTINE
 25059						RTN			;RETURNS HERE 
 25060						$
 25061						XLIST
 25062					 	LIST^
 25063
 25064	056432	261 17 0 00 000001 	XFSTOP:	PUT	1		;SAVE THE AC
 25065	056433	201 01 0 00 000040 		MOVEI	1,RHCLR
 25066	056434	260 17 0 00 057470 		GO	LRPCS2
 25067	056435	262 17 0 00 000001 		GET	1		;RESTORE THE AC
 25068	056436	263 17 0 00 000000 		RTN			;AND EXIT
 25069
 25070					 	XLIST
 25071					 	LIST
 25072						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-34
DSRPA4	MAC	15-Feb-79 15:46		OPERATION CONTROL ROUTINES                                                         SEQ 0793

 25073					S^;*********************************************************************^
 25074					;*SNABRT -- ROUTINE TO SNAPSHOT REGISTERS AND ABORT TRANSFER
 25075					S^;*********************************************************************^
 25076
 25077					COMMENT $
 25078
 25079						THIS ROUTINE SNAPSHOTS ALL CONTROLLER AND DRIVE REGISTERS INTO
 25080						CORE AND THEN SHUTS DOWN THE SYSTEM BY STOPPING THE CHANNELS
 25081						AND ISSUING RHCLR. IN EXEC MODE, THE TRANSFER IS NOT STOPPED 
 25082						IF PROCEEDING ON ERROR
 25083
 25084						CALLING SEQ:
 25085						GO	SNABRT		;CALL THE ROUTINE
 25086						RTN			;RETURNS +1
 25087						$
 25088						XLIST
 25089					 	LIST^
 25090
 25091	056437	261 17 0 00 000001 	SNABRT:	PUT	1		;SAVE AC1
 25092	056440	261 17 0 00 000007 		PUT	RGLIST		;SAVE REGISTER LIST FOR USER
 25093	056441	260 17 0 00 057274 		GO	SNAPA		;SNAPSHOT ALL REGISTERS
 25094	056442	200 01 0 00 077324 		MOVE	1,SCPSW		;GET SCOPE SWITCH SETTINGS
 25095	056443	336 00 0 00 030037 		SKIPN	USER		;USER MODE ?
 25096	056444	603 01 0 00 004000 		TLNE	1,(1B6)		;NO.  LOOP ON ERROR TEST
 25097	056445	260 17 0 00 056432 		GO	XFSTOP		;SHUT DOWN TRANSFER
 25098	056446	262 17 0 00 000007 		GET	RGLIST		;RESTORE REGISTER LIST
 25099	056447	262 17 0 00 000001 		GET	1		;AND AC1
 25100	056450	263 17 0 00 000000 		RTN			;AND EXIT
 25101
 25102					SUBTTL DEVICE I/O WAIT ROUTINE
 25103					 	XLIST
 25104					 	LIST
 25105						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-35
DSRPA4	MAC	15-Feb-79 15:46		DEVICE I/O WAIT ROUTINE                                                            SEQ 0794

 25106					S^;*********************************************************************^
 25107					;*WAITGO -- ROUTINE TO WAIT FOR GO TO RESET
 25108					S^;*********************************************************************^
 25109
 25110					COMMENT $
 25111
 25112						THIS IS A GROSS TIMER FOR HUNG DEVICES. IT WILL LOOK
 25113						FOR A CLEAR "GO" BIT FOR AT LEAST 520 MS BY CONTINUALLY
 25114						READING THE CONTROL REGISTER. IT PROVIDES A TIMEOUT RETURN
 25115						FOR MAINLINE BRANCHING. WHEN IT DOES TIME OUT, IT TELLS
 25116						YOU WHICH DEVICE IS HUNG, AND WITH WHICH COMMAND, ALONG
 25117						WITH WHERE THE WAIT IS OCCURING.
 25118						A FLAG CALLED "HNGDEV" IS ALSO SET TO -1 WHEN A
 25119						HUNG DEVICE CONDITION OCCURS. (DEVICE TIMEOUT).
 25120
 25121						CALLING SEQUENCE:
 25122						GO	WAITGO		;CALL THE ROUTINE
 25123						RTN-1			;HUNG DEVICE RETURN
 25124						RTN-2			;GO BIT IS CLEAR
 25125						$
 25126						XLIST
 25127					 	LIST^
 25128
 25129	056451	261 17 0 00 000001 	WAITGO:	PUT	1		;SAVE AC'S
 25130	056452	261 17 0 00 000002 		PUT	2
 25131	056453	402 00 0 00 077301 		SETZM	HNGDEV#		;CLEAR HUNG DEVICE FLAG
 25132
 25133	056454	201 02 0 00 076400 		MOVEI	2,^D32000	;A COUNTER FOR LIMIT
 25134	056455	205 01 0 00 000010 	WAITL:	MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 25135	056456	260 17 0 00 057576 		GO	RRPCS1		;READ CONTROL REGISTER
 25136	056457	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25137	056460	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 25138	056461	332 00 0 00 000010 		SKIPE	ERFLG
 25139	056462	254 00 0 00 056511 		JRST	WEX2+1
 25140	056463	606 01 0 00 000001 		TRNN	1,1		;IS GO CLEAR?
 25141	056464	254 00 0 00 056510 		JRST	WEX2		;YES. EXIT +2
 25142	056465	202 01 0 00 077350 		MOVEM	1,WTDTA#	;SAVE RESULTS
 25143	056466	367 02 0 00 056455 		SOJG	2,WAITL		;BRANCH IF STILL WAITING
 25144	056467	261 17 0 00 000000 		PUT	0
 25145						TEXT	[ASCIZ/
 25146	056470	030 00 0 00 075172 	DEVICE TIMEOUT (HUNG) /]
 25147
 25148	056471	200 00 0 00 030046 		MOVE	0,CONSW		;GET SWITCHES
 25149	056472	607 00 0 00 040000 		TLNN	0,040000	;SKIP IF NO PRINT IS SET
 25150	056473	260 17 0 00 061364 		GO	TELWHO		;TELL WHICH DEVICE
 25151	056474	260 17 0 00 063452 		GO	.CRLF
 25152	056475	260 17 0 00 062461 		GO	REGPNT		;PRINT CONTROL REGISTER
 25153	056476	030 00 0 00 075177 		TEXT	[ASCIZ/PGM WAS WAITING AT PC - /]
 25154	056477	200 00 0 17 777775 		MOVE	0,-3(P)		;GET PC
 25155	056500	275 00 0 00 000001 		SUBI	0,1		;ADJUST FOR CORRECT PC
 25156	056501	037 06 0 00 000000 		PNT6			;PRINT THE PC
 25157	056502	260 17 0 00 063452 		GO	.CRLF
 25158	056503	262 17 0 00 000000 		GET	0		;RESTORE AC
 25159	056504	476 00 0 00 000010 		SETOM	ERFLG		;ERROR
 25160	056505	476 00 0 00 077301 		SETOM	HNGDEV		;SET HUNG DEVICE FLAG
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-36
DSRPA4	MAC	15-Feb-79 15:46		DEVICE I/O WAIT ROUTINE                                                            SEQ 0795

 25161	056506	260 17 0 00 077352 		GO	DEVREQ		;REQUEST THE DEVICE
 25162	056507	334 00 0 00 000000 		SKIPA
 25163	056510	350 00 0 17 777776 	WEX2:	AOS	-2(P)		;BUMP RETURN
 25164	056511	262 17 0 00 000002 		GET	2		;RESTORE AC'S
 25165	056512	262 17 0 00 000001 		GET	1
 25166	056513	263 17 0 00 000000 		RTN			;RETURN
 25167
 25168					SUBTTL	UTILITIES TO AID IN MAINT MODE TESTING
 25169					 	XLIST
 25170					 	LIST
 25171						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-37
DSRPA4	MAC	15-Feb-79 15:46		UTILITIES TO AID IN MAINT MODE TESTING                                             SEQ 0796

 25172					S^;*********************************************************************^
 25173					;*SETB1 -- BUILD A WRITE BUFFER FROM STD PATTERNS
 25174					S^;*********************************************************************^
 25175
 25176					COMMENT $
 25177
 25178						TRANSFERS THE STANDARD DATA PATTERNS TO THE FIRST
 25179						28. WORDS OF "BUF1" AND ZERO'S THE NEXT 102. WORDS
 25180						TO FILL OUT THE REST OF THE SECTOR DATA.
 25181
 25182						CALLING SEQ:
 25183						GO	SETB1		;SET UP THE BUFFER
 25184						RTN			;RETURNS HERE 
 25185						$
 25186						XLIST
 25187					 	LIST^
 25188
 25189	056514	261 17 0 00 000001 	SETB1:	PUT	1		;SAVE AC1
 25190
 25191	056515	200 01 0 00 075204 		MOVE	1,[MMBUF,,BUF1]	;XFER STD PATTERNS
 25192	056516	251 01 0 00 101033 		BLT	1,BUF1+^D28-1
 25193
 25194	056517	200 01 0 00 075205 		MOVE	1,[BUF1+^D26,,BUF1+^D27]  ;NOW ZERO REST OF BUFFER
 25195	056520	251 01 0 00 101201 		BLT	1,BUF1+^D129
 25196
 25197	056521	262 17 0 00 000001 		GET	1		;EXIT
 25198	056522	263 17 0 00 000000 		RTN
 25199
 25200					 	XLIST
 25201					 	LIST
 25202						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-38
DSRPA4	MAC	15-Feb-79 15:46		UTILITIES TO AID IN MAINT MODE TESTING                                             SEQ 0797

 25203					S^;*********************************************************************^
 25204					;*FETWD -- FETCH AN 18 BIT BYTE FROM WRITE BUFFER
 25205					S^;*********************************************************************^
 25206
 25207					COMMENT $
 25208
 25209						FETCH FROM THE WRITE BUFFER "BUF1", THE SPECIFIED 18
 25210						BIT DATA BYTE. THE FIRST 2 WORDS IN THE BUFFER ARE
 25211						ASSUMED TO BE HEADER WORDS. BUFFER IS LAID OUT LIKE THIS:
 25212						BYTE1,,BYTE2
 25213						BYTE3,,BYTE4 ETC.
 25214
 25215						CALLING SEQUENCE:
 25216						MOVEI	1,N		;GET BYTE NUMBER.
 25217						GO	FETWD		;CALL THE ROUTINE
 25218						RTN			;RETURNS WITH DATA IN R(AC1) 
 25219						$
 25220						XLIST
 25221					 	LIST^
 25222
 25223	056523	261 17 0 00 000000 	FETWD:	PUT	0		;SAVE AC'S
 25224	056524	261 17 0 00 000001 		PUT	1
 25225	056525	261 17 0 00 000002 		PUT	2
 25226
 25227	056526	275 01 0 00 000001 		SUBI	1,1		;ADJUST COUNT
 25228	056527	200 00 0 00 000001 		MOVE	0,1		;AC0=BYTES
 25229	056530	200 02 0 00 000001 		MOVE	2,1		;AC2=BYTES
 25230	056531	242 02 0 00 777777 		LSH	2,-1		;AC2=BYTES/2
 25231	056532	270 02 0 00 100213 		ADD	2,BUF1A		;AC2=INDEX TO PROPER WORD
 25232	056533	554 01 0 02 000000 		HLRZ	1,(2)		;FETCH LEFT DATA (ODD)
 25233	056534	602 00 0 00 000001 		TRNE	0,1		;DID WE WANT THIS BYTE?
 25234	056535	550 01 0 02 000000 		HRRZ	1,(2)		;NO. THEN FETCH EVEN (RIGHT)
 25235	056536	202 01 0 17 777777 		MOVEM	1,-1(P)		;SET UP FOR RESTORE
 25236	056537	262 17 0 00 000002 		GET	2		;RESTORE
 25237	056540	262 17 0 00 000001 		GET	1
 25238	056541	262 17 0 00 000000 		GET	0
 25239	056542	263 17 0 00 000000 		RTN			;AND EXIT
 25240
 25241					 	XLIST
 25242					 	LIST
 25243						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-39
DSRPA4	MAC	15-Feb-79 15:46		UTILITIES TO AID IN MAINT MODE TESTING                                             SEQ 0798

 25244					S^;*********************************************************************^
 25245					;*FETMC3 -- FETCH AN 18 BIT BYTE FROM READ BUFFER
 25246					S^;*********************************************************************^
 25247
 25248					COMMENT $
 25249
 25250						FETCH FROM THE READ BUFFER "BUF2", THE SPECIFIED 18
 25251						BIT DATA BYTE. THE FIRST 2 WORDS IN THE BUFFER ARE
 25252						ASSUMED TO BE HEADER WORDS. BUFFER IS LAID OUT LIKE THIS:
 25253						BYTE1,,BYTE2
 25254						BYTE3,,BYTE4 ETC.
 25255
 25256						CALLING SEQUENCE:
 25257						MOVEI	1,N		;GET BYTE NUMBER.
 25258						GO	FETMC3		;CALL THE ROUTINE
 25259						RTN			;RETURNS WITH DATA IN R(AC1) 
 25260						$
 25261						XLIST
 25262					 	LIST^
 25263
 25264	056543	261 17 0 00 000000 	FETMC3:	PUT	0		;SAVE AC'S
 25265	056544	261 17 0 00 000001 		PUT	1
 25266	056545	261 17 0 00 000002 		PUT	2
 25267
 25268	056546	200 00 0 00 075206 		MOVE	0,[BUF1,,BUF1]	;BLT TO CAUSE CACHE TO FLUSH
 25269	056547	251 00 0 00 101777 		BLT	BUF1+777	;MUST GET READ DATA INTO MEMORY
 25270
 25271	056550	275 01 0 00 000001 		SUBI	1,1		;ADJUST COUNT
 25272	056551	200 00 0 00 000001 		MOVE	0,1		;AC0=BYTES
 25273	056552	200 02 0 00 000001 		MOVE	2,1		;AC2=BYTES
 25274	056553	242 02 0 00 777777 		LSH	2,-1		;AC2=BYTES/2
 25275	056554	271 02 0 00 102002 		ADDI	2,BUF2+2	;AC2=INDEX TO PROPER WORD
 25276	056555	554 01 0 02 000000 		HLRZ	1,(2)		;FETCH LEFT DATA (ODD)
 25277	056556	602 00 0 00 000001 		TRNE	0,1		;DID WE WANT THIS BYTE?
 25278	056557	550 01 0 02 000000 		HRRZ	1,(2)		;NO. THEN FETCH EVEN (RIGHT)
 25279	056560	202 01 0 17 777777 		MOVEM	1,-1(P)		;SET UP FOR RESTORE
 25280	056561	262 17 0 00 000002 		GET	2		;RESTORE
 25281	056562	262 17 0 00 000001 		GET	1
 25282	056563	262 17 0 00 000000 		GET	0
 25283	056564	263 17 0 00 000000 		RTN			;AND EXIT
 25284
 25285					 	XLIST
 25286					 	LIST
 25287						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-40
DSRPA4	MAC	15-Feb-79 15:46		UTILITIES TO AID IN MAINT MODE TESTING                                             SEQ 0799

 25288					S^;*********************************************************************^
 25289					;*UCBUF2 -- UNCACHE BUF2 "THE READ BUFFER"
 25290					S^;*********************************************************************^
 25291
 25292					COMMENT $
 25293
 25294						SETS UP THE READ BUFFER TO BE UNCACHED SO THAT THE "MCLK3"
 25295						ROUTINE CAN PROPERLY RETRIEVE THE READ DATA.
 25296
 25297						CALLED IMMEDIATELY AFTER "PGMINT" TO UNCACHE THE PROPER PAGE.
 25298						$
 25299						XLIST
 25300					 	LIST^
 25301
 25302	056565	332 00 0 00 030037 	UCBUF2:	SKIPE	USER
 25303	056566	263 17 0 00 000000 		RTN			;DON'T NEED IF USER
 25304
 25305	056567	201 01 0 00 102000 		MOVEI	1,BUF2		;GET BUF2 ADDRESS
 25306	056570	242 01 0 00 777767 		LSH	1,-^D9		;MAKE PAGE ADDRESS
 25307	056571	606 01 0 00 000001 		TRNN	1,1		;ODD OR EVEN ?
 25308	056572	254 00 0 00 056600 		JRST	.+6		;EVEN
 25309
 25310	056573	242 01 0 00 777777 		LSH	1,-1		;MAKE INDEX INTO PAGE MAP
 25311	056574	550 00 0 01 000600 		HRRZ	0,600(1)	;FETCH PAGE MAP ENTRY
 25312	056575	620 00 0 00 020000 		TRZ	0,20000		;CLEAR THE CACHE BIT
 25313	056576	542 00 0 01 000600 		HRRM	0,600(1)	;RESTORE PAGE MAP ENTRY
 25314	056577	263 17 0 00 000000 		RTN
 25315
 25316	056600	242 01 0 00 777777 		LSH	1,-1		;MAKE INDEX INTO PAGE MAP
 25317	056601	554 00 0 01 000600 		HLRZ	0,600(1)	;FETCH PAGE MAP ENTRY
 25318	056602	620 00 0 00 020000 		TRZ	0,20000		;CLEAR THE CACHE BIT
 25319	056603	506 00 0 01 000600 		HRLM	0,600(1)	;RESTORE PAGE MAP ENTRY
 25320	056604	263 17 0 00 000000 		RTN
 25321
 25322					 	XLIST
 25323					 	LIST
 25324						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-41
DSRPA4	MAC	15-Feb-79 15:46		UTILITIES TO AID IN MAINT MODE TESTING                                             SEQ 0800

 25325					S^;*********************************************************************^
 25326					;*MCLK1 -- A MAINT-MODE CLOCK ROUTINE
 25327					S^;*********************************************************************^
 25328
 25329					COMMENT $
 25330
 25331						THIS ROUTINE ISSUES THE SPECIFIED NUMBER OF MAINT CLOCKS
 25332						AND THEN RETURNS. THE MAINT DATA BITS ARE HELD AT 0.
 25333
 25334						CALLING SEQ:
 25335						MOVEI	1,N		;NUMBER OF CLOCKS DESIRED
 25336						GO	MCLK1		;CALL THE ROUTINE
 25337						RTN			;RETURNS HERE
 25338						$
 25339						XLIST
 25340					 	LIST^
 25341
 25342	056605	261 17 0 00 000001 	MCLK1:	PUT	1		;SAVE AC1 AND AC2
 25343	056606	261 17 0 00 000002 		PUT	2
 25344	056607	210 02 0 00 000001 		MOVN	2,1		;-CLOCK COUNT
 25345
 25346	056610	200 01 0 00 070660 	MCLK1A:	MOVE	1,[1B14!3]	;RISING EDGE DATA
 25347	056611	260 17 0 00 057413 		GO	LRPMR		;WRITE MAINT REGISTER
 25348	056612	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25349
 25350	056613	200 01 0 00 064447 		MOVE	1,[1B14!1]	;FALLING EDGE DATA
 25351	056614	260 17 0 00 057413 		GO	LRPMR		;WRITE MAINT REGISTER
 25352	056615	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25353	056616	346 02 0 00 056610 		AOJN	2,MCLK1A	;JUMP IF NOT DONE
 25354	056617	262 17 0 00 000002 		GET	2		;DONE. RESTORE AC'S
 25355	056620	262 17 0 00 000001 		GET	1
 25356	056621	263 17 0 00 000000 		RTN			;EXIT
 25357
 25358					 	XLIST
 25359					 	LIST
 25360						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-42
DSRPA4	MAC	15-Feb-79 15:46		UTILITIES TO AID IN MAINT MODE TESTING                                             SEQ 0801

 25361					S^;*********************************************************************^
 25362					;*MCLK2 -- A MAINT MODE CLOCKING ROUTINE
 25363					S^;*********************************************************************^
 25364
 25365					COMMENT $
 25366
 25367						THIS ROUTINE ISSUES THE NUMBER OF MAINT CLOCKS SPECIFIED
 25368						AND RETURNS THE EQUIVALENT NUMBER OF DATA BITS
 25369						FOR THOSE CLOCKS, AS READ FROM THE MAINT REGISTER
 25370						BIT-30. DATA IS RIGHT JUSTIFIED IN AC1 ON RETURN
 25371
 25372						CALLING SEQUENCE:
 25373						MOVEI	1,N		;# OF CLOCKS
 25374						GO	MCLK2		;CALL THE ROUTINE
 25375						RTN			;DATA IN AC1, RIGHT JUSTIFIED
 25376
 25377						NOTE:	IF THE NUMBER OF CLOCKS IS MORE THAN 36.,
 25378							THE LAST 36 BITS WILL BE RETURNED 
 25379						$
 25380						XLIST
 25381					 	LIST^
 25382
 25383	056622	261 17 0 00 000000 	MCLK2:	PUT	0		;SAVE AC'S
 25384	056623	261 17 0 00 000001 		PUT	1
 25385	056624	261 17 0 00 000002 		PUT	2
 25386
 25387	056625	210 02 0 00 000001 		MOVN	2,1		;2 HOLDS - CLOCK COUNT
 25388
 25389	056626	200 01 0 00 070660 	MCLK2A:	MOVE	1,[1B14!3]	;LEADING EDGE CLOCK
 25390	056627	260 17 0 00 057413 		GO	LRPMR		;WRITE M-R
 25391	056630	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25392
 25393	056631	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE
 25394	056632	260 17 0 00 057607 		GO	RRPMR		;READ MAINT REG
 25395	056633	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 25396	056634	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 25397
 25398	056635	242 01 0 00 777773 		LSH	1,-5		;BUILD DATA IN AC0
 25399	056636	245 00 0 00 777777 		ROTC	0,-1		;NOW HAVE ANOTHER DATA BIT
 25400
 25401	056637	200 01 0 00 064447 		MOVE	1,[1B14!1]	;WRITE TRAILING EDGE CLOCK
 25402	056640	260 17 0 00 057413 		GO	LRPMR		;WRITE THE MAINT REGISTER
 25403	056641	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25404
 25405	056642	346 02 0 00 056626 		AOJN	2,MCLK2A	;JUMP IF NOT DONE
 25406	056643	200 01 0 17 777777 		MOVE	1,-1(P)		;FETCH ORIGINAL CLOCK
 25407	056644	301 01 0 00 000044 		CAIL	1,^D36		;WAS IT LESS THAN 36.
 25408	056645	254 00 0 00 056650 		JRST	MCLK2B		;NO
 25409	056646	271 01 0 00 777734 		ADDI	1,^D-36		;YES BUILD SHIFT MAGNITUDE
 25410	056647	242 00 0 01 000000 		LSH	0,(1)		;SHIFT RIGHT (36-CNT) PLACES
 25411
 25412
 25413	056650	202 00 0 17 777777 	MCLK2B:	MOVEM	0,-1(P)		;SET UP AC1 FOR RETURN
 25414	056651	262 17 0 00 000002 		GET	2		;RESTORE
 25415	056652	262 17 0 00 000001 		GET	1
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-43
DSRPA4	MAC	15-Feb-79 15:46		UTILITIES TO AID IN MAINT MODE TESTING                                             SEQ 0802

 25416	056653	262 17 0 00 000000 		GET	0
 25417	056654	263 17 0 00 000000 		RTN			;AND EXIT
 25418
 25419					 	XLIST
 25420					 	LIST
 25421						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-44
DSRPA4	MAC	15-Feb-79 15:46		UTILITIES TO AID IN MAINT MODE TESTING                                             SEQ 0803

 25422					S^;*********************************************************************^
 25423					;*MCLK3 -- A MAINT MODE CLOCKING ROUTINE
 25424					S^;*********************************************************************^
 25425
 25426					COMMENT $
 25427
 25428						THIS ROUTINE SUPPLIES 18 BITS OF DATA SPECIFIED BY AC1, TO
 25429						THE DRIVE (THROUGH BIT-C04 OF THE MAINT REG). AFTER CLOCKING
 25430						18 BITS OF DATA TO THE DRIVE, THE APPROPRIATE 18 BITS ARE
 25431						RETRIEVED FROM MEMORY (RESULTING MASS BUS DATA). THIS 18-BITS
 25432						OF DATA IS RETURNED IN AC1.
 25433
 25434						CALLING SEQ:
 25435						MOVE	1,DATA		;18 BITS RIGHT ADJUSTED
 25436						GO	MCLK3		;CALL THE ROUTINE
 25437						RTN			;18-BITS OF RESULTANT MASSBUS
 25438									;DATA RETURNED IN AC1
 25439						$
 25440						XLIST
 25441					 	LIST^
 25442
 25443	056655	261 17 0 00 000000 	MCLK3:	PUT	0		;SAVE AC'S
 25444	056656	261 17 0 00 000001 		PUT	1
 25445	056657	261 17 0 00 000002 		PUT	2
 25446	056660	200 00 0 00 000001 		MOVE	0,1		;DATA TO AC0
 25447	056661	242 00 0 00 000001 		LSH	0,1		;POSITION FOR LOOP SETUP
 25448	056662	200 02 0 00 075207 		MOVE	2,[^D-18]	;-18 TO COUNTER
 25449
 25450	056663	200 01 0 00 064447 	MCLK3A:	MOVE	1,[1B14!1]	;DON'T REPORT AND MM BIT
 25451	056664	242 00 0 00 777777 		LSH	0,-1		;POSITION DATA
 25452	056665	137 00 0 00 075210 		DPB	0,[POINT 1,1,31]  ;INCLUDE DATA
 25453	056666	261 17 0 00 000001 		PUT	1		;SAVE IT
 25454	056667	260 17 0 00 057413 		GO	LRPMR		;LOAD THE DATA BIT
 25455	056670	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25456	056671	262 17 0 00 000001 		GET	1		;GET DATA BACK
 25457	056672	660 01 0 00 000002 		TRO	1,1B34		;ASSERT LEAD EDGE OF CLOCK
 25458	056673	260 17 0 00 057413 		GO	LRPMR		;ISSUE LEAD EDGE
 25459	056674	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25460
 25461	056675	200 01 0 00 064447 		MOVE	1,[1B14!1]	;DON'T REPORT RAE & MM - BIT
 25462	056676	260 17 0 00 057413 		GO	LRPMR		;DROPS DATA AND CLOCK
 25463	056677	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25464	056700	346 02 0 00 056663 		AOJN	2,MCLK3A	;JUMP BACK IF 18 BITS NOT DONE
 25465
 25466
 25467	056701	200 01 0 00 077302 		MOVE	1,HWC
 25468	056702	260 17 0 00 056543 		GO	FETMC3		;FETCH DATA FROM MEMORY
 25469
 25470	056703	621 01 0 00 777777 		TLZ	1,777777	;SAVE ONLY RIGHT 18 BITS
 25471	056704	202 01 0 17 777777 		MOVEM	1,-1(P)		;SET UP FOR PROPER EXIT
 25472	056705	262 17 0 00 000002 		GET	2		;RESTORE
 25473	056706	262 17 0 00 000001 		GET	1
 25474	056707	262 17 0 00 000000 		GET	0
 25475	056710	263 17 0 00 000000 		RTN
 25476
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-45
DSRPA4	MAC	15-Feb-79 15:46		UTILITIES TO AID IN MAINT MODE TESTING                                             SEQ 0804

 25477					 	XLIST
 25478					 	LIST
 25479						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-46
DSRPA4	MAC	15-Feb-79 15:46		UTILITIES TO AID IN MAINT MODE TESTING                                             SEQ 0805

 25480					S^;*********************************************************************^
 25481					;*MCLK4 -- A MAINT MODE CLOCK ROUTINE
 25482					S^;*********************************************************************^
 25483
 25484					COMMENT $
 25485
 25486						THIS ROUTINE RECEIVES A CLOCK COUNT AND DATA BYTE AND
 25487						ACCORDING TO HOW THESE ARE SPECIFIED, SENDS A VARIABLE NUMBER
 25488						OF DATA BITS TO THE DRIVE.
 25489
 25490						CALLING SEQ:
 25491						MOVE	2,N		;NUMBER OF DATA BITS IN AC1
 25492						MOVE	1,DATA		;DATA TO GO TO MAINT REG (RIGHT JUST)
 25493						GO	MCLK4		;CALL THE ROUTINE
 25494						RTN			;ALL BITS WRITTEN
 25495						$
 25496						XLIST
 25497					 	LIST^
 25498
 25499	056711	261 17 0 00 000000 	MCLK4:	PUT	0		;SAVE THINGS
 25500	056712	261 17 0 00 000001 		PUT	1
 25501	056713	261 17 0 00 000002 		PUT	2
 25502
 25503	056714	210 02 0 00 000002 		MOVN	2,2		;SET UP A NEGATIVE COUNT
 25504	056715	200 00 0 00 000001 		MOVE	0,1		;DATA TO AC0
 25505	056716	242 00 0 00 000001 		LSH	0,1		;POSITION TO ENTER LOOP
 25506
 25507	056717	200 01 0 00 064447 	MCLK4A:	MOVE	1,[1B14!1]	;DON'T REPORT RAE'S & MM - BIT
 25508	056720	242 00 0 00 777777 		LSH	0,-1		;POSITION DATA
 25509	056721	137 00 0 00 075210 		DPB	0,[POINT 1,1,31]  ;INCLUDE DATA BIT
 25510	056722	261 17 0 00 000001 		PUT	1		;SAVE THE DATA
 25511	056723	260 17 0 00 057413 		GO	LRPMR		;WRITE THE DATA BIT
 25512	056724	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25513	056725	262 17 0 00 000001 		GET	1		;GET DATA BLOCK
 25514	056726	660 01 0 00 000002 		TRO	1,1B34		;ASSERT CLOCK BIT
 25515	056727	260 17 0 00 057413 		GO	LRPMR		;LOAD CLOCK AND DATA
 25516	056730	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25517
 25518	056731	200 01 0 00 064447 		MOVE	1,[1B14!1]	;CLK AND DATA GO TO ZERO
 25519	056732	260 17 0 00 057413 		GO	LRPMR		;TRAILING EDGE
 25520	056733	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25521	056734	346 02 0 00 056717 		AOJN	2,MCLK4A	;LOOP IF NOT DONE
 25522	056735	262 17 0 00 000002 		GET	2		;RESTORE AC'S
 25523	056736	262 17 0 00 000001 		GET	1
 25524	056737	262 17 0 00 000000 		GET	0
 25525	056740	263 17 0 00 000000 		RTN			;EXIT
 25526
 25527					SUBTTL	DUAL PORT TEST UTILITY ROUTINES
 25528					 	XLIST
 25529					 	LIST
 25530						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-47
DSRPA4	MAC	15-Feb-79 15:46		DUAL PORT TEST UTILITY ROUTINES                                                    SEQ 0806

 25531					S^;*********************************************************************^
 25532					;*RDCRA-RDCRB-RDSRA-RDSRB PORT SNAPSHOT ROUTINES
 25533					S^;*********************************************************************^
 25534
 25535					COMMENT $
 25536
 25537						RDCRA - READS CONTROL REGISTER FROM PORT-A INTO "CRA"
 25538						RDCRB - READS CONTROL REGISTER FROM PORT-B INTO "CRB"
 25539						RDSRA - READS STATUS REGISTER FROM PORT-A INTO "SRA"
 25540						RDSRB - READS STATUS REGISTER FROM PORT-B INTO "SRB"
 25541						CALLING SEQ:
 25542						GO	RDXXX		;XXX=CRA OR CRB OR SRA OR SRB
 25543						RTN			;RETURN	
 25544						$
 25545						XLIST
 25546					 	LIST^
 25547
 25548	056741	261 17 0 00 000001 	RDCRA:	PUT	1
 25549	056742	261 17 0 00 000014 		PUT	DRIVE
 25550	056743	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;GET "A" DRIVE NUMBER
 25551	056744	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 25552	056745	260 17 0 00 057576 		GO	RRPCS1		;READ CONTROL REGISTER
 25553	056746	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25554	056747	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 25555	056750	202 01 0 00 077261 		MOVEM	1,CRA#		;SAVE RESULTS
 25556	056751	262 17 0 00 000014 		GET	DRIVE		;RESTORE DRIVE
 25557	056752	262 17 0 00 000001 		GET	1		;AC
 25558	056753	263 17 0 00 000000 		RTN			;EXIT
 25559
 25560	056754	261 17 0 00 000001 	RDCRB:	PUT	1		;SAVE AC1
 25561	056755	261 17 0 00 000014 		PUT	DRIVE		;SAVE DRIVE
 25562	056756	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;GET PORT-A DRIVE #
 25563	056757	640 14 0 00 000001 		TRC	DRIVE,1		;COMP LOW ORDER BIT FOR PORT-B
 25564	056760	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 25565	056761	260 17 0 00 057576 		GO	RRPCS1		;READ CR FROM PORT-B
 25566	056762	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 25567	056763	202 01 0 00 077262 		MOVEM	1,CRB#		;SAVE PORT-B DATA
 25568	056764	262 17 0 00 000014 		GET	DRIVE		;RESTORE DRIVE
 25569	056765	262 17 0 00 000001 		GET	1		;RESTORE AC
 25570	056766	263 17 0 00 000000 		RTN			;EXIT
 25571
 25572	056767	261 17 0 00 000001 	RDSRA:	PUT	1
 25573	056770	261 17 0 00 000014 		PUT	DRIVE
 25574	056771	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;GET PORT-A DRIVE#
 25575	056772	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 25576	056773	260 17 0 00 057601 		GO	RRPDS		;READ SR FROM PORT-A
 25577	056774	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25578	056775	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 25579	056776	202 01 0 00 077332 		MOVEM	1,SRA#		;SAVE STATUS
 25580	056777	262 17 0 00 000014 		GET	DRIVE		;RESTORE DRIVE
 25581	057000	262 17 0 00 000001 		GET	1		;RESTORE AC
 25582	057001	263 17 0 00 000000 		RTN			;EXIT
 25583
 25584	057002	261 17 0 00 000001 	RDSRB:	PUT	1
 25585	057003	261 17 0 00 000014 		PUT	DRIVE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-48
DSRPA4	MAC	15-Feb-79 15:46		DUAL PORT TEST UTILITY ROUTINES                                                    SEQ 0807

 25586	057004	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;GET PORT-A DRIVE#
 25587	057005	640 14 0 00 000001 		TRC	DRIVE,1		;DRIVE # NOW SET FOR PORT-B
 25588	057006	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 25589	057007	260 17 0 00 057601 		GO	RRPDS		;READ PORT-B STATUS
 25590	057010	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25591	057011	260 17 0 00 060752 		GO	CPARER		;PARITY
 25592	057012	202 01 0 00 077333 		MOVEM	1,SRB#		;SAVE RESULTS
 25593	057013	262 17 0 00 000014 		GET	DRIVE		;RESTORE DRIVE
 25594	057014	262 17 0 00 000001 		GET	1		;AND AC
 25595	057015	263 17 0 00 000000 		RTN			;RETURN
 25596
 25597					 	XLIST
 25598					 	LIST
 25599						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-49
DSRPA4	MAC	15-Feb-79 15:46		DUAL PORT TEST UTILITY ROUTINES                                                    SEQ 0808

 25600					S^;*********************************************************************^
 25601					;*PCRA-PCRB-PSRA-PSRB	PRINT STATUS AND CONTROL REGISTERS
 25602					S^;*********************************************************************^
 25603
 25604					COMMENT $
 25605
 25606						PCRA - PRINTS CONTROL REGISTER FROM "CRA"
 25607						PCRB - PRINTS CONTROL REGISTER FROM "CRB"
 25608						PSRA - PRINTS STATUS REGISTER FROM "SRA"
 25609						PSRB - PRINTS STATUS REGISTER FROM "SRB"
 25610						THE ASSOCIATED PORT IS ALSO IDENTIFIED
 25611						CALLING SEQ:
 25612						GO	PXXX		;XXX=CRA OR CRB OR SRA OR SRB
 25613						RTN			;RETURNS HERE	
 25614						$
 25615						XLIST
 25616					 	LIST^
 25617
 25618	057016	261 17 0 00 000001 	PCRA:	PUT	1
 25619	057017	200 01 0 00 077261 		MOVE	1,CRA		;CONTROL REGISTER DATA
 25620	057020	254 00 0 00 057023 		JRST	.+3
 25621	057021	261 17 0 00 000001 	PSRA:	PUT	1
 25622	057022	200 01 0 00 077332 		MOVE	1,SRA		;STATUS REGISTER DATA
 25623	057023	030 00 0 00 075211 		TEXT	[ASCIZ/PORT-A	/]
 25624	057024	261 17 0 00 000014 		PUT	DRIVE
 25625	057025	200 14 0 00 077265 		MOVE	DRIVE,DRVA
 25626	057026	260 17 0 00 062461 	PCMN:	GO	REGPNT		;PRINT
 25627	057027	262 17 0 00 000014 		GET	DRIVE
 25628	057030	262 17 0 00 000001 		GET	1		;RESTORE
 25629	057031	263 17 0 00 000000 		RTN			;EXIT
 25630
 25631	057032	261 17 0 00 000001 	PCRB:	PUT	1
 25632	057033	200 01 0 00 077262 		MOVE	1,CRB		;CONTROL REGISTER DATA
 25633	057034	254 00 0 00 057037 		JRST	.+3
 25634	057035	261 17 0 00 000001 	PSRB:	PUT	1
 25635	057036	200 01 0 00 077333 		MOVE	1,SRB		;STATUS REGISTER DATA
 25636	057037	030 00 0 00 075213 		TEXT	[ASCIZ/PORT-B	/]
 25637	057040	261 17 0 00 000014 		PUT	DRIVE
 25638	057041	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;MAKE DRIVE FOR PORT-B
 25639	057042	640 14 0 00 000001 		TRC	DRIVE,1
 25640	057043	254 00 0 00 057026 		JRST	PCMN
 25641
 25642					 	XLIST
 25643					 	LIST
 25644						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-50
DSRPA4	MAC	15-Feb-79 15:46		DUAL PORT TEST UTILITY ROUTINES                                                    SEQ 0809

 25645					S^;*********************************************************************^
 25646					;*NEUTRL -- ROUTINE TO WAIT TILL PORT IS IN NEUTRAL
 25647					S^;*********************************************************************^
 25648
 25649					COMMENT $
 25650
 25651						READS STATUS FROM EACH PORT UNTIL BOTH RETURN NON-ZERO
 25652						VALUES, THIS IS THE DEFINITION OF NEUTRAL.
 25653						CALLING SEQ:
 25654						GO	NEUTRL		;CALL THE ROUTINE
 25655						RTN			;DRIVE IS IN NEUTRAL
 25656						$
 25657						XLIST
 25658					 	LIST^
 25659
 25660	057044	261 17 0 00 000001 	NEUTRL:	PUT	1		;SAVE AC1
 25661	057045	261 17 0 00 000002 		PUT	2
 25662
 25663	057046	200 02 0 00 075215 	NA:	MOVE	2,[^D70000]	;A GROSS COUNTER
 25664	057047	260 17 0 00 056767 		GO	RDSRA		;READ PORT-A STATUS
 25665	057050	200 01 0 00 077332 		MOVE	1,SRA		;NOW FETCH STATUS
 25666	057051	602 01 0 00 177777 		TRNE	1,177777	;STILL ON PORT-B
 25667	057052	254 00 0 00 057056 		JRST	NB		;NO
 25668	057053	367 02 0 00 057047 		SOJG	2,NA+1		;YES. TRY FOR A WHILE
 25669	057054	260 17 0 00 057103 		GO	BHUNG		;REPORT HUNG CONDITION
 25670	057055	254 00 0 00 057046 		JRST	NA		;AND CONTINUE TRYING
 25671
 25672	057056	200 02 0 00 075215 	NB:	MOVE	2,[^D70000]	;A GROSS TIMER
 25673	057057	260 17 0 00 057002 		GO	RDSRB		;READ PORT-B STATUS
 25674	057060	200 01 0 00 077333 		MOVE	1,SRB		;GET PORT-B STATUS
 25675	057061	602 01 0 00 177777 		TRNE	1,177777	;STILL ON PORT-A
 25676	057062	254 00 0 00 057066 		JRST	NC		;NO
 25677	057063	367 02 0 00 057057 		SOJG	2,NB+1		;YES. TRY FOR A WHILE
 25678	057064	260 17 0 00 057101 		GO	AHUNG		;REPORT HUNG CONDITION
 25679	057065	254 00 0 00 057056 		JRST	NB		;AND CONTINUE TRYING
 25680
 25681	057066	200 02 0 00 075215 	NC:	MOVE 2,[^D70000]	;A GROSS TIMER
 25682	057067	260 17 0 00 056767 		GO	RDSRA		;READ PORT-A STATUS
 25683	057070	200 01 0 00 077332 		MOVE	1,SRA		;GET PORT-A STATUS
 25684	057071	602 01 0 00 177777 		TRNE	1,177777	;STILL ON-B
 25685	057072	254 00 0 00 057076 		JRST	ND		;NO
 25686	057073	367 02 0 00 057067 		SOJG	2,NC+1		;YES. TRY FOR A WHILE
 25687	057074	260 17 0 00 057103 		GO	BHUNG		;REPORT HUNG CONDITION
 25688	057075	254 00 0 00 057066 		JRST	NC		;AND CONTINUE TRYING
 25689
 25690	057076	262 17 0 00 000002 	ND:	GET	2		;RESTORE THINGS
 25691	057077	262 17 0 00 000001 		GET	1
 25692	057100	263 17 0 00 000000 		RTN			;AND EXIT
 25693
 25694					; ROUTINE TO REPORT THE HUNG CONDITION
 25695
 25696	057101	476 00 0 00 077312 	AHUNG:	SETOM	PAFLG#		;SET PORT A FLAG
 25697	057102	334 00 0 00 000000 		SKIPA
 25698	057103	402 00 0 00 077312 	BHUNG:	SETZM	PAFLG		;CLEAR THE PORT A FLAG
 25699	057104	261 17 0 00 000000 		PUT	0		;SAVE HINGS
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-51
DSRPA4	MAC	15-Feb-79 15:46		DUAL PORT TEST UTILITY ROUTINES                                                    SEQ 0810

 25700	057105	261 17 0 00 000001 		PUT	1
 25701	057106	261 17 0 00 000014 		PUT	DRIVE
 25702	057107	200 01 0 00 077312 		MOVE	1,PAFLG		;AN INDEX REGISTER
 25703	057110	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;GET THE DRIVE UNDER TEST
 25704	057111	037 00 0 00 030242 		PCRL
 25705	057112	260 17 0 00 061364 		GO	TELWHO		;IDENTIFY THE DRIVE
 25706	057113	030 00 1 01 057131 		TEXT@	HNGMSG(1)	;PRINT PROPER PORT
 25707						TEXT	[ASCIZ/
 25708	057114	030 00 0 00 075216 	DURING TEST "/]
 25709	057115	200 00 0 00 077346 		MOVE	0,TSTNUM	;GET TEST NUMBER
 25710	057116	037 00 0 00 000002 		PNTSIX			;PRINT IT
 25711	057117	030 00 0 00 075222 		TEXT	[ASCIZ/" AT PC = /]
 25712	057120	550 00 0 17 777772 		HRRZ	0,-6(P)		;FETCH MAINLINE PC
 25713	057121	275 00 0 00 000001 		SUBI	0,1		;ADJUST FOR PRINTING
 25714	057122	037 06 0 00 000000 		PNT6			;PRINT THE PC
 25715	057123	037 00 0 00 030242 		PCRL
 25716	057124	262 17 0 00 000014 		GET	DRIVE
 25717	057125	262 17 0 00 000001 		GET	1
 25718	057126	262 17 0 00 000000 		GET	0
 25719	057127	263 17 0 00 000000 		RTN
 25720
 25721	057130	000000	075225			[ASCIZ/IS HUNG ON PORT-A/]
 25722	057131	000000	075231		HNGMSG:	[ASCIZ/IS HUNG ON PORT-B/]
 25723
 25724					 	XLIST
 25725					 	LIST
 25726						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-52
DSRPA4	MAC	15-Feb-79 15:46		DUAL PORT TEST UTILITY ROUTINES                                                    SEQ 0811

 25727					S^;*********************************************************************^
 25728					;*CLRATA - - CLEAR ATA FLOPS ON BOTH PORTS
 25729					S^;*********************************************************************^
 25730
 25731					COMMENT $
 25732
 25733						THIS ROUTINE CLEARS THE FLOPS ON EACH PORT BY FIRST CAPTURING
 25734						THE PORT WITH A CONTROL REG READ AND THEN ISSUING A
 25735						MASS BUS INIT WITH AN RHCLR COMMAND. THE DRIVE IS IN NEUTRAL
 25736						WHEN THIS ROUTINE EXITS.
 25737						CALLING SEQ:
 25738						GO	CLRATA		;CALL THE ROUTINE
 25739						RTN			;ATA'S CLEARED 
 25740						$
 25741						XLIST
 25742					 	LIST^
 25743	057132	261 17 0 00 000001 	CLRATA:	PUT	1		;SAVE AC
 25744	057133	261 17 0 00 000014 		PUT	DRIVE		;SAVE DRIVE #
 25745
 25746					;GET INTO NEUTRAL
 25747
 25748	057134	260 17 0 00 057044 		GO	NEUTRL		;THIS DOES IT
 25749
 25750					;NOW CAPTURE PORT-A AND CLEAR ITS ATA WITH RHCLR
 25751
 25752	057135	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;PORT-A DRIVE NUMBER
 25753	057136	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 25754	057137	260 17 0 00 057576 		GO	RRPCS1		;CAPTURE WITH CR READ
 25755	057140	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25756	057141	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 25757
 25758	057142	260 17 0 00 060723 		GO	MSTCLR		;RESETS ATA FOR THIS PORT
 25759
 25760					;NOW GET BACK INTO NEUTRAL
 25761
 25762	057143	260 17 0 00 057044 		GO	NEUTRL		;THIS DOES IT
 25763
 25764					;NOW CAPTURE PORT-B AND CLEAR ITS ATA WITH AN RHCLR
 25765
 25766	057144	640 14 0 00 000001 		TRC	DRIVE,1		;NOW POINTING TO PORT-B
 25767	057145	205 01 0 00 000010 		MOVSI	1,(1B14)	;DONT REPORT RAE'S
 25768	057146	260 17 0 00 057576 		GO	RRPCS1		;CAPTURE WITH CR READ
 25769	057147	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25770	057150	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 25771
 25772	057151	260 17 0 00 060723 		GO	MSTCLR		;RESETS ATA FOR THIS PORT
 25773
 25774					;GET BACK INTO NEUTRAL
 25775
 25776	057152	260 17 0 00 057044 		GO	NEUTRL		;THIS DOES IT
 25777	057153	262 17 0 00 000014 		GET	DRIVE
 25778	057154	262 17 0 00 000001 		GET	1		;RESTORE
 25779	057155	263 17 0 00 000000 		RTN			;EXIT
 25780
 25781					 	XLIST
 25782					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-53
DSRPA4	MAC	15-Feb-79 15:46		DUAL PORT TEST UTILITY ROUTINES                                                    SEQ 0812

 25783						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-54
DSRPA4	MAC	15-Feb-79 15:46		DUAL PORT TEST UTILITY ROUTINES                                                    SEQ 0813

 25784					S^;*********************************************************************^
 25785					;*CALIBR - - ROUTINE TO CALIBRATE A 1 SECOND TIMER
 25786					S^;*********************************************************************^
 25787
 25788					COMMENT $
 25789
 25790						THIS ROUTINE CALIBRATES AN APPROX 1 SECOND TIMER FOR DUAL
 25791						PORT TESTS. IT SETS UP A LOCATION CALLED "RRPS" WHICH CONTAINS
 25792						THE NUMBER OF RREGISTER READS TO USE UP APPROX 1 SECOND OF TIME.
 25793						THE LOOP IS CALIBRATED BY READING THE LOOK AHEAD REGISTER FOR 60
 25794						REVOLUTIONS OF THE DISK.
 25795						CALLING SEQ:
 25796						GO	CALIBR		;CALL THE ROUTINE
 25797						RRETURN			;IT RETURNS HERE 
 25798						$
 25799						XLIST
 25800					 	LIST^
 25801
 25802	057156	261 17 0 00 000001 	CALIBR:	PUT	1		;SAVE AC'S
 25803	057157	261 17 0 00 000002 		PUT	2
 25804	057160	402 00 0 00 077320 		SETZM	RRPS#		;LOC HOLDS # OF REG READS/SEC
 25805	057161	201 02 0 00 000074 		MOVEI	2,^D60		;FOR 60 REVOLUTIONS
 25806
 25807					;READ L-A REG TO FIND SECTOR ZERO
 25808
 25809	057162	205 01 0 00 000010 	CAL1:	MOVSI	1,(1B14)	;DONT REPORT RRAE'S
 25810	057163	260 17 0 00 057623 		GO	RRPLA		;READ LOOK AHEAD
 25811	057164	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25812	057165	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 25813	057166	602 01 0 00 003777 		TRNE	1,3777		;ARE WE THERE YET
 25814	057167	254 00 0 00 057162 		JRST	CAL1		;NO. LOOP
 25815	057170	255 00 0 00 000000 		JFCL			;YES
 25816
 25817					;NOW LOOK FOR SECTOR ONE
 25818
 25819	057171	205 01 0 00 000010 	CAL2:	MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 25820	057172	260 17 0 00 057623 		GO	RRPLA		;READ LOOK AHEAD
 25821	057173	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25822	057174	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 25823	057175	606 01 0 00 003700 		TRNN	1,3700		;AT SECTOR ONE
 25824	057176	254 00 0 00 057171 		JRST	CAL2		;NO. LOOP
 25825	057177	255 00 0 00 000000 		JFCL			;YES
 25826
 25827					;NOW LOOP TILL WE GET BACK TO SECTOR ZERO AND COUNT # OF READS
 25828
 25829	057200	350 00 0 00 077320 	CAL3:	AOS	RRPS		;BUMP THE COUNT
 25830	057201	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 25831	057202	260 17 0 00 057623 		GO	RRPLA		;READ THE LOOK AHEAD REGISTER
 25832	057203	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25833	057204	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 25834	057205	405 01 0 00 003777 		ANDI	1,3777		;SAVE THE DATA PORTION
 25835	057206	312 01 0 00 057226 		CAME	1,SECA		;ARE WE THERE YET
 25836	057207	254 00 0 00 057200 		JRST	CAL3		;NO. LOOP
 25837	057210	255 00 0 00 000000 		JFCL			;YES
 25838
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-55
DSRPA4	MAC	15-Feb-79 15:46		DUAL PORT TEST UTILITY ROUTINES                                                    SEQ 0814

 25839					;NOW BACK AT ZERO. COUNT TILL WE GET TO SECTOR ONE
 25840
 25841	057211	350 00 0 00 077320 	CAL4:	AOS	RRPS		;BUMP THE COUNT
 25842	057212	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE
 25843	057213	260 17 0 00 057623 		GO	RRPLA		;READ LOOK AHEAD
 25844	057214	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 25845	057215	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 25846	057216	405 01 0 00 003777 		ANDI	1,3777		;SAVE DATA
 25847	057217	312 01 0 00 057227 		CAME	1,SECB		;AT SECTOR 1 YET
 25848	057220	254 00 0 00 057211 		JRST	CAL4		;NO. LOOP
 25849	057221	255 00 0 00 000000 		JFCL			;YES
 25850
 25851					;UPDATE COUNTER AND REPEAT FOR 60 REV'S
 25852
 25853	057222	367 02 0 00 057162 		SOJG	2,CAL1		;BUMP AND LOOP
 25854	057223	262 17 0 00 000002 		GET	2		;DONE
 25855	057224	262 17 0 00 000001 		GET	1
 25856	057225	263 17 0 00 000000 		RTN			;EXIT
 25857
 25858					;CONSTANT STORAGE
 25859
 25860	057226	000000	000000		SECA:	0000			;SECTOR ZERO
 25861	057227	000000	000100		SECB:	0100			;SECTOR ONE
 25862
 25863					 	XLIST
 25864					 	LIST
 25865						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-56
DSRPA4	MAC	15-Feb-79 15:46		DUAL PORT TEST UTILITY ROUTINES                                                    SEQ 0815

 25866					S^;*********************************************************************^
 25867					;*GNLWT - - A GENERAL PURPOSE WAIT ROUTINE
 25868					S^;*********************************************************************^
 25869
 25870					COMMENT $
 25871
 25872						PERFORM THE # OF REGISTER READS SPECIFIED BY AC1
 25873						CALLING SEQ:
 25874						MOVEI	1,N		;GET THE DESIRED NUMBER
 25875						GO	GNLWT		;CALL THE ROUTINE
 25876						RETURN			;EXIT 
 25877						$
 25878						XLIST
 25879					 	LIST^
 25880
 25881	057230	261 17 0 00 000001 	GNLWT:	PUT	1		;SAVE AC'S
 25882	057231	261 17 0 00 000002 		PUT	2
 25883	057232	255 00 0 00 000000 		JFCL
 25884	057233	640 14 0 00 000002 		TRC	DRIVE,2		;POINTS TO ANOTHER DRIVE
 25885	057234	202 01 0 00 057252 		MOVEM	1,SECC		;SAVE DESIRED COUNT
 25886	057235	402 00 0 00 000002 		SETZM	2		;ZERO A COUNTER
 25887
 25888					;START THE LOOP (USES SAME INSTRUCTIONS AS "CALIBR")
 25889
 25890	057236	350 00 0 00 000002 	GNLW1:	AOS	2		;BUMP THE COUNT
 25891	057237	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'TT REPORT RAE'S
 25892	057240	260 17 0 00 057623 		GO	RRPLA		;READ LOOK AHEAD
 25893	057241	255 00 0 00 000000 		JFCL			;MAY GET A CBTO ERROR
 25894	057242	255 00 0 00 000000 		JFCL			;MAY GET A PARITY ERROR
 25895	057243	405 01 0 00 000000 		ANDI	1,0		;A NO-OP
 25896	057244	315 02 0 00 057252 		CAMGE	2,SECC		;SEE IF DONE
 25897	057245	254 00 0 00 057236 		JRST	GNLW1		;NO. LOOP
 25898	057246	262 17 0 00 000002 		GET	2
 25899	057247	262 17 0 00 000001 		GET	1
 25900	057250	640 14 0 00 000002 		TRC	DRIVE,2		;RESTORE TO ORIGINAL DRIVE
 25901	057251	263 17 0 00 000000 		RTN			;EXIT
 25902
 25903	057252	000000	000000		SECC:	0			;HOLDS THE DESIRED COUNT
 25904
 25905					 	XLIST
 25906					 	LIST
 25907						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-57
DSRPA4	MAC	15-Feb-79 15:46		DUAL PORT TEST UTILITY ROUTINES                                                    SEQ 0816

 25908					S^;*********************************************************************^
 25909					;*WAIT.5 - WAIT1 - WAIT2 - - STALL ROUTINES 
 25910					S^;*********************************************************************^
 25911
 25912					COMMENT $
 25913
 25914						WAIT.5	RETURNS IN APPROX 1/2 SEC
 25915						WAIT1	RETURNS IN APPROX 1 SEC
 25916						WAIT2	RETURNS IN APPROX 2 SEC
 25917						CALLING SEQ:
 25918						GO	XXXX		;WHERE XXXX DEFINES THE PROPER ROUTINE
 25919						RETURN			;RETURNS AFTER APPROXIMATE TIME 
 25920						$
 25921						XLIST
 25922					 	LIST^
 25923
 25924	057253	261 17 0 00 000001 	WAIT.5:	PUT	1		;SAVE AC1
 25925	057254	200 01 0 00 077320 		MOVE	1,RRPS		;# OF REG READS PER SECOND
 25926	057255	242 01 0 00 777777 		LSH	1,-1		;ONLY NEED HALF
 25927	057256	260 17 0 00 057230 		GO	GNLWT		;CALL THE WAIT ROUTINE
 25928	057257	262 17 0 00 000001 		GET	1		;DONE
 25929	057260	263 17 0 00 000000 		RTN			;EXIT
 25930
 25931	057261	261 17 0 00 000001 	WAIT1:	PUT	1		;SAAVE AC1
 25932	057262	200 01 0 00 077320 		MOVE	1,RRPS		;REGISTER READS PER SECOND
 25933	057263	260 17 0 00 057230 		GO	GNLWT		;CALL THE WAIT ROUTINE
 25934	057264	262 17 0 00 000001 		GET	1		;RESTORE
 25935	057265	263 17 0 00 000000 		RTN			;EXIT
 25936
 25937	057266	261 17 0 00 000001 	WAIT2:	PUT	1		;SAVE THE AC
 25938	057267	200 01 0 00 077320 		MOVE	1,RRPS		;REG READS PER SECOND
 25939	057270	242 01 0 00 000001 		LSH	1,1		;NEED TWICE AS MANY
 25940	057271	260 17 0 00 057230 		GO	GNLWT		;GENERAL WAIT 
 25941	057272	262 17 0 00 000001 		GET	1	
 25942	057273	263 17 0 00 000000 		RTN			;EXIT
 25943
 25944
 25945						SUBTTL	REGISTER SNAPSHOT AND DUMP ROUTINES
 25946						XLIST
 25947					 	LIST
 25948						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1
DSRPA5	MAC	 2-Mar-79 10:45		REGISTER SNAPSHOT AND DUMP ROUTINES                                                SEQ 0817

 25949					S^;*********************************************************************^
 25950					;*SNAPSHOT ROUTINES
 25951					S^;*********************************************************************^
 25952
 25953					COMMENT $
 25954
 25955						ROUTINE TO SNAPSHOT RH11 AND DEVICE REGISTERS INTO CORE
 25956
 25957						CALLING SEQ:
 25958						GO	SNAPS		;CALL ROUTINE
 25959						RTN			;RTN +1 ALWAYS	
 25960						$
 25961						XLIST
 25962					 	LIST^
 25963
 25964
 25965	057274				SNAPS:
 25966	057274				SNAPA:
 25967	057274				SNAPDR:
 25968	057274	261 17 0 00 000001 	SNAPRH:	PUT	1		;SAVE AC'S
 25969	057275	261 17 0 00 000002 		PUT	2
 25970	057276	261 17 0 00 000003 		PUT	3
 25971	057277	261 17 0 00 000004 		PUT	4
 25972	057300	515 02 0 00 777754 		HRLZI	2,-^D20		;-CNT,,INDEX
 25973	057301	200 04 0 02 057356 	SLOOP:	MOVE	4,SDTBL(2)	;ROUTINE,,DATA ADDR
 25974	057302	204 03 0 00 000004 		MOVS	3,4		;DATA ADDR.,,ROUTINE
 25975	057303	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 25976	057304	260 17 0 03 000000 		GO	(3)		;READ APPROPRIATE REGISTER
 25977	057305	255 00 0 00 000000 		JFCL			; NED
 25978	057306	255 00 0 00 000000 		JFCL			; PAR
 25979	057307	202 01 0 04 000000 		MOVEM	1,(4)		;NORMAL, SAVE DATA
 25980	057310	253 02 0 00 057301 		AOBJN	2,SLOOP		;LOOP TILL DONE
 25981
 25982	057311	262 17 0 00 000004 		GET	4		;RESTORE AC'S
 25983	057312	262 17 0 00 000003 		GET	3
 25984	057313	262 17 0 00 000002 		GET	2
 25985	057314	262 17 0 00 000001 		GET	1
 25986
 25987	057315	263 17 0 00 000000 		RTN			;AND EXIT
 25988
 25989
 25990						XLIST
 25991					 	LIST
 25992						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-1
DSRPA5	MAC	 2-Mar-79 10:45		REGISTER SNAPSHOT AND DUMP ROUTINES                                                SEQ 0818

 25993					S^;*********************************************************************^
 25994					;*DUMP ROUTINE
 25995					S^;*********************************************************************^
 25996
 25997					COMMENT $
 25998
 25999						ROUTINE	TO PRINT CONTENTS OF PREVIOUSLY SNAPSHOT REGISTERS
 26000
 26001						RHDB IS NOT PRINTED
 26002						CALLING SEQ:
 26003						GO	DUMPS		;CALL THE ROUTINE
 26004						RTN			;RTN+1 ALWAYS	
 26005						$
 26006						XLIST
 26007					 	LIST^
 26008
 26009	057316	261 17 0 00 000007 	DUMPS:	PUT	RGLIST		;SAVE REGISTER QUEUE LIST
 26010	057317	254 00 0 00 057322 		JRST	DUMP		;TO COMON CODE
 26011
 26012	057320				DUMPA:
 26013	057320				DUMPDR:
 26014	057320	261 17 0 00 000007 	DUMPRH:	PUT	RGLIST		;SAVE	REGISTER QUEUE LIST
 26015	057321	660 07 0 00 777777 		TRO	RGLIST,-1	;SAYS TO DUMP ALL DRIVE REGS
 26016	057322	261 17 0 00 000000 	DUMP:	PUT	0		;SAVE AC'S
 26017	057323	261 17 0 00 000001 		PUT	1		
 26018	057324	261 17 0 00 000002 		PUT	2
 26019	057325	261 17 0 00 000003 		PUT	3
 26020	057326	261 17 0 00 077330 		PUT	SHMODE		;SAVE PRINTOUT MODE
 26021	057327	402 00 0 00 077330 		SETZM	SHMODE		;FORCE LONG MODE
 26022	057330	200 01 0 00 077631 		MOVE	1,SVUBAS	;UBA STATUS REG
 26023	057331	260 17 0 00 062342 		GO	UBASPT		;PRINT IT
 26024	057332	200 02 0 00 075235 		MOVE	2,[-^D4,,1]	;-CNT,,INDEX
 26025	057333	200 03 0 02 057356 	DLOOP:	MOVE	3,SDTBL(2)	;ROUTINE,,DATA ADDR
 26026	057334	200 01 0 03 000000 		MOVE	1,(3)		;FETCH DATA WORD
 26027	057335	260 17 0 00 062461 		GO	REGPNT		;INTERPRET
 26028	057336	253 02 0 00 057333 		AOBJN	2,DLOOP		;LOOP TILL DONE
 26029
 26030					;SELECTIVE DUMP OF DRIVE REGISTERS 01-17
 26031
 26032	057337	505 02 0 00 777761 		HRLI	2,-^D15		;THERE ARE 15 TO GO
 26033	057340	201 00 0 00 400000 		MOVEI	0,400000	;SINGLE BIT MASK
 26034	057341	200 03 0 02 057356 	DLOOP1:	MOVE	3,SDTBL(2)	;ROUTINE,,DATA ADDRESS
 26035	057342	242 00 0 00 777777 		LSH	0,-1		;SHIFT THE MASK RIGHT
 26036	057343	200 01 0 03 000000 		MOVE	1,(3)		;GETS REGISTER DATA WORD
 26037	057344	612 07 0 00 000000 		TDNE	RGLIST,0	;WANT THIS ONE ?
 26038	057345	260 17 0 00 062461 		GO	REGPNT		;YES... PRINT IT
 26039	057346	253 02 0 00 057341 		AOBJN	2,DLOOP1	;LOOP TILL DONE
 26040
 26041	057347	262 17 0 00 077330 		GET	SHMODE		;RESTORE PRINTOUT MODE
 26042	057350	262 17 0 00 000003 		GET	3		;RESTORE AC'S
 26043	057351	262 17 0 00 000002 		GET	2
 26044	057352	262 17 0 00 000001 		GET	1
 26045	057353	262 17 0 00 000000 		GET	0
 26046	057354	262 17 0 00 000007 		GET	RGLIST
 26047
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-2
DSRPA5	MAC	 2-Mar-79 10:45		REGISTER SNAPSHOT AND DUMP ROUTINES                                                SEQ 0819

 26048	057355	263 17 0 00 000000 		RTN			;AND EXIT
 26049
 26050						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-3
DSRPA5	MAC	 2-Mar-79 10:45		REGISTER SNAPSHOT AND DUMP ROUTINES                                                SEQ 0820

 26051
 26052					;TABLE USED BY SNAPS AND DUMPS TO SPECIFY ORDER
 26053					;OF SNAPSHOT AND DUMP
 26054					;LEFT HALF IS ADDR OF READ ROUTINE
 26055					;RIGHT HALF IS ADDR OF WHERE DATA SHOULD BE STORED
 26056
 26057	057356	062334	077631		SDTBL:	RDUBAS,,SVUBAS		;UBA STATUS
 26058	057357	057664	077636			RRPCS2,,SRPCS2		;RHCS2
 26059	057360	057656	077633			RRPWC,,SRPWC		;RH WC
 26060	057361	057661	077634			RRPBA,,SRPBA		;RH BA
 26061	057362	057576	077632			RRPCS1,,SRPCS1		;DRIVE CONTROL....RHCS1
 26062	057363	057601	077637			RRPDS,,SRPDS		;STATUS
 26063	057364	057604	077640			RRPER1,,SRPER1		;ER-1
 26064	057365	057607	077644			RRPMR,,SRPMR		;MAINT REG
 26065	057366	057612	077641			RRPAS,,SRPAS		;ATTN SUMMARY
 26066	057367	057615	077635			RRPDA,,SRPDA		;DA
 26067	057370	057620	077645			RRPDT,,SRPDT		;DT
 26068	057371	057623	077642			RRPLA,,SRPLA		;LA
 26069	057372	057626	077646			RRPSN,,SRPSN		;SN
 26070	057373	057631	077647			RRPOF,,SRPOF		;OFFSET
 26071	057374	057634	077650			RRPDC,,SRPDC		;DC
 26072	057375	057637	077651			RRPCC,,SRPCC		;CC
 26073	057376	057642	077652			RRPER2,,SRPER2		;ER-2
 26074	057377	057645	077653			RRPER3,,SRPER3		;ER-3
 26075	057400	057650	077654			RRPEC1,,SRPEC1		;ECC1
 26076	057401	057653	077655			RRPEC2,,SRPEC2		;ECC2
 26077						XLIST
 26078					 	LIST
 26079						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-4
DSRPA5	MAC	 2-Mar-79 10:45		REGISTER SNAPSHOT AND DUMP ROUTINES                                                SEQ 0821

 26080					S^;*********************************************************************^
 26081					;*RH11 & DEVICE LOAD ROUTINES
 26082					S^;*********************************************************************^
 26083
 26084					COMMENT $
 26085
 26086					SPECIFICATION:
 26087
 26088					DEVICE REGISTERS ARE LOADED BY SETTING UP AC1 WITH SOME
 26089					APPROPRIATE ARGUMENT AND THEN CALLING THE CORRECT
 26090					ROUTINE WITH A PUSHJ.
 26091
 26092					AC1:
 26093					SPECIFY REGISTER DATA IN BITS 20-35
 26094
 26095					SPECIFY SOFTWARE OPTION BITS 13-14
 26096						BIT 13=0	CLEAR RAE'S
 26097						BIT 13=1	DON'T CLEAR RAE'S
 26098						BIT 14=0	REPORT RAE'S
 26099						BIT 14=1	DON'T REPORT RAE'S
 26100
 26101
 26102						THERE ARE 2 RETURN SEQUENCES:
 26103						1. GO LDXXXX		;SEE NOTE-1
 26104						   RTN1			;RTN (NED)
 26105						   RTN2			;NORMAL RTN
 26106
 26107						2. GO LDXXXX		;SEE NOTE-1
 26108						   RTN1			;NORMAL RTN
 26109
 26110
 26111						NOTE1:	DRIVE REGS AND RHCS1 ROUTINES HAVE 2 RETURNS
 26112							AND THE REST HAVE ONLY 1 RETURN.
 26113
 26114						THE LOAD ROUTINES SUPPLY STATUS INFORMATION IN THE
 26115						LEFT SIDE FOR THE MAINLINE.
 26116
 26117							BITS	0-5	UNIBUS ADDRESS
 26118							BIT	6=1	REGISTER LOAD
 26119							BIT	7=0	NO NED OCCURED
 26120								7=1	GOT NED
 26121							BIT    10=0	REG. WAS DEVICE REG. OR RHCS1
 26122							BIT    10=1	REG. WAS AN RH11 REGISTER
 26123							BITS  15-17	WILL HOLD DRIVE NUMBER
 26124
 26125
 26126					THE ROUTINE EXPECTS THE AC "MBCN" TO CONTAIN THE BASE 
 26127					ADDRESS OF THE UNIBUS ADDRESS BLOCK ASSIGNED TO THE RH11
 26128					BEING REFERENCED . ALSO THAT THE AC "DRIVE" CONTAIN
 26129					THE SELECTED DRIVE # IN BITS 33-35 
 26130						$
 26131						XLIST
 26132					 	LIST^
 26133
 26134			777747			M=777747		;CLEAR MASK FOR STATUS BITS
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-5
DSRPA5	MAC	 2-Mar-79 10:45		REGISTER SNAPSHOT AND DUMP ROUTINES                                                SEQ 0822

 26135
 26136	057402	630 01 0 00 075236 	LRPCS1:	TDZ	1,[777747,,000100]
 26137	057403	434 01 0 00 075237 		IOR	1,[0B5!1B6]	;REG # AND LOAD REG BIT
 26138	057404	254 00 0 00 057476 		JRST	LDRGCC		;GO TO COMMON CODE
 26139	057405	621 01 0 00 777747 	LRPDS:	TLZ	1,M
 26140	057406	434 01 0 00 075240 		IOR	1,[12B5!1B6]
 26141	057407	254 00 0 00 057476 		JRST	LDRGCC
 26142	057410	621 01 0 00 777747 	LRPER1:	TLZ	1,M
 26143	057411	434 01 0 00 075241 		IOR	1,[14B5!1B6]
 26144	057412	254 00 0 00 057476 		JRST	LDRGCC
 26145	057413	621 01 0 00 777747 	LRPMR:	TLZ	1,M
 26146	057414	434 01 0 00 067456 		IOR	1,[24B5!1B6]
 26147	057415	254 00 0 00 057476 		JRST	LDRGCC
 26148	057416	621 01 0 00 777747 	LRPAS:	TLZ	1,M
 26149	057417	434 01 0 00 075242 		IOR	1,[16B5!1B6]
 26150	057420	254 00 0 00 057476 		JRST	LDRGCC
 26151	057421	621 01 0 00 777747 	LRPDA:	TLZ	1,M
 26152	057422	434 01 0 00 075243 		IOR	1,[06B5!1B6]
 26153	057423	254 00 0 00 057476 		JRST	LDRGCC
 26154	057424	621 01 0 00 777747 	LRPDT:	TLZ	1,M
 26155	057425	434 01 0 00 065273 		IOR	1,[26B5!1B6]
 26156	057426	254 00 0 00 057476 		JRST	LDRGCC
 26157	057427	621 01 0 00 777747 	LRPLA:	TLZ	1,M
 26158	057430	434 01 0 00 075244 		IOR	1,[20B5!1B6]
 26159	057431	254 00 0 00 057476 		JRST	LDRGCC
 26160	057432	621 01 0 00 777747 	LRPSN:	TLZ	1,M
 26161	057433	434 01 0 00 064032 		IOR	1,[30B5!1B6]
 26162	057434	254 00 0 00 057476 		JRST	LDRGCC
 26163	057435	621 01 0 00 777747 	LRPOF:	TLZ	1,M
 26164	057436	434 01 0 00 064106 		IOR	1,[32B5!1B6]
 26165	057437	254 00 0 00 057476 		JRST	LDRGCC
 26166	057440	621 01 0 00 777747 	LRPDC:	TLZ	1,M
 26167	057441	434 01 0 00 075245 		IOR	1,[34B5!1B6]
 26168	057442	254 00 0 00 057476 		JRST	LDRGCC
 26169	057443	621 01 0 00 777747 	LRPCC:	TLZ	1,M
 26170	057444	434 01 0 00 072656 		IOR	1,[36B5!1B6]
 26171	057445	254 00 0 00 057476 		JRST	LDRGCC
 26172	057446	621 01 0 00 777747 	LRPER2:	TLZ	1,M
 26173	057447	434 01 0 00 072677 		IOR	1,[40B5!1B6]
 26174	057450	254 00 0 00 057476 		JRST	LDRGCC
 26175	057451	621 01 0 00 777747 	LRPER3:	TLZ	1,M
 26176	057452	434 01 0 00 063774 		IOR	1,[42B5!1B6]
 26177	057453	254 00 0 00 057476 		JRST	LDRGCC
 26178	057454	621 01 0 00 777747 	LRPEC1:	TLZ	1,M
 26179	057455	434 01 0 00 075246 		IOR	1,[44B5!1B6]
 26180	057456	254 00 0 00 057476 		JRST	LDRGCC
 26181	057457	621 01 0 00 777747 	LRPEC2:	TLZ	1,M
 26182	057460	434 01 0 00 064644 		IOR	1,[46B5!1B6]
 26183	057461	254 00 0 00 057476 		JRST	LDRGCC
 26184	057462	621 01 0 00 777747 	LRPWC:	TLZ	1,M
 26185	057463	434 01 0 00 075247 		IOR	1,[02B5!1B6!1B10]
 26186	057464	254 00 0 00 057476 		JRST	LDRGCC
 26187	057465	621 01 0 00 777747 	LRPBA:	TLZ	1,M
 26188	057466	434 01 0 00 075250 		IOR	1,[04B5!1B6!1B10]
 26189	057467	254 00 0 00 057476 		JRST	LDRGCC
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-6
DSRPA5	MAC	 2-Mar-79 10:45		REGISTER SNAPSHOT AND DUMP ROUTINES                                                SEQ 0823

 26190	057470	621 01 0 00 777747 	LRPCS2:	TLZ	1,M
 26191	057471	434 01 0 00 075251 		IOR	1,[10B5!1B6!1B10]
 26192	057472	254 00 0 00 057476 		JRST	LDRGCC
 26193	057473	621 01 0 00 777747 	LRPDB:	TLZ	1,M
 26194	057474	434 01 0 00 075252 		IOR	1,[22B5!1B6!1B10]
 26195	057475	254 00 0 00 057476 		JRST	LDRGCC
 26196
 26197	057476	261 17 0 00 000001 	LDRGCC:	PUT	1		;SAVE AC'S
 26198	057477	261 17 0 00 000000 		PUT	0		
 26199	057500	261 17 0 00 000002 		PUT	2
 26200	057501	261 17 0 00 000003 		PUT	3
 26201
 26202					;CODE TO SELECT PROPER DRIVE IF EXTERNAL OR RHCS1
 26203
 26204	057502	603 01 0 00 000200 		TLNE	1,(1B10)	;RH11 REG?
 26205	057503	254 00 0 00 057513 		JRST	LDRGC1		;YES, NO SELECT NECESSARY
 26206	057504	405 14 0 00 000007 		ANDI	DRIVE,7		;MUST DO A SELECT
 26207	057505	671 01 0 00 000014 		TSO	1,DRIVE		;PLUG IN DRIVE
 26208	057506	202 01 0 17 777775 		MOVEM	1,-3(P)		;REPLACE ON STACK
 26209	057507	332 00 0 00 077313 		SKIPE	PATFG#		;WANT BAD PARITY?
 26210	057510	660 14 0 00 000020 		TRO	DRIVE,20	;YES
 26211	057511	713 14 0 13 000010 		WRIO	DRIVE,10(MBCN)	;DRIVE SELECTED IN RHCS2
 26212	057512	620 14 0 00 000020 		TRZ	DRIVE,20	;CLEAR
 26213
 26214
 26215					;SETUP UNIBUS REGISTER ADDRESS
 26216
 26217	057513	135 02 0 00 075171 	LDRGC1:	LDB	AC2,[POINT 6,1,5];GET SPECIFIED REG #
 26218	057514	270 02 0 00 000013 		ADD	AC2,MBCN	;FORM UNIBUS ADDRESS
 26219
 26220					;EXECUTE I/O INSTRUCTION
 26221
 26222	057515	621 01 0 00 777777 	LDRG1:	TLZ	1,-1		;CLEAR SOFTWARE FLAGS
 26223	057516	713 01 0 02 000000 		WRIO	1,(2)		;WRITE THE WORD
 26224
 26225					;TEST IF ACCESS ERROR CHECK WANTED (EXTERNAL REGS ONLY)
 26226
 26227	057517	200 01 0 17 777775 	LDRG4:	MOVE	1,-3(P)		;GET CALLING ARG
 26228	057520	603 01 0 00 000200 		TLNE	1,(1B10)	;CHECK ?
 26229	057521	254 00 0 00 057571 		JRST	LDRGEX		;NO EXIT
 26230
 26231					;TEST FOR REGISTER ACCESS ERROR
 26232
 26233	057522	712 03 0 13 000010 		RDIO	3,10(MBCN)	;READ RHCS2 INTO AC3
 26234	057523	602 03 0 00 010000 		TRNE	3,NED		;NON-EX DRIVE ERROR
 26235	057524	254 00 0 00 057527 		JRST	LDERR		;YES
 26236	057525	350 00 0 17 777774 		AOS	-4(P)		;NO TAKE NORMAL RTN
 26237	057526	254 00 0 00 057571 		JRST	LDRGEX		;EXIT ROUTINE
 26238
 26239					;SEE IF ERROR REPORTING WANTED
 26240
 26241	057527	661 01 0 00 002000 	LDERR:	TLO	1,(1B7)		;SET NED STATUS
 26242	057530	202 01 0 17 777775 		MOVEM	1,-3(P)		;ONTO STACK
 26243	057531	603 01 0 00 000010 		TLNE	1,(1B14)	;REPORT ERROR
 26244	057532	254 00 0 00 057562 		JRST	LDERR1		;NO
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-7
DSRPA5	MAC	 2-Mar-79 10:45		REGISTER SNAPSHOT AND DUMP ROUTINES                                                SEQ 0824

 26245
 26246					;REPORT ERROR
 26247
 26248						PMSG	<^NED ERROR DETECTED WRITING >^
 26249	057533	037 02 0 00 075253 		PSIXM	[SIXBIT\^NED ERROR DETECTED WRITING _\]^
 26250	057534	201 00 0 00 062601 		MOVEI	0,RNAM		;YES GET ITS TABLE ADDR
 26251	057535	135 02 0 00 075171 		LDB	2,[POINT 6,1,5]	;GET SPECIFIED REG
 26252	057536	231 02 0 00 000002 		IDIVI	2,2		;ADJUST REG #
 26253	057537	270 00 0 00 000002 		ADD	0,2		;INDEX FOR TABLE
 26254	057540	200 00 1 00 000000 		MOVE	@0		;GET SIXBIT NAME
 26255	057541	037 00 0 00 000002 		PNTSIX			;PRINT IT
 26256	057542	037 00 0 00 000040 		PSP
 26257	057543	037 00 0 00 000050 		PNTCI	"("
 26258	057544	135 00 0 00 075171 		LDB	[POINT 6,1,5]	;GET REG #
 26259	057545	270 00 0 00 000013 		ADD	0,MBCN		;FORM UNIBUS ADDRESS
 26260	057546	037 16 0 00 000003 		PNTOCS			;PRINT IT
 26261	057547	037 00 0 00 000051 		PNTCI	")"
 26262						PMSG	<^ISSUED TO DRIVE # >^
 26263	057550	037 02 0 00 075260 		PSIXM	[SIXBIT\^ISSUED TO DRIVE # _\]^
 26264	057551	200 00 0 00 000014 		MOVE	0,DRIVE
 26265	057552	037 01 0 00 000000 		PNT1
 26266						PMSG	<^WRT DATA = >^
 26267	057553	037 02 0 00 075264 		PSIXM	[SIXBIT\^WRT DATA = _\]^
 26268	057554	550 00 0 00 000001 		HRRZ	0,1
 26269	057555	037 06 0 00 000000 		PNT6
 26270						PMSG	< - RHCS2 = >^
 26271	057556	037 02 0 00 075267 		PSIXM	[SIXBIT\ - RHCS2 = _\]^
 26272	057557	712 00 0 13 000010 		RDIO	0,10(MBCN)	;READ RHCS2 INTO AC0
 26273	057560	037 06 0 00 000000 		PNT6			;PRINT IT
 26274	057561	037 00 0 00 030242 		PCRL
 26275
 26276					;SEE IF ERROR CLEAR WANTED
 26277
 26278	057562	603 01 0 00 000020 	LDERR1:	TLNE	1,(1B13)	;CLEAR ERROR ?
 26279	057563	254 00 0 00 057571 		JRST	LDRGEX		;NO EXIT
 26280
 26281					;CLEAR ERROR
 26282
 26283	057564	712 01 0 13 000000 		RDIO	1,(MBCN)	;READ RHCS1
 26284	057565	606 01 0 00 000200 		TRNN	1,200		;RDY SET
 26285	057566	254 00 0 00 057564 		JRST	.-2		;NO RH IS BUSY WAIT
 26286
 26287					;RH IS IDLE ISSUE RH TRE ERROR CLEAR
 26288
 26289	057567	201 01 0 00 000100 		MOVEI	1,100		;TRECLR (BYTE ADDRESSED)
 26290	057570	723 01 0 13 000001 		WRIOB	1,1(MBCN)	;WRITE HIGH BYTE RHCS1
 26291
 26292	057571	262 17 0 00 000003 	LDRGEX:	GET	3		;RESTORE AC'S
 26293	057572	262 17 0 00 000002 		GET	2
 26294	057573	262 17 0 00 000000 		GET	0
 26295	057574	262 17 0 00 000001 		GET	1
 26296	057575	263 17 0 00 000000 		RTN
 26297
 26298						XLIST
 26299					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-8
DSRPA5	MAC	 2-Mar-79 10:45		REGISTER SNAPSHOT AND DUMP ROUTINES                                                SEQ 0825

 26300						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-9
DSRPA5	MAC	 2-Mar-79 10:45		REGISTER SNAPSHOT AND DUMP ROUTINES                                                SEQ 0826

 26301					S^;*********************************************************************^
 26302					;*RH11 AND DEVICE REGISTER READ ROUTINES
 26303					S^;*********************************************************************^
 26304
 26305					COMMENT $
 26306
 26307					SPECIFICATION:
 26308					THE RH11 AND MASSBUS REGISTERS ARE READ BY SETTING UP AC1
 26309					WITH THE APPROPRIATE ARGUMENTS AND CALLING THE ROUTINE
 26310					WITH A PUSHJ. THE LEFT SIDE OF AC1 WILL CONTAIN THE REGISTER
 26311					NUMBER AND DRIVE NUMBER FOR THE MASSBUS REGISTER READ. 
 26312					IF A REGISTER ACCESS ERROR IS DETECTED BIT 7 WILL BE SET TO 
 26313					INDICATE A NED ERROR  AND BIT 8 INDICATING A MCPE. INTERNAL
 26314					RH11 REGISTERS READ WILL RETURN THE REGISTER NUMBER ONLY.
 26315
 26316					EXAMPLE OF READING A MASSBUS DEVICE REG (AND RHCS1 IN THE RH11)
 26317					CALLING	SEQ:
 26318					SETZM	1			;SETUP CALLING ARG
 26319					GO	RDXXXX			;READ THE SPECIFIED REG
 26320						RTN1			;NED ERROR DETECTED
 26321						RTN2			;MCPE ERROR DETECTED
 26322						RTN3			;NORMAL RETURN
 26323
 26324					EXAMPLE OF READING A RH11 REG (OTHER THAN RHCS1)
 26325					CALLING	SEQ:
 26326					SETZM	1
 26327					GO	RDXXXX			;READ THE REG
 26328					RTN1				;RETURNS HERE ALWAYS
 26329
 26330					NOTE !!! THERE IS A SPECIAL REGISTER TO BE AWARE OF,
 26331					THE RHCS1 REG IS SHARED BY THE CONTROLLER AND DRIVE.
 26332					FOR THIS REASON, RHCS1 IS ALWAYS TREATED
 26333					AS A DEVICE REGISTER.
 26334
 26335					AC1:
 26336					SPECIFY THE SOFTWARE OPTION BITS IN BITS 13-14
 26337						BIT 14 = 0  REPORT REG ACCESS ERRORS
 26338						BIT 14 = 1  DONT REPORT REG ACCESS ERRORS
 26339						BIT 13 = 0  CLEAR REG ACCESS ERRORS
 26340						BIT 13 = 1  DONT CLEAR REG ACCESS ERRORS
 26341
 26342					THE ROUTINE EXPECTS THE AC "MBCN" TO CONTAIN THE BASE 
 26343					ADDRESS OF THE UNIBUS ADDRESS BLOCK ASSIGNED TO THE RH11
 26344					BEING REFERENCED.  ALSO THAT THE AC "DRIVE" CONTAIN
 26345					THE SELECTED DRIVE # IN BITS 33-35 
 26346						$
 26347						XLIST
 26348					 	LIST^
 26349
 26350	057576	621 01 0 00 777747 	RRPCS1:	TLZ	1,M
 26351	057577	434 01 0 00 063600 		IOR	1,[0B5]		;REG #
 26352	057600	254 00 0 00 057672 		JRST	RDRGCC		;GO TO COMMON CODE
 26353	057601	621 01 0 00 777747 	RRPDS:	TLZ	1,M
 26354	057602	434 01 0 00 075271 		IOR	1,[12B5]
 26355	057603	254 00 0 00 057672 		JRST	RDRGCC
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-10
DSRPA5	MAC	 2-Mar-79 10:45		REGISTER SNAPSHOT AND DUMP ROUTINES                                                SEQ 0827

 26356	057604	621 01 0 00 777747 	RRPER1:	TLZ	1,M
 26357	057605	434 01 0 00 075272 		IOR	1,[14B5]
 26358	057606	254 00 0 00 057672 		JRST	RDRGCC
 26359	057607	621 01 0 00 777747 	RRPMR:	TLZ	1,M
 26360	057610	434 01 0 00 075273 		IOR	1,[24B5]
 26361	057611	254 00 0 00 057672 		JRST	RDRGCC
 26362	057612	621 01 0 00 777747 	RRPAS:	TLZ	1,M
 26363	057613	434 01 0 00 075274 		IOR	1,[16B5]
 26364	057614	254 00 0 00 057672 		JRST	RDRGCC
 26365	057615	621 01 0 00 777747 	RRPDA:	TLZ	1,M
 26366	057616	434 01 0 00 075275 		IOR	1,[06B5]
 26367	057617	254 00 0 00 057672 		JRST	RDRGCC
 26368	057620	621 01 0 00 777747 	RRPDT:	TLZ	1,M
 26369	057621	434 01 0 00 075276 		IOR	1,[26B5]
 26370	057622	254 00 0 00 057672 		JRST	RDRGCC
 26371	057623	621 01 0 00 777747 	RRPLA:	TLZ	1,M
 26372	057624	434 01 0 00 064364 		IOR	1,[20B5]
 26373	057625	254 00 0 00 057672 		JRST	RDRGCC
 26374	057626	621 01 0 00 777747 	RRPSN:	TLZ	1,M
 26375	057627	434 01 0 00 064754 		IOR	1,[30B5]
 26376	057630	254 00 0 00 057672 		JRST	RDRGCC
 26377	057631	621 01 0 00 777747 	RRPOF:	TLZ	1,M
 26378	057632	434 01 0 00 064163 		IOR	1,[32B5]
 26379	057633	254 00 0 00 057672 		JRST	RDRGCC
 26380	057634	621 01 0 00 777747 	RRPDC:	TLZ	1,M
 26381	057635	434 01 0 00 075277 		IOR	1,[34B5]
 26382	057636	254 00 0 00 057672 		JRST	RDRGCC
 26383	057637	621 01 0 00 777747 	RRPCC:	TLZ	1,M
 26384	057640	434 01 0 00 075300 		IOR	1,[36B5]
 26385	057641	254 00 0 00 057672 		JRST	RDRGCC
 26386	057642	621 01 0 00 777747 	RRPER2:	TLZ	1,M
 26387	057643	434 01 0 00 075301 		IOR	1,[40B5]
 26388	057644	254 00 0 00 057672 		JRST	RDRGCC
 26389	057645	621 01 0 00 777747 	RRPER3:	TLZ	1,M
 26390	057646	434 01 0 00 064241 		IOR	1,[42B5]
 26391	057647	254 00 0 00 057672 		JRST	RDRGCC
 26392	057650	621 01 0 00 777747 	RRPEC1:	TLZ	1,M
 26393	057651	434 01 0 00 070570 		IOR	1,[44B5]
 26394	057652	254 00 0 00 057672 		JRST	RDRGCC
 26395	057653	621 01 0 00 777747 	RRPEC2:	TLZ	1,M
 26396	057654	434 01 0 00 070054 		IOR	1,[46B5]
 26397	057655	254 00 0 00 057672 		JRST	RDRGCC
 26398	057656	621 01 0 00 777747 	RRPWC:	TLZ	1,M
 26399	057657	434 01 0 00 075302 		IOR	1,[02B5!1B10]
 26400	057660	254 00 0 00 057672 		JRST	RDRGCC
 26401	057661	621 01 0 00 777747 	RRPBA:	TLZ	1,M
 26402	057662	434 01 0 00 075303 		IOR	1,[04B5!1B10]
 26403	057663	254 00 0 00 057672 		JRST	RDRGCC
 26404	057664	621 01 0 00 777747 	RRPCS2:	TLZ	1,M
 26405	057665	434 01 0 00 075304 		IOR	1,[10B5!1B10]
 26406	057666	254 00 0 00 057672 		JRST	RDRGCC
 26407	057667	621 01 0 00 777747 	RRPDB:	TLZ	1,M
 26408	057670	434 01 0 00 075305 		IOR	1,[22B5!1B10]
 26409	057671	254 00 0 00 057672 		JRST	RDRGCC
 26410
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-11
DSRPA5	MAC	 2-Mar-79 10:45		REGISTER SNAPSHOT AND DUMP ROUTINES                                                SEQ 0828

 26411	057672	261 17 0 00 000001 	RDRGCC:	PUT	1		;SAVE AC'S
 26412	057673	261 17 0 00 000000 		PUT	0		
 26413	057674	261 17 0 00 000002 		PUT	2
 26414	057675	261 17 0 00 000003 		PUT	3
 26415
 26416					;CODE TO SELECT PROPER DRIVE IF EXTERNAL REGISTER OR RHCS1
 26417
 26418	057676	603 01 0 00 000200 		TLNE	1,(1B10)	;RH11 REG. ?
 26419	057677	254 00 0 00 057704 		JRST	RDRGC1		;YES, NO SELECT NECESSARY
 26420	057700	405 14 0 00 000007 		ANDI	DRIVE,7		;MUST DO A SELECT
 26421	057701	671 01 0 00 000014 		TSO	1,DRIVE		;PLUG IN DRIVE #
 26422	057702	202 01 0 17 777775 		MOVEM	1,-3(P)		;UPDATE STACK
 26423	057703	713 14 0 13 000010 		WRIO	DRIVE,10(MBCN)	;DRIVE SELECTED IN RHCS2
 26424
 26425					;SETUP UNIBUS REGISTER ADDRESS
 26426
 26427	057704	135 02 0 00 075171 	RDRGC1:	LDB	AC2,[POINT 6,1,5]	;GET SPECIFIED REG #
 26428	057705	270 02 0 00 000013 		ADD	AC2,MBCN	;FORM UNIBUS ADDRESS
 26429	057706	712 01 0 02 000000 	RDRG1:	RDIO	1,(2)		;READ THE WORD
 26430	057707	542 01 0 17 777775 		HRRM	1,-3(P)		;DATA GOES ONTO THE STACK
 26431
 26432					;TEST IF ACCESS ERROR CHECK WANTED
 26433
 26434	057710	200 01 0 17 777775 		MOVE	1,-3(P)		;GET ORIGINAL DATA BACK
 26435	057711	603 01 0 00 000200 		TLNE	1,(1B10)	;EXTERNAL REG. ?
 26436	057712	254 00 0 00 057776 		JRST	RDRGEX		;NO EXIT
 26437
 26438					;TEST FOR REGISTER ACCESS ERROR
 26439
 26440	057713	712 03 0 13 000010 		RDIO	3,10(MBCN)	;READ RHCS2 INTO AC3
 26441	057714	606 03 0 00 010000 		TRNN	3,NED		;NON-EX DRIVE ERROR
 26442	057715	254 00 0 00 057724 		JRST	RDERR1		;NO TEST FOR MCPE
 26443
 26444					;NED ERROR SET BIT 7 IN AC1
 26445
 26446	057716	661 01 0 00 002000 		TLO	1,(1B7)		;SET ERROR BIT
 26447	057717	202 01 0 17 777775 		MOVEM	1,-3(P)		;RESTORE DATA ON STACK
 26448
 26449					;SEE IF ERROR REPORTING WANTED
 26450
 26451	057720	603 01 0 00 000010 		TLNE	1,(1B14)	;REPORT ERROR
 26452	057721	254 00 0 00 057765 		JRST	RDERR3		;NO SEE IF CLR WANTED
 26453						PMSG	<^NED ERROR DETECTED READING >^
 26454	057722	037 02 0 00 075306 		PSIXM	[SIXBIT\^NED ERROR DETECTED READING _\]^
 26455	057723	254 00 0 00 057737 		JRST	RDERR
 26456
 26457					;TEST FOR MCPE ERROR
 26458
 26459	057724	350 00 0 17 777774 	RDERR1:	AOS	-4(P)		;SKIP OVER NED RTN
 26460	057725	332 00 0 00 077307 		SKIPE	NRHCS1#		;IGNORE PAR CHECK ?
 26461	057726	254 00 0 00 057775 		JRST	RDRGNX		;YES
 26462	057727	712 00 0 13 000000 		RDIO	0,(MBCN)	;READ RHCS1
 26463	057730	606 00 0 00 020000 		TRNN	0,20000		;PARITY ERROR
 26464	057731	254 00 0 00 057775 		JRST	RDRGNX		;NO TAKE NORMAL EXIT
 26465
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-12
DSRPA5	MAC	 2-Mar-79 10:45		REGISTER SNAPSHOT AND DUMP ROUTINES                                                SEQ 0829

 26466					;PARITY ERROR SET BIT 8
 26467
 26468	057732	661 01 0 00 001000 		TLO	1,(1B8)		;SET ERROR BIT
 26469	057733	202 01 0 17 777775 		MOVEM	1,-3(P)		;RESTORE DATA ON STACK
 26470
 26471					;SEE IF ERROR REPORT WANTED
 26472
 26473	057734	603 01 0 00 000010 		TLNE	1,(1B14)	;REPORT ?
 26474	057735	254 00 0 00 057765 		JRST	RDERR3		;NO
 26475						PMSG	<^MCPE ERROR DETECTED READING >^
 26476	057736	037 02 0 00 075313 		PSIXM	[SIXBIT\^MCPE ERROR DETECTED READING _\]^
 26477
 26478					;ADDITIONAL ERROR PRINTER (AC1 HAS REGISTER DATA)
 26479
 26480	057737	201 00 0 00 062601 	RDERR:	MOVEI	0,RNAM		;GET RM03 REG TABLE ADDR
 26481	057740	135 02 0 00 075171 		LDB	2,[POINT 6,1,5]	;GET SPECIFIED REG
 26482	057741	231 02 0 00 000002 		IDIVI	2,2		;ADJUST REG #
 26483	057742	270 00 0 00 000002 		ADD	0,2		;INDEX FOR TABLE
 26484	057743	200 00 1 00 000000 		MOVE	@0		;GET SIXBIT NAME
 26485	057744	037 00 0 00 000002 		PNTSIX			;PRINT IT
 26486	057745	037 00 0 00 000040 		PSP
 26487	057746	037 00 0 00 000050 		PNTCI	"("
 26488	057747	135 00 0 00 075171 		LDB	[POINT 6,1,5]	;GET REG #
 26489	057750	270 00 0 00 000013 		ADD	0,MBCN		;FORM UNIBUS ADDRESS
 26490	057751	037 16 0 00 000003 		PNTOCS			;PRINT IT
 26491	057752	037 00 0 00 000051 		PNTCI	")"
 26492						PMSG	<^ISSUED TO DRIVE # >^
 26493	057753	037 02 0 00 075260 		PSIXM	[SIXBIT\^ISSUED TO DRIVE # _\]^
 26494	057754	200 00 0 00 000014 		MOVE	0,DRIVE
 26495	057755	037 01 0 00 000000 		PNT1
 26496						PMSG	<^READ DATA = >^
 26497	057756	037 02 0 00 075320 		PSIXM	[SIXBIT\^READ DATA = _\]^
 26498	057757	550 00 0 00 000001 		HRRZ	0,1
 26499	057760	037 06 0 00 000000 		PNT6
 26500						PMSG	< - RHCS2 = >^
 26501	057761	037 02 0 00 075267 		PSIXM	[SIXBIT\ - RHCS2 = _\]^
 26502	057762	712 00 0 13 000010 		RDIO	0,10(MBCN)	;READ RHCS2 INTO AC0
 26503	057763	037 06 0 00 000000 		PNT6			;PRINT IT
 26504	057764	037 00 0 00 030242 		PCRL
 26505
 26506					;SEE IF ERROR CLEAR WANTED
 26507
 26508	057765	603 01 0 00 000020 	RDERR3:	TLNE	1,(1B13)	;CLEAR ERROR ?
 26509	057766	254 00 0 00 057776 		JRST	RDRGEX		;NO EXIT
 26510
 26511					;CLEAR ERROR
 26512
 26513	057767	712 01 0 13 000000 		RDIO	1,(MBCN)	;READ RHCS1
 26514	057770	606 01 0 00 000200 		TRNN	1,RDY		;RDY SET
 26515	057771	254 00 0 00 057767 		JRST	.-2		;NO RH IS BUSY WAIT
 26516
 26517					;RH IS IDLE ISSUE RH TRE ERROR CLEAR
 26518
 26519	057772	201 01 0 00 000100 		MOVEI	1,100		;TRECLR (BYTE ADDRESSED)
 26520	057773	723 01 0 13 000001 		WRIOB	1,1(MBCN)	;WRITE HIGH BYTE RHCS1
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-13
DSRPA5	MAC	 2-Mar-79 10:45		REGISTER SNAPSHOT AND DUMP ROUTINES                                                SEQ 0830

 26521	057774	254 00 0 00 057776 		JRST	RDRGEX		;SKIP THE RETURN ADJUSTMENT
 26522
 26523	057775	350 00 0 17 777774 	RDRGNX:	AOS	-4(P)		;ADJUST FOR NORMAL RTN
 26524
 26525	057776	262 17 0 00 000003 	RDRGEX:	GET	3		;RESTORE AC'S
 26526	057777	262 17 0 00 000002 		GET	2
 26527	060000	262 17 0 00 000000 		GET	0
 26528	060001	262 17 0 00 000001 		GET	1
 26529	060002	263 17 0 00 000000 		RTN
 26530
 26531					SUBTTL USER MODE UUO SUPPORT ROUTINES
 26532					 	XLIST
 26533					 	LIST
 26534						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-14
DSRPA5	MAC	 2-Mar-79 10:45		USER MODE UUO SUPPORT ROUTINES                                                     SEQ 0831

 26535					S^;*********************************************************************^
 26536					;*SETTRP - - PATCHES "UUOTST" INTO SUBR PKG UUO HANDLER
 26537					S^;*********************************************************************^
 26538
 26539					COMMENT $
 26540
 26541						THIS ROUTINE DOES NOTHING IN EXEC MODE. IN USER MODE IT MODIFIES
 26542						THE SUBROUTINE PKGES UUO HANDLER TO EXECUTE A ROUTINE CALLED
 26543						"UUOTST" EACH TIME THE PGM EXECUTES A UUO AND THEN PASSES
 26544						CONTROL TO THE SUBROUTINE PACKAGE FOR NORMAL UUO PROCESSING.
 26545							EG.	GO	SETTRP	;PATCH IN
 26546								RTN	;RETURNS CONTROL HERE 
 26547						$
 26548						XLIST
 26549					 	LIST^
 26550
 26551	060003	336 00 0 00 030037 	SETTRP:	SKIPN	USER		;IN USER MODE ?
 26552	060004	263 17 0 00 000000 		RTN			;NO. RETURN IMMEDIATELY
 26553	060005	261 17 0 00 000000 		PUT	0		;YES. SAVE THE AC
 26554	060006	550 00 0 00 000041 		HRRZ	0,41		;GET PRESENT ADDR OF LOC 41
 26555	060007	306 00 0 00 060017 		CAIN	0,UUOTST	;ALREADY PATCHED IN ?
 26556	060010	254 00 0 00 060015 		JRST	SETEX		;YES
 26557	060011	200 00 0 00 000041 		MOVE	0,41		;NO. GET SUBR PKG INSTRUCTION
 26558	060012	202 00 0 00 077336 		MOVEM	0,SV41#		;SAVE IT TO RTN CTRL LATER
 26559	060013	200 00 0 00 075323 		MOVE	0,[GO UUOTST]	;THE NEW INSTRUCTION (TRAP)
 26560	060014	202 00 0 00 000041 		MOVEM	0,41		;NOW PACHED IN
 26561	060015	262 17 0 00 000000 	SETEX:	GET	0		;RESTORE THE AC
 26562	060016	263 17 0 00 000000 		RTN			;AND RETURN
 26563
 26564					 	XLIST
 26565					 	LIST
 26566						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-15
DSRPA5	MAC	 2-Mar-79 10:45		USER MODE UUO SUPPORT ROUTINES                                                     SEQ 0832

 26567					S^;*********************************************************************^
 26568					;*UUOTST - - ROUTINE TO RELEASE THE RH BEFORE PRINTING
 26569					S^;*********************************************************************^
 26570
 26571					COMMENT $
 26572
 26573						THIS ROUTINE IS EXECUTED IN USER MODE ONLY.BEFORE ATTEMPTING
 26574						TO PRINT OR EXECUTE SOME OTHER TIME CONSUMING SUBROUTINE
 26575						PACKAGE UUO, IT IS GOOD FORM TO RETURN THE RH TO THE SYSTEM
 26576						RESOURCES SO THAT BOTH THE MONITOR AND DIAGNOSTIC USE THE
 26577						DEVICE EFFICIENTLY. THIS ROUTINE IS RUN EACH TIME A UUO IS
 26578						EXECUTED IN USER MODE, PROVIDED "SETTRP" WAS PREVIOUSLY
 26579						CALLED. (AFTER PGMINT). 
 26580						$
 26581						XLIST
 26582					 	LIST^
 26583
 26584	060017	336 00 0 00 077264 	UUOTST:	SKIPN	DIAGCR		;DO WE HAVE CTRL OF AN RH ?
 26585	060020	254 00 1 00 077336 		PJRST@	SV41		;NO. OFF TO SUBR PKG CODE
 26586	060021	261 17 0 00 000000 		PUT	0		;YES SAVE THE AC
 26587	060022	135 00 0 00 075324 		LDB	0,[POINT 9,40,8] ;GET OP CODE OF THE UUO
 26588	060023	303 00 0 00 000032 		CAILE	0,32		;IS IT A SUBR PKG UUO ?
 26589	060024	260 17 0 00 077352 		GO	DEVREL		;YES. GIVE DEV BACK TO MONITOR
 26590	060025	262 17 0 00 000000 		GET	0		;RESTORE THE AC
 26591	060026	254 00 1 00 077336 		PJRST@	SV41		;GO TO NORMAL SUBROUTINE PROCESS
 26592
 26593					SUBTTL	CPU BAD MEMORY DATA (BMD) ERROR SERVICE
 26594					 	XLIST
 26595					 	LIST
 26596						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-16
DSRPA5	MAC	 2-Mar-79 10:45		CPU BAD MEMORY DATA (BMD) ERROR SERVICE                                            SEQ 0833

 26597					S^;*********************************************************************^
 26598					;*PARITY-- ROUTINE TO HANDLE CPU DETECTED BAD MEMORY DATA ERRORS
 26599					S^;*********************************************************************^
 26600
 26601					COMMENT $
 26602
 26603					THIS ROUTINE WILL ATTEMPT TO REPORT WHERE THE BAD MEMORY DATA
 26604					OCCURRED AND ATTEMPT TO CONTINUE IF POSSIBLE.
 26605					KS10 TYPE CPU'S:
 26606					THE MEMORY CONTROLLER ERROR ADDRESS REG WILL BE READ 
 26607					AND DETERMINED IF THE THE ADDRESS IS IN THE PROGRAM AREA OR NOT.
 26608					BAD MEMORY DATA ERROR IN PROGRAM AREA - FATAL ERROR HALT
 26609					BAD MEMORY DATA ERROR NOT IN PROGRAM AREA -ATTEMPT TO CONTINUE.
 26610						$
 26611						XLIST
 26612					 	LIST^
 26613
 26614	060027	261 17 0 00 000000 	PARITY:	PUT	AC0		;SAVE SOME AC'S
 26615	060030	261 17 0 00 000001 		PUT	AC1
 26616	060031	261 17 0 00 030113 		PUT	$SVUUO
 26617	060032	261 17 0 00 030114 		PUT	$SVUPC
 26618	060033	261 17 0 00 000040 		PUT	40
 26619	060034	332 00 0 00 030037 		SKIPE	USER
 26620	060035	254 00 0 00 060076 		JRST	BMDCOM
 26621
 26622					;*HERE FOR KS10 BAD MEMORY DATA ERRORS
 26623
 26624	060036	200 00 0 00 030110 		MOVE	$SVAPR		;GET THE APR STATUS
 26625	060037	606 00 0 00 000200 		TRNN	LPARER		;BAD MEMORY DATA ERROR??
 26626	060040	254 00 0 00 060076 		JRST	BMDCOM		;NOPE
 26627
 26628	060041	712 01 0 00 100000 		RDIO	AC1,100000	;GET MEM ERROR REG DATA
 26629	060042	200 00 0 00 000001 		MOVE	AC0,AC1		;COPY TO AC0
 26630	060043	404 00 0 00 075325 		AND	AC0,[17,,777777] ;SAVE 22 BIT ADDR
 26631	060044	303 00 0 00 101000 		CAILE	AC0,BUF1	;IN PROGRAM AREA
 26632	060045	254 00 0 00 060062 		JRST	BMDBUF		;NO
 26633
 26634						PMSGF	<^BAD MEMORY DATA ERROR DETECTED IN PROGRAM AREA^>^
 26635	060046	037 04 0 00 075326 		PSIXMF	[SIXBIT\^BAD MEMORY DATA ERROR DETECTED IN PROGRAM AREA^_\]^
 26636						PMSGF	<MEMORY ERROR ADDRESS REGISTER = >^
 26637	060047	037 04 0 00 075337 		PSIXMF	[SIXBIT\MEMORY ERROR ADDRESS REGISTER = _\]^
 26638	060050	200 00 0 00 000001 		MOVE	AC0,AC1
 26639	060051	037 14 0 00 000001 		PNTOTF
 26640						PMSG	<, DATA @ ADDRESS = >^
 26641	060052	037 02 0 00 075345 		PSIXM	[SIXBIT\, DATA @ ADDRESS = _\]^
 26642	060053	200 00 1 00 000001 		MOVE	AC0,@AC1
 26643	060054	037 13 0 00 000001 		PNTHWF
 26644	060055	037 01 0 00 030242 		PCRLF
 26645	060056	205 00 0 00 400000 		MOVSI	AC0,(1B0)	;CLEAR ERROR IN MEM
 26646	060057	713 00 0 00 100000 		WRIO	AC0,100000	;DO IT
 26647	060060	7 000 20 0 00 020201 		CONO	APR,20201	;IN APR TOO
 26648	060061	037 16 0 00 000004 		EOPUUO
 26649
 26650	060062				BMDBUF:	PMSGF	<^BAD MEMORY DATA ERROR DETECTED IN DATA BUFFER AREA^>^
 26651	060062	037 04 0 00 075351 		PSIXMF	[SIXBIT\^BAD MEMORY DATA ERROR DETECTED IN DATA BUFFER AREA^_\]^
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-17
DSRPA5	MAC	 2-Mar-79 10:45		CPU BAD MEMORY DATA (BMD) ERROR SERVICE                                            SEQ 0834

 26652						PMSGF	<MEMORY ERROR ADDRESS REGISTER = >^
 26653	060063	037 04 0 00 075337 		PSIXMF	[SIXBIT\MEMORY ERROR ADDRESS REGISTER = _\]^
 26654	060064	200 00 0 00 000001 		MOVE	AC0,AC1
 26655	060065	037 14 0 00 000001 		PNTOTF
 26656						PMSG	<, DATA @ ADDRESS = >^
 26657	060066	037 02 0 00 075345 		PSIXM	[SIXBIT\, DATA @ ADDRESS = _\]^
 26658	060067	200 00 1 00 000001 		MOVE	AC0,@AC1
 26659	060070	037 13 0 00 000001 		PNTHWF
 26660	060071	037 01 0 00 030242 		PCRLF
 26661	060072	205 00 0 00 400000 		MOVSI	AC0,(1B0)	;CLEAR ERROR IN MEM
 26662	060073	713 00 0 00 100000 		WRIO	AC0,100000	;DO IT
 26663	060074	7 000 20 0 00 020201 		CONO	APR,20201	;IN APR TOO
 26664						PMSG	<ATTEMPTING TO CONTINUE.^>^
 26665	060075	037 02 0 00 075362 		PSIXM	[SIXBIT\ATTEMPTING TO CONTINUE.^_\]^
 26666
 26667	060076	262 17 0 00 000040 	BMDCOM:	GET	40
 26668	060077	262 17 0 00 030114 		GET	$SVUPC
 26669	060100	262 17 0 00 030113 		GET	$SVUUO
 26670	060101	262 17 0 00 000001 		GET	AC1
 26671	060102	262 17 0 00 000000 		GET	AC0
 26672	060103	336 00 0 00 030037 		SKIPN	USER
 26673	060104	254 12 1 00 030104 		JEN	@ITRCH1
 26674	060105	254 00 1 00 030104 		JRST	@ITRCH1
 26675
 26676					; *******************************************************************
 26677					;*IOPGFT -- ROUTINE TO TEST FOR AND REPORT IO PAGE FAIL TRAPS
 26678					; *******************************************************************
 26679
 26680	060106	261 17 0 00 000000 	IOPGFT:	PUT	AC0
 26681
 26682	060107	200 00 0 00 000500 		MOVE	AC0,LEUPFW	;GET PAGE FAIL WORD
 26683	060110	135 00 0 00 075367 		LDB	AC0,[POINT 6,AC0,5] ;GET CODE
 26684	060111	306 00 0 00 000020 		CAIN	AC0,20		;IO PAGE FAIL ?
 26685	060112	254 00 0 00 060115 		JRST	IOPGF1		;YES
 26686
 26687	060113	262 17 0 00 000000 		GET	AC0
 26688	060114	254 00 1 00 077340 		JRST	@SVPGFT#	;NO LET SUBRT PKG SERVICE IT
 26689
 26690	060115				IOPGF1:	PMSGF	<^^*-*-*- I/O PAGE FAILURE EXECUTING I/O>^
 26691	060115	037 04 0 00 075370 		PSIXMF	[SIXBIT\^^*-*-*- I/O PAGE FAILURE EXECUTING I/O_\]^
 26692						PMSGF	<^@ PC - >^
 26693	060116	037 04 0 00 075377 		PSIXMF	[SIXBIT\^@ PC - _\]^
 26694	060117	200 00 0 00 000501 		MOVE	AC0,LPFWPC	;GET PC
 26695	060120	404 00 0 00 075325 		AND	[17,,777777]	;SAVE ADDR ONLY
 26696	060121	202 00 0 00 077331 		MOVEM	SIOADR#
 26697	060122	037 17 0 00 000003 		PNTOCF			;PRINT IT
 26698
 26699						PMSGF	<]I/O ADDR = >^
 26700	060123	037 04 0 00 075401 		PSIXMF	[SIXBIT\]I/O ADDR = _\]^
 26701	060124	200 00 0 00 000500 		MOVE	AC0,500		;GET INST
 26702	060125	404 00 0 00 075325 		AND	[17,,777777]	;SAVE ADDR ONLY
 26703	060126	037 17 0 00 000003 		PNTOCF			;PRINT IT
 26704	060127	037 01 0 00 030242 		PCRLF
 26705
 26706	060130	7 004 24 0 00 077315 		CONI	PI,PISAV#	;GET PI STATUS
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-18
DSRPA5	MAC	 2-Mar-79 10:45		CPU BAD MEMORY DATA (BMD) ERROR SERVICE                                            SEQ 0835

 26707	060131	7 000 24 0 00 077254 		CONI	APR,APRSAV#	;GET APR STATUS
 26708						PMSGF	<PI STATUS = >^
 26709	060132	037 04 0 00 075404 		PSIXMF	[SIXBIT\PI STATUS = _\]^
 26710	060133	200 00 0 00 077315 		MOVE	AC0,PISAV
 26711	060134	037 13 0 00 000001 		PNTHWF			;PRINT IT
 26712
 26713						PMSGF	<]APR STATUS = >^
 26714	060135	037 04 0 00 075407 		PSIXMF	[SIXBIT\]APR STATUS = _\]^
 26715	060136	200 00 0 00 077254 		MOVE	AC0,APRSAV
 26716	060137	037 13 0 00 000001 		PNTHWF
 26717	060140	037 01 0 00 030242 		PCRLF
 26718
 26719	060141	350 00 0 00 077276 		AOS	FECNT#		;COUNT FATAL ERROR
 26720	060142	200 00 0 00 077276 		MOVE	AC0,FECNT
 26721	060143	301 00 0 00 000005 		CAIL	AC0,5		;OVER LIMIT
 26722	060144	254 00 0 00 060150 		JRST	IOFTL		;YES
 26723
 26724						PMSGF	<ATTEMPTING TO RE-EXECUTE I/O INSTRUCTION^>^
 26725	060145	037 04 0 00 075412 		PSIXMF	[SIXBIT\ATTEMPTING TO RE-EXECUTE I/O INSTRUCTION^_\]^
 26726	060146	262 17 0 00 000000 		GET	AC0
 26727	060147	254 00 1 00 077331 		JRST	@SIOADR		;DO IT
 26728
 26729	060150				IOFTL:	PMSGF	<EXCEEDED FATAL ERROR LIMIT !!^>^
 26730	060150	037 04 0 00 075421 		PSIXMF	[SIXBIT\EXCEEDED FATAL ERROR LIMIT !!^_\]^
 26731	060151	262 17 0 00 000000 		GET	AC0
 26732						FATL^						LALL
 26733					; ***********************************************
 26734					;	FFFFF	  A 	TTTTT	  A	L	!
 26735					;	F	 A A	  T	 A A	L	!
 26736					;	F	AA AA	  T	AA AA	L	!
 26737					;	FFF	AAAAA	  T	AAAAA	L	!
 26738					;	F	A   A	  T	A   A	L	!
 26739					;	F	A   A	  T	A   A	L	!
 26740					;	F	A   A	  T	A   A	LLLLL	!
 26741					; ***********************************************
 26742
 26743	060152	037 16 0 00 000004 		EOPUUO			;RETURN TO DIAGNOSTIC MONITOR
 26744					 	SALL^
 26745
 26746					SUBTTL	KS10/RH11 RP05/06/RM03 CONFIGURATOR
 26747					 	XLIST
 26748					 	LIST
 26749						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-19
DSRPA5	MAC	 2-Mar-79 10:45		KS10/RH11 RP05/06/RM03 CONFIGURATOR                                                SEQ 0836

 26750					S^;*********************************************************************^
 26751					;*CONFIG -- MASSBUS CONFIGURATION ROUTINE
 26752					S^;*********************************************************************^
 26753
 26754					COMMENT $
 26755
 26756					THIS ROUTINE WILL ATTEMPT TO IDENTIFY THE RH11 CONNECTED
 26757					TO THE KS10 THAT HAS MASSBUS DISK DRIVES ATTACHED TO IT.
 26758
 26759					THIS ROUTINE ALSO CALLS A ROUTINE TO SET UP THE PROPER
 26760					DIAGNOSTIC MONITOR CALL VIA A UUO OR JSYS BASED ON MONITOR TYPE.
 26761
 26762					THE ROUTINE WILL TEST THAT THE UBA AND RH11 CAN BE ACCESSED
 26763					AND TEST THAT NONE OF THE ERROR STATUS BITS ARE STUCK ON ,
 26764					ONCE THIS HAS BEEN SUCCESSFULLY COMPLETED THE ROUTINE WILL
 26765					POLL THE DEVICES CONNECTED TO THE RH11.
 26766
 26767						THE CONFIGURATOR FUNCTIONS AS FOLLOWS:
 26768
 26769						A.
 26770
 26771							1.ISSUE UBA INIT
 26772							2. SET DISABLE XFR BIT 28 IN UBA
 26773							3.VERIFY IT SET - IF NOT FATAL 
 26774							4.VERIFY PI CHANS CLEARED
 26775						B.
 26776
 26777							1.ISSUE UBA INIT
 26778							2.WRITE RHCS2 -  SET DRIVE # TO 7
 26779							3.VERIFY IT SET - IF NOT FATAL 
 26780
 26781						C.
 26782
 26783							1.ISSUE UBA INIT
 26784							2.VERIFY RHCS2 IS CLEARED - IF NOT FATAL
 26785							3.VERIFY UBA STATUS REG IS CLEARED - IF NOT FATAL
 26786
 26787						D.	1.POLL THE DRIVES CONNECTED TO THE RH11
 26788	
 26789						$
 26790						XLIST
 26791					 	LIST
 26792						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-20
DSRPA5	MAC	 2-Mar-79 10:45		KS10/RH11 RP05/06/RM03 CONFIGURATOR                                                SEQ 0837

 26793	060153	261 17 0 00 000000 	CONFIG:	PUT	0		;SAVE THE AC
 26794	060154	261 17 0 00 000001 		PUT	1
 26795	060155	336 00 0 00 030037 		SKIPN	USER		;USER MODE
 26796	060156	254 00 0 00 060160 		JRST	CFGA		;NO
 26797	060157	254 00 0 00 060247 		JRST	CFGB		;AND GET DEVICES
 26798
 26799	060160	037 10 0 00 000002 	CFGA:	SWITCH			;GET SWITCHES
 26800	060161	603 00 0 00 000040 		TLNE	MODDVC		;MODIFY UNIBUS ADDR PARAMS
 26801	060162	260 17 0 00 060254 		GO	MUBADR		;YES
 26802	060163	200 13 0 00 077657 		MOVE	MBCN,RHADDR	;SETUP MBCN
 26803	060164	201 01 0 00 000100 		MOVEI	AC1,UBINIT
 26804	060165	260 17 0 00 062320 		GO	LDUBAS		;ISSUE UNIBUS INIT
 26805
 26806					;*SET UBA DISABLE XFR
 26807
 26808	060166	201 01 0 00 000200 		MOVEI	AC1,DISXFR
 26809	060167	260 17 0 00 062320 		GO	LDUBAS		;SET THE BIT
 26810	060170	260 17 0 00 062334 		GO	RDUBAS		;READ THE STATUS REG
 26811	060171	602 01 0 00 000200 		TRNE	AC1,DISXFR	;DID IT SET
 26812	060172	254 00 0 00 060177 		JRST	CONFG1		;YES
 26813
 26814						PMSG	<^^******** FAILED TO SET DISXFR BIT 28 IN UBA STATUS>^
 26815	060173	037 02 0 00 075427 		PSIXM	[SIXBIT\^^******** FAILED TO SET DISXFR BIT 28 IN UBA STATUS_\]^
 26816						PMSGF	<^REGISTER DURING CONFIGURATION ROUTINE^>^
 26817	060174	037 04 0 00 075440 		PSIXMF	[SIXBIT\^REGISTER DURING CONFIGURATION ROUTINE^_\]^
 26818	060175	260 17 0 00 062342 		GO	UBASPT		;PRINT REG DATA
 26819	060176	037 15 0 00 000004 		FATAL
 26820
 26821	060177	606 01 0 00 000077 	CONFG1:	TRNN	AC1,77		;PI CHAN'S CLEAR
 26822	060200	254 00 0 00 060205 		JRST	CONFG2		;YES
 26823
 26824						PMSGF	<^********* UBA INIT FAILED TO CLEAR PI CHAN'S IN UBA>^
 26825	060201	037 04 0 00 075447 		PSIXMF	[SIXBIT\^********* UBA INIT FAILED TO CLEAR PI CHAN'S IN UBA_\]^
 26826						PMSGF	<^STATUS REGISTER DURING CONFIGURATION ROUTINE^>^
 26827	060202	037 04 0 00 075460 		PSIXMF	[SIXBIT\^STATUS REGISTER DURING CONFIGURATION ROUTINE^_\]^
 26828	060203	260 17 0 00 062342 		GO	UBASPT		;PRINT REG CONTENTS
 26829	060204	037 15 0 00 000004 		FATAL
 26830
 26831	060205	201 01 0 00 000100 	CONFG2:	MOVEI	AC1,UBINIT
 26832	060206	260 17 0 00 062320 		GO	LDUBAS		;ISSUE UNIBUS INIT
 26833	060207	200 01 0 00 075470 		MOVE	AC1,[1B10!7]
 26834	060210	260 17 0 00 057470 		GO	LRPCS2		;SET DRIVE # TO 7 IN RHCS2
 26835	060211	205 01 0 00 000200 		MOVSI	AC1,(1B10)	;READ RHCS2
 26836	060212	260 17 0 00 057664 		GO	RRPCS2		;READ RHCS2
 26837	060213	200 00 0 00 000001 		MOVE	AC0,AC1		;GET REG DATA
 26838	060214	405 00 0 00 000007 		ANDI	AC0,7		;SAVE DRIVE # ONLY
 26839	060215	306 00 0 00 000007 		CAIN	AC0,7		;SET TO 7
 26840	060216	254 00 0 00 060223 		JRST	CONFG3		;YES
 26841
 26842						PMSGF	<^********* FAILED TO SET DRIVE # TO 7 IN RHCS2 REG>^
 26843	060217	037 04 0 00 075471 		PSIXMF	[SIXBIT\^********* FAILED TO SET DRIVE # TO 7 IN RHCS2 REG_\]^
 26844						PMSGF	<^DURING CONFIGURATION ROUTINE^>^
 26845	060220	037 04 0 00 075502 		PSIXMF	[SIXBIT\^DURING CONFIGURATION ROUTINE^_\]^
 26846	060221	260 17 0 00 062461 		GO	REGPNT		;PRINT REG DATA
 26847	060222	037 15 0 00 000004 		FATAL
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-21
DSRPA5	MAC	 2-Mar-79 10:45		KS10/RH11 RP05/06/RM03 CONFIGURATOR                                                SEQ 0838

 26848
 26849					;*ISSUE UBA INIT AGAIN TEST FOR STUCK STATUS
 26850
 26851	060223	201 01 0 00 000100 	CONFG3:	MOVEI	AC1,UBINIT
 26852	060224	260 17 0 00 062320 		GO	LDUBAS		;ISSUE UNIBUS INIT
 26853	060225	205 01 0 00 000200 		MOVSI	AC1,(1B10)
 26854	060226	260 17 0 00 057664 		GO	RRPCS2		;READ RHCS2
 26855	060227	606 01 0 00 177677 		TRNN	AC1,177677	;ANY BITS STUCK ON
 26856	060230	254 00 0 00 060235 		JRST	CONFG5		;NO
 26857
 26858						PMSGF	<^******** UBA INIT FAILED TO CLEAR RHCS2 IN RH11>^
 26859	060231	037 04 0 00 075510 		PSIXMF	[SIXBIT\^******** UBA INIT FAILED TO CLEAR RHCS2 IN RH11_\]^
 26860						PMSGF	<^DURING CONFIGURATION ROUTINE^>^
 26861	060232	037 04 0 00 075502 		PSIXMF	[SIXBIT\^DURING CONFIGURATION ROUTINE^_\]^
 26862	060233	260 17 0 00 062461 		GO	REGPNT		;DUMP REG DATA
 26863	060234	037 15 0 00 000004 		FATAL
 26864
 26865	060235	260 17 0 00 062334 	CONFG5:	GO	RDUBAS		;READ UBA STATUS REG
 26866	060236	606 01 0 00 777777 		TRNN	AC1,-1		;TEST FOR ANY STUCK STATUS BITS
 26867	060237	254 00 0 00 060244 		JRST	CONFG6		;NONE
 26868
 26869						PMSGF	<^UBA INIT FAILED TO CLEAR UBA STATUS REG>^
 26870	060240	037 04 0 00 075521 		PSIXMF	[SIXBIT\^UBA INIT FAILED TO CLEAR UBA STATUS REG_\]^
 26871						PMSGF	<^DURING THE CONFIGURATION ROUTINE^>^
 26872	060241	037 04 0 00 075530 		PSIXMF	[SIXBIT\^DURING THE CONFIGURATION ROUTINE^_\]^
 26873	060242	260 17 0 00 062342 		GO	UBASPT		;DUMP REG DATA
 26874	060243	037 15 0 00 000004 		FATAL
 26875
 26876	060244	260 17 0 00 060723 	CONFG6:	GO	MSTCLR		;CLEAR CONTROLLER
 26877	060245	260 17 0 00 060324 		GO	CONDRV		;GO CONFIG DRIVES
 26878	060246	260 17 0 00 060366 		GO	TELL
 26879
 26880	060247	260 17 0 00 060424 	CFGB:	GO	ASKDR		;GET DRIVES TO BE TESTED
 26881	060250	037 01 0 00 030242 		PCRLF
 26882	060251	262 17 0 00 000001 		GET	1		;RESTORE AC'S
 26883	060252	262 17 0 00 000000 		GET	0		
 26884	060253	263 17 0 00 000000 		RTN			;AND EXIT
 26885
 26886
 26887
 26888					; *******************************************************************
 26889					;*MUBADR -- ROUTINE TO MODIFY THE RH11 ADDRESS FOR THE DISK CONTROLLER
 26890					; *******************************************************************
 26891
 26892	060254	261 17 0 00 000000 	MUBADR:	PUT	AC0
 26893	060255	261 17 0 00 000001 		PUT	AC1
 26894
 26895						PMSG	<^CHANGE UBA # FOR RH11 DISK CONTROLLER?>^
 26896	060256	037 02 0 00 075536 		PSIXM	[SIXBIT\^CHANGE UBA # FOR RH11 DISK CONTROLLER?_\]^
 26897	060257	037 01 0 00 000003 		TTIYES
 26898	060260	254 00 0 00 060301 		JRST	MUBA3		;NO
 26899	060261				MUBA1:	PMSG	<INPUT VALUE OF UBA # (0-3) - >^
 26900	060261	037 02 0 00 075545 		PSIXM	[SIXBIT\INPUT VALUE OF UBA # (0-3) - _\]^
 26901	060262	037 03 0 00 000003 		TTIOCT
 26902	060263	254 00 0 00 060266 		JRST	MUBA1A		;ERROR RTN
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-22
DSRPA5	MAC	 2-Mar-79 10:45		KS10/RH11 RP05/06/RM03 CONFIGURATOR                                                SEQ 0839

 26903	060264	307 00 0 00 000003 		CAIG	3		;VALID #
 26904	060265	254 00 0 00 060270 		JRST	MUBA2		;YES
 26905	060266				MUBA1A:	PMSG	<^INVALID UBA # ??^>^
 26906	060266	037 02 0 00 075552 		PSIXM	[SIXBIT\^INVALID UBA # ??^_\]^
 26907	060267	254 00 0 00 060261 		JRST	MUBA1
 26908	060270	200 01 0 00 077656 	MUBA2:	MOVE	AC1,UBADDR	;GET UBA ADDRESS
 26909	060271	621 01 0 00 000017 		TLZ	AC1,(17B17)	;CLEAR PREVIOUS CONT #
 26910	060272	207 00 0 00 000000 		MOVSS	AC0
 26911	060273	434 01 0 00 000000 		IOR	AC1,AC0		;OR IN NEW CR #
 26912	060274	202 01 0 00 077656 		MOVEM	AC1,UBADDR	;SAVE IT
 26913	060275	200 01 0 00 077657 		MOVE	AC1,RHADDR	;GET RH11 ADDRESS
 26914	060276	621 01 0 00 000017 		TLZ	AC1,(17B17)	;CLEAR PREVIOUS VALUE
 26915	060277	434 01 0 00 000000 		IOR	AC1,AC0		;UPDATE IT ALSO
 26916	060300	202 01 0 00 077657 		MOVEM	AC1,RHADDR	;SAVE IT
 26917
 26918	060301				MUBA3:	PMSG	<CHANGE UNIBUS BASE ADDRESS FOR RH11 DISK CONTROLLER?>^
 26919	060301	037 02 0 00 075556 		PSIXM	[SIXBIT\CHANGE UNIBUS BASE ADDRESS FOR RH11 DISK CONTROLLER?_\]^
 26920	060302	037 01 0 00 000003 		TTIYES
 26921	060303	254 00 0 00 060321 		JRST	MUBAX
 26922	060304				MUBA4:	PMSG	<TYPE IN SIX OCTAL DIGIT ADDRESS - >^
 26923	060304	037 02 0 00 075567 		PSIXM	[SIXBIT\TYPE IN SIX OCTAL DIGIT ADDRESS - _\]^
 26924	060305	037 03 0 00 000003 		TTIOCT
 26925	060306	254 00 0 00 060312 		JRST	MUBA4A
 26926	060307	135 01 0 00 075575 		LDB	AC1,[POINT 3,AC0,20]
 26927	060310	306 01 0 00 000007 		CAIN	AC1,7
 26928	060311	254 00 0 00 060314 		JRST	MUBA5
 26929	060312				MUBA4A:	PMSG	<^INVALID UNIBUS ADDRESS MUST BE 7XXXXX !!^>^
 26930	060312	037 02 0 00 075576 		PSIXM	[SIXBIT\^INVALID UNIBUS ADDRESS MUST BE 7XXXXX !!^_\]^
 26931	060313	254 00 0 00 060304 		JRST	MUBA4
 26932	060314	135 00 0 00 075606 	MUBA5:	LDB	[POINT 18,AC0,35]	;GET VALID ADDRESS
 26933	060315	200 01 0 00 077657 		MOVE	AC1,RHADDR
 26934	060316	620 01 0 00 777777 		TRZ	AC1,-1		;CLEAR OLD ADDRESS
 26935	060317	434 01 0 00 000000 		IOR	AC1,AC0		;OR IN NEW ONE
 26936	060320	202 01 0 00 077657 		MOVEM	AC1,RHADDR	;SAVE IT
 26937
 26938	060321	262 17 0 00 000001 	MUBAX:	GET	AC1
 26939	060322	262 17 0 00 000000 		GET	AC0
 26940	060323	263 17 0 00 000000 		RTN
 26941
 26942					 	XLIST
 26943					 	LIST
 26944						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-23
DSRPA5	MAC	 2-Mar-79 10:45		KS10/RH11 RP05/06/RM03 CONFIGURATOR                                                SEQ 0840

 26945					S^;*********************************************************************^
 26946					;*CONDRV - - SCANS FOR AVAILABLE DRIVES
 26947					S^;*********************************************************************^
 26948
 26949					COMMENT $
 26950
 26951						THIS ROUTINE DETERMINES WHICH RP'S ARE ON THE AVAILABLE
 26952						RH'S AND SETS UP "DEVTBL" ACCORDINGLY. 
 26953						IT IS POSSIBLE TO DETECT DRIVES ONLY ON CONTROLLERS
 26954						THAT HAVE BEEN PREVIOUSLY DETECTED. A DRIVE WILL BE 
 26955						REPORTED ONLY IF THE PROGRAM CAN SUCCESSFULLY
 26956						READ THE DRIVES "DRIVE TYPE" REGISTER AND IF THE
 26957						TYPE IS ONE OF THE VALID DEVICE DRIVE TYPES. 
 26958						$
 26959						XLIST
 26960					 	LIST^
 26961
 26962									;USES OF THE AC'S DURING THIS ROUTINE
 26963									;AC	FUNCTION
 26964									;--	--------
 26965									; 0	NOT USED
 26966									; 1	SCRATCH
 26967									; 2	ENTRY FROM PROPER TABLE
 26968									; 3	POINTER TO DEVTBL
 26969
 26970	060324	261 17 0 00 000001 	CONDRV:	PUT	1		;SAVE SOME AC'S
 26971	060325	261 17 0 00 000002 		PUT	2
 26972	060326	261 17 0 00 000003 		PUT	3
 26973	060327	261 17 0 00 000004 		PUT	4
 26974	060330	200 01 0 00 060510 		MOVE	1,DEVWD		;INITIALIZE DEVTBL TO ZERO
 26975	060331	402 00 0 01 000000 		SETZM	(1)
 26976	060332	253 01 0 00 060331 		AOBJN	1,.-1
 26977	060333	200 13 0 00 077657 		MOVE	MBCN,RHADDR	;GET RH11 BASE ADDRESS
 26978
 26979	060334	403 03 0 00 000014 		SETZB	3,DRIVE		;INIT TO DRIVE 0
 26980
 26981	060335	260 17 0 00 060723 	DRVF:	GO	MSTCLR		;INIT THE RH11
 26982	060336	476 00 0 00 077307 		SETOM	NRHCS1		;INHIBIT READ OF RHCS1 FOR RAE TEST
 26983	060337	200 02 0 03 060512 		MOVE	2,DEVTBL(3)	;GET TABLE ENTRY
 26984	060340	205 01 0 00 000010 		MOVSI	1,(1B14)	;INHIBITS ERROR REPORTING ON RAE
 26985	060341	260 17 0 00 057620 		GO	RRPDT		;READS THE DRIVE TYPE REGISTER
 26986	060342	254 00 0 00 060350 		JRST	DRVE		;TRA FAIL RTN(CBTO ALSO)
 26987	060343	254 00 0 00 060350 		JRST	DRVE		;ERROR RETURN
 26988	060344	135 01 0 00 063764 		LDB	1,[POINT 16,1,35] ;GETS THE DRIVE TYPE
 26989	060345	306 01 0 00 020022 		CAIN	1,20022		;SINGLE PORTED RP06?
 26990	060346	254 00 0 00 060351 		JRST	.+3		;YES
 26991	060347	302 01 0 00 024022 		CAIE	1,24022		;DUAL PORTED RP06?
 26992
 26993	060350	625 02 0 00 000001 	DRVE:	TLZA	2,(1B17)	;DRIVE NOT AVAIL
 26994	060351	661 02 0 00 000001 		TLO	2,(1B17)	;DRIVE IS AVAILABLE
 26995	060352	202 02 0 03 060512 		MOVEM	2,DEVTBL(3)	;PUT THE ENTRY BACK IN THE TABLE
 26996
 26997	060353	301 14 0 00 000007 	DRVY:	CAIL	DRIVE,7		;TRIED ALL DRIVES ?
 26998	060354	254 00 0 00 060360 		JRST	DRVX		;YES
 26999	060355	350 00 0 00 000014 		AOS	DRIVE		;NO.  BUMP THE DRIVE NUMBER
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-24
DSRPA5	MAC	 2-Mar-79 10:45		KS10/RH11 RP05/06/RM03 CONFIGURATOR                                                SEQ 0841

 27000	060356	350 00 0 00 000003 		AOS	3		;BUMP THE DEVTBL INDEX
 27001	060357	254 00 0 00 060335 		JRST	DRVF		;TRY THE NEXT DRIVE
 27002
 27003	060360	402 00 0 00 077307 	DRVX:	SETZM	NRHCS1		;ALLOW READ OF RHCS1 FOR RAE TEST
 27004	060361	262 17 0 00 000004 		GET	4		;RESTORE AC'S
 27005	060362	262 17 0 00 000003 		GET	3
 27006	060363	262 17 0 00 000002 		GET	2
 27007	060364	262 17 0 00 000001 		GET	1
 27008	060365	263 17 0 00 000000 		RTN			;AND EXIT
 27009
 27010					 	XLIST
 27011					 	LIST
 27012						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-25
DSRPA5	MAC	 2-Mar-79 10:45		KS10/RH11 RP05/06/RM03 CONFIGURATOR                                                SEQ 0842

 27013					S^;*********************************************************************^
 27014					;*TELL - - CONFIGURATION REPORTER
 27015					S^;*********************************************************************^
 27016
 27017					COMMENT $
 27018
 27019						THIS ROUTINE SCANS RHTBL & DEVTBL TELLING WHICH DRIVES
 27020						AND CONTROLLERS ARE AVAILABLE. 
 27021						$
 27022						XLIST
 27023					 	LIST^
 27024									;USE OF THE AC'S DURING THIS ROUTINE
 27025									;AC	FUNCTION
 27026									;--	--------
 27027									; 0	USED FOR PRINTING
 27028									; 1	A FLAG 
 27029									; 2	ENTRY FROM THE CURRENT TABLE
 27030									; 3	INDEX INTO DEVTBL
 27031									; 4	INDEX INTO RHTBL
 27032
 27033	060366	261 17 0 00 000000 	TELL:	PUT	0		;SAVE SOME AC'S
 27034	060367	261 17 0 00 000001 		PUT	1
 27035	060370	261 17 0 00 000002 		PUT	2
 27036	060371	261 17 0 00 000003 		PUT	3
 27037	060372	261 17 0 00 000004 		PUT	4
 27038						PMSGF	<^THE FOLLOWING RP06'S ARE DETECTED^>^
 27039	060373	037 04 0 00 075607 		PSIXMF	[SIXBIT\^THE FOLLOWING RP06'S ARE DETECTED^_\]^
 27040	060374	254 00 0 00 060403 		JRST	TELLA
 27041
 27042	060375	262 17 0 00 000004 	TELLX1:	GET	4		;RESTORE THE AC'S
 27043	060376	262 17 0 00 000003 		GET	3
 27044	060377	262 17 0 00 000002 		GET	2
 27045	060400	262 17 0 00 000001 		GET	1
 27046	060401	262 17 0 00 000000 		GET	0
 27047	060402	263 17 0 00 000000 		RTN			;AND EXIT
 27048
 27049	060403	402 00 0 00 000014 	TELLA:	SETZM	DRIVE		;START WITH DRIVE ZERO
 27050	060404	402 00 0 00 000001 		SETZM	1		;CLEAR A GENERAL PURPOSE FLAG
 27051	060405	200 02 0 14 060512 	TELLD:	MOVE	2,DEVTBL(DRIVE)	;GET AN ENTRY
 27052	060406	607 02 0 00 000001 		TLNN	2,(1B17)	;IS THE DRIVE THERE ?
 27053	060407	254 00 0 00 060416 		JRST	TELLN		;NO
 27054	060410	322 01 0 00 060413 		JUMPE	1,TELLW		;JUMP IF THE FLAG IS STILL ZERO
 27055	060411	031 00 0 00 075615 		TEXTF	[ASCIZ/, /]
 27056	060412	254 00 0 00 060414 		JRST	TELLY
 27057	060413	476 00 0 00 000001 	TELLW:	SETOM	1		;SET THE FLAG
 27058	060414	200 00 0 00 000014 	TELLY:	MOVE	0,DRIVE		;GET THE DRIVE NUMBER
 27059	060415	037 17 0 00 000003 		PNTOCF			;PRINT IT
 27060	060416	301 14 0 00 000007 	TELLN:	CAIL	DRIVE,7		;TRIED ALL DRIVES ON A PARTICULAR RH ?
 27061	060417	254 00 0 00 060422 		JRST	.+3		;YES
 27062	060420	350 00 0 00 000014 		AOS	DRIVE		;NO. GET NEXT DRIVE NUMBER
 27063	060421	254 00 0 00 060405 		JRST	TELLD		;TRY THE NEXT ONE
 27064	060422	037 01 0 00 030242 		PCRLF
 27065	060423	254 00 0 00 060375 		JRST	TELLX1
 27066
 27067					 	XLIST
 27068					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-26
DSRPA5	MAC	 2-Mar-79 10:45		KS10/RH11 RP05/06/RM03 CONFIGURATOR                                                SEQ 0843

 27069						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-27
DSRPA5	MAC	 2-Mar-79 10:45		KS10/RH11 RP05/06/RM03 CONFIGURATOR                                                SEQ 0844

 27070					S^;*********************************************************************^
 27071					;*ASKDR - - INPUTS DRIVES TO BE TESTED
 27072					S^;*********************************************************************^
 27073
 27074					COMMENT $
 27075
 27076						INPUTS A STRING OF DRIVE NUMBERS SEPARATED BY COMMMAS
 27077						OR WILL ALSO ACCEPT THE CHARACTER "A" FOR ALL DRIVES
 27078						THAT ARE AVAILABLE. "A" IS ILLEGAL IN USER MODE.  
 27079						$
 27080						XLIST
 27081					 	LIST^
 27082
 27083									;USES OF THE AC'S DURING THIS ROUTINE
 27084									;AC	FUNCTION
 27085									;--	--------
 27086									; 0	USED FOR PRINTING
 27087									; 1	SCRATCH
 27088									; 2	HOLDS ENTRY FROM PROPER TABLE
 27089									; 3	INDEX INTO DEVTBL
 27090									; 4	INDEX INTO RHTBL
 27091
 27092	060424	261 17 0 00 000000 	ASKDR:	PUT	0		;SAVE SOME AC'S
 27093	060425	261 17 0 00 000001 		PUT	1
 27094	060426	261 17 0 00 000002 		PUT	2
 27095	060427	261 17 0 00 000003 		PUT	3
 27096	060430	261 17 0 00 000004 		PUT	4
 27097	060431				ASKN:	TEXTF	[ASCIZ/
 27098	060431	031 00 0 00 075616 	SELECT DRIVES (0-7 OR "A") - /]
 27099
 27100	060432	402 00 0 00 000000 		SETZM	0		;CLEAR THE AC
 27101	060433	515 03 0 00 777770 		HRLZI	3,-10		;- # OF DRIVES PER CONTROLLER
 27102	060434	137 00 0 00 075625 		DPB	[POINT 1,DEVTBL(3),16] ;CLEAR BIT 16
 27103	060435	253 03 0 00 060434 		AOBJN	3,.-1		;CLEARS FOR ALL DRIVES THIS RH
 27104
 27105	060436	037 03 0 00 000003 	ASKQ:	TTIOCT			;INPUT SOME OCTAL
 27106	060437	254 00 0 00 060452 		JRST	ASKER		;ERROR RETURN
 27107	060440	301 00 0 00 000000 		CAIL	0,0		;NORMAL RETURN. RANGE TEST
 27108	060441	303 00 0 00 000007 		CAILE	0,7
 27109	060442	254 00 0 00 060431 		JRST	ASKN		;OUT OF RANGE
 27110
 27111	060443	200 14 0 00 000000 		MOVE	DRIVE,0		;GET IN DRIVE NUMBER
 27112	060444	201 00 0 00 000001 		MOVEI	0,1		;FOR DEPOSIT BYTE ARGUMENT
 27113	060445	137 00 0 00 075626 		DPB	[POINT 1,DEVTBL(DRIVE),16] ;SET BIT 16 "BEING TESTED"
 27114	060446	200 00 0 00 030232 		MOVE	$CHRIN		;GET THE NEXT CHAR
 27115	060447	306 00 0 00 000015 		CAIN	0,15		;IS IT A CR ?
 27116	060450	254 00 0 00 060465 		JRST	ASKX		;YES
 27117	060451	254 00 0 00 060436 		JRST	ASKQ		;NO
 27118
 27119	060452	332 00 0 00 030037 	ASKER:	SKIPE	USER		;USER MODE ?
 27120	060453	254 00 0 00 060431 		JRST	ASKN		;YES. "A" IS ILLEGAL
 27121	060454	306 00 0 00 000101 		CAIN	0,"A"		;IS CHAR AN "A" ?
 27122	060455	254 00 0 00 060457 		JRST	ASKER1		;YES
 27123	060456	254 00 0 00 060431 		JRST	ASKN		;NO
 27124
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-28
DSRPA5	MAC	 2-Mar-79 10:45		KS10/RH11 RP05/06/RM03 CONFIGURATOR                                                SEQ 0845

 27125	060457	515 03 0 00 777770 	ASKER1:	HRLZI	3,-10
 27126	060460	200 00 0 03 060512 		MOVE	0,DEVTBL(3)	;FETCH AN ENTRY
 27127	060461	603 00 0 00 000001 		TLNE	0,(1B17)	;DRIVE AVAILABLE ?
 27128	060462	661 00 0 00 000002 		TLO	0,(1B16)	;YES. SET ITS TEST BIT
 27129	060463	202 00 0 03 060512 		MOVEM	0,DEVTBL(3)	;ENTRY GOES BACK IN THE TABLE
 27130	060464	253 03 0 00 060460 		AOBJN	3,.-4		;FOR ALL DRIVES ON THIS RH
 27131
 27132	060465	402 00 0 00 000000 	ASKX:	SETZM	0		;A COUNTER
 27133	060466	200 03 0 00 060510 		MOVE	3,DEVWD		;COUNTER,,POINTER
 27134	060467	200 01 0 03 000000 		MOVE	1,(3)		;FETCH DEVTBL ENTRY
 27135	060470	603 01 0 00 000002 		TLNE	1,(1B16)	;SEE IF DRIVE SELECTED
 27136	060471	350 00 0 00 000000 		AOS	0		;BUMP THE COUNT
 27137	060472	253 03 0 00 060467 		AOBJN	3,.-3		;COUNT ALL DRIVES BEING TESTED
 27138	060473	326 00 0 00 060476 		JUMPN	0,.+3
 27139	060474	031 00 0 00 075627 		TEXTF	[ASCIZ/ NO DRIVES SELECTED ? /]
 27140	060475	254 00 0 00 060431 		JRST	ASKN
 27141
 27142	060476	202 00 0 00 077303 		MOVEM	0,HWMANY#	;HOLDS # OF DRIVES BEING TESTED
 27143	060477	262 17 0 00 000004 		GET	4		;RESTORE AC'S
 27144	060500	262 17 0 00 000003 		GET	3
 27145	060501	262 17 0 00 000002 		GET	2
 27146	060502	262 17 0 00 000001 		GET	1
 27147	060503	262 17 0 00 000000 		GET	0
 27148	060504	263 17 0 00 000000 		RTN			;AND EXIT
 27149
 27150					 	XLIST
 27151					 	LIST
 27152						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-29
DSRPA5	MAC	 2-Mar-79 10:45		KS10/RH11 RP05/06/RM03 CONFIGURATOR                                                SEQ 0846

 27153					S^;*********************************************************************^
 27154					;*CONSTANTS AND VARIABLES FOR CONFIGURATION MODULE
 27155					S^;*********************************************************************^
 27156
 27157					COMMENT $
 27158
 27159						BIT MEANINGS FOR DEVTBL
 27160							BIT 16 = 0  DRIVE WILL NOT BE TESTED
 27161							BIT 16 = 1  DRIVE WILL BE TESTED
 27162							BIT 17 = 0  DRIVE DOES NOT APPEAR TO EXIST ON RH
 27163							BIT 17 = 1  DRIVE WAS DETECTED ON THE RH  
 27164						$
 27165						XLIST
 27166					 	LIST^
 27167	060505	000001	776700		MBCMIN:	1776700
 27168	060506	000001	776700		MBCMAX:	1776700
 27169	060507	777777	060511		RHWD:	-1,,RHTBL		;-SIZE,,ADR OF RHTBL
 27170	060510	777770	060512		DEVWD:	-^D8,,DEVTBL		;-SIZE,,ADR OF DEVTBL
 27171	060511				RHTBL:	BLOCK	^D1		;RH STATUS TABLE
 27172	060512				DEVTBL:	BLOCK	^D8		;DEVICE STATUS TABLE
 27173
 27174					SUBTTL DEVICE SELECTION AND PROGRAM TRACE ROUTINES
 27175					 	XLIST
 27176					 	LIST
 27177						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-30
DSRPA5	MAC	 2-Mar-79 10:45		DEVICE SELECTION AND PROGRAM TRACE ROUTINES                                        SEQ 0847

 27178					S^;*********************************************************************^
 27179					;*DEVSEL - - DEVICE SELECTION ROUTINE #1
 27180					S^;*********************************************************************^
 27181
 27182					COMMENT $
 27183
 27184						THIS ROUTINE WILL ALLOW FOR THE SELECTION OF THE
 27185						NEXT AVAILABLE DRIVE TO BE TESTED. ITS
 27186						DECISIONS ARE BASED ON THE CURRENT STATE OF DRIVE
 27187						ALONG WITH INFORMATION FROM BIT 16 FROM THE APP-
 27188						ROPRIATE "DEVTBL" ENTRY.
 27189						THIS ROUTINE IS INITIALIZED AUTOMATICALLY BY TRACE.
 27190						THIS ROUTINE DOES THE INITIALIZATION FOR SCOPE, ALONG
 27191						WITH SETTING THE PRINTOUT MODE TO NORMAL. (SHMODE=0).
 27192
 27193						CALLING SEQ:
 27194							GO	DEVSEL	;SELECT NEXT DEV FOR TEST
 27195							RTN1		;TRIED ALL. FIRST RE-SELECTED
 27196							RTN2		;NEXT IS SELECTED. 
 27197						$
 27198						XLIST
 27199					 	LIST^
 27200
 27201	060522	260 17 0 00 060556 	DEVSEL:	GO	CHKALT		;CHECK FOR OPERATOR ACTION
 27202	060523	261 17 0 00 000001 		PUT	1		;SAVE AC1
 27203	060524	336 00 0 00 077326 		SKIPN	SELFLG#		;INITIALIZING ?
 27204	060525	254 00 0 00 060530 		JRST	SEL1		;NO. INCREMENT DRIVE #
 27205
 27206	060526	403 14 0 00 077326 		SETZB	DRIVE,SELFLG	;YES, CLEAR THE FLAG FOR INIT
 27207	060527	254 00 0 00 060534 		JRST	SEL3		;START FROM DRIVE 0
 27208
 27209	060530	305 14 0 00 000007 	SEL1:	CAIGE	DRIVE,7		;SEE IF LAST DRIVE ?
 27210	060531	344 14 0 00 060534 		AOJA	DRIVE,SEL3	;BUMP DRIVE NUMBER AND BRANCH
 27211	060532	402 00 0 00 000014 		SETZM	DRIVE		;CLEAR THE DRIVE NUMBER
 27212	060533	370 00 0 17 777777 		SOS	-1(P)		;-1 TO RTN ADR, WILL BE +1 LATER
 27213
 27214	060534	200 01 0 14 060512 	SEL3:	MOVE	1,DEVTBL(DRIVE)	;GET A DEVTBL ENTRY
 27215	060535	607 01 0 00 000002 		TLNN	1,(1B16)	;DRIVE BEING TESTED ?
 27216	060536	254 00 0 00 060530 		JRST	SEL1		;NO
 27217
 27218	060537	550 12 0 00 000001 		HRRZ	DSBP,1		;YES. SET UP DSB POINTER
 27219	060540	202 14 0 00 077316 		MOVEM	DRIVE,REFDRV#	;SAVE AS REFERENCE DEVICE
 27220	060541	350 00 0 17 777777 		AOS	-1(P)		;BUMP THE RETURN
 27221
 27222	060542	336 00 0 00 030037 		SKIPN	USER		;IN USER MODE ?
 27223	060543	254 00 0 00 060550 		JRST	DEVEX		;NO
 27224
 27225	060544	336 00 0 00 077264 		SKIPN	DIAGCR#		;YES. DO WE HAVE THE RH ?
 27226	060545	254 00 0 00 060550 		JRST	DEVEX		;NO
 27227	060546	312 13 0 00 077264 		CAME	MBCN,DIAGCR	;YES. SAME ONE WERE SELECTING ?
 27228	060547	260 17 0 00 077352 		GO	DEVREL		;NO. GIVE IT BACK TO MONITOR
 27229
 27230	060550	262 17 0 00 000001 	DEVEX:	GET	1		;RESTORE THE AC
 27231	060551	402 00 0 00 000010 		SETZM	ERFLG		;CLEAR THE ERROR FLAG
 27232	060552	402 00 0 00 077323 		SETZM	SCPPC#		;CLEAR THE SCOPE PC
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-31
DSRPA5	MAC	 2-Mar-79 10:45		DEVICE SELECTION AND PROGRAM TRACE ROUTINES                                        SEQ 0848

 27233	060553	402 00 0 00 077271 		SETZM	ERCNT		;INITS ERROR COUNT FOR SCOPE
 27234	060554	402 00 0 00 077330 		SETZM	SHMODE		;INITS TO NORMAL PRINTOUT
 27235	060555	263 17 0 00 000000 		RTN			;AND EXIT
 27236
 27237					 	XLIST
 27238					 	LIST
 27239						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-32
DSRPA5	MAC	 2-Mar-79 10:45		DEVICE SELECTION AND PROGRAM TRACE ROUTINES                                        SEQ 0849

 27240					S^;*********************************************************************^
 27241					;*CHKALT - - THE PROGRAM ALTMODE CHECK ROUTINE
 27242					S^;*********************************************************************^
 27243
 27244					COMMENT $
 27245
 27246						THIS ROUTINE GIVES THE USER THE CAPABILITY TO  CHECK FOR
 27247						A TYPED "ALTMODE" OR OTHER CHAR FOR CONTROL ACTION.
 27248						ALTMODE - TRANSFER TO DDT - RESTART WITH 'CONT ALTMODE G'
 27249						T - FOR REPORTING WHICH TEST IS BEING EXECUTED
 27250						Q - RESTART PROGRAM "QUIT"
 27251						H - HELP
 27252						$
 27253						XLIST
 27254					 	LIST^
 27255
 27256	060556	261 17 0 00 000000 	CHKALT:	PUT	AC0
 27257	060557	037 07 0 00 000003 		TTALTM			;OPR TYPE AN ALTMODE ?
 27258	060560	254 00 0 00 060567 		JRST	CHKALY		;NO, CHECK FOR OTHER THINGS
 27259
 27260	060561	550 00 0 17 777777 		HRRZ	-1(P)		;YES, GET THE RETURN PC
 27261	060562	505 00 0 00 254000 		HRLI	(JRST)		;MAKE INSTRUCTION
 27262	060563	202 00 0 00 077260 		MOVEM	CONT#		;SAVE, "USE 'CONT$G' TO RESTART"
 27263	060564	262 17 0 00 000000 		GET	AC0
 27264	060565	262 17 0 00 077277 		GET 	GARBAG#
 27265	060566	254 00 0 00 030007 		JRST	SRTDDT		;START DDT
 27266
 27267	060567	336 00 0 00 000000 	CHKALY:	SKIPN			;ANYTHING TYPED ?
 27268	060570	254 00 0 00 060622 		JRST	CHKALX		;NO
 27269
 27270	060571	306 00 0 00 000124 		CAIN	"T"
 27271	060572	254 00 0 00 060606 		JRST	CHKATR		;"T", REPORT TRACE
 27272	060573	306 00 0 00 000164 		CAIN	"T"+40
 27273	060574	254 00 0 00 060606 		JRST	CHKATR		;"LC T", REPORT TRACE
 27274
 27275	060575	306 00 0 00 000110 		CAIN	"H"
 27276	060576	254 00 0 00 060624 		JRST	CHKALH		;"H", PRINT HELP
 27277	060577	306 00 0 00 000150 		CAIN	"H"+40
 27278	060600	254 00 0 00 060624 		JRST	CHKALH
 27279
 27280	060601	306 00 0 00 000121 		CAIN	"Q"
 27281	060602	254 00 0 00 060626 		JRST	CHKALQ		;"Q", QUIT - RESTART PROGRAM
 27282	060603	306 00 0 00 000161 		CAIN	"Q"+40
 27283	060604	254 00 0 00 060626 		JRST	CHKALQ
 27284
 27285	060605	254 00 0 00 060622 		JRST	CHKALX		;NONE OF THOSE
 27286
 27287
 27288	060606	037 01 0 00 030242 	CHKATR:	PCRLF
 27289	060607	031 00 0 00 075634 		TEXTF	[ASCIZ/*PGM TRACE*  TEST-/]
 27290	060610	200 00 0 00 077346 		MOVE	0,TSTNUM	;GET THE TEST NUMBER
 27291	060611	607 00 0 00 077777 		TLNN	0,77777		;ANY ONES IN BITS 3 THRU 17 ?
 27292	060612	254 00 0 00 060615 		JRST	.+3		;NO. ASSUME OCTAL
 27293	060613	037 01 0 00 000002 		PNTSXF			;YES. ASSUME SIXBIT
 27294	060614	334 00 0 00 000000 		SKIPA
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-33
DSRPA5	MAC	 2-Mar-79 10:45		DEVICE SELECTION AND PROGRAM TRACE ROUTINES                                        SEQ 0850

 27295	060615	037 03 0 00 000001 		PNT3F			;AND PRINT IT
 27296	060616	031 00 0 00 075640 		TEXTF	[ASCIZ/ PC-/]
 27297	060617	200 00 0 00 030051 		MOVE	0,TESTPC	;GET THE TEST STARTING PC
 27298	060620	037 06 0 00 000001 		PNT6F			;PRINT IT IN OCTAL
 27299	060621	037 01 0 00 030242 		PCRLF			;PRINT A CRLF
 27300
 27301	060622	262 17 0 00 000000 	CHKALX:	GET	AC0
 27302	060623	263 17 0 00 000000 		RTN
 27303
 27304	060624				CHKALH:	PMSGF	<^ALTMODE=DDT, T=TRACE, Q=QUIT, H=HELP^^>^
 27305	060624	037 04 0 00 075641 		PSIXMF	[SIXBIT\^ALTMODE=DDT, T=TRACE, Q=QUIT, H=HELP^^_\]^
 27306	060625	254 00 0 00 060622 		JRST	CHKALX
 27307
 27308	060626				CHKALQ:	PMSGF	<^PROGRAM RESTART^>^
 27309	060626	037 04 0 00 075650 		PSIXMF	[SIXBIT\^PROGRAM RESTART^_\]^
 27310	060627	254 00 0 00 030675 		JRST	STARTA
 27311
 27312					 	XLIST
 27313					 	LIST
 27314						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-34
DSRPA5	MAC	 2-Mar-79 10:45		DEVICE SELECTION AND PROGRAM TRACE ROUTINES                                        SEQ 0851

 27315					S^;*********************************************************************^
 27316					;*TRACE - - THE PROGRAM TRACE ROUTINE
 27317					S^;*********************************************************************^
 27318
 27319					COMMENT $
 27320
 27321						THIS ROUTINE GIVES THE USER THE CAPABILITY TO MONITOR THE 
 27322						PROGRESS OF A DIAGNOSTIC AS IT EXECUTES. THE TRACE OPTION IS
 27323						INVOKED BY SETTING CONSOLE SWITCH 18. EACH TIME THE
 27324						PROGRAM ENTERS A NEW TEST, THE TRACE ROUTINE WILL OUTPUT THE
 27325						TEST NUMBER AND THE TEST PC (WHERE THE TEST STARTS). THIS
 27326						ROUTINE WILL SET UP "TSTNUM" AND "TESTPC" FOR THE PURPOSE OF
 27327						ERROR REPORTING DURING THE TEST. (ALL PRINTOUTS ARE FORCED)
 27328						THIS ROUTINE ALSO DOES INITILIZATION FOR DEVSEL.
 27329
 27330						CALL SEQ FOR NUMERICALLY NUMBERED TEST
 27331							MOVE	1,YNNNNN	;TEST OPTION & TEST NUMBER
 27332							GO	TRACE	;CALL THE ROUTINE
 27333							RETURN	
 27334
 27335						Y = REPRESENTS A TEST OPTION
 27336							Y = 0, TEST IS NEVER OMITTED
 27337							Y = 1, TEST OMITTED IN USER MODE
 27338							Y = 2, TEST OMITTED IF NOT "OPRSEL"
 27339
 27340						AN ALTERNATE CALLING SEQUENCE IS USED IF THE TEST HAS
 27341						A SIXBIT NAME RATHER THAN A NUMBER.
 27342							MOVE	1,[SIXBIT/NAME/] ;GET THE NAME
 27343							GO	TRACE	;CALL THE ROUTINE
 27344							RETURN		;AND THE RETURN IS HERE
 27345
 27346						THE NAME IS NOW IN "TSTNUM" 
 27347						$
 27348						XLIST
 27349					 	LIST^
 27350	060630	402 00 0 00 077313 	TRACE:	SETZM	PATFG		;GOOD PARITY
 27351	060631	402 00 0 00 077307 		SETZM	NRHCS1		;ALLOW PARITY CHECK
 27352	060632	261 17 0 00 000000 		PUT	0		;SAVE AC'S
 27353	060633	261 17 0 00 000001 		PUT	1
 27354	060634	202 01 0 00 077346 		MOVEM	1,TSTNUM#	;SAVE THE TEST NUMBER
 27355	060635	550 00 0 17 777776 		HRRZ	0,-2(P)		;FETCH CALLING PC
 27356	060636	275 00 0 00 000002 		SUBI	0,2		;ADJUST THE ADDRESS
 27357	060637	202 00 0 00 030051 		MOVEM	0,TESTPC	;SAVE AS THE TEST PC
 27358	060640	200 01 0 00 030046 		MOVE	1,CONSW		;FETCH THE CONSOLE SWITCHES
 27359	060641	200 00 0 00 077346 		MOVE	0,TSTNUM	;GET THE NUMBER OR NAME
 27360	060642	603 00 0 00 777777 		TLNE	0,777777	;ANY LEFT SIDE BITS SET
 27361	060643	254 00 0 00 060662 		JRST	TR3		;YES. ASSUME A NUMBER
 27362	060644	135 00 0 00 075653 		LDB	0,[POINT 3,TSTNUM,20] ;GET OPTION BITS
 27363	060645	202 00 0 00 077345 	 	MOVEM	0,TRSKP#	;USED LATER AS AN INDEX
 27364	060646	336 00 0 00 077345 		SKIPN	TRSKP		;IS THE OPTION = 0 ?
 27365	060647	254 00 0 00 060662 		JRST	TR3		;YES. DON'T OMIT TEST
 27366	060650	402 00 0 00 000000 		SETZM	0		;CLEAR THE AC
 27367	060651	137 00 0 00 075653 		DPB	0,[POINT 3,TSTNUM,20] ;FIXUP TSTNUM 18 THRU 20
 27368	060652	200 00 0 00 077345 		MOVE	0,TRSKP		;GET THE OPTION BITS
 27369	060653	307 00 0 00 000002 		CAIG	0,2		;RANGE TEST THE NUMBER
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-35
DSRPA5	MAC	 2-Mar-79 10:45		DEVICE SELECTION AND PROGRAM TRACE ROUTINES                                        SEQ 0852

 27370	060654	335 00 0 00 000000 		SKIPGE	0
 27371	060655	254 00 0 00 060662 		JRST	TR3		;OUT OF RANGE
 27372	060656	302 00 0 00 000001 		CAIE	0,1		;IS IT OPTION 1 ?
 27373	060657	254 00 0 00 060666 		JRST	TR2		;NO. NUST BE 2
 27374	060660	332 00 0 00 030037 		SKIPE	USER		;IN USER MODE ?
 27375	060661	254 00 0 00 060670 		JRST	TR4		;YES. OMIT THE TEST
 27376	060662	402 00 0 00 077345 	TR3:	SETZM	TRSKP		;INDEX GOES TO ZERO
 27377	060663	602 01 0 00 400000 		TRNE	1,400000	;TRACE IN EFFECT ?
 27378	060664	254 00 0 00 060673 		JRST	TRCMN		;YES.
 27379	060665	254 00 0 00 060707 		JRST	TREX		;NO. THEN EXIT
 27380	060666	603 01 0 00 000010 	TR2:	TLNE	1,10		;OPER INTERVENTION SELECTED ?
 27381	060667	254 00 0 00 060662 		JRST	TR3		;OMIT THE TEST
 27382	060670	606 01 0 00 404000 	TR4:	TRNN	1,404000	;SW-18 OR SW-24 SET ?
 27383	060671	254 00 0 00 060707 		JRST	TREX		;NO. NO TRACE IN EFFECT
 27384	060672	254 00 0 00 060673 		JRST	TRCMN		;YES. PRINT OMISSIONS
 27385	060673	031 00 0 00 075654 	TRCMN:	TEXTF	[ASCIZ/*PGM TRACE* TEST-/]
 27386	060674	200 00 0 00 077346 		MOVE	0,TSTNUM	;GET THE TEST NUMBER
 27387	060675	607 00 0 00 777777 		TLNN	0,777777	;ANY LEFT SIDE BITS SET ?
 27388	060676	254 00 0 00 060701 		JRST	.+3		;NO. ASSUME OCTAL
 27389	060677	037 01 0 00 000002 		PNTSXF			;YES. PRINT IN SIXBIT
 27390	060700	334 00 0 00 000000 		SKIPA
 27391	060701	037 03 0 00 000001 		PNT3F			;PRINT THE NUMBER
 27392	060702	031 00 0 00 075640 		TEXTF	[ASCIZ/ PC-/]
 27393	060703	200 00 0 00 030051 		MOVE	0,TESTPC	;GET THE PC
 27394	060704	037 06 0 00 000001 		PNT6F			;PRINT IT
 27395	060705	200 01 0 00 077345 		MOVE	1,TRSKP		;GET THE INDEX
 27396	060706	031 00 1 01 060720 		TEXTF@	TRMSG(1)	;PRINT APPROPRIATE MESSAGE
 27397	060707	476 00 0 00 077326 	TREX:	SETOM	SELFLG		;INIT THE SELECT FLAG
 27398	060710	402 00 0 00 000014 		SETZM	,DRIVE		;INIT DRIVE # FOR DEVSEL
 27399	060711	262 17 0 00 000001 		GET	1		;RESTORE AC'S
 27400	060712	262 17 0 00 000000 		GET	0
 27401	060713	336 00 0 00 077345 		SKIPN	TRSKP		;OMITTING THE TEST ?
 27402	060714	263 17 0 00 000000 		RTN			;NO. EXIT TO MAINLINE
 27403	060715	250 01 0 17 000000 		EXCH	1,(P)		;YES. ADJUST THE STACK SO
 27404	060716	262 17 0 00 000001 		GET	1		;	RTN GOES TO THE TEST
 27405	060717	263 17 0 00 000000 		RTN			;	DISPATCHER INSTEAD
 27406
 27407	060720				TRMSG:	[ASCIZ/
 27408	060720	000000	063647		/]
 27409						[ASCIZ/ *TEST OMITTED. "USER MODE"*
 27410	060721	000000	075660		/]
 27411						[ASCIZ/ *TEST OMITTED. NO "OPRSEL"*
 27412	060722	000000	075667		/]
 27413
 27414
 27415					SUBTTL CONTROLLER INITIALIZATION ROUTINE
 27416					 	XLIST
 27417					 	LIST
 27418						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-36
DSRPA5	MAC	 2-Mar-79 10:45		CONTROLLER INITIALIZATION ROUTINE                                                  SEQ 0853

 27419					S^;*********************************************************************^
 27420					;*MSTCLR - - RH MASTER CLEAR ROUTINE
 27421					S^;*********************************************************************^
 27422
 27423					COMMENT $
 27424
 27425						THIS ROUTINE DOES THE FOLLOWING:
 27426						1. CLEAR UNIBUS ADAPTER
 27427						2. CLEARS ALL POSSIBLE ERRORS (ISSUES AN RHCLR)
 27428						3. SELECTS DRIVE IN RPCS2
 27429
 27430						CALLING SEQ:
 27431							GO	MSTCLR	;CALL THE CLEAR ROUTINE
 27432							RETURN		;RETURNS HERE ALWAYS  
 27433						$
 27434						XLIST
 27435					 	LIST^
 27436
 27437	060723	261 17 0 00 000001 	MSTCLR:	PUT	1		;SAVE THE AC
 27438	060724	201 01 0 00 000100 		MOVEI	AC1,UBINIT
 27439	060725	260 17 0 00 062320 		GO	LDUBAS		;ISSUE UNIBUS INIT
 27440	060726	200 01 0 00 075676 		MOVE	1,[1B10!RHCLR]
 27441	060727	260 17 0 00 057470 		GO	LRPCS2		;LOAD RHCS2
 27442	060730	402 00 0 00 077305 		SETZM	MCLK3F#		;0 = 36 BIT XFER, -1 = 18 BIT XFER
 27443	060731	262 17 0 00 000001 		GET	1
 27444	060732	263 17 0 00 000000 		RTN			;AND EXIT
 27445
 27446					SUBTTL CONTROL BUS TIMEOUT ERROR HANDLER
 27447					 	XLIST
 27448					 	LIST
 27449						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-37
DSRPA5	MAC	 2-Mar-79 10:45		CONTROL BUS TIMEOUT ERROR HANDLER                                                  SEQ 0854

 27450					S^;*********************************************************************^
 27451					;*CBTOER - - ROUTINE TO FIELD UNEXPECTED CBTO'S
 27452					S^;*********************************************************************^
 27453
 27454					COMMENT $
 27455
 27456						THIS ROUTINE IS USED TO FIELD AND REPORT UNEXPECTED CONTROL
 27457						BUS TIMEOUTS WHEN LOADING OR READING DEVICE REGISTERS. A
 27458						CBTO IS UNEXPECTED AFTER THE DEMAND-TRANSFER LOGIC HAS
 27459						BEEN TESTED. THIS ROUTINES ONLY OPTION IS TO REPORT
 27460						THE FACT THAT THE ERROR OCCURED AND SET A FLAG SO THE NEXT
 27461						CALL TO THE SCOPE UUO WILL FORCE THE TEST TO LOOP. THIS
 27462						ROUTINE MUST ALSO PUT IN A DEVICE REQUEST SINCE THE RH 
 27463						MAY HAVE BEEN GIVEN UP FOR ERROR REPORTING.
 27464
 27465						CALL SEQ:
 27466							GO	CBTOER	;CALL THE ROUTINE
 27467							RETURN		;RETURNS HERE 
 27468						$
 27469						XLIST
 27470					 	LIST^
 27471
 27472	060733	261 17 0 00 000000 	CBTOER:	PUT	0		;SAVE THE AC
 27473						TEXT	[ASCIZ/
 27474	060734	030 00 0 00 075677 	UNEXPECTED CBTO AT PC-/]
 27475	060735	550 00 0 17 777777 		HRRZ	0,-1(P)		;GET THE PC
 27476	060736	275 00 0 00 000001 		SUBI	1		;REAL PC
 27477	060737	037 06 0 00 000000 		PNT6			;PRINT IT
 27478						TEXT	[ASCIZ/   THE TEST WILL LOOP BUT
 27479					THE DIAGNOSIS IS PROBABLY INVALID DUE TO THE CBTO
 27480	060740	030 00 0 00 075704 	/]
 27481						TEXT	[ASCIZ/
 27482					MAKE SURE LOGICAL ADDR PLUG IS NOT LOOSE
 27483	060741	030 00 0 00 075724 	/]
 27484	060742	261 17 0 00 077330 		PUT	SHMODE		;SAVE CURRENT PRINT MODE
 27485	060743	476 00 0 00 077330 		SETOM	SHMODE		;FORCE REGPNT TO OCTAL
 27486	060744	260 17 0 00 062461 		GO	REGPNT		;GIVES SOME INDICATION OF FAILURE
 27487	060745	262 17 0 00 077330 		GET	SHMODE		;RESTORE USERS PRINTOUT MODE
 27488	060746	476 00 0 00 000010 		SETOM	ERFLG		;FLAG ERROR SO SCOPE WILL LOOP
 27489	060747	260 17 0 00 077352 		GO	DEVREQ		;REQUEST THE DEVICE AGAIN
 27490	060750	262 17 0 00 000000 		GET	0		;RESTORE THE AC
 27491	060751	263 17 0 00 000000 		RTN
 27492
 27493					 	XLIST
 27494					 	LIST
 27495						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-38
DSRPA5	MAC	 2-Mar-79 10:45		CONTROL BUS TIMEOUT ERROR HANDLER                                                  SEQ 0855

 27496					S^;*********************************************************************^
 27497					;*CPARER - - FIELD AND REPORT UNEXPECTED CTRL BUS P.E.'S
 27498					S^;*********************************************************************^
 27499
 27500					COMMENT $
 27501
 27502						THIS ROUTINE IS USED TO FIELD AND REPORT CONTROL BUS PARITY
 27503						ERRORS THAT HAPPEN TO OCCUR AFTER THE CONTROL BUS PARITY
 27504						LOGIC HAS BEEN TESTED AND ASSUMED OPERATIONAL. THE ONLY
 27505						OPTION OF THIS ROUTINE IS TO REPORT THE FACT THAT THE
 27506						PARITY ERROR OCCURED, AND SET A FLAG SO THAT THE NEXT CALL TO
 27507						THE SCOPE UUO WILL CAUSE THE TEST TO LOOP. THE ROUTINE WILL
 27508						ALSO HAVE TO DO A DEVICE REQUEST SINCE THE RH WAS GIVEN UP
 27509						TO REPORT THE ERROR.
 27510
 27511						CALLING SEQ:
 27512							GO	CPARER	;CALL THE ROUTINE
 27513							RETURN		;RETURNS HERE 
 27514						$
 27515						XLIST
 27516					 	LIST^
 27517	060752	332 00 0 00 000010 	CPARER:	SKIPE	ERFLG		;ANY ERRORS SO FAR ?
 27518	060753	263 17 0 00 000000 		RTN			;YES. PROBABLY FROM CBTOER
 27519									;   AND WERE FALLING THRU THE CODE
 27520									;   SO DON'T REPORT THIS.
 27521	060754	476 00 0 00 000010 		SETOM	ERFLG		;SO SCOPE WILL LOOP
 27522	060755	261 17 0 00 000000 		PUT	0		;SAVE AC0
 27523						TEXT	[ASCIZ/
 27524	060756	030 00 0 00 075735 	UNEXPECTED CONTROL BUSS PARITY ERROR AT PC-/]
 27525	060757	550 00 0 17 777777 		HRRZ	0,-1(P)		;GET THE PC
 27526	060760	275 00 0 00 000001 		SUBI	0,1		;ADJUST FOR PROPER PC
 27527	060761	037 06 0 00 000000 		PNT6			;PRINT IT
 27528						TEXT	[ASCIZ/   THE TEST WILL 
 27529					LOOP BUT THE DIAGNOSIS IS PROBABLY INVALID DUE TO THE P.E.
 27530	060762	030 00 0 00 075747 	/]
 27531	060763	261 17 0 00 077330 		PUT	SHMODE		;SAVE THE PRINTOUT MODE
 27532	060764	476 00 0 00 077330 		SETOM	SHMODE		;SET TO OCTAL PRINTOUT MODE
 27533	060765	260 17 0 00 062461 		GO	REGPNT		;PRINT THE DATA
 27534	060766	262 17 0 00 077330 		GET	SHMODE		;RECOVER PRINTOUT MODE
 27535	060767	260 17 0 00 077352 		GO	DEVREQ		;REQUEST THE DEVICE AGAIN
 27536	060770	262 17 0 00 000000 		GET	0		;RESTORE THE AC
 27537	060771	263 17 0 00 000000 		RTN			;AND EXIT
 27538
 27539					SUBTTL	TEST DISPATCH ROUTINE
 27540					 	XLIST
 27541					 	LIST
 27542						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-39
DSRPA5	MAC	 2-Mar-79 10:45		TEST DISPATCH ROUTINE                                                              SEQ 0856

 27543					S^;*********************************************************************^
 27544					;*DISPAT -- ROUTINE TO DISPATCH TO THE PROPER TEST
 27545					S^;*********************************************************************^
 27546
 27547					COMMENT $
 27548
 27549						THE FOLLOWING ALGORITHIM IS USED:
 27550						A.  READ CURRENT VALUE OF THE CONSOLE SWITCHES
 27551						B.  IF SW-25 IS SET GO BACK TO STEP-A (PAUSE)
 27552						C.  IF SW-21 IS SET, RUN DUAL PORT TEST. THEN BACK TO STEP-A
 27553						D.  IF SW-22 IS SET, RUN HEAD ALIGNMENT TEST. THEN BACK TO STEP-A
 27554						E.  IF SW-14 IS SET, SET A FLAG TO RUN TESTS REQUIRING
 27555						    OPERATOR INTERUENTION
 27556						F.  IF SWITCH 26 IS SET, RUN TEST SPECIFIED BY SWITCHES
 27557						    27-35. THEN GO BACK TO STEP-A.
 27558						G.  IF SWITCH 26 IS RESET, RUN THE NEXT SEQUENTIAL TEST
 27559						    FROM THE DISPATCH LIST. THEN GO TO STEP-A.
 27560
 27561						CALLING SEQUENCE:
 27562							GO	DISPAT	;CALL THE DISPATCH ROUTINE
 27563							RTN		;RETURN AT END OF PASS
 27564						$
 27565						XLIST
 27566					 	LIST^
 27567
 27568	060772	402 00 0 00 077346 	DISPAT:	SETZM	TSTNUM		;HOLDS PREVIOUS TEST NUMBER
 27569	060773	402 00 0 00 077263 		SETZM	CTEST#		;CTEST IS "CURRENT TEST"
 27570	060774	402 00 0 00 077272 		SETZM	ERRORT		;CLR ERROR TOTAL COUNTER
 27571	060775	402 00 0 00 077341 		SETZM	SW26FG#		;FLAGS STATE OF SWITCH-26
 27572
 27573	060776	037 10 0 00 000002 	DISSW:	SWITCH			;READS CONSOLE SWITCHES
 27574	060777	200 01 0 00 000000 		MOVE	1,0		;GET SWITCHES TO AC1
 27575	061000	602 01 0 00 002000 		TRNE	1,1B25		;IS SWITCH 25 SET
 27576	061001	260 17 0 00 061057 		GO	SW25WT		;GO TO A WAIT ROUTINE
 27577	061002	606 01 0 00 040000 		TRNN	1,1B21		;IS SWITCH 21 SET?
 27578	061003	254 00 0 00 061007 		JRST	DISS22		;NO.
 27579	061004	260 17 0 00 061075 		GO	DPDISP		;YES RUN DUAL PORT TEST
 27580	061005	402 00 0 00 077263 		SETZM	CTEST		;SET CURRENT TEST TO ZERO
 27581	061006	254 00 0 00 060776 		JRST	DISSW		;TRY FOR NEXT TEST
 27582	061007	606 01 0 00 020000 	DISS22:	TRNN	1,1B22		;IS SWITCH 22 SET?
 27583	061010	254 00 0 00 061014 		JRST	DISS14		;NO
 27584	061011	260 17 0 00 055123 		GO	ALIGN		;YES. RUN HEAD ALIGNMENT TEST
 27585	061012	402 00 0 00 077263 		SETZM	CTEST		;SET CURRENT TEST TO ZERO
 27586	061013	254 00 0 00 060776 		JRST	DISSW		;TRY FOR NEXT TEST
 27587	061014	402 00 0 00 077255 	DISS14:	SETZM	ATEND		;INITIALIZE OPERATOR ATTENDED FLAG
 27588	061015	603 01 0 00 000010 		TLNE	1,(1B14)	;IS SWITCH 14 SET?
 27589	061016	476 00 0 00 077255 		SETOM	ATEND		;YES. SET FLAG FOR OPERATOR INTERVENTION
 27590
 27591					;HERE STARTS CODE TO OPERATE ON SW-26 DISPATCH
 27592
 27593	061017	606 01 0 00 001000 	DIS26A:	TRNN	1,1B26		;IS SW26 SET?
 27594	061020	254 00 0 00 061036 		JRST	DIS26B		;NO
 27595	061021	476 00 0 00 077341 		SETOM	SW26FG		;YES. SET FLAG TO REMEMBER IT
 27596	061022	135 02 0 00 075767 		LDB	2,[POINT 9,1,35]  ;GET TEST NUMBER FROM SW27-SW35
 27597	061023	202 02 0 00 077263 		MOVEM	2,CTEST		;SAVE CURRENT SELECTED TEST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-40
DSRPA5	MAC	 2-Mar-79 10:45		TEST DISPATCH ROUTINE                                                              SEQ 0857

 27598	061024	322 02 0 00 061027 		JUMPE	2,DISERR	;IS SELECTED TEST VALID?
 27599	061025	317 02 0 00 077570 		CAMG	2,MAXTST	;1 THRU C(MAXTST) ARE OK
 27600	061026	254 00 0 00 061047 		JRST	DISDIS		;VALID. DISPATCH TO THE TEST
 27601	061027	255 00 0 00 000000 	DISERR:	JFCL			;ILLEGAL TEST SELECTED BY SWITCHES
 27602						TEXTF	[ASCIZ/
 27603	061030	031 00 0 00 075770 	?? INVALID TEST SELECTED IN SW27-35. TEST-/]
 27604	061031	200 00 0 00 077263 		MOVE	0,CTEST
 27605	061032	037 03 0 00 000001 		PNT3F			;PRINT THE TEST #
 27606	061033	037 01 0 00 030242 		PCRLF			;SOME FREE CRLFS
 27607	061034	037 01 0 00 030242 		PCRLF
 27608	061035	254 00 0 00 060776 		JRST	DISSW		;BACK TO BEGINNING OF TEST DISPATCH
 27609
 27610					;FOUND SWITCH 26 CLEAR.
 27611
 27612	061036	336 00 0 00 077341 	DIS26B:	SKIPN	SW26FG		;WAS THE SWITCH PREVIOUSLY SET
 27613	061037	254 00 0 00 061042 		JRST	DIS26C		;NO. GO EXECUTE NEXT SEQUENTIAL TEST
 27614	061040	402 00 0 00 077263 		SETZM	CTEST		;YES. RESET FOR FIRST TEST
 27615	061041	402 00 0 00 077341 		SETZM	SW26FG		;FLAG FACT THAT SWITCH NOW CLEAR
 27616	061042	350 00 0 00 077263 	DIS26C:	AOS	CTEST		;INCREMENTS TO NEXT TEST
 27617	061043	200 00 0 00 077263 		MOVE	0,CTEST		;GET CURRENT TEST
 27618	061044	313 00 0 00 077570 		CAMLE	0,MAXTST	;SEE IF ITS VALID
 27619	061045	263 17 0 00 000000 		RTN			;INVALID. ASSUME END OF PASS
 27620	061046	254 00 0 00 061047 		JRST	DISDIS		;VALID. GO DISPATCH TO THE TEST
 27621
 27622					;HERE WE DISPATCH TO PROPER TEST FROM THE TEST LIST
 27623					;THE TEST WE GO TO IS CONTAINED IN CTEST
 27624
 27625	061047	200 02 0 00 077263 	DISDIS:	MOVE	2,CTEST		;GETS TEST NUMBER
 27626	061050	275 02 0 00 000001 		SUBI	2,1		;NORMALIZE
 27627	061051	241 02 0 00 777777 		ROT	2,-1		;DIVIDE BY 2 FOR INDEX
 27628	061052	200 01 0 02 077375 		MOVE	1,TSTLST(2)	;GET TABLE ENTRY
 27629	061053	607 02 0 00 400000 		TLNN	2,400000	;DECIDE WHICH HALF
 27630	061054	207 01 0 00 000001 		MOVSS	1,1		;ODD IS LEFT
 27631	061055	260 17 0 01 000000 		GO	(1)		;AC1 RIGHT NOW HAS TEST ADDRESS
 27632	061056	254 00 0 00 060776 		JRST	DISSW		;RETURN FROM TEST. ON TO NXT ONE
 27633
 27634					;HERE IS WHERE WE WAIT WHEN SWITCH 25 IS SET
 27635
 27636	061057				SW25WT:	TEXTF	[ASCIZ/
 27637	061057	031 00 0 00 076001 	PGM PAUSE: SW-25 IS SET.  LAST TEST COMPLETED TEST - /]
 27638	061060	200 00 0 00 077346 		MOVE	0,TSTNUM	;GET LAST TEST EXECUTED
 27639	061061	607 00 0 00 777777 		TLNN	0,777777	;ARE ANY LEFT SIDE BITS SET ?
 27640	061062	254 00 0 00 061065 		JRST	.+3		;NO. ASSUME AN OCTAL # FOR NAME
 27641	061063	037 01 0 00 000002 		PNTSXF			;YES. ASSUME A SIXBIT NAME
 27642	061064	334 00 0 00 000000 		SKIPA
 27643	061065	037 03 0 00 000001 		PNT3F			;PRINT THE OCTAL NAME
 27644	061066	037 01 0 00 030242 		PCRLF			;AND A CRLF
 27645
 27646
 27647					;NOW LOOP UNTIL SW-25 GETS CLEARED
 27648
 27649	061067	037 10 0 00 000002 	DISGSW:	SWITCH			;READ THE SWITCHES
 27650	061070	200 01 0 00 000000 		MOVE	1,0		;GET THEM TO AC0
 27651	061071	602 01 0 00 002000 		TRNE	1,1B25		;IS SW 25 CLEAR YET ?
 27652	061072	254 00 0 00 061067 		JRST	DISGSW		;NO. KEEP WAITING
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-41
DSRPA5	MAC	 2-Mar-79 10:45		TEST DISPATCH ROUTINE                                                              SEQ 0858

 27653						TEXTF	[ASCIZ/PGM CONTINUED
 27654	061073	031 00 0 00 076015 	/]
 27655	061074	263 17 0 00 000000 		RTN
 27656
 27657					SUBTTL DUAL PORT CONTROLLER DISPATCHER
 27658					 	XLIST
 27659					 	LIST
 27660						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-42
DSRPA5	MAC	 2-Mar-79 10:45		DUAL PORT CONTROLLER DISPATCHER                                                    SEQ 0859

 27661					S^;*********************************************************************^
 27662					;*DPDISP - - DUAL PORT CONTROL AND DISPATCH ROUTINE
 27663					S^;*********************************************************************^
 27664
 27665					COMMENT $
 27666
 27667						HANDLES DISPATCHING AND CONTROL FOR RUNNING THE DUAL PORT
 27668						TESTS. THIS ROUTINE IS CALLED FROM THE MAIN PROGRAM DISPATCH
 27669						ROUTINE IF OPERATOR SELECTS DUAL PORT OPTIONAL TESTS FROM
 27670						THE SWITCHES.
 27671						CALLING SEQ:
 27672						GO	DPDISP		;CALL THE ROUTINE
 27673						RETURN			;TESTS RAN ON ALL DRIVES 
 27674						$
 27675						XLIST
 27676					 	LIST^
 27677
 27678	061075	336 00 0 00 030037 	DPDISP:	SKIPN	USER		;IN USER MODE
 27679	061076	254 00 0 00 061101 		JRST	DPD1		;NO
 27680						TEXTF	[ASCIZ/
 27681					DUAL PORT TESTING CAN NOT BE DONE IN USER MODE
 27682	061077	031 00 0 00 076021 	/]
 27683	061100	037 15 0 00 000004 		FATAL
 27684
 27685	061101				DPD1:	TEXTF	[ASCIZ/
 27686					DUAL PORT TESTS HAVE BEEN SELECTED FROM THE SWITCHES
 27687	061101	031 00 0 00 076034 	/]
 27688	061102	200 01 0 00 076050 		MOVE	1,[SIXBIT/DUAL0/]
 27689	061103	260 17 0 00 060630 		GO	TRACE		;CALL TRACE ROUTINE
 27690
 27691	061104	260 17 0 00 060522 	DPD2:	GO	DEVSEL		;SELECT A DEVICE FOR TEST
 27692	061105	334 00 0 00 000000 		SKIPA			;TRIED ALL
 27693	061106	254 00 0 00 061116 		JRST	DPD3
 27694						TEXTF	[ASCIZ/END PASS DUAL PORT TESTS
 27695	061107	031 00 0 00 076051 	RESTORE SYSTEM CONFIGURATION. HIT <CR> WHEN READY  /]
 27696	061110	201 00 0 00 000015 		MOVEI	0,15		;A CR CODE
 27697	061111	260 17 0 00 061324 		GO	CHARIN		;WAIT. FOR A CR
 27698	061112	254 00 0 00 061110 		JRST	.-2		;TIMEOUT
 27699	061113	254 00 0 00 061110 		JRST	.-3		;WRONG CHAR
 27700	061114	255 00 0 00 000000 		JFCL			;CR
 27701	061115	263 17 0 00 000000 		RTN
 27702
 27703	061116	037 10 0 00 000002 	DPD3:	SWITCH			;READ THE SWITCHES
 27704	061117	607 00 0 00 040000 		TLNN	0,(1B3)		;IS SW-3 SET ?
 27705	061120	254 00 0 00 061126 		JRST	DPD3A		;NO. CONTINUE
 27706						TEXTF	[ASCIZ/
 27707					RESET SWITCH-3 TO CONTINUE
 27708	061121	031 00 0 00 076071 	/]
 27709	061122	037 10 0 00 000002 		SWITCH			;READ THE SWITCHES AGAIN
 27710	061123	603 00 0 00 040000 		TLNE	0,(1B3)		;TEST SWITCH-3 AGAIN
 27711	061124	254 00 0 00 061122 		JRST	.-2		;WAIT TILL ITS CLEAR
 27712	061125	255 00 0 00 000000 		JFCL			;CONTINUE
 27713
 27714	061126	202 14 0 00 077265 	DPD3A:	MOVEM	DRIVE,DRVA#	;HOLDS PORT A DRIVE #
 27715	061127	402 00 0 00 000010 		SETZM	ERFLG		;CLEAR THE ERROR FLAG
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-43
DSRPA5	MAC	 2-Mar-79 10:45		DUAL PORT CONTROLLER DISPATCHER                                                    SEQ 0860

 27716	061130	260 17 0 00 060723 		GO	MSTCLR		;CLEAR ERRORS
 27717
 27718	061131	200 14 0 00 077265 	DPD4:	MOVE	DRIVE,DRVA	;GET THE PORT-A NUMBER
 27719	061132	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 27720	061133	260 17 0 00 057620 		GO	RRPDT		;READ THE DRIVE TYPE
 27721	061134	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 27722	061135	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 27723	061136	202 01 0 00 077267 		MOVEM	1,DTA#		;SAVE THE DRIVE TYPE
 27724	061137	332 00 0 00 000010 		SKIPE	ERFLG		;ERROR YET ?
 27725	061140	254 00 0 00 061143 		JRST	DPD5		;YES
 27726	061141	602 01 0 00 177777 		TRNE	1,177777	;DATA=0 ?
 27727	061142	254 00 0 00 061177 		JRST	DPD7		;NO
 27728
 27729	061143	200 14 0 00 077265 	DPD5:	MOVE	DRIVE,DRVA	;GET THE PORT-A NUMBER
 27730	061144	640 14 0 00 000001 		TRC	DRIVE,1		;POINT IT TO PORT-B
 27731	061145	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 27732	061146	260 17 0 00 057620 		GO	RRPDT		;READ THE DRIVE TYPE
 27733	061147	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILED
 27734	061150	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 27735	061151	202 01 0 00 077270 		MOVEM	1,DTB#		;SAVE PORT-B TYPE
 27736	061152	332 00 0 00 000010 		SKIPE	ERFLG		;ERROR YET ?
 27737	061153	254 00 0 00 061156 		JRST	DPD6		;YES
 27738	061154	602 01 0 00 177777 		TRNE	1,177777	;DATA = 0 ?
 27739	061155	254 00 0 00 061177 		JRST	DPD7		;NO
 27740
 27741	061156				DPD6:	TEXT	[ASCIZ/
 27742					CAN'T READ THE DRIVE TYPE REG FROM EITHER PORT. HERE IS WHAT I GOT.
 27743	061156	030 00 0 00 076100 	/]
 27744	061157	200 01 0 00 077267 		MOVE	1,DTA		;GET A-TYPE
 27745	061160	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
 27746	061161	037 00 0 00 030242 		PCRL
 27747	061162	200 01 0 00 077270 		MOVE	1,DTB		;GET B-TYPE
 27748	061163	260 17 0 00 062461 		GO	REGPNT		;PRINT IT
 27749	061164	037 00 0 00 030242 		PCRL
 27750	061165	030 00 0 00 076117 		TEXT	[ASCIZ/ "LOCK" /]
 27751	061166	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;GET DRIVE #
 27752	061167	260 17 0 00 061364 		GO	TELWHO
 27753						TEXT	[ASCIZ/ ON ONE OF THE PORTS, PERFORM
 27754	061170	030 00 0 00 076121 	ANOTHER HEAD LOAD AND HIT <CR> WHEN READY  /]
 27755	061171	201 00 0 00 000015 		MOVEI	0,15		;A CR CODE
 27756	061172	260 17 0 00 061324 		GO	CHARIN		;GET A CHAR
 27757	061173	254 00 0 00 061171 		JRST	.-2		;TIMEOUT
 27758	061174	254 00 0 00 061171 		JRST	.-3		;ERROR
 27759	061175	037 00 0 00 030242 		PCRL			;CR
 27760	061176	254 00 0 00 061131 		JRST	DPD4		;TRY AGAIN
 27761
 27762
 27763
 27764	061177	200 14 0 00 077265 	DPD7:	MOVE	DRIVE,DRVA	;POINT TO DRIVE ON PORT-A
 27765	061200	202 01 0 00 077347 		MOVEM	1,TYPE#		;SAVE THE TYPE
 27766	061201	602 01 0 00 004000 		TRNE	1,4000		;DUAL PORT DEV ?
 27767	061202	254 00 0 00 061213 		JRST	DPD8		;YES
 27768	061203	255 00 0 00 000000 		JFCL			;NO
 27769	061204	037 00 0 00 030242 		PCRL
 27770	061205	260 17 0 00 061364 		GO	TELWHO		;IDENTIFY DRIVE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-44
DSRPA5	MAC	 2-Mar-79 10:45		DUAL PORT CONTROLLER DISPATCHER                                                    SEQ 0861

 27771						TEXT	[ASCIZ/WILL NOT BE TESTED. IT IS NOT DUAL PORTED
 27772	061206	030 00 0 00 076140 	/]
 27773	061207	200 01 0 00 077347 		MOVE	1,TYPE
 27774	061210	260 17 0 00 062461 		GO	REGPNT		;PRINT ITS TYPE
 27775	061211	037 00 0 00 030242 		PCRL
 27776	061212	254 00 0 00 061104 		JRST	DPD2		;SELECT THE NEXT DRIVE
 27777
 27778	061213	135 14 0 00 076151 	DPD8:	LDB	DRIVE,[POINT 3,TYPE,17] ;FETCH THE DRIVE NUMBER
 27779	061214	260 17 0 00 057156 		GO	CALIBR		;CALIBRATE A 1 SEC TIMING LOOP
 27780	061215	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;GET THE PORT-A DRIVE NUMBER
 27781	061216	030 00 0 00 076152 		TEXT	[ASCIZ/DO YOU WANT SETUP INSTRUCTIONS /]
 27782	061217	260 17 0 00 061312 		GO	QSTN		;ASK THE QUESTION
 27783	061220	254 00 0 00 061217 		JRST	.-1		;TIMEOUT OR ERROR
 27784	061221	334 00 0 00 000000 		SKIPA			;ANS WAS NO
 27785	061222	260 17 0 00 061274 		GO	DUALH		;ANS IS YES
 27786	061223	030 00 0 00 076161 		TEXT	[ASCIZ/SET UP /]
 27787	061224	260 17 0 00 061364 		GO	TELWHO		;IDENTIFY THE DRIVE
 27788	061225	030 00 0 00 066334 		TEXT	[ASCIZ/HIT <CR> WHEN READY  /]
 27789	061226	201 00 0 00 000015 		MOVEI	0,15		;A CR
 27790	061227	260 17 0 00 061324 		GO	CHARIN		;GET A CHARACTER
 27791	061230	254 00 0 00 061226 		JRST	.-2		;TIMEOUT
 27792	061231	254 00 0 00 061226 		JRST	.-3		;ERROR
 27793	061232	037 00 0 00 030242 		PCRL			;OK
 27794
 27795	061233	261 17 0 00 000014 	DPD9:	PUT	DRIVE
 27796	061234	261 17 0 00 000013 		PUT	MBCN
 27797	061235	261 17 0 00 077326 		PUT	SELFLG
 27798	061236	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;SET UP FOR PORT-A
 27799	061237	260 17 0 00 053027 		GO	DUAL1
 27800	061240	260 17 0 00 053076 		GO	DUAL2
 27801	061241	260 17 0 00 053156 		GO	DUAL3
 27802	061242	260 17 0 00 053223 		GO	DUAL4
 27803	061243	260 17 0 00 053255 		GO	DUAL5
 27804	061244	260 17 0 00 053307 		GO	DUAL6
 27805	061245	260 17 0 00 053354 		GO	DUAL7
 27806	061246	260 17 0 00 053414 		GO	DUAL10
 27807	061247	260 17 0 00 053457 		GO	DUAL11
 27808	061250	260 17 0 00 053510 		GO	DUAL12
 27809	061251	260 17 0 00 053542 		GO	DUAL13
 27810	061252	260 17 0 00 053600 		GO	DUAL14
 27811	061253	260 17 0 00 053641 		GO	DUAL15
 27812	061254	260 17 0 00 053711 		GO	DUAL16
 27813	061255	260 17 0 00 053771 		GO	DUAL17
 27814	061256	260 17 0 00 054047 		GO	DUAL20
 27815	061257	260 17 0 00 054125 		GO	DUAL21
 27816	061260	260 17 0 00 054211 		GO	DUAL22
 27817	061261	260 17 0 00 054256 		GO	DUAL23
 27818	061262	262 17 0 00 077326 		GET	SELFLG
 27819	061263	262 17 0 00 000013 		GET	MBCN
 27820	061264	262 17 0 00 000014 		GET	DRIVE
 27821	061265	037 10 0 00 000002 		SWITCH			;READ THE SWITCHES
 27822	061266	606 00 0 00 040000 		TRNN	0,40000		;STILL SELECTED
 27823	061267	254 00 0 00 061104 		JRST	DPD2		;NO. SELECT THE NEXT DRIVE
 27824						TEXTF	[ASCIZ/
 27825	061270	031 00 0 00 076163 	PASS COMPLETE /]
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-45
DSRPA5	MAC	 2-Mar-79 10:45		DUAL PORT CONTROLLER DISPATCHER                                                    SEQ 0862

 27826	061271	260 17 0 00 061364 		GO	TELWHO		;IDENTIFY DRIVE
 27827	061272	260 17 0 00 063452 		GO 	.CRLF
 27828	061273	254 00 0 00 061233 		JRST	DPD9		;YES. REPEAT TESTS ON SELECTED DRIVE
 27829
 27830
 27831					;HERE ARE THE INSTRUCTIONS .........
 27832
 27833	061274	200 14 0 00 077265 	DUALH:	MOVE	DRIVE,DRVA	;GET DRIVE #
 27834	061275	030 00 0 00 076167 		TEXT	[ASCIZ/SET UP/]
 27835	061276	260 17 0 00 061364 		GO	TELWHO		;IDENTIFY THE DRIVE
 27836	061277	030 00 0 00 076171 		TEXT	[ASCIZ/AS FOLLOWS:/]
 27837						TEXT	[ASCIZ?
 27838					1. CABLE THE MASS BUS INTO PORT-A "IN"
 27839	061300	030 00 0 00 076174 	2. CABLE (SPECIAL DUAL PORT TEST CABLE) PORT-A "OUT" TO PORT-B "IN"?]
 27840						TEXT	[ASCIZ/
 27841	061301	030 00 0 00 076222 	THE TEST CABLE IS PART # 7010507-02/]
 27842						TEXT	[ASCIZ?
 27843					3. PORT-B "OUT" IS EITHER TERMINATED OR CABLED TO REST OF THE BUS
 27844					4. DRIVE SHOULD BE CYCLED DOWN AND UP WITH PORT SWITCH IN A/B MODE
 27845	061302	030 00 0 00 076232 	?]
 27846						TEXT	[ASCIZ/
 27847					LEAVING THE DUAL PORT OPTION SWITCH SET WILL CAUSE THE TESTS TO 
 27848					CONTINUOUSLY LOOP ON A SINGLE DRIVE.
 27849
 27850	061303	030 00 0 00 076266 	/]
 27851	061304	030 00 0 00 076314 		TEXT	[ASCIZ/ ** CAUTION ** IF THERE EXISTS A/]
 27852	061305	640 14 0 00 000001 		TRC	DRIVE,1		;POINT TO PORT-B
 27853	061306	260 17 0 00 061364 		GO	TELWHO
 27854						TEXT	[ASCIZ/ ON THE BUS,
 27855					IT MUST BE POWERED DOWN BEFORE THE TEST IS STARTED
 27856
 27857	061307	030 00 0 00 076323 	/]
 27858	061310	200 14 0 00 077265 		MOVE	DRIVE,DRVA	;POINT TO PORT-A
 27859	061311	263 17 0 00 000000 		RTN
 27860
 27861					SUBTTL SOME TTY INPUT UTILITY ROUTINES
 27862					 	XLIST
 27863					 	LIST
 27864						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-46
DSRPA5	MAC	 2-Mar-79 10:45		SOME TTY INPUT UTILITY ROUTINES                                                    SEQ 0863

 27865					S^;*********************************************************************^
 27866					;*QSTN - - ROUTINE TO INPUT ANSWERS (Y OR N) AND BRANCH
 27867					S^;*********************************************************************^
 27868
 27869					COMMENT $
 27870
 27871						THIS ROUTINE AUTOMATICALLY OUTPUTS THE "Y OR N" PROMT MSG.
 27872						CALLING SEQUENCE:
 27873							GO	QSTN	;CALL THE ROUTINE
 27874							RTN-1		;TIMEOUT
 27875							RTN-2		;ANSWER WAS A NO
 27876							RTN-3		;ANSWER WAS A YES 
 27877						$
 27878						XLIST
 27879					 	LIST^
 27880
 27881	061312	037 01 0 00 000026 	QSTN:	PFORCE			;FORCE THIS TO PRINT
 27882	061313	037 01 0 00 000003 		TTIYES			;INPUT FROM THE TERMINAL
 27883	061314	254 00 0 00 061321 		JRST	QSTNB		;NO OR TIMEOUT HAS OCCURED
 27884	061315	350 00 0 17 000000 		AOS	(P)
 27885	061316	350 00 0 17 000000 	QSTNA:	AOS	(P)
 27886	061317	260 17 0 00 063452 		GO	.CRLF		;TYPE A CRLF
 27887	061320	263 17 0 00 000000 		RTN
 27888
 27889	061321	333 00 0 00 030225 	QSTNB:	SKIPLE	$TWCNT		;WAS THERE A TIMEOUT
 27890	061322	254 00 0 00 061316 		JRST	QSTNA		;NOPE. THE ANSWER WAS A NO
 27891	061323	254 00 0 00 061317 		JRST	QSTNA+1		;THERE WAS A TIMEOUT
 27892
 27893					 	XLIST
 27894					 	LIST
 27895						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-47
DSRPA5	MAC	 2-Mar-79 10:45		SOME TTY INPUT UTILITY ROUTINES                                                    SEQ 0864

 27896					S^;*********************************************************************^
 27897					;*CHARIN - - ROUTINE TO INPUT A SPECIFIC CHAR FROM THE TTY
 27898					S^;*********************************************************************^
 27899
 27900					COMMENT $
 27901
 27902						CALLING SEQ:
 27903						MOVEI	0,CHAR		;SPECIFY THE CHARACTER YOU WANT
 27904						GO	CHARIN		;GO AND DO INPUT
 27905						RTN-1			;NO RESPONSE. TIMEOUT
 27906						RTN-2			;WRONG CHARACTER (AC0 HOLDS CHAR)
 27907						RTN-3			;CORRECT CHAR (AC0 HOLDS CHAR) 
 27908						$
 27909						XLIST
 27910					 	LIST^
 27911
 27912	061324	261 17 0 00 000000 	CHARIN:	PUT	0		;SAVE DESIRED CHAR ONTHE STACK
 27913	061325	037 00 0 00 000003 		TTICHR			;DO TTY INPUT
 27914	061326	254 00 0 00 061333 		JRST	CHARA		;TIMEOUT
 27915	061327	350 00 0 17 777777 		AOS	-1(P)		;LEGAL. BUMP THE RETURN
 27916	061330	250 00 0 17 000000 		EXCH	0,(P)		;PUT THE CHAR ON THE STACK
 27917	061331	316 00 0 17 000000 		CAMN	0,(P)		;IS THE CHAR AS EXPECTED ?
 27918	061332	350 00 0 17 777777 		AOS	-1(P)		;YES. BUMP THE RETURN
 27919	061333	037 01 0 00 030242 	CHARA:	PCRLF			;A FREE CR LF PAIR
 27920	061334	262 17 0 00 000000 		GET 	0		;GET THE CHAR
 27921	061335	263 17 0 00 000000 		RTN			;AND TAKE PROPER RETURN
 27922
 27923					 	XLIST
 27924					 	LIST
 27925						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-48
DSRPA5	MAC	 2-Mar-79 10:45		SOME TTY INPUT UTILITY ROUTINES                                                    SEQ 0865

 27926					S^;*********************************************************************^
 27927					;*NUMIN - - INPUT AND RANGE TEST A CONVERTABLE NUMBER 
 27928					S^;*********************************************************************^
 27929
 27930					COMMENT $
 27931
 27932						THE LIMITS ARE INCLUSIVE AND ARE SPECIFIED BY AC0 OF THE CALL.
 27933						MULTIPLE RETURNS ARE SUPPLIED FOR BRANCHING.
 27934
 27935						CALLING SEQ:
 27936						MOVE	0,[LIM1,,LIM2]	;SPECIFY THE LIMITS
 27937						GO	NUMIN		;CALL THE ROUTINE
 27938						RTN-1			;TIMEOUT. NO RESPONSE (AC0 UNCHANGED)
 27939						RTN-2			;ILLEGAL OR OUT OF RANGE (AC0 UNCHANGED)
 27940						RTN-3			;NORMAL. (36 BIT NUM IN AC0) 
 27941						$
 27942						XLIST
 27943					 	LIST^
 27944
 27945	061336	261 17 0 00 000000 	NUMIN:	PUT	0		;SAVE ORIGINAL AC0
 27946	061337	270 17 0 00 076341 		ADD	P,[2,,2]	;GET SOME STACK SPACE
 27947
 27948					;SET UP 36 BIT LIMITS WITH LOWER OF THE 2 FIRST ON THE STACK
 27949
 27950	061340	572 00 0 17 777777 		HRREM	0,-1(P)		;SAVE 36 BIT RIGHT LIMIT
 27951	061341	576 00 0 17 000000 		HLREM	0,(P)		;SAVE 36 BIT LEFT LIMIT
 27952	061342	200 00 0 17 777777 		MOVE	0,-1(P)		;GET THE FIRST LIMIT
 27953	061343	311 00 0 17 000000 		CAML	0,(P)		;SEE IF FIRST IS SMALLER OF THE 2
 27954	061344	250 00 0 17 000000 		EXCH	0,(P)		;NO. EXCHANGE
 27955	061345	202 00 0 17 777777 		MOVEM	0,-1(P)		;LIMITS NOW ORDERED CORRECTLY
 27956
 27957					;INPUT A CONVERTABLE NUMBER
 27958
 27959	061346	037 05 0 00 000003 		TTICNV			;DOES TTY INPUT
 27960	061347	254 00 0 00 061361 		JRST	NUMIE		;ERROR OR TIMEOUT
 27961	061350	350 00 0 17 777775 		AOS	-3(P)		;INPUT OK. BUMP THE RETURN
 27962	061351	311 00 0 17 777777 		CAML	0,-1(P)		;RANGE TEST THE NUMBER
 27963	061352	313 00 0 17 000000 		CAMLE	0,(P)
 27964	061353	254 00 0 00 061356 		JRST	NUMIEX		;OUT OF RANGE
 27965	061354	250 00 0 17 777776 		EXCH	0,-2(P)		;IN RANGE. PUT ON THE STACK
 27966	061355	350 00 0 17 777775 		AOS	-3(P)		;BUMP THE RETURN
 27967	061356	274 17 0 00 076341 	NUMIEX:	SUB	P,[2,,2]	;RELINQUISH STACK SPACE
 27968	061357	262 17 0 00 000000 		GET	0		;RECOVER THE NUMBER
 27969	061360	263 17 0 00 000000 		RTN			;AND TAKE THE PROPER RETURN
 27970
 27971	061361	333 00 0 00 030225 	NUMIE:	SKIPLE	$TWCNT		;WAS THERE A TIMEOUT ?
 27972	061362	350 00 0 17 777775 		AOS	-3(P)		;NO. BUMP THE RETURN
 27973	061363	254 00 0 00 061356 		JRST	NUMIEX		;TIMEOUT.
 27974
 27975					SUBTTL	GENERAL PRINT UTILITIES
 27976					 	XLIST
 27977					 	LIST
 27978						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-49
DSRPA5	MAC	 2-Mar-79 10:45		GENERAL PRINT UTILITIES                                                            SEQ 0866

 27979					S^;*********************************************************************^
 27980					;*TELWHO -- PRINTS CURRENT DRIVE NUMBER
 27981					S^;*********************************************************************^
 27982
 27983					COMMENT $
 27984
 27985						THIS ROUTINE PRINTS "DRIVE-X" WITHOUT ANY LINE CONTROL,
 27986						THIS ROUTINE IS PRIMARILY USED TO IDENTIFY THE
 27987						DEVICE IN THE OPERATOR INTERVENTION MESSAGES.
 27988						CALLING SEQ:
 27989						GO	TELDEV		;CALL THE ROUTINE
 27990						RTN			;THE RETURN	
 27991						$
 27992						XLIST
 27993					 	LIST^
 27994
 27995	061364	261 17 0 00 000000 	TELWHO:	PUT	0		;SAVE AC0
 27996	061365	031 00 0 00 076342 		TEXTF	[ASCIZ/ DRIVE-/]
 27997	061366	200 00 0 00 000014 		MOVE	0,DRIVE		;GET DRIVE NUMBER
 27998	061367	037 01 0 00 000001 		PNT1F			;PRINT IT
 27999	061370	037 01 0 00 000026 		PFORCE			;FORCE PRINTOUT
 28000	061371	262 17 0 00 000000 		GET	0		;RESTORE THE AC
 28001	061372	263 17 0 00 000000 		RTN
 28002
 28003					 	XLIST
 28004					 	LIST
 28005						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-50
DSRPA5	MAC	 2-Mar-79 10:45		GENERAL PRINT UTILITIES                                                            SEQ 0867

 28006					S^;*********************************************************************^
 28007					;*TELTST - - IDENTIFY TEST REQUIRING OPER INTERVENTION
 28008					S^;*********************************************************************^
 28009
 28010					COMMENT $
 28011
 28012						THE NAME COMES FROM TSTNUM.  THE FOLLOWING MSG IS PRINTED:
 28013						"OPR ACTION REQ'D IN TEST - XXXX"
 28014
 28015						CALLING SEQ:
 28016						GO	TELTST		;CALL THE ROUTINE
 28017						RTN			;RETURN  
 28018						$
 28019						XLIST
 28020					 	LIST^
 28021
 28022	061373	261 17 0 00 000000 	TELTST:	PUT	0		;SAVE AC
 28023	061374	031 00 0 00 076344 		TEXTF	[ASCIZ/OPR ACTION REQ'D IN TEST - /]
 28024	061375	200 00 0 00 077346 		MOVE	0,TSTNUM	;GET THE TEST NUMBER
 28025	061376	607 00 0 00 777777 		TLNN	0,777777	;ANY LEFT BITS SET ?
 28026	061377	254 00 0 00 061402 		JRST	.+3		;NO ASSUME OCTAL
 28027	061400	037 01 0 00 000002 		PNTSXF			;YES. ASSUME SIXBIT
 28028	061401	334 00 0 00 000000 		SKIPA
 28029	061402	037 03 0 00 000001 		PNT3F			;OCTAL
 28030						TEXTF	[ASCIZ/
 28031	061403	031 00 0 00 063647 	/]
 28032	061404	262 17 0 00 000000 		GET	0		;RESTORE THE AC
 28033	061405	263 17 0 00 000000 		RTN
 28034
 28035					 	XLIST
 28036					 	LIST
 28037						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-51
DSRPA5	MAC	 2-Mar-79 10:45		GENERAL PRINT UTILITIES                                                            SEQ 0868

 28038					S^;*********************************************************************^
 28039					;*SUMARY -- IDENTIFY DRIVES UNDER TEST
 28040					S^;*********************************************************************^
 28041
 28042					COMMENT $
 28043
 28044						AT THE END OF THE 1ST AND EVERY 10 PASSES THEREAFTER
 28045						THIS ROUTINE WILL IDENTIFY THE DRIVE CONTROLLER TYPES
 28046						BEING TESTED. THEY ARE IDENTIFIED BY DRIVE TYPE, DEVICE CODE,
 28047						AND SERIAL NUMBER. SETTING TEXT INHIBIT WILL STOP THIS
 28048						ROUTINE FROM PRINTING.
 28049						CALL SEQ:
 28050						GO	SUMARY		;CALL THE ROUTINE
 28051						RTN			;RETURN	
 28052						$
 28053						XLIST
 28054					 	LIST^
 28055
 28056	061406	261 17 0 00 000000 	SUMARY:	PUT	0		;SAVE SOME AC'S
 28057	061407	261 17 0 00 000001 		PUT	1
 28058	061410	261 17 0 00 000002 		PUT	2
 28059
 28060	061411	200 00 0 00 030046 		MOVE	0,CONSW		;GET SWITCHES
 28061	061412	603 00 0 00 040200 		TLNE	0,(1B3!1B10)	;IS TEXT INHIBIT OR NO-PRINT SET?
 28062	061413	254 00 0 00 061455 		JRST	SUMEX		;YES THEN EXIT
 28063	061414	255 00 0 00 000000 		JFCL			;NO.
 28064
 28065	061415	200 00 0 00 030047 		MOVE	0,PASCNT	;GET THE PASS COUNT
 28066	061416	231 00 0 00 000012 		IDIVI	0,^D10		;DIVIDE MOD-10
 28067	061417	302 01 0 00 000000 		CAIE	1,0		;SEE IF REMAINDER IS 0
 28068	061420	254 00 0 00 061455 		JRST	SUMEX		;NO. EXIT
 28069	061421	476 00 0 00 077326 		SETOM	SELFLG		;YES. INIT SELECT ROUTINE
 28070						TEXTF	[ASCIZ/
 28071					THE FOLLOWING DEVICES HAVE BEEN TESTED
 28072	061422	031 00 0 00 076352 	/]
 28073
 28074	061423	200 13 0 00 060506 	SUMSEL:	MOVE	MBCN,MBCMAX	;INIT SELECTION STUFF
 28075	061424	201 14 0 00 000007 		MOVEI	DRIVE,7
 28076	061425	260 17 0 00 060522 		GO	DEVSEL		;SELECT A DEVICE
 28077	061426	254 00 0 00 061455 		JRST	SUMEX		;TRIED ALL
 28078
 28079	061427	260 17 0 00 077352 		GO	DEVREQ		;REQUEST THE DEVICE
 28080
 28081	061430	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 28082	061431	260 17 0 00 057620 		GO	RRPDT		;READ DRIVE TYPE REGISTER
 28083	061432	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 28084	061433	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 28085	061434	202 01 0 00 077645 		MOVEM	1,SRPDT		;SAVE RESULTS
 28086
 28087	061435	205 01 0 00 000010 		MOVSI	1,(1B14)	;DON'T REPORT RAE'S
 28088	061436	260 17 0 00 057626 		GO	RRPSN		;READ SERIAL # REGISTER
 28089	061437	260 17 0 00 060733 		GO	CBTOER		;HANDSHAKE FAILURE
 28090	061440	260 17 0 00 060752 		GO	CPARER		;PARITY ERROR
 28091	061441	202 01 0 00 077646 		MOVEM	1,SRPSN		;SAVE THE RESULTS
 28092
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-52
DSRPA5	MAC	 2-Mar-79 10:45		GENERAL PRINT UTILITIES                                                            SEQ 0869

 28093	061442	260 17 0 00 061364 		GO	TELWHO		;REPORT CONTROLLER AND DRIVE #
 28094	061443	200 01 0 00 077645 		MOVE	1,SRPDT		;GET DRIVE TYPE DATA
 28095	061444	135 02 0 00 075171 		LDB	2,[POINT 6,1,5]	;A SPECIAL AC
 28096	061445	231 02 0 00 000002 		IDIVI	2,2
 28097	061446	260 17 0 00 062563 		GO	BYTES		;PRINT REGISTER DATA
 28098	061447	200 01 0 00 077646 		MOVE	1,SRPSN		;GET SERIAL #
 28099	061450	135 02 0 00 075171 		LDB	2,[POINT 6,1,5]	;A SPECIAL AC
 28100	061451	231 02 0 00 000002 		IDIVI	2,2
 28101	061452	260 17 0 00 062563 		GO	BYTES		;PRINT SERIAL NUMBER
 28102	061453	037 01 0 00 030242 		PCRLF			;A CRLF
 28103	061454	254 00 0 00 061425 		JRST	SUMSEL+2	;TO NEXT DRIVE
 28104
 28105	061455	262 17 0 00 000002 	SUMEX:	GET	2		;RESTORE AC'S
 28106	061456	262 17 0 00 000001 		GET	1
 28107	061457	262 17 0 00 000000 		GET	0
 28108	061460	263 17 0 00 000000 		RTN			;EXIT
 28109
 28110					 	XLIST
 28111					 	LIST
 28112						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-53
DSRPA5	MAC	 2-Mar-79 10:45		GENERAL PRINT UTILITIES                                                            SEQ 0870

 28113					S^;*********************************************************************^
 28114					;*SWOP -- ROUTNE TO TYPE SENSE SWITCH OPTIONS
 28115					S^;*********************************************************************^
 28116
 28117					COMMENT $
 28118
 28119						THIS ROUTINE ASKS THE USER IF HE WANTS A LIST OF THE PROGRAMS
 28120						SWITCH OPTIONS AND THEN REACTS ACCORDINGLY 
 28121						$
 28122						XLIST
 28123					 	LIST^
 28124
 28125	061461				SWOP:	TEXTF	[ASCIZ/
 28126	061461	031 00 0 00 076363 	LIST PGM SWITCH OPTIONS ? /]
 28127	061462	260 17 0 00 061312 		GO	QSTN		;ASK FOR YES OR NO
 28128	061463	263 17 0 00 000000 		RTN			;TIMEOUT ASSUMES NO
 28129	061464	263 17 0 00 000000 		RTN			;ANSWER IS NO
 28130	061465	255 00 0 00 000000 		JFCL			;ANSWER IS YES
 28131	061466	201 00 0 00 061471 		MOVEI	SWOPMSG
 28132	061467	037 17 0 00 000000 		PNTAL
 28133	061470	263 17 0 00 000000 		RTN
 28134
 28135	061471	114 105 106 124 040 	SWOPMSG:ASCIZ	%LEFT SIDE SWITCHES:
 28136	061472	123 111 104 105 040 
 28137	061473	123 127 111 124 103 
 28138	061474	110 105 123 072 015 
 28139	061475	012 123 127 111 124 	SWITCH	FUNCTION
 28140	061476	103 110 011 106 125 
 28141	061477	116 103 124 111 117 
 28142	061500	116 015 012 064 060 	400000	ABORT PGM AFTER 1ST PASS
 28143	061501	060 060 060 060 011 
 28144	061502	101 102 117 122 124 
 28145	061503	040 120 107 115 040 
 28146	061504	101 106 124 105 122 
 28147	061505	040 061 123 124 040 
 28148	061506	120 101 123 123 015 
 28149	061507	012 060 064 060 060 	040000	INHIBIT PRINTOUT
 28150	061510	060 060 011 111 116 
 28151	061511	110 111 102 111 124 
 28152	061512	040 120 122 111 116 
 28153	061513	124 117 125 124 015 
 28154	061514	012 060 062 060 060 	020000	OUTPUT TO LPT
 28155	061515	060 060 011 117 125 
 28156	061516	124 120 125 124 040 
 28157	061517	124 117 040 114 120 
 28158	061520	124 015 012 060 061 	010000	BELL ON ERROR
 28159	061521	060 060 060 060 011 
 28160	061522	102 105 114 114 040 
 28161	061523	117 116 040 105 122 
 28162	061524	122 117 122 015 012 	004000	LOOP ON ERROR
 28163	061525	060 060 064 060 060 
 28164	061526	060 011 114 117 117 
 28165	061527	120 040 117 116 040 
 28166	061530	105 122 122 117 122 
 28167	061531	015 012 060 060 062 	002000	HALT ON ERROR (EXEC MODE)
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-54
DSRPA5	MAC	 2-Mar-79 10:45		GENERAL PRINT UTILITIES                                                            SEQ 0871

 28168	061532	060 060 060 011 110 
 28169	061533	101 114 124 040 117 
 28170	061534	116 040 105 122 122 
 28171	061535	117 122 040 050 105 
 28172	061536	130 105 103 040 115 
 28173	061537	117 104 105 051 015 
 28174	061540	012 060 060 061 060 	001000	PRINT ALL ERRORS
 28175	061541	060 060 011 120 122 
 28176	061542	111 116 124 040 101 
 28177	061543	114 114 040 105 122 
 28178	061544	122 117 122 123 015 
 28179	061545	012 060 060 060 062 	000200	USE ABBREVIATED PRINTOUTS
 28180	061546	060 060 011 125 123 
 28181	061547	105 040 101 102 102 
 28182	061550	122 105 126 111 101 
 28183	061551	124 105 104 040 120 
 28184	061552	122 111 116 124 117 
 28185	061553	125 124 123 015 012 	000020	INHIBIT CACHE
 28186	061554	060 060 060 060 062 
 28187	061555	060 011 111 116 110 
 28188	061556	111 102 111 124 040 
 28189	061557	103 101 103 110 105 
 28190	061560	015 012 060 060 060 	000010	RUN OPERATOR INTERVENTION TESTS
 28191	061561	060 061 060 011 122 
 28192	061562	125 116 040 117 120 
 28193	061563	105 122 101 124 117 
 28194	061564	122 040 111 116 124 
 28195	061565	105 122 126 105 116 
 28196	061566	124 111 117 116 040 
 28197	061567	124 105 123 124 123 
 28198
 28199	061570	015 012 015 012 122 	RIGHT SIDE SWITCHES:
 28200	061571	111 107 110 124 040 
 28201	061572	123 111 104 105 040 
 28202	061573	123 127 111 124 103 
 28203	061574	110 105 123 072 015 
 28204	061575	012 064 060 060 060 	400000	PGM TRACE IN EFFECT
 28205	061576	060 060 011 120 107 
 28206	061577	115 040 124 122 101 
 28207	061600	103 105 040 111 116 
 28208	061601	040 105 106 106 105 
 28209	061602	103 124 015 012 062 	200000	EXPANDED MODULE CALLOUTS
 28210	061603	060 060 060 060 060 
 28211	061604	011 105 130 120 101 
 28212	061605	116 104 105 104 040 
 28213	061606	115 117 104 125 114 
 28214	061607	105 040 103 101 114 
 28215	061610	114 117 125 124 123 
 28216	061611	015 012 060 064 060 	040000	RUN DUAL PORT TEST
 28217	061612	060 060 060 011 122 
 28218	061613	125 116 040 104 125 
 28219	061614	101 114 040 120 117 
 28220	061615	122 124 040 124 105 
 28221	061616	123 124 015 012 060 	020000	RUN HEAD ALIGNMENT
 28222	061617	062 060 060 060 060 
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-55
DSRPA5	MAC	 2-Mar-79 10:45		GENERAL PRINT UTILITIES                                                            SEQ 0872

 28223	061620	011 122 125 116 040 
 28224	061621	110 105 101 104 040 
 28225	061622	101 114 111 107 116 
 28226	061623	115 105 116 124 015 
 28227	061624	012 060 060 062 060 	002000	PAUSE BETWEEN TESTS UNTIL THIS SWITCH IS RESET
 28228	061625	060 060 011 120 101 
 28229	061626	125 123 105 040 102 
 28230	061627	105 124 127 105 105 
 28231	061630	116 040 124 105 123 
 28232	061631	124 123 040 125 116 
 28233	061632	124 111 114 040 124 
 28234	061633	110 111 123 040 123 
 28235	061634	127 111 124 103 110 
 28236	061635	040 111 123 040 122 
 28237	061636	105 123 105 124 015 
 28238	061637	012 060 060 061 060 	001000	RUN TEST SELECTED IN SWITCHES 27-35
 28239	061640	060 060 011 122 125 
 28240	061641	116 040 124 105 123 
 28241	061642	124 040 123 105 114 
 28242	061643	105 103 124 105 104 
 28243	061644	040 111 116 040 123 
 28244	061645	127 111 124 103 110 
 28245	061646	105 123 040 062 067 
 28246	061647	055 063 065 015 012 	%
 28247	061650	000 000 000 000 000 
 28248
 28249					 	XLIST
 28250					 	LIST
 28251						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-56
DSRPA5	MAC	 2-Mar-79 10:45		GENERAL PRINT UTILITIES                                                            SEQ 0873

 28252					S^;*********************************************************************^
 28253					;*ER23CK - - ERROR REG'S 2 & 3 CHECK ROUTINE
 28254					S^;*********************************************************************^
 28255
 28256					COMMENT $
 28257
 28258						THIS ROUTINE WHEN CALLED,WILL EXAMINE THE DATA FOR ERROR REG'S
 28259						2 & 3 AND TRANSLATE THE ERROR BITS THAT ARE SET TO POSSIBLE
 28260						FAULTY MODULES (UNLESS TXTINH IS SET SW-10). DATA IS 
 28261						ASSUMED TO HAVE BEEN ALREADY SNAPSHOT INTO CORE. ERRORS DETECTED
 28262						BY THIS ROUTINE ARE GENERALLY UNEXPECTED AND THIS ROUTINE IS
 28263						MERELY A SAFEGUARD TO KEEP THESE ERRORS FROM SLIPPING THRU
 28264						THE DIAGNOSTIC UNDETECTED.
 28265
 28266						CALLING SEQUENCE:
 28267						GO	ER23CK		;CALL THE ROUTINE
 28268						RTN			;RETURNS HERE 
 28269						$
 28270						XLIST
 28271					 	LIST^
 28272
 28273	061651	261 17 0 00 000001 	ER23CK:	PUT	1		;SAVE AC1
 28274	061652	200 01 0 00 030046 		MOVE	1,CONSW		;GET CONSOLE SWITCHES
 28275	061653	603 01 0 00 000200 		TLNE	1,(1B10)	;TXTINH SET ?
 28276	061654	254 00 0 00 061745 		JRST	ER23EX		;YES EXIT
 28277	061655	200 01 0 00 077652 		MOVE	1,SRPER2	;GET ER2 DATA
 28278	061656	434 01 0 00 077653 		IOR	1,SRPER3	;GET ER3 DATA
 28279	061657	606 01 0 00 177777 		TRNN	1,177777	;ANY ERRORS
 28280	061660	254 00 0 00 061745 		JRST	ER23EX		;NO
 28281	061661	255 00 0 00 000000 		JFCL			;YES REPORT
 28282						TEXT	[ASCIZ?
 28283					ERROR DETECTED BY DIAGNOSTIC FROM ER2 AND/OR ER3
 28284					SUSPECT THE FOLLOWING MODULES:
 28285	061662	030 00 0 00 076371 	?]
 28286
 28287					 	XLIST
 28288						LIST
 28289	061663	200 01 0 00 077652 		MOVE	1,SRPER2	;GET ER-2 DATA
 28290	061664	606 01 0 00 177777 		TRNN	1,177777	;ANY ERRORS ?
 28291	061665	254 00 0 00 061721 		JRST	ER3CK		;NO. TRY FOR ER-3
 28292	061666	602 01 0 00 020000 		TRNE	1,1B22
 28293						TEXT	[ASCIZ/
 28294	061667	030 00 0 00 076412 	PLOUNS	D15,D14, PACK, SERVO HEAD/]
 28295	061670	602 01 0 00 004000 		TRNE	1,1B24
 28296						TEXT	[ASCIZ/
 28297	061671	030 00 0 00 076421 	INDXER	D04,D15,D16,D02, PACK, SERVO HEAD/]
 28298	061672	602 01 0 00 002000 		TRNE	1,1B25
 28299						TEXT	[ASCIZ/
 28300	061673	030 00 0 00 076432 	NHDSEL	D20,D11/]
 28301	061674	602 01 0 00 001000 		TRNE	1,1B26
 28302						TEXT	[ASCIZ/
 28303	061675	030 00 0 00 076436 	MHDSEL	D20,D16,D17/]
 28304	061676	602 01 0 00 000400 		TRNE	1,1B27
 28305						TEXT	[ASCIZ/
 28306	061677	030 00 0 00 076443 	WRTRU	D15,D16,D20/]
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-57
DSRPA5	MAC	 2-Mar-79 10:45		GENERAL PRINT UTILITIES                                                            SEQ 0874

 28307	061700	602 01 0 00 000200 		TRNE	1,1B28
 28308						TEXT	[ASCIZ/
 28309	061701	030 00 0 00 076447 	ABNSTP	D10,D11, MB(M7788), SS(M7786)/]
 28310	061702	602 01 0 00 000100 		TRNE	1,1B29
 28311						TEXT	[ASCIZ/
 28312	061703	030 00 0 00 076457 	TRANSU	D16,D17,D20/]
 28313	061704	602 01 0 00 000040 		TRNE	1,1B30
 28314						TEXT	[ASCIZ/
 28315	061705	030 00 0 00 076464 	TRADF	D16,D17,D20/]
 28316	061706	602 01 0 00 000020 		TRNE	1,1B31
 28317						TEXT	[ASCIZ/
 28318	061707	030 00 0 00 076470 	RD-WT	D20/]
 28319	061710	602 01 0 00 000010 		TRNE	1,1B32
 28320						TEXT	[ASCIZ/
 28321	061711	030 00 0 00 076473 	CSWUNS	D17,D20/]
 28322	061712	602 01 0 00 000004 		TRNE	1,1B33
 28323						TEXT	[ASCIZ/
 28324	061713	030 00 0 00 076477 	WSUNS	D16,D17,D20/]
 28325	061714	602 01 0 00 000002 		TRNE	1,1B34
 28326						TEXT	[ASCIZ/
 28327	061715	030 00 0 00 076503 	CSFAIL	D17,D20/]
 28328	061716	602 01 0 00 000001 		TRNE	1,1B35
 28329						TEXT	[ASCIZ/
 28330	061717	030 00 0 00 076507 	WCUNS	D17,D20/]
 28331	061720	037 00 0 00 030242 		PCRL
 28332
 28333	061721	200 01 0 00 077653 	ER3CK:	MOVE	1,SRPER3	;GET ER-3 DATA
 28334	061722	606 01 0 00 177777 		TRNN	1,177777	;ANY ERRORS ?
 28335	061723	254 00 0 00 061745 		JRST	ER23EX		;NO. EXIT
 28336	061724	602 01 0 00 100000 		TRNE	1,1B20
 28337						TEXT	[ASCIZ/
 28338	061725	030 00 0 00 076513 	OF-CYL	D11,D14,D15/]
 28339	061726	602 01 0 00 040000 		TRNE	1,1B21
 28340						TEXT	[ASCIZ/
 28341	061727	030 00 0 00 076520 	SKI	D11,D15,D16,D01,D14, SS(M7786), MB(M7788), PACK, SERVO HEAD/]
 28342	061730	602 01 0 00 020000 		TRNE	1,1B22
 28343						TEXT	[ASCIZ/
 28344	061731	030 00 0 00 076536 	OPE	D10,D02, MB(M7789), LOOSE ADDRESS PLUG, FAULTY SWITCH/]
 28345	061732	602 01 0 00 000100 		TRNE	1,1B29
 28346						TEXT	[ASCIZ/
 28347	061733	030 00 0 00 076552 	AC-LOW	POWER SUPPLY OR MONITOR IN DCL/]
 28348	061734	602 01 0 00 000040 		TRNE	1,1B30
 28349						TEXT	[ASCIZ/
 28350	061735	030 00 0 00 076562 	DC-LOW	POWER SUPPLY OR MONITOR IN DCL/]
 28351	061736	602 01 0 00 000020 		TRNE	1,1B31
 28352						TEXT	[ASCIZ/
 28353	061737	030 00 0 00 076572 	35VF	D20,D17,POWER SUPPLY FAULT/]
 28354	061740	602 01 0 00 000002 		TRNE	1,1B34
 28355						TEXT	[ASCIZ/
 28356	061741	030 00 0 00 076601 	WT-OFS	D20,D11,D01, MA(M7788), RG(M7774)/]
 28357	061742	602 01 0 00 000001 		TRNE	1,1B35
 28358						TEXT	[ASCIZ/
 28359	061743	030 00 0 00 076612 	DC-UNS	D04, POWER SUPPLY OR REGULATOR/]
 28360
 28361					 	XLIST
 28362						LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-58
DSRPA5	MAC	 2-Mar-79 10:45		GENERAL PRINT UTILITIES                                                            SEQ 0875

 28363	061744	037 00 0 00 030242 		PCRL
 28364	061745	262 17 0 00 000001 	ER23EX:	GET	1		;RESTORE THE AC
 28365	061746	263 17 0 00 000000 		RTN
 28366
 28367					SUBTTL SCOPE LOOPING AND ERROR REPORTING ROUTINE
 28368					 	XLIST
 28369					 	LIST
 28370						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-59
DSRPA5	MAC	 2-Mar-79 10:45		SCOPE LOOPING AND ERROR REPORTING ROUTINE                                          SEQ 0876

 28371					S^;*********************************************************************^
 28372					;*SCOPE - - ERROR REPORTER AND SCOPE LOOP CONTROLLER
 28373					S^;*********************************************************************^
 28374
 28375					COMMENT $
 28376
 28377						THIS ROUTINE IS RESPONSIBLE FOR ERROR REPORTING AND
 28378						SCOPE LOOPING WITHIN THIS DIAGNOSTIC. THE ERROR
 28379						LOOPING AND PRINT OPTIONS ARE CONTROLLED BY SWITCHES.
 28380
 28381						SWITCH OPTIONS:
 28382						---------------
 28383
 28384						SW5=0	NO BELL ON ERROR
 28385						SW5=1	RING BELL ON ERROR (FORCED)
 28386
 28387						SW6=0	PROCEED ON ERROR
 28388						SW6=1	LOOP ON FIRST OCCURANCE OF AN ERROR
 28389
 28390						SW7=0	DON'T HALT ON ERROR
 28391						SW7=1	HALT ON ERROR (EXEC MODE ONLY)
 28392
 28393						SW8=0	PRINT ERROR DATA ON FIRST OCCURANCE OF ERROR ONLY
 28394						SW8=1	PRINT ERROR DATA FOR ALL REPETITIVE ERRORS
 28395
 28396						SW19=0	DO SHORT MODULE CALLOUTS (HI PROBABILITY ONLY)
 28397						SW19=1	DO EXPANDED MODULE CALLOUTS (ALL MODULES)
 28398
 28399
 28400						THE FOLLOWING TWO LOCATIONS SHOULD BE INITIALIZED BY THE
 28401						MAINLINE TO 0 AT THE START OF EACH TEST.
 28402						ERFLG	ERROR/NO-ERROR FLAG
 28403						ERCNT	A LOCAL ERROR COUNTER
 28404
 28405
 28406						TWO ADDITIONAL FLAGS ARE AVAILABLE TO SOFTWARE FROM SCOPE.
 28407						"ERYET" & "ERYETU" THEY PROVIDE A WAY FOR THE DIAGNOSTIC
 28408						TO DETERMINE IF IT HAS JUST PROCEEDED ON ERROR FROM THE
 28409						PREVIOUS SCOPE CALL. THIS IS A MEANINGFUL DECISION SINCE
 28410						THERE ARE OCCASIONS IN BOTH USER AND/OR EXEC MODE WHEN
 28411						PROCEED ON ERROR IS NOT THE MOST APPROPRIATE ACTION.
 28412						THESE FLAGS NEED NOT BE INITIALIZED:
 28413
 28414						ERYET=0		(EXEC OR USER) NO ERROR ON LAST SCOPE CALL
 28415						ERYET=-1	(EXEC OR USER) ERROR ON LAST SCOPE CALL
 28416
 28417						ERYETU=0	GUARANTEED TO BE ZERO IN EXEC MODE
 28418						ERYETU=0	(USER MODE) NO ERROR ON LAST SCOPE CALL
 28419						ERYETU=-1	(USER MODE) ERROR ON LAST SCOPE CALL
 28420
 28421
 28422						THE SCOPE/ERROR HANDLER IS CALLED BY EXECUTING A UUO WHOSE
 28423						E-FIELD IS A POINTER TO ADDITIONAL ERROR INFORMATION.
 28424						THE UUO HAS A SKIP AND NON-SKIP RETURN TO PROVIDE THE NECESSARY
 28425						LOOPING CAPABILITIES. THE NON-SKIP RETURN IS THE LOOP ON ERROR
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-60
DSRPA5	MAC	 2-Mar-79 10:45		SCOPE LOOPING AND ERROR REPORTING ROUTINE                                          SEQ 0877

 28426						RETURN AND THE SKIP RETURN IS THE CONTINUE TEST (OR NO ERROR)
 28427						RETURN. PGM BRANCHING IS ACCOMPLISHED BY PLACING APPROPRIATE
 28428						JRSTS IN THE RETURN LOCATIONS.
 28429
 28430						A TYPICAL USE WOULD BE AS FOLLOWS:
 28431						----------------------------------
 28432
 28433							CONSZ   DEV,ARG	;TEST INSTRUCTION
 28434							SETOM	ERFLG	;DETECTED AN ERROR
 28435							SCOPE	TAG	;CALL THE ROUTINE VIA UUO
 28436							JRST	ERADR	;LOOP RETURN
 28437							JRST	OKADR	;CONTINUE RETURN
 28438
 28439						TAG:	ADR1,,ADR2	;POINTERS TO ADDITIONAL CODE
 28440							CONTROL BITS,,[ASCIZ/MSG1/] ;VARIABLE # OF MESSAGES
 28441							CONTROL BITS,,[ASCIZ/MSG2/]
 28442							Z		;END OF LIST MARKER
 28443
 28444						THE FIRST WORD OF THE TABLE POINTS TO 2 ADDITIONAL ROUTINES.
 28445						IF EITHER IS ZERO IT WILL BE IGNORED.
 28446
 28447						ADR1-POINTER TO ADDITIONAL I/O ROUTINE. NOTE: THIS ROUTINE IS
 28448						EXECUTED EACH TIME THE THE SCOPE ROUTINE IS ABOUT TO TAKE
 28449						THE LOOP RETURN, AND EACH TIME SCOPE IS ENTERED WITH
 28450						THE ERROR FLAG SET.
 28451
 28452						ADR2-POINTER TO ADDITIONAL PRINT ROUTINE
 28453
 28454						THE SECOND THRU (N OR N-1) WORDS IN THE TABLE, SPECIFY VARIOUS
 28455						ASCIZ MESSAGES THAT WILL BE PRINTED WHEN AN ERROR OCCURS,
 28456						BRANCH WORDS WHOSE RIGHT HAND SIDE SPECIFY WHERE
 28457						FOLLOWING DATA IN THE TABLE IS LOCATED, OR SUBROUTINE
 28458						CALL SPECIFIERS WHOSE RIGHT HAND SIDE IS THE ADDR OF
 28459						A NON-I/O SUBROUTINE TO BE EXECUTED.
 28460						MESSAGES MAY BE OF ANY TYPE. THE ROUTINE WILL AUTOMATICALLY
 28461						GIVE A FREE CRLF AT THE END OF EACH. THE RIGHT HALF OF EACH
 28462						WORD IS A POINTER TO THE START OF THE ASCIZ MESSAGE AND THE
 28463						LEFT HALF OF THE WORD IS USED TO FURNISH MESSAGE CONTROL
 28464						INFORMATION TO THE SCOPE UUO. SCOPE LOOKS AT THE FOLLOWING
 28465						CONTROL BITS FROM THE LEFT SIDE:
 28466
 28467						BIT0=0	MESSAGE IS NOT A MODULE CALLOUT MESSAGE
 28468						BIT0=1	MESSAGE IS A MODULE CALLOUT MESSAGE
 28469
 28470						BIT1=0	THIS IS A HIGH PROBABILITY MODULE
 28471						BIT1=1	THIS IS A LOW PROBABILITY MODULE
 28472
 28473						BIT2=0	MESSAGE IS NOT PRINTED IF TXTINH (SW10) IS SET
 28474						BIT2=1	MESSAGE IS PRINTED REGUARDLESS OF THE STATE OF TXTINH
 28475
 28476						BIT3=0	THIS IS NOT A BRANCH WORD
 28477						BIT3=1	THIS IS A BRANCH WORD AND ITS RIGHT HAND SIDE SPECIFIES
 28478							WHERE THE NEXT TABLE DATA IS FOUND.
 28479
 28480						BIT4=0	THIS IS NOT THE LAST TABLE ENTRY IF C(RIGHT) NON-0
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-61
DSRPA5	MAC	 2-Mar-79 10:45		SCOPE LOOPING AND ERROR REPORTING ROUTINE                                          SEQ 0878

 28481						BIT4=1	THIS ENTRY IS THE LAST ONE IN THE TABLE
 28482
 28483						BIT5=0	THIS WORD DOES NOT DEFINE A SUBROUTINE CALL
 28484						BIT5=1 	THIS WORD DEFINES A SUBROUTINE CALL. EXECUTE
 28485							THE SUBROUTINE WHOSE ADDR IS SPECIFIED BY
 28486							THE RIGHT HALF OF THE WORD. THESE ROUTINES ARE ONLY
 28487							EXECUTED WHEN SCOPE PRINTS ERROR INFORMATION
 28488
 28489
 28490						THE END OF THE TABLE IS ASSUMED WHEN EITHER A ZERO WORD IS
 28491						ENCOUNTERED IN THE 2ND THRU N WORDS OR A 1 IS FOUND IN SOME
 28492						WORDS CONTROL BIT POSITION 4
 28493
 28494						THE ABOVE MENTIONED CONTROLS GIVE THE USER A WAY TO FURNISH
 28495						LONG AND SHORT PRINT MODES, BRANCHING, AND ESTABLISH A 2 LEVEL
 28496						MODULE CALLOUT PRIORITY. LOW PROBABILITY MODULES ARE NOT PRINTED
 28497						UNLESS SWITCH-19 IS SET (EXPANDED CALLOUT OPTION)
 28498
 28499						THE FOLLOWING PRINTOUT IS THE STANDARD PRINTOUT IN THE
 28500						NORMAL PRINTOUT MODE: ......
 28501
 28502						ERROR: TEST-XXX RH-XXX DRIVE-X
 28503						SCOPE PC = XXXXXX   TEST PC = XXXXXX
 28504						DATA SWITCHES = XXXXXX XXXXXX
 28505
 28506						           ADDITIONAL PRINTING DONE BY THE           
 28507						           OPTIONAL PRINT ROUTINE                    
 28508
 28509						ALL MESSAGES FROM THE TABLE
 28510
 28511						----------------------------------------
 28512
 28513						THE FOLLOWING PRINTOUT IS THE STANDARD PRINTOUT IN THE
 28514						SHORT PRINTOUT MODE (TEXT INHIBIT IS SET):       
 28515
 28516						ERROR: SCOPE PC-XXXXXX TST-XXX DEV-XXX-X SW-XXXXXX XXXXXX
 28517
 28518						           ADDITIONAL PRINT ROUTINE     
 28519
 28520					        MESSAGES FROM TABLE WHOSE LEFT HALF PTR IS -1
 28521
 28522						---------------------------------------- 
 28523						$
 28524						XLIST
 28525					 	LIST^
 28526
 28527	061747	255 00 0 00 000000 	SCOPE.:	JFCL
 28528	061750	261 17 0 00 030114 		PUT	$SVUPC		;SAVE THE PC OF THE UUO
 28529	061751	261 17 0 00 030113 		PUT	$SVUUO		;SAVE THE ACTUAL UUO
 28530	061752	261 17 0 00 000000 		PUT	0		;SAVE SOME AC'S
 28531	061753	261 17 0 00 000001 		PUT	1
 28532	061754	261 17 0 00 000002 		PUT	2
 28533
 28534	061755	260 17 0 00 060556 		GO	CHKALT
 28535
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-62
DSRPA5	MAC	 2-Mar-79 10:45		SCOPE LOOPING AND ERROR REPORTING ROUTINE                                          SEQ 0879

 28536					;THE STACK NOW LOOKS LIKE THIS
 28537					; -5(P) THE RETURN ADDR FOR SCOPE UUO
 28538					; -4(P) THE ADDRESS FROM WHICH THE SCOPE UUO WAS CALLED
 28539					; -3(P) THE ACTUAL UUO THAT WAS EXECUTED "SCOPE"
 28540					; -2(P) AC0 FROM BEFORE THE UUO
 28541					; -1(P) AC1 FROM BEFORE THE UUO
 28542					;  0(P) AC2 FROM BEFORE THE UUO
 28543
 28544	061756	402 00 0 00 077273 		SETZM	ERYET#		;AN ERROR THIS TIME FLAG (EXEC USER)
 28545	061757	402 00 0 00 077274 		SETZM	ERYETU#		;SAME AS ABOVE BUT USER MODE ONLY
 28546	061760	336 00 0 00 030037 		SKIPN	USER		;IN USER MODE ?
 28547	061761	037 10 0 00 000002 		SWITCH			;NO. THEN DO A SWITCH UUO
 28548	061762	200 02 0 00 030046 		MOVE	2,CONSW		;GET SWITCH SETTINGS
 28549	061763	202 02 0 00 077324 		MOVEM	2,SCPSW#	;SAVE SWITCHES SEEN THIS TIME
 28550	061764	550 00 0 17 777774 		HRRZ	0,-4(P)		;GET PC OF THE SCOPE CALL
 28551	061765	550 01 0 00 077323 		HRRZ	1,SCPPC#	;GET PC OF LAST SCOPE CALL
 28552	061766	312 01 0 00 000000 		CAME	1,0		;ARE THEY THE SAME ?
 28553	061767	202 00 0 00 077323 		MOVEM	0,SCPPC		;NO. UPDATE SCOPE PC
 28554	061770	205 01 0 00 000001 		MOVSI	1,1		;NOW UPDATE LEFT HAND COUNT
 28555	061771	272 01 0 00 077323 		ADDM	1,SCPPC		;THIS DOES IT
 28556	061772	336 00 0 00 000010 		SKIPN	ERFLG#		;DID WE HAVE AN ERROR ?
 28557	061773	254 00 0 00 062131 		JRST	BRANCH		;NO. DO SWITCH OPTION TESTS
 28558	061774	350 00 0 00 077272 		AOS	ERRORT#		;BUMP A TOTAL COUNTER
 28559	061775	476 00 0 00 077273 		SETOM	ERYET		;SET FLAG SAYING ERROR THIS TIME
 28560	061776	332 00 0 00 030037 		SKIPE	USER		;IN USER MODE ?
 28561	061777	476 00 0 00 077274 		SETOM	ERYETU		;YES. THEN SET THIS FLAG ALSO
 28562	062000	200 00 0 00 077323 		MOVE	0,SCPPC		;GET CURRENT SCOPE PC
 28563	062001	312 00 0 00 030052 		CAME	0,ERRPC		;SAME AS ERROR PC
 28564	062002	402 00 0 00 077271 		SETZM	ERCNT		;NO. INIT FOR NEW REPORT
 28565	062003	202 00 0 00 030052 		MOVEM	0,ERRPC		;SAVE IT AS ERROR PC
 28566	062004	350 00 0 00 077271 		AOS	ERCNT#		;YES. COUNT THE ERROR
 28567
 28568	062005	550 00 0 17 777775 	SCOPE1:	HRRZ	0,-3(P)		;GET E-FIELD OF UUO
 28569	062006	322 00 0 00 062022 		JUMPE	0,SPC0		;BRANCH IF E-FIELD IS ZERO
 28570	062007	554 00 1 17 777775 		HLRZ	0,@-3(P)	;GET ADDR OF USER I/O OPTION ROUTINE
 28571	062010	322 00 0 00 062022 		JUMPE	0,SPC0		;IS THERE ONE ?
 28572	062011	250 02 0 17 000000 		EXCH	2,0(P)		;RESTORE THE USERS AC'S FOR HIM
 28573	062012	250 01 0 17 777777 		EXCH	1,-1(P)
 28574	062013	250 00 0 17 777776 		EXCH	0,-2(P)
 28575	062014	260 17 1 17 777776 		GO	@-2(P)		;GO TO HIS ROUTINE 
 28576	062015	255 00 0 00 000000 		JFCL			;SUPPORT MULTIPLE RETURNS
 28577	062016	255 00 0 00 000000 		JFCL
 28578	062017	250 02 0 17 000000 		EXCH	2,0(P)		;SAVE USERS AC'S AGAIN
 28579	062020	250 01 0 17 777777 		EXCH	1,-1(P)
 28580	062021	250 00 0 17 777776 		EXCH	0,-2(P)
 28581	062022	200 00 0 00 077271 	SPC0:	MOVE	0,ERCNT		;GET THE CURRENT ERROR COUNT
 28582	062023	307 00 0 00 000001 		CAIG	0,1		;IS THIS THE FIRST ERROR ?
 28583	062024	254 00 0 00 062027 		JRST	SPC1		;YES
 28584	062025	607 02 0 00 001000 		TLNN	2,(1B8)		;IS SWITCH 8 SET ?
 28585	062026	254 00 0 00 062121 		JRST	SCP2A		;NO. DON'T REPORT MULTIPLE ERRORS
 28586	062027	260 17 0 00 062205 	SPC1:	GO	ERHDR		;PRINT THE STANDARD ERROR HEADING
 28587	062030	550 00 0 17 777775 		HRRZ	0,-3(P)		;GET THE E-FIELD OF THE UUO
 28588	062031	322 00 0 00 062114 		JUMPE	0,SCOPE2	;BRANCH IF E-FIELD IS ZERO
 28589	062032	550 00 1 17 777775 		HRRZ	0,@-3(P)	;GET ADDR OF OPTIONAL PRINT ROUTINE
 28590	062033	322 00 0 00 062046 		JUMPE	0,SCP1A		;IS THERE ONE ?  BRANCH IF NOT.
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-63
DSRPA5	MAC	 2-Mar-79 10:45		SCOPE LOOPING AND ERROR REPORTING ROUTINE                                          SEQ 0880

 28591	062034	250 02 0 17 000000 		EXCH	2,0(P)		;RESTORE USERS AC'S FOR HIM
 28592	062035	250 01 0 17 777777 		EXCH	1,-1(P)
 28593	062036	250 00 0 17 777776 		EXCH	0,-2(P)
 28594	062037	260 17 1 17 777776 		GO	@-2(P)		;EXECUTE USERS ADDITIONAL ROUTINE
 28595	062040	255 00 0 00 000000 		JFCL			;SUPPORT MULTIPLE RETURNS
 28596	062041	255 00 0 00 000000 		JFCL
 28597	062042	250 02 0 17 000000 		EXCH	2,0(P)		;RE-SAVE USERS AC'S FOR HIM
 28598	062043	250 01 0 17 777777 		EXCH	1,-1(P)
 28599	062044	250 00 0 17 777776 		EXCH	0,-2(P)
 28600	062045	260 17 0 00 063452 		GO	.CRLF		;A CRLF FOR FORMAT NEATNESS
 28601	062046	350 00 0 17 777775 	SCP1A:	AOS	-3(P)		;BUMP E-FIELD POINTER
 28602	062047	336 00 1 17 777775 		SKIPN	@-3(P)		;IS THERE ANY TABLE DATA
 28603	062050	254 00 0 00 062114 		JRST	SCOPE2		;NO
 28604	062051	200 00 1 17 777775 		MOVE	0,@-3(P)	;FETCH TABLE WORD
 28605	062052	607 00 0 00 040000 		TLNN	0,(1B3)		;IS IT A BRANCH WORD (GO TO) ?
 28606	062053	254 00 0 00 062057 		JRST	SCP1B		;NO. MUST BE A MESSAGE
 28607	062054	275 00 0 00 000001 		SUBI	0,1 		;A BRANCH. ADJUST THE ADDRESS
 28608	062055	542 00 0 17 777775 		HRRM	0,-3(P)		;GIVES AN UPDATED E-FIELD
 28609	062056	254 00 0 00 062046 		JRST	SCP1A		;GET NEXT TABLE WORD
 28610
 28611	062057	607 00 0 00 010000 	SCP1B:	TLNN	0,(1B5)		;SUBROUTINE CALL ?
 28612	062060	254 00 0 00 062073 		JRST	SCP1C		;NO. TRY NEXT OPTION
 28613	062061	250 02 0 17 000000 		EXCH	2,0(P)		;YES. RESTORE USERS AC'S
 28614	062062	250 01 0 17 777777 		EXCH	1,-1(P)
 28615	062063	250 00 0 17 777776 		EXCH	0,-2(P)
 28616	062064	260 17 1 17 777776 		GO	@-2(P)		;CALL USERS ROUTINE
 28617	062065	255 00 0 00 000000 		JFCL			;SUPPORT MULTIPLE RETURNS
 28618	062066	255 00 0 00 000000 		JFCL
 28619	062067	250 02 0 17 000000 		EXCH	2,0(P)		;SAVE USER AC'S AGAIN
 28620	062070	250 01 0 17 777777 		EXCH	1,-1(P)
 28621	062071	250 00 0 17 777776 		EXCH	0,-2(P)
 28622	062072	254 00 0 00 062112 		JRST	SCPMS3		;GO CHECK FOR LAST ENTRY IN TABLE
 28623	062073	603 00 0 00 100000 	SCP1C:	TLNE	0,(1B2)		;WANT TO PRINT IF TXTINH SET ??
 28624	062074	254 00 0 00 062077 		JRST	SCPMS1		;YES
 28625	062075	603 02 0 00 000200 		TLNE	2,TXTINH	;NO. TXTINH SET ??
 28626	062076	254 00 0 00 062112 		JRST	SCPMS3		;YES.
 28627	062077	607 00 0 00 400000 	SCPMS1:	TLNN	0,(1B0)		;A MODULE CALLOUT MESSAGE ??
 28628	062100	254 00 0 00 062105 		JRST	SCPMS2		;NO.
 28629	062101	607 00 0 00 200000 		TLNN	0,(1B1)		;YES.  LOW PROBABILITY MODULE ??
 28630	062102	254 00 0 00 062105 		JRST	SCPMS2		;NO.
 28631	062103	606 02 0 00 200000 		TRNN	2,1B19		;YES.  ARE WE IN EXPANDED MODE ??
 28632	062104	254 00 0 00 062112 		JRST	SCPMS3		;NO.  THEN DON'T PRINT
 28633	062105	261 17 0 00 000000 	SCPMS2:	PUT	0		;SAVE. NEED CTRL BITS LATER
 28634	062106	621 00 0 00 777777 		TLZ	0,-1		;CLEAR LEFT BITS SO THE UUO WORKS 
 28635	062107	030 00 1 00 000000 		TEXT	@0		;PRINT THE MSG
 28636	062110	260 17 0 00 063452 		GO	.CRLF		;PRINT A CRLF
 28637	062111	262 17 0 00 000000 		GET	0		;NEED THIS FOR CONTROL BITS
 28638	062112	607 00 0 00 020000 	SCPMS3:	TLNN	0,(1B4)		;LAST ENTRY ??
 28639	062113	254 00 0 00 062046 		JRST	SCP1A		;NO. GET NXT MESSAGE
 28640	062114	201 00 0 00 000012 	SCOPE2:	MOVEI	0,^D10		;# OF DASHES IN SHORT PRINT MODE
 28641	062115	607 02 0 00 000200 		TLNN	2,TXTINH	;NORMAL OR SHORT MODE ?
 28642	062116	201 00 0 00 000050 		MOVEI	0,^D40		;NORMAL GETS MORE DASHES
 28643	062117	260 17 0 00 063435 		GO	MDASH		;PRINT MULTIPLE DASHES
 28644	062120	260 17 0 00 063452 		GO	.CRLF		;PRINT A CRLF
 28645	062121	607 02 0 00 010000 	SCP2A:	TLNN	2,(1B5)		;WANT TO RING BELL ON ERROR ?
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-64
DSRPA5	MAC	 2-Mar-79 10:45		SCOPE LOOPING AND ERROR REPORTING ROUTINE                                          SEQ 0881

 28646	062122	254 00 0 00 062125 		JRST	SCOPE3		;NO
 28647	062123	200 00 0 00 030256 		MOVE	0,BELL		;YES. PICK UP THE CHARACTER
 28648	062124	037 00 0 00 000001 		PNTAF			;AND FORCE PRINT IT
 28649	062125	332 00 0 00 030037 	SCOPE3:	SKIPE	USER		;ARE WE IN USER MODE ?
 28650	062126	254 00 0 00 062131 		JRST	BRANCH		;YES. DON'T ALLOW HALTS
 28651	062127	603 02 0 00 002000 		TLNE	2,(1B7)		;WANT TO HALT ON ERROR ?
 28652	062130	037 14 0 00 000004 		ERRHLT			;YES. THEN HALT !!
 28653
 28654	062131	200 00 0 00 077271 	BRANCH:	MOVE	0,ERCNT		;GET THE ERROR COUNT
 28655	062132	434 00 0 00 000010 		IOR	0,ERFLG		;OR-IN THE FLAG
 28656	062133	336 00 0 00 000000 		SKIPN	0		;TIME TO INIT ERRPC ??
 28657	062134	402 00 0 00 030052 		SETZM	ERRPC		;YES
 28658	062135	607 02 0 00 004000 		TLNN	2,(1B6)		;CONTINUE ON ERROR ?
 28659	062136	402 00 0 00 077271 		SETZM	ERCNT		;YES. CLEAR TOTAL ERROR COUNT
 28660	062137	607 02 0 00 004000 		TLNN	2,(1B6)		;SWITCH 6 SET ?
 28661	062140	254 00 0 00 062175 		JRST	BREX1		;NO. CONTINUE
 28662	062141	336 00 0 00 077271 		SKIPN	ERCNT		;ANY ERROR ?
 28663	062142	254 00 0 00 062175 		JRST	BREX1		;NO. CONTINUE
 28664	062143	550 00 0 00 030052 		HRRZ	0,ERRPC		;GET ERROR PC
 28665	062144	550 01 0 00 077323 		HRRZ	1,SCPPC		;GET SCOPE PC
 28666	062145	312 01 0 00 000000 		CAME	1,0		;TIME TO LOOP YET
 28667	062146	254 00 0 00 062175 		JRST	BREX1		;NO. TAKE SKIP RETURN
 28668	062147	554 00 0 00 030052 		HLRZ	0,ERRPC		;GET THE ASSOCIATED COUNTS
 28669	062150	554 01 0 00 077323 		HLRZ	1,SCPPC		;LIKEWISE
 28670	062151	315 01 0 00 000000 		CAMGE	1,0		;ARE WE THERE YET ?
 28671	062152	254 00 0 00 062175 		JRST	BREX1		;NO. TAKE THE SKIP RETURN
 28672	062153	402 00 0 00 077323 		SETZM	SCPPC		;TIME TO LOOP.
 28673	062154	332 00 0 00 000010 		SKIPE	ERFLG		;ERROR THIS TIME ??
 28674	062155	254 00 0 00 062176 		JRST	BREXC		;YES. NO NEED TO DO I/O. ITS BEEN DONE
 28675	062156	255 00 0 00 000000 		JFCL			;NO. MUST DO I/O ROUTINE
 28676	062157	550 00 0 17 777775 		HRRZ	0,-3(P)		;GET E-FIELD OF UUO
 28677	062160	322 00 0 00 062176 		JUMPE	0,BREXC		;BRANCH IF E-FIELD IS ZERO
 28678	062161	554 00 1 17 777775 		HLRZ	0,@-3(P)	;GET ADDR OF USER I/O OPTION ROUTINE
 28679	062162	322 00 0 00 062176 		JUMPE	0,BREXC		;IS THERE ONE ?
 28680	062163	250 02 0 17 000000 		EXCH	2,0(P)		;RESTORE THE USERS AC'S FOR HIM
 28681	062164	250 01 0 17 777777 		EXCH	1,-1(P)
 28682	062165	250 00 0 17 777776 		EXCH	0,-2(P)
 28683	062166	260 17 1 17 777776 		GO	@-2(P)		;GO TO HIS ROUTINE 
 28684	062167	255 00 0 00 000000 		JFCL			;SUPPORT MULTIPLE RETURNS
 28685	062170	255 00 0 00 000000 		JFCL
 28686	062171	250 02 0 17 000000 		EXCH	2,0(P)		;SAVE USERS AC'S AGAIN
 28687	062172	250 01 0 17 777777 		EXCH	1,-1(P)
 28688	062173	250 00 0 17 777776 		EXCH	0,-2(P)
 28689	062174	254 00 0 00 062176 		JRST	BREXC		;TAKE NON-SKIP RETURN
 28690	062175	350 00 0 17 777773 	BREX1:	AOS	-5(P)		;BUMPS THE RETURN ADDRESS
 28691	062176	402 00 0 00 000010 	BREXC:	SETZM	ERFLG		;CLEAR ERROR FLAG
 28692	062177	262 17 0 00 000002 		GET	2		;RESTORE THINGS
 28693	062200	262 17 0 00 000001 		GET	1
 28694	062201	262 17 0 00 000000 		GET	0
 28695	062202	262 17 0 00 030113 		GET	$SVUUO
 28696	062203	262 17 0 00 030114 		GET	$SVUPC
 28697	062204	263 17 0 00 000000 		RTN			;AND EXIT THE UUO FROM HERE.
 28698
 28699					;PRINT THE STANDARD HEADER MESSAGES
 28700
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-65
DSRPA5	MAC	 2-Mar-79 10:45		SCOPE LOOPING AND ERROR REPORTING ROUTINE                                          SEQ 0882

 28701	062205	261 17 0 00 000000 	ERHDR:	PUT	0		;SAVE AC
 28702
 28703					;THE STACK NOW LOOKS LIKE THIS
 28704					; -7(P) RETURN ADDR FOR THE SCOPE UUO
 28705					; -6(P) PC FROM WHICH SCOPE WAS EXECUTED
 28706					; -5(P) THE ACTUAL UUO THAT WAS EXECUTED "SCOPE"
 28707					; -4(P) AC0 BEFORE SCOPE
 28708					; -3(P) AC1 BEFORE SCOPE
 28709					; -2(P) AC2 BEFORE SCOPE
 28710					; -1(P) RTN ADDR FROM ERHDR
 28711					;  0(P) AC0 BEFORE ERHDR
 28712
 28713						TEXT	[ASCIZ/
 28714	062206	030 00 0 00 076622 	ERROR: /]
 28715	062207	603 02 0 00 000200 		TLNE	2,TXTINH	;NORMAL OR SHORT PRINTOUT
 28716	062210	254 00 0 00 062240 		JRST	ERSHRT		;SHORT PRINTOUT WANTED
 28717	062211	030 00 0 00 076624 	ERNRML:	TEXT	[ASCIZ/TEST-/]
 28718	062212	200 00 0 00 077346 		MOVE	0,TSTNUM	;GET TEST NUMBER OR NAME
 28719	062213	607 00 0 00 777777 		TLNN	0,777777	;ANY LEFT SIDE BITS SET ?
 28720	062214	254 00 0 00 062217 		JRST	.+3		;NO. ASSUME OCTAL
 28721	062215	037 00 0 00 000002 		PNTSIX			;YES. ASSUME SIXBIT
 28722	062216	334 00 0 00 000000 		SKIPA
 28723	062217	260 17 0 00 063470 		GO	POCT		;AND PRINT IT IN OCTAL
 28724	062220	030 00 0 00 076626 		TEXT	[ASCIZ/ RH BASE ADR-/]
 28725	062221	200 00 0 00 000013 		MOVE	MBCN
 28726	062222	037 16 0 00 000003 		PNTOCS			;PRINT RH BASE ADDRESS
 28727	062223	030 00 0 00 076342 		TEXT	[ASCIZ/ DRIVE-/]
 28728	062224	200 00 0 00 000014 		MOVE	0,DRIVE		;PRINTS THE DRIVE NUMBER
 28729	062225	037 01 0 00 000000 		PNT1			;NOW ...
 28730						TEXT	[ASCIZ/
 28731	062226	030 00 0 00 076631 	SCOPE PC = /]
 28732	062227	550 00 0 17 777772 		HRRZ	0,-6(P)		;GET ADR WHERE SCOPE WAS CALLED
 28733	062230	037 06 0 00 000000 		PNT6			;PRINT THE SCOPE PC
 28734	062231	030 00 0 00 076634 		TEXT	[ASCIZ/  START ADR OF TEST = /]
 28735	062232	200 00 0 00 030051 		MOVE	0,TESTPC	;GET THE ADDRESS OF START OF TEST
 28736	062233	037 06 0 00 000000 		PNT6			;AND PRINT IT
 28737						TEXT	[ASCIZ/
 28738	062234	030 00 0 00 076641 	DATA SWITCHES = /]
 28739	062235	200 00 0 00 000002 		MOVE	0,2		;PICK UP CURRENT SWITCHES IN EFFECT
 28740	062236	037 13 0 00 000000 		PNTHW			;AND PRINT THEIR STATE
 28741	062237	254 00 0 00 062263 		JRST	HDREX		;AND GO TO COMMON EXIT CODE
 28742
 28743	062240	030 00 0 00 076645 	ERSHRT:	TEXT	[ASCIZ/SCOPE PC-/]
 28744	062241	550 00 0 17 777772 		HRRZ	0,-6(P)		;PICK UP ERROR PC
 28745	062242	037 06 0 00 000000 		PNT6			;PRINT THE ERROR PC
 28746	062243	030 00 0 00 076647 		TEXT	[ASCIZ/TST-/]
 28747	062244	200 00 0 00 077346 		MOVE	0,TSTNUM	;GET THE TEST NUMBER
 28748	062245	607 00 0 00 777777 		TLNN	0,777777	;ANY LEFT SIDE BITS SET ?
 28749	062246	254 00 0 00 062251 		JRST	.+3		;NO. ASSUME OCTAL
 28750	062247	037 00 0 00 000002 		PNTSIX			;YES. ASSUME SIXBIT
 28751	062250	334 00 0 00 000000 		SKIPA
 28752	062251	260 17 0 00 063470 		GO	POCT		;PRINT THE TEST NUMBER IN OCTAL
 28753	062252	030 00 0 00 076650 		TEXT	[ASCIZ/ RH BASE-/]
 28754	062253	200 00 0 00 000013 		MOVE	MBCN
 28755	062254	037 16 0 00 000003 		PNTOCS			;PRINT RH BASE ADDRESS
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-66
DSRPA5	MAC	 2-Mar-79 10:45		SCOPE LOOPING AND ERROR REPORTING ROUTINE                                          SEQ 0883

 28756	062255	260 17 0 00 063416 		GO	.DASH		;PRINT A DASH
 28757	062256	200 00 0 00 000014 		MOVE	0,DRIVE		;GET THE DRIVE NUMBER
 28758	062257	037 01 0 00 000000 		PNT1			;PRINT IT
 28759	062260	030 00 0 00 076652 		TEXT	[ASCIZ/SW-/]
 28760	062261	200 00 0 00 000002 		MOVE	0,2		;GET DATA SWITCHES
 28761	062262	037 13 0 00 000000 		PNTHW			;PRINT THEIR STATE
 28762	062263	260 17 0 00 063452 	HDREX:	GO	.CRLF		;A CRLF
 28763	062264	260 17 0 00 063452 		GO	.CRLF
 28764	062265	262 17 0 00 000000 		GET	0		;RESTORE THE AC
 28765	062266	263 17 0 00 000000 		RTN			;AND EXIT
 28766					SUBTTL MASSBUS CONTROLLER UTILITY PKG
 28767
 28768						XLIST
 28769					 	LIST
 28770						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1
DSRPA6	MAC	23-Feb-79 09:42		MASSBUS CONTROLLER UTILITY PKG                                                     SEQ 0884

 28771					S^;*********************************************************************^
 28772					;*UBA PAGING RAM LOAD ROUTINE
 28773					S^;*********************************************************************^
 28774
 28775					COMMENT $
 28776
 28777						THE UNIBUS ADAPTER PAGING RAM IS LOADED BY SETTING UP
 28778					AC1 WITH THE APPROPRIATE ARGUMENTS AND CALLING THE
 28779					ROUTINE WITH A PUSHJ. THE ROUTINE RETURNS TO CALL +1.
 28780
 28781						CALLING	SEQ:
 28782						MOVE	1,ARG		;SETUP CALLING ARG
 28783						GO	LDRAM		;CALL THE ROUTINE
 28784						RTN			;RETURNS HERE ALWAYS
 28785
 28786						AC1:
 28787						SPECIFY THE FOLLOWING:
 28788						BITS 0 - 5  SPECIFY THE RAM LOC TO LOAD 00 THRU 77
 28789						BIT 18 = 1  ENABLE KS10 BUS RD-PSE-WRT CYLES FOR ODD/EVEN ADDR
 28790						BIT 19 = 1  ENABLE 16 BIT XFR'S TO UNIBUS (ENABLE PARITY CHK)
 28791						BIT 20 = 1  ENABLE 36 BIT XFR'S TO KS10 BUS (FAST TRANSFERS)
 28792						BIT 21 = 1  SET RAM LOCATION'S "VALID" BIT
 28793						BIT 25 - 35 SPECIFY KS10 MEMORY PAGE ADDRESS
 28794	
 28795						$
 28796						XLIST
 28797					 	LIST^
 28798
 28799	062267	261 17 0 00 000000 	LDRAM:	PUT	0		;SAVE AC'S
 28800	062270	261 17 0 00 000001 		PUT	1
 28801	062271	261 17 0 00 000002 		PUT	2
 28802
 28803	062272	200 02 0 00 077656 		MOVE	2,UBADDR	;GET UNIBUS ADAPTER BASE ADDR
 28804	062273	135 00 0 00 075171 		LDB	[POINT 6,1,5]	;GET SPECIFIED RAM LOC
 28805	062274	270 02 0 00 000000 		ADD	2,0		;FORM ADDRESS
 28806	062275	713 01 0 02 000000 		WRIO	1,(2)		;WRITE RAM LOC
 28807
 28808	062276	262 17 0 00 000002 		GET	2		;RESTORE AC'S
 28809	062277	262 17 0 00 000001 		GET	1
 28810	062300	262 17 0 00 000000 		GET	0
 28811	062301	263 17 0 00 000000 		RTN
 28812
 28813					 	XLIST
 28814					 	LIST
 28815						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-1
DSRPA6	MAC	23-Feb-79 09:42		MASSBUS CONTROLLER UTILITY PKG                                                     SEQ 0885

 28816					S^;*********************************************************************^
 28817					;*UBA PAGING RAM READ ROUTINE
 28818					S^;*********************************************************************^
 28819
 28820					COMMENT $
 28821
 28822					THE UNIBUS PAGING RAM IS READ BY SETTING UP AC1 WITH
 28823					THE APPROPRIATE ARGUMENTS AND CALLING THE ROUTINE WITH 
 28824					A PUSHJ. THE ROUTINE RETURNS TO CALL +1 ALWAYS. ON RETURN
 28825					AC1 WILL CONTAIN THE RAM DATA AS READ ALONG WITH THE LEAST
 28826					TWO SIGNIFICANT BITS OF THE ADDRESS BEING READ SET INTO BITS 
 28827					10 THRU 15.
 28828
 28829						CALLING SEQ:
 28830						MOVE	1,ARG		;SETUP CALLING ARG
 28831						GO	RDRAM		;CALL THE ROUTINE    
 28832						RTN		:RETURN HERE ALWAYS
 28833
 28834						AC1:
 28835						SPECIFY IN BITS 10-15 THE RAM LOCATION TO BE READ
 28836						LOCATIONS 00 THRU 77 ARE VALID.
 28837						$
 28838						XLIST
 28839					 	LIST^
 28840
 28841	062302	261 17 0 00 000000 	RDRAM:	PUT	0		;SAVE AC'S
 28842	062303	261 17 0 00 000001 		PUT	1
 28843	062304	261 17 0 00 000002 		PUT	2
 28844
 28845	062305	200 02 0 00 077656 		MOVE	2,UBADDR	;GET UNIBUS ADAPTER BASE ADDR
 28846	062306	135 00 0 00 076653 		LDB	[POINT 6,1,15]	;GET SPECIFIED RAM LOC
 28847	062307	270 02 0 00 000000 		ADD	2,0		;FORM ADDDRESS
 28848	062310	712 01 0 02 000000 		RDIO	1,(2)		;READ THE RAM LOC
 28849	062311	242 00 0 00 000024 		LSH	0,^D20		;POSITION RAM LOC READ
 28850	062312	434 01 0 00 000000 		IOR	1,0		;INCLUDE WITH RAM DATA
 28851	062313	250 01 0 17 777777 		EXCH	1,-1(P)		;PUT ON STACK
 28852
 28853	062314	262 17 0 00 000002 		GET	2
 28854	062315	262 17 0 00 000001 		GET	1
 28855	062316	262 17 0 00 000000 		GET	0
 28856	062317	263 17 0 00 000000 		RTN
 28857
 28858					SUBTTL	UNIBUS ADAPTER STATUS REG ROUTINES
 28859					 	XLIST
 28860					 	LIST
 28861						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-2
DSRPA6	MAC	23-Feb-79 09:42		UNIBUS ADAPTER STATUS REG ROUTINES                                                 SEQ 0886

 28862					S^;*********************************************************************^
 28863					;*UBA STATUS REGISTER LOAD ROUTINE
 28864					S^;*********************************************************************^
 28865
 28866					COMMENT $
 28867
 28868					THE UNIBUS ADAPTER STATUS REGISTER IS WRITTEN BY SETTING
 28869					UP AC1 WITH THE APPROPRIATE ARGUMENTS AND CALLING THE ROUTINE
 28870					WITH A PUSHJ. THE ROUTINE RETURNS TO CALL +1 ALWAYS
 28871
 28872						CALLING SEQ:
 28873						MOVE	1,ARG		;SETUP CALLING ARG
 28874						GO	LDUBAS		;CALL THE ROUTINE
 28875						RTN			;RETURN HERE
 28876
 28877						AC1:
 28878						SPECIFY DATA TO BE WRITTEN. THE BITS ARE DEFINED EXACTLY
 28879						ACCORDING TO BUS.TXT SPEC.
 28880						$
 28881						XLIST
 28882					 	LIST^
 28883
 28884	062320	261 17 0 00 000002 	LDUBAS:	PUT	2		;SAVE AC
 28885	062321	261 17 0 00 000001 		PUT	1
 28886
 28887	062322	200 02 0 00 077656 		MOVE	2,UBADDR	;GET BASE ADDR OF UNIBUS ADAPTER
 28888	062323	271 02 0 00 000100 		ADDI	2,100		;POINT TO STATUS REG
 28889	062324	713 01 0 02 000000 		WRIO	1,(2)		;WRITE STATUS REG
 28890	062325	606 01 0 00 000100 		TRNN	1,UBINIT	;ISSUED INIT
 28891	062326	254 00 0 00 062331 		JRST	.+3
 28892	062327	201 01 0 00 740000 		MOVEI	1,740000
 28893	062330	713 01 0 02 000000 		WRIO	1,(2)		;CLEAR  STATUS (FOR HARDWARE CROCK)
 28894
 28895	062331	262 17 0 00 000001 		GET	1
 28896	062332	262 17 0 00 000002 		GET	2
 28897	062333	263 17 0 00 000000 		RTN
 28898
 28899					 	XLIST
 28900					 	LIST
 28901						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-3
DSRPA6	MAC	23-Feb-79 09:42		UNIBUS ADAPTER STATUS REG ROUTINES                                                 SEQ 0887

 28902					S^;*********************************************************************^
 28903					;*UBA STATUS READ ROUTINE
 28904					S^;*********************************************************************^
 28905
 28906					COMMENT $
 28907
 28908					THE UNIBUS STATUS REGISTER IS READ BY CALLING THE ROUTINE
 28909					WITH A PUSHJ. THE ROUTINE WILL RETURN THE REGISTER DATA
 28910					IN AC1 EXACTLY AS READ.
 28911
 28912						CALLING	SEQ:
 28913						GO	RDUBAS		;CALL THE ROUTINE
 28914						RTN			;RETURNS HERE WITH DATA IN AC1
 28915	
 28916						$
 28917						XLIST
 28918					 	LIST^
 28919
 28920	062334	261 17 0 00 000002 	RDUBAS:	PUT	2
 28921
 28922	062335	200 02 0 00 077656 		MOVE	2,UBADDR	;GET UNIBUS ADAPTER BASE ADDR
 28923	062336	271 02 0 00 000100 		ADDI	2,100		;POINT TO STATUS REG
 28924	062337	712 01 0 02 000000 		RDIO	1,(2)		;READ THE REG
 28925
 28926	062340	262 17 0 00 000002 		GET	2
 28927	062341	263 17 0 00 000000 		RTN
 28928
 28929					SUBTTL UNIBUS ADAPTER STATUS REG + RAM PRINT ROUTINES
 28930					 	XLIST
 28931					 	LIST
 28932						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-4
DSRPA6	MAC	23-Feb-79 09:42		UNIBUS ADAPTER STATUS REG + RAM PRINT ROUTINES                                     SEQ 0888

 28933					S^;*********************************************************************^
 28934					;*UBA STATUS PRINT ROUTINE
 28935					S^;*********************************************************************^
 28936
 28937					COMMENT $
 28938
 28939					THERE ARE TWO MODES OF PROGRAM PRINTOUT: NORMAL (LONG) AND SHORT
 28940					(TEXT INHIBIT SWITCH SET). THE NORMAL MODE PRINTS THE REGISTER DATA
 28941					IN ENGLISH (SIXBIT FORMAT) WHILE THE SHORT PRINTOUT MODE PRINTS THE
 28942					REGISTER DATA IN HALFWORD OCTAL.
 28943
 28944						CALLING SEQ:
 28945						MOVE	1,ARG		;GET REGISTER DATA
 28946						GO	UBASPT		;PRINT IT
 28947						RTN			;RETURN HERE ALWAYS
 28948						$
 28949						XLIST
 28950					 	LIST^
 28951
 28952	062342	261 17 0 00 000000 	UBASPT:	PUT	0		;SAVE AC'S
 28953	062343	261 17 0 00 000002 		PUT	2
 28954	062344	030 00 0 00 076654 		TEXT	[ASCIZ/UBAS/]
 28955	062345	200 00 0 00 077656 		MOVE	0,UBADDR	;GET ADAPTER BASE ADDR
 28956	062346	271 00 0 00 000100 		ADDI	0,100		;POINT TO STATUS REG
 28957	062347	260 17 0 00 063413 		GO	.TAB
 28958	062350	260 17 0 00 063470 		GO	POCT		;PRINT IT
 28959	062351	030 00 0 00 076655 		TEXT	[ASCIZ/:   /]
 28960	062352	200 00 0 00 030046 		MOVE	0,CONSW		;GET CONSOLE SWITCHES
 28961	062353	332 00 0 00 077330 		SKIPE	SHMODE		;SHORT PRINTOUT
 28962	062354	254 00 0 00 062357 		JRST	.+3		;YES
 28963	062355	607 00 0 00 000200 		TLNN	TXTINH		;LONG OR SHORT PRINTOUT
 28964	062356	254 00 0 00 062362 		JRST	UBASP1		;NORMAL
 28965	062357	200 00 0 00 000001 		MOVE	0,1		;SHORT
 28966	062360	037 13 0 00 000000 		PNTHW
 28967	062361	254 00 0 00 062376 		JRST	UBASP2
 28968
 28969	062362	200 00 0 00 000001 	UBASP1:	MOVE	0,1		;PRINT IN OCTAL ALSO
 28970	062363	037 13 0 00 000000 		PNTHW
 28971	062364	201 02 0 00 062437 		MOVEI	2,UBASTB	;GET TABLE ADDR
 28972	062365	260 17 0 00 063330 		GO	TYPBIT		;PRINT DATA
 28973	062366	030 00 0 00 076656 		TEXT	[ASCIZ/ HI PIA=/]
 28974	062367	200 00 0 00 000001 		MOVE	0,1
 28975	062370	405 00 0 00 000007 		ANDI	7
 28976	062371	037 16 0 00 000003 		PNTOCS
 28977	062372	030 00 0 00 076660 		TEXT	[ASCIZ/, LO PIA=/]
 28978	062373	135 00 0 00 076662 		LDB	[POINT 3,1,32]
 28979	062374	037 16 0 00 000003 		PNTOCS
 28980	062375	260 17 0 00 063452 		GO	.CRLF
 28981	062376	260 17 0 00 063452 	UBASP2:	GO	.CRLF
 28982	062377	262 17 0 00 000002 		GET	2
 28983	062400	262 17 0 00 000000 		GET	0
 28984	062401	263 17 0 00 000000 		RTN
 28985
 28986					 	XLIST
 28987					 	LIST
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-5
DSRPA6	MAC	23-Feb-79 09:42		UNIBUS ADAPTER STATUS REG + RAM PRINT ROUTINES                                     SEQ 0889

 28988						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-6
DSRPA6	MAC	23-Feb-79 09:42		UNIBUS ADAPTER STATUS REG + RAM PRINT ROUTINES                                     SEQ 0890

 28989					S^;*********************************************************************^
 28990					;*UBA RAM PRINT ROUTINE
 28991					S^;*********************************************************************^
 28992
 28993					COMMENT $
 28994
 28995					THERE ARE TWO MODES OF PRINTOUT WITH THIS ROUTINE, NORMAL
 28996					(LONG)	AND SHORT (TEXT INHIBIT SWITCH SET). THE NORMAL
 28997					MODE PRINTS THE DATA IN ENGLISH (SIXBIT FORMAT) ALONG
 28998					WITH PRINTING THE KS10 PAGE ADDRESS IN OCTAL. THE SHORT
 28999					PRINTOUT WILL PRINT THE RAM LOCATION DATA IN HALF WORD
 29000					OCTAL MODE.
 29001
 29002						CALLING	SEQ:
 29003						MOVE	1,ARG		;SETUP RAM DATA
 29004						GO	RAMPT		;CALL THE ROUTINE
 29005						RTN			;RETURN HERE ALWAYS
 29006						$
 29007						XLIST
 29008					 	LIST^
 29009
 29010	062402	261 17 0 00 000000 	RAMPT:	PUT	0		;SAVE AC'S
 29011	062403	261 17 0 00 000001 		PUT	1
 29012	062404	261 17 0 00 000002 		PUT	2
 29013
 29014	062405	030 00 0 00 076663 		TEXT	[ASCIZ/UBARAM/]
 29015	062406	135 00 0 00 076653 		LDB	[POINT 6,1,15]
 29016	062407	270 00 0 00 077656 		ADD	0,UBADDR	;ADD UBA BASE ADDR
 29017	062410	260 17 0 00 063413 		GO	.TAB
 29018	062411	260 17 0 00 063470 		GO	POCT		;PRINT RAM LOCATION ADDR
 29019	062412	030 00 0 00 076665 		TEXT	[ASCIZ/:    /]
 29020	062413	621 01 0 00 000374 		TLZ	1,(77B15)	;CLEAR RAM SOFTWARE ADDR
 29021	062414	332 00 0 00 077330 		SKIPE	SHMODE		;SHORT PRINTOUT
 29022	062415	254 00 0 00 062421 		JRST	.+4		;YES
 29023	062416	200 00 0 00 030046 		MOVE	0,CONSW		;GET CONSOLE SWITCHES
 29024	062417	607 00 0 00 000200 		TLNN	TXTINH		;LONG OR SHORT PRINTOUT
 29025	062420	254 00 0 00 062424 		JRST	RAMPT1		;NORMAL
 29026	062421	200 00 0 00 000001 		MOVE	0,1		;SHORT
 29027	062422	037 13 0 00 000000 		PNTHW
 29028	062423	254 00 0 00 062432 		JRST	RAMPT2
 29029
 29030	062424	030 00 0 00 076667 	RAMPT1:	TEXT	[ASCIZ/PAGE ADDR=/]
 29031	062425	135 00 0 00 076672 		LDB	[POINT 9,1,26]
 29032	062426	260 17 0 00 063470 		GO	POCT		;PRINT RAM PAGE ADDR
 29033	062427	037 00 0 00 000054 		PNTCI	","
 29034	062430	201 02 0 00 062451 		MOVEI	2,RAMTBL	;GET TABLE ADDR
 29035	062431	260 17 0 00 063330 		GO	TYPBIT		;PRINT SIXBIT DATA
 29036	062432	260 17 0 00 063452 	RAMPT2:	GO	.CRLF
 29037	062433	262 17 0 00 000002 		GET	2
 29038	062434	262 17 0 00 000001 		GET	1
 29039	062435	262 17 0 00 000000 		GET	0
 29040	062436	263 17 0 00 000000 		RTN
 29041
 29042	062437	000000	747200		UBASTB:	747200
 29043	062440	000000	030500			030500
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-7
DSRPA6	MAC	23-Feb-79 09:42		UNIBUS ADAPTER STATUS REG + RAM PRINT ROUTINES                                     SEQ 0891

 29044	062441	64 51 55 57 65 64 		SIXBIT	/TIMOUT/
 29045	062442	42 55 44 00 00 00 		SIXBIT	/BMD/
 29046	062443	63 55 60 45 00 00 		SIXBIT	/SMPE/
 29047	062444	56 45 44 00 00 00 		SIXBIT	/NED/
 29048	062445	50 51 62 45 61 00 		SIXBIT	/HIREQ/
 29049	062446	54 57 62 45 61 00 		SIXBIT	/LOREQ/
 29050	062447	41 43 15 44 43 54 		SIXBIT	/AC-DCL/
 29051	062450	44 51 63 70 46 62 		SIXBIT	/DISXFR/
 29052
 29053	062451	037400	000000		RAMTBL:	037400,,0
 29054	062452	040374	000777			040374,,777
 29055	062453	60 41 62 42 51 64 		SIXBIT	/PARBIT/
 29056	062454	55 62 60 67 00 00 		SIXBIT	/MRPW/
 29057	062455	21 30 70 46 62 00 		SIXBIT	/18XFR/
 29058	062456	23 26 70 46 62 00 		SIXBIT	/36XFR/
 29059	062457	66 41 54 51 44 00 		SIXBIT	/VALID/
 29060	062460	45 66 60 41 62 00 		SIXBIT	/EVPAR/
 29061
 29062					SUBTTL	REGISTER PRINT ROUTINES
 29063					 	XLIST
 29064					 	LIST
 29065						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-8
DSRPA6	MAC	23-Feb-79 09:42		REGISTER PRINT ROUTINES                                                            SEQ 0892

 29066					S^;*********************************************************************^
 29067					;*REGISTER BIT PRINT ROUTINE
 29068					S^;*********************************************************************^
 29069
 29070					COMMENT $
 29071
 29072					THERE ARE TWO MODES OF PROGRAM PRINTOUT: NORMAL (LONG)
 29073					AND SHORT (TEXT INHIBIT SWITCH IS SET). THE NORMAL MODE
 29074					INTERPRETS THE REGISTER BITS IN ENGLISH (SIXBIT FORMAT)
 29075					WHILE THE SHORT PRINTOUT MODE PRINTS REGISTER DATA
 29076					AS SIX OCTAL DIGITS.
 29077
 29078						TO USE THE REGISTER PRINTER:
 29079							MOVE	AC1,ARG	;36 BIT WORD
 29080							GO	REGPNT	;PRINT IT
 29081							RETURN
 29082
 29083						THE REGISTER PRINTER GETS THE REGISTER NUMBER AND DRIVE
 29084						NUMBER FROM THE LEFT HALF OF THE WORD (AC1) RETURNED BY
 29085						THE READ REGISTER ROUTINE (RDREG).
 29086						$
 29087						XLIST
 29088					 	LIST^
 29089
 29090					;*ACCUMULATORS USED BY REGPNT . . 
 29091					;*AC	FUNCTION
 29092					;*--	--------
 29093					;*0	USED FOR PRINTING
 29094					;*1	HOLDS 36 BIT REGISTER DATA WORD
 29095					;*2	HOLDS REGISTER NUMBER (BITS 0-5)/2
 29096
 29097					;*3	HOLDS VARIOUS TABLE POINTERS
 29098					;*4	SCRATCH AC
 29099
 29100	062461	261 17 0 00 000000 	REGPNT:	PUT	0		;SAVE AC'S
 29101	062462	261 17 0 00 000001 		PUT	1
 29102	062463	261 17 0 00 000002 		PUT	2
 29103	062464	261 17 0 00 000003 		PUT	3
 29104	062465	261 17 0 00 000004 		PUT	4
 29105	062466	135 02 0 00 075171 		LDB	2,[POINT 6,1,5] ;FETCHES REGISTER NUMBER
 29106	062467	231 02 0 00 000002 		IDIVI	2,2		;ADJUST INDEX VALUE - BYTE / WORD OPR
 29107	062470	260 17 0 00 062523 		GO	RNAMPT		;PRINT REG NAME AND DEV CODE
 29108	062471	332 00 0 00 077330 		SKIPE	SHMODE#		;FORCED SHORT REG PRINT?
 29109	062472	254 00 0 00 062476 		JRST	.+4		;YES
 29110	062473	200 00 0 00 030046 		MOVE	CONSW		;GET SWITCHES
 29111	062474	607 00 0 00 000200 		TLNN	TXTINH		
 29112	062475	254 00 0 00 062506 		JRST	RPT1		;NORMAL PRINTOUT
 29113	062476	260 17 0 00 062534 		GO	DRPNT		;PRINT DRIVE #
 29114	062477	200 00 0 00 000001 		MOVE	0,1		;GET REGISTER DATA
 29115	062500	037 06 0 00 000000 		PNT6			;HALFWORD FOR SHORT PRINTOUT
 29116	062501	261 17 0 00 077330 		PUT	SHMODE		;SAVE PRINTOUT MODE
 29117	062502	402 00 0 00 077330 		SETZM	SHMODE		;FORCE TO LONG MODE
 29118	062503	260 17 0 00 062545 		GO	LFTBIT		;GETS YOU (NED,MCPE)
 29119	062504	262 17 0 00 077330 		GET	SHMODE		;RESTORE PRINTOUT MODE
 29120	062505	254 00 0 00 062514 		JRST	RPT2
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-9
DSRPA6	MAC	23-Feb-79 09:42		REGISTER PRINT ROUTINES                                                            SEQ 0893

 29121
 29122	062506	260 17 0 00 062534 	RPT1:	GO	DRPNT		;PRINT DRIVE IF EXTERNAL REG #
 29123
 29124	062507	200 00 0 00 000001 		MOVE	0,1		;GET REGISTER DATA
 29125	062510	037 06 0 00 000000 		PNT6			;PRINT OCTAL
 29126	062511	260 17 0 00 062545 		GO	LFTBIT		;PRINT LEFT SIDE BITS
 29127	062512	260 17 0 00 062554 		GO	RITBIT		;PRINT RIGHT SIDE BITS
 29128	062513	260 17 0 00 062563 		GO	BYTES		;PRINT BYTE ORGANIZED DATA
 29129
 29130	062514	260 17 0 00 063452 	RPT2:	GO	.CRLF		;AND ANOTHER
 29131	062515	262 17 0 00 000004 		GET	4		;CLEAN UP
 29132	062516	262 17 0 00 000003 		GET	3
 29133	062517	262 17 0 00 000002 		GET	2
 29134	062520	262 17 0 00 000001 		GET	1
 29135	062521	262 17 0 00 000000 		GET	0
 29136	062522	263 17 0 00 000000 		RTN
 29137
 29138					;*REGISTER SIXBIT NAME & DEVICE CODE PRINTER
 29139
 29140	062523	201 03 0 00 062601 	RNAMPT:	MOVEI	3,RNAM		;GET RP06 TABLE ADDR
 29141	062524	270 03 0 00 000002 		ADD	3,2		;INDEX INTO THE TABLE
 29142	062525	200 00 0 03 000000 		MOVE	(3)		;FETCH NAME FROM THE TABLE
 29143	062526	037 00 0 00 000002 		PNTSIX			;PRINT IT
 29144	062527	260 17 0 00 063413 		GO	.TAB		;FOLLOWED BY A TAB
 29145	062530	135 00 0 00 075171 		LDB	[POINT 6,1,5]	;GET SPECIFIED REG #
 29146	062531	270 00 0 00 000013 		ADD	0,MBCN		;FORM REG ADDRESS
 29147	062532	260 17 0 00 063470 		GO	POCT		;PRINT IN OCTAL
 29148	062533	263 17 0 00 000000 		RTN			;AND EXIT
 29149
 29150					;*PRINT DRIVE NUMBER IF EXTERNAL REGISTER
 29151
 29152	062534	260 17 0 00 062570 	DRPNT:	GO	REGTST		;INTERNAL OR EXTERNAL REG
 29153	062535	254 00 0 00 062543 		JRST	DRPNT1		;INTERNAL
 29154	062536	260 17 0 00 063416 		GO	.DASH		;PRINT A DASH
 29155	062537	135 00 0 00 076673 		LDB	[POINT 3,1,17]	;GET DRIVE NUMBER
 29156	062540	260 17 0 00 063470 		GO	POCT		;PRINT IT IN OCTAL
 29157	062541	030 00 0 00 070760 		TEXT	[ASCIZ/: /]
 29158	062542	263 17 0 00 000000 		RTN
 29159
 29160	062543	030 00 0 00 076655 	DRPNT1:	TEXT	[ASCIZ/:   /]
 29161	062544	263 17 0 00 000000 		RTN
 29162
 29163					;*PRINT LEFT SIDE OF EXTERNAL REGISTERS
 29164
 29165	062545	260 17 0 00 062570 	LFTBIT:	GO	REGTST		;INTERNAL OR EXTERNAL
 29166	062546	263 17 0 00 000000 		RTN			;INTERNAL REGISTER. EXIT
 29167	062547	261 17 0 00 000002 		PUT	2		;SAVE 	AC2
 29168	062550	201 02 0 00 062651 		MOVEI	2,LHTBL
 29169	062551	260 17 0 00 063330 		GO	TYPBIT		;PRINT SIXBIT DATA
 29170	062552	262 17 0 00 000002 		GET	2		;RESTORE THE AC
 29171	062553	263 17 0 00 000000 		RTN			;AND EXIT
 29172
 29173					;*PRINTS RIGHT SIDE OF REGISTERS
 29174
 29175	062554	261 17 0 00 000002 	RITBIT:	PUT	2
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-10
DSRPA6	MAC	23-Feb-79 09:42		REGISTER PRINT ROUTINES                                                            SEQ 0894

 29176	062555	201 03 0 00 062625 		MOVEI	3,REGSER	;GET RP06 TABLE ADDR
 29177	062556	270 03 0 00 000002 		ADD	3,2		;ADD REG # FOR INDEX
 29178	062557	550 02 0 03 000000 		HRRZ	2,(3)		;GET BIT TABLE ADDR
 29179	062560	260 17 0 00 063330 		GO	TYPBIT		;PRINT TABLE DATA
 29180	062561	262 17 0 00 000002 		GET	2
 29181	062562	263 17 0 00 000000 		RTN
 29182
 29183					;*DISPATCHES OFF TO THE PROPER BYTE SERVICE 
 29184
 29185	062563	201 03 0 00 062625 	BYTES:	MOVEI	3,REGSER	;GET DISPATCH ADDR
 29186	062564	270 03 0 00 000002 		ADD	3,2		;ADD REG # FOR PROPER INDEX
 29187	062565	554 03 1 00 000003 		HLRZ	3,@3		;GET SERVICE ROUTINE ADDR
 29188	062566	260 17 0 03 000000 		GO	(3)		;DISPATCH TO SERVICE ROUTINE
 29189	062567	263 17 0 00 000000 		RTN
 29190
 29191					;*THIS ROUTINE WILL TEST THE REG# CONTAINED IN AC2 TO
 29192					;*SEE IF AN INTERNAL OR EXTERNAL REGISTER IS SPECIFIED
 29193					;*THE ROUTINE WILL RETURN +1 FOR INTERNAL REGS AND +2
 29194					;*FOR EXTERNAL
 29195
 29196	062570	306 02 0 00 000001 	REGTST:	CAIN	2,1		;RHWC REG
 29197	062571	254 00 0 00 062600 		JRST	RGTSTX		;YES EXIT +1
 29198	062572	306 02 0 00 000002 		CAIN	2,2		;RHBA REG
 29199	062573	254 00 0 00 062600 		JRST	RGTSTX		;YES EXIT +1
 29200	062574	306 02 0 00 000004 		CAIN	2,4		;RHCS2 REG
 29201	062575	254 00 0 00 062600 		JRST	RGTSTX		;YES EXIT +1
 29202	062576	302 02 0 00 000011 		CAIE	2,11		;RHDB REG
 29203	062577	350 00 0 17 000000 		AOS	(P)		;NO EXTERNAL REG EXIT +2
 29204	062600	263 17 0 00 000000 	RGTSTX:	RTN
 29205
 29206					SUBTTL	REG PRINTER LOOKUP TABLES
 29207					 	XLIST
 29208					 	LIST
 29209						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-11
DSRPA6	MAC	23-Feb-79 09:42		REG PRINTER LOOKUP TABLES                                                          SEQ 0895

 29210					S^;*********************************************************************^
 29211					;*VARIOUS TABLES NEEDED BY PRINT ROUTINES
 29212					S^;*********************************************************************^
 29213
 29214					COMMENT $
 29215
 29216					THERE ARE SEVERAL TYPE TABLES HERE AND MOST ARE SELF
 29217					EXPLANITORY. THERE IS ONE TYPE THAT NEEDS CLARIFICATION.
 29218					SOME OF THE SIXBIT TABLES HAVE OCTAL WORDS AS THEIR FIRST
 29219					TWO ENTRIES FOLLOWED BY THE NORMAL LIST OF SIXBIT NAMES.
 29220					THESE TABLES ARE SET UP FOR USE WITH THE "TYPBIT" SUBROUTINE
 29221					AND THE FIRST TWO OCTAL WORDS ARE MASKS FOR "TYPBIT".
 29222					WORD 1: HAS A ONE IN EACH OF THE 36 BIT POSITIONS FOR WHICH
 29223						THERE IS A CORRESPONDING SIXBIT NAME.
 29224					WORD 2: HAS A ONE IN EACH BIT POSITION THAT SHOULD NEVER
 29225						BE NON-ZERO.
 29226						$
 29227						XLIST
 29228					 	LIST^
 29229
 29230					;*HERE ARE THE SIXBIT NAME TABLES FOR THE RH11/MASSBUS REGISTERS
 29231					;*THAT CAN BE INDEXED INTO BY THE REG # RETURNED IN BITS 0-5
 29232					;*OF AC1 BY THE READ REGISTER ROUTINE (RDREG).
 29233
 29234	062601	62 50 43 63 21 00 	RNAM:	SIXBIT/RHCS1/
 29235	062602	62 50 67 43 00 00 		SIXBIT/RHWC/
 29236	062603	62 50 42 41 00 00 		SIXBIT/RHBA/
 29237	062604	44 62 44 41 00 00 		SIXBIT/DRDA/
 29238	062605	62 50 43 63 22 00 		SIXBIT/RHCS2/
 29239	062606	44 62 63 62 00 00 		SIXBIT/DRSR/
 29240	062607	44 62 45 62 21 00 		SIXBIT/DRER1/
 29241	062610	44 62 41 63 00 00 		SIXBIT/DRAS/
 29242	062611	44 62 54 41 00 00 		SIXBIT/DRLA/
 29243	062612	62 50 44 42 00 00 		SIXBIT/RHDB/
 29244	062613	44 62 55 62 00 00 		SIXBIT/DRMR/
 29245	062614	44 62 44 64 00 00 		SIXBIT/DRDT/
 29246	062615	44 62 63 56 00 00 		SIXBIT/DRSN/
 29247	062616	44 62 57 46 00 00 		SIXBIT/DROF/
 29248	062617	44 62 44 43 00 00 		SIXBIT/DRDC/
 29249	062620	44 62 43 43 00 00 		SIXBIT/DRCC/
 29250	062621	44 62 45 62 22 00 		SIXBIT/DRER2/
 29251	062622	44 62 45 62 23 00 		SIXBIT/DRER3/
 29252	062623	44 62 45 43 21 00 		SIXBIT/DREC1/
 29253	062624	44 62 45 43 22 00 		SIXBIT/DREC2/
 29254
 29255					;*HERE IS THE REGISTER POINTER TABLE
 29256					;*THIS CAN BE INDEXED INTO BY BITS 0-5 OF THE 
 29257					;*WORD (AC1) RETURNED BY THE READ REGISTER ROUTINE
 29258
 29259					;*TABLE CONTENTS:
 29260					;*  POINTER TO BYTE PRINT ROUTINE,,POINTER TO APPROPRIATE BIT TABLE
 29261
 29262
 29263	062625	063071	062655		REGSER:	CS1SER,,CS1TBL
 29264	062626	063155	062706			WCSER,,WCTBL
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-12
DSRPA6	MAC	23-Feb-79 09:42		REG PRINTER LOOKUP TABLES                                                          SEQ 0896

 29265	062627	063163	062710			BASER,,BATBL
 29266	062630	063171	062777			DASER,,DATBL
 29267	062631	063147	062670			CS2SER,,CS2TBL
 29268	062632	075164	062712			[RTN],,SRTBL
 29269	062633	075164	062726			[RTN],,ER1TBL
 29270	062634	075164	062765			[RTN],,ASTBL
 29271	062635	063235	063007			LASER,,LATBLX
 29272	062636	063264	063005			DBSER,,DBTBL
 29273	062637	075164	062750			[RTN],,MRTBL
 29274	062640	063213	063003			DTSER,,DTTBL
 29275	062641	063246	063013			SNSER,,SNTBL
 29276	062642	063272	063015			OFSER,,OFTBL
 29277	062643	063303	063030			DCSER,,DCTBL
 29278	062644	063306	063030			CCSER,,CCTBL
 29279	062645	075164	063034			[RTN],,ER2TBL
 29280	062646	075164	063053			[RTN],,ER3TBL
 29281	062647	063314	063065			EC1SER,,EC1TBL
 29282	062650	063322	063067			EC2SER,,EC2TBL
 29283
 29284
 29285					;*LEFT SIDE BIT TABLE FOR EXTERNAL (DEVICE) REGISTERS
 29286					;*THESE BITS ARE SOFTWARE BITS RETURNED IN THE LEFT SIDE
 29287					;*OF AC1 WHEN AN REGISTER ACCESS ERROR HAS BEEN DETECTED BY
 29288					;*THE READ REGISTER ROUTINE RDREG.
 29289
 29290	062651	003000	000000		LHTBL:	3B8
 29291	062652	000000	000000			0
 29292	062653	10 56 45 44 11 00 		SIXBIT	/(NED)/
 29293	062654	10 55 43 60 45 11 		SIXBIT	/(MCPE)/
 29294
 29295
 29296
 29297					;*HERE ARE THE BIT PRINTER TABLES FOR RH11 AND MASSBUS REGS
 29298
 29299	062655	000000	167700		CS1TBL:	167700
 29300	062656	000000	610000			610000	
 29301	062657	63 43 00 00 00 00 		SIXBIT	/SC/
 29302	062660	64 62 45 00 00 00 		SIXBIT	/TRE/
 29303	062661	55 43 60 45 00 00 		SIXBIT	/MCPE/
 29304	062662	44 66 41 00 00 00 		SIXBIT	/DVA/
 29305	062663	60 63 45 54 00 00 		SIXBIT	/PSEL/
 29306	062664	41 21 27 00 00 00 		SIXBIT	/A17/
 29307	062665	41 21 26 00 00 00 		SIXBIT	/A16/
 29308	062666	62 44 71 00 00 00 		SIXBIT	/RDY/
 29309	062667	51 45 00 00 00 00 		SIXBIT	/IE/
 29310
 29311	062670	000000	177730		CS2TBL:	177730
 29312	062671	000000	600040			600040
 29313	062672	44 54 64 00 00 00 		SIXBIT	/DLT/
 29314	062673	67 43 45 00 00 00 		SIXBIT	/WCE/
 29315	062674	65 60 45 00 00 00 		SIXBIT	/UPE/
 29316	062675	56 45 44 00 00 00 		SIXBIT	/NED/
 29317	062676	56 45 55 00 00 00 		SIXBIT	/NEM/
 29318	062677	60 47 45 00 00 00 		SIXBIT	/PGE/
 29319	062700	55 70 46 00 00 00 		SIXBIT	/MXF/
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-13
DSRPA6	MAC	23-Feb-79 09:42		REG PRINTER LOOKUP TABLES                                                          SEQ 0897

 29320	062701	55 44 60 45 00 00 		SIXBIT	/MDPE/
 29321	062702	57 62 00 00 00 00 		SIXBIT	/OR/
 29322	062703	51 62 00 00 00 00 		SIXBIT	/IR/
 29323	062704	60 41 64 00 00 00 		SIXBIT	/PAT/
 29324	062705	42 41 51 00 00 00 		SIXBIT	/BAI/
 29325
 29326	062706	000000	000000		WCTBL:	0
 29327	062707	000000	600000			600000
 29328
 29329	062710	000000	000000		BATBL:	0
 29330	062711	000000	600000			600000
 29331
 29332	062712	000000	177700		SRTBL:	177700
 29333	062713	000000	600077			600077
 29334	062714	41 64 41 00 00 00 		SIXBIT	/ATA/
 29335	062715	45 62 62 00 00 00 		SIXBIT	/ERR/
 29336	062716	60 51 60 00 00 00 		SIXBIT	/PIP/
 29337	062717	55 57 54 00 00 00 		SIXBIT	/MOL/
 29338	062720	67 62 54 00 00 00 		SIXBIT	/WRL/
 29339	062721	54 63 64 00 00 00 		SIXBIT	/LST/
 29340	062722	60 47 55 00 00 00 		SIXBIT	/PGM/
 29341	062723	44 60 62 00 00 00 		SIXBIT	/DPR/
 29342	062724	44 62 71 00 00 00 		SIXBIT	/DRY/
 29343	062725	66 66 00 00 00 00 		SIXBIT	/VV/
 29344
 29345
 29346	062726	000000	177777		ER1TBL:	177777
 29347	062727	000000	600000			600000
 29348	062730	44 43 53 00 00 00 		SIXBIT	/DCK/
 29349	062731	65 56 63 00 00 00 		SIXBIT	/UNS/
 29350	062732	57 60 51 00 00 00 		SIXBIT	/OPI/
 29351	062733	44 64 45 00 00 00 		SIXBIT	/DTE/
 29352	062734	67 54 45 00 00 00 		SIXBIT	/WLE/
 29353	062735	51 41 45 00 00 00 		SIXBIT	/IAE/
 29354	062736	41 57 45 00 00 00 		SIXBIT	/AOE/
 29355	062737	50 43 62 43 00 00 		SIXBIT	/HCRC/
 29356	062740	50 43 45 00 00 00 		SIXBIT	/HCE/
 29357	062741	45 43 50 00 00 00 		SIXBIT	/ECH/
 29358	062742	67 43 46 00 00 00 		SIXBIT	/WCF/
 29359	062743	46 45 62 00 00 00 		SIXBIT	/FER/
 29360	062744	60 41 62 00 00 00 		SIXBIT	/PAR/
 29361	062745	62 55 62 00 00 00 		SIXBIT	/RMR/
 29362	062746	51 54 62 00 00 00 		SIXBIT	/ILR/
 29363	062747	51 54 46 00 00 00 		SIXBIT	/ILF/
 29364
 29365	062750	000000	003777		MRTBL:	003777
 29366	062751	000000	774000			774000
 29367	062752	50 51 15 43 56 64 		SIXBIT	/HI-CNT/
 29368	062753	63 71 56 42 51 64 		SIXBIT	/SYNBIT/
 29369	062754	72 62 57 44 45 64 		SIXBIT	/ZRODET/
 29370	062755	44 41 15 45 56 66 		SIXBIT	/DA-ENV/
 29371	062756	45 43 15 45 56 66 		SIXBIT	/EC-ENV/
 29372	062757	55 15 67 62 64 00 		SIXBIT	/M-WRT/
 29373	062760	55 15 62 44 00 00 		SIXBIT	/M-RD/
 29374	062761	55 15 63 43 54 53 		SIXBIT	/M-SCLK/
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-14
DSRPA6	MAC	23-Feb-79 09:42		REG PRINTER LOOKUP TABLES                                                          SEQ 0898

 29375	062762	55 15 51 56 44 70 		SIXBIT	/M-INDX/
 29376	062763	55 15 43 54 53 00 		SIXBIT	/M-CLK/
 29377	062764	55 15 55 57 44 45 		SIXBIT	/M-MODE/
 29378
 29379
 29380	062765	000000	000377		ASTBL:	000377
 29381	062766	000000	177400			177400
 29382	062767	41 64 41 15 20 27 		SIXBIT	/ATA-07/
 29383	062770	41 64 41 15 20 26 		SIXBIT	/ATA-06/
 29384	062771	41 64 41 15 20 25 		SIXBIT	/ATA-05/
 29385	062772	41 64 41 15 20 24 		SIXBIT	/ATA-04/
 29386	062773	41 64 41 15 20 23 		SIXBIT	/ATA-03/
 29387	062774	41 64 41 15 20 22 		SIXBIT	/ATA-02/
 29388	062775	41 64 41 15 20 21 		SIXBIT	/ATA-01/
 29389	062776	41 64 41 15 20 20 		SIXBIT	/ATA-00/
 29390
 29391	062777	000000	000000		DATBL:	0
 29392	063000	000000	760340			760340
 29393
 29394	063001	000000	000000		DATBLA:	0
 29395	063002	000000	774340			774340
 29396
 29397	063003	000000	000000		DTTBL: 0
 29398	063004	000000	753755			753755
 29399
 29400	063005	000000	000000		DBTBL:	0
 29401	063006	000000	000000			0
 29402
 29403	063007	000000	000000		LATBLX:	0
 29404	063010	000000	774000			774000
 29405
 29406	063011	000000	000000		LATBLA:	0
 29407	063012	000000	770077			770077
 29408
 29409	063013	000000	000000		SNTBL:	0
 29410	063014	000000	600000			600000
 29411
 29412	063015	000000	116000		OFTBL:	116000
 29413	063016	000000	661400			661400
 29414	063017	63 47 56 43 50 47 		SIXBIT	/SGNCHG/
 29415	063020	46 55 64 22 22 00 		SIXBIT	/FMT22/
 29416	063021	45 43 15 51 56 50 		SIXBIT	/EC-INH/
 29417	063022	50 43 15 51 56 50 		SIXBIT	/HC-INH/
 29418
 29419	063023	000000	016200		OFTBLA:	016200
 29420	063024	000000	761577			761577
 29421	063025	46 55 64 21 26 00 		SIXBIT	/FMT16/
 29422	063026	45 43 51 00 00 00 		SIXBIT	/ECI/
 29423	063027	50 43 51 00 00 00 		SIXBIT	/HCI/
 29424
 29425	063030				DCTBL:
 29426	063030	000000	000000		CCTBL:	0
 29427	063031	000000	776000			776000
 29428
 29429	063032	000000	000000		HLDTBL:	0
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-15
DSRPA6	MAC	23-Feb-79 09:42		REG PRINTER LOOKUP TABLES                                                          SEQ 0899

 29430	063033	000000	600000			600000
 29431
 29432	063034	000000	027777		ER2TBL:	027777
 29433	063035	000000	750000			750000
 29434	063036	60 54 65 00 00 00 		SIXBIT	/PLU/
 29435	063037	51 70 45 00 00 00 		SIXBIT	/IXE/
 29436	063040	56 50 63 00 00 00 		SIXBIT	/NHS/
 29437	063041	55 50 63 00 00 00 		SIXBIT	/MHS/
 29438	063042	67 62 65 00 00 00 		SIXBIT	/WRU/
 29439	063043	41 42 63 00 00 00 		SIXBIT	/ABS/
 29440	063044	64 65 46 00 00 00 		SIXBIT	/TUF/
 29441	063045	64 44 46 00 00 00 		SIXBIT	/TDF/
 29442	063046	62 41 67 00 00 00 		SIXBIT	/RAW/
 29443	063047	43 63 65 00 00 00 		SIXBIT	/CSU/
 29444	063050	67 63 65 00 00 00 		SIXBIT	/WSU/
 29445	063051	43 63 46 00 00 00 		SIXBIT	/CSF/
 29446	063052	67 43 65 00 00 00 		SIXBIT	/WCU/
 29447
 29448
 29449
 29450
 29451	063053	000000	160163		ER3TBL:	160163
 29452	063054	000000	617614			617614
 29453	063055	57 43 71 00 00 00 		SIXBIT	/OCY/
 29454	063056	63 53 51 00 00 00 		SIXBIT	/SKI/
 29455	063057	57 60 45 00 00 00 		SIXBIT	/OPE/
 29456	063060	41 43 54 00 00 00 		SIXBIT	/ACL/
 29457	063061	44 43 54 00 00 00 		SIXBIT	/DCL/
 29458	063062	23 25 46 00 00 00 		SIXBIT	/35F/
 29459	063063	67 41 57 00 00 00 		SIXBIT	/WAO/
 29460	063064	44 43 65 00 00 00 		SIXBIT	/DCU/
 29461
 29462	063065	000000	000000		EC1TBL:	0
 29463	063066	000000	760000			760000
 29464
 29465	063067	000000	000000		EC2TBL:	0
 29466	063070	000000	774000			774000
 29467
 29468					SUBTTL	REGISTER BYTE INFORMATION PRINTERS
 29469					 	XLIST
 29470					 	LIST
 29471						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-16
DSRPA6	MAC	23-Feb-79 09:42		REGISTER BYTE INFORMATION PRINTERS                                                 SEQ 0900

 29472					S^;*********************************************************************^
 29473					;*REGISTER BYTE PRINT ROUTINES
 29474					S^;*********************************************************************^
 29475
 29476					COMMENT $
 29477
 29478					THESE ARE THE ROUTINES THAT PRINT THE DATA FROM
 29479					VARIOUS REGISTERS WHEN THE DATA IS ORGANIZED IN
 29480					BYTES.
 29481						$
 29482						XLIST
 29483					 	LIST^
 29484
 29485	063071	261 17 0 00 000000 	CS1SER:	PUT	0
 29486	063072	261 17 0 00 000002 		PUT	2
 29487	063073	030 00 0 00 076674 		TEXT	[ASCIZ/ FNCTN(30-34)=/]
 29488	063074	201 02 0 00 063107 		MOVEI	2,RPFNCT	;GET SIXBIT TABLE ADDR
 29489	063075	135 00 0 00 076677 		LDB	0,[POINT 5,1,34]	;GET FUNCT BITS
 29490	063076	270 02 0 00 000000 		ADD	2,0		;MAKE AN INDEX POINTER
 29491	063077	200 00 0 02 000000 		MOVE	0,(2)		;FETCH SIXBIT NAME
 29492	063100	037 00 0 00 000002 		PNTSIX			;PRINT IN SIXBIT
 29493	063101	030 00 0 00 076700 		TEXT	[ASCIZ/, GO-BIT=/]
 29494	063102	135 00 0 00 076702 		LDB	[POINT 1,1,35]
 29495	063103	037 01 0 00 000000 		PNT1
 29496	063104	262 17 0 00 000002 		GET	2
 29497	063105	262 17 0 00 000000 		GET	0
 29498	063106	263 17 0 00 000000 		RTN
 29499
 29500					;*HERE'S THE CONTROL REG FUNCTION TABLE
 29501					;*WITHOUT THE GO BIT
 29502
 29503	063107	56 57 15 57 60 00 	RPFNCT:	SIXBIT	/NO-OP/
 29504	063110	65 56 54 57 41 44 		SIXBIT	/UNLOAD/
 29505	063111	63 45 45 53 00 00 		SIXBIT	/SEEK/
 29506	063112	62 45 43 41 54 00 		SIXBIT	/RECAL/
 29507	063113	44 62 66 43 54 62 		SIXBIT	/DRVCLR/
 29508	063114	62 45 54 63 45 00 		SIXBIT	/RELSE/
 29509	063115	57 46 46 63 45 64 		SIXBIT	/OFFSET/
 29510	063116	62 64 56 15 43 54 		SIXBIT	/RTN-CL/
 29511	063117	62 45 41 44 51 56 		SIXBIT	/READIN/
 29512	063120	60 41 53 41 43 53 		SIXBIT	/PAKACK/
 29513	063121	51 54 46 15 21 22 		SIXBIT	/ILF-12/
 29514	063122	51 54 46 15 21 23 		SIXBIT	/ILF-13/
 29515	063123	63 45 41 62 43 50 		SIXBIT	/SEARCH/
 29516	063124	51 54 46 15 21 25 		SIXBIT	/ILF-15/
 29517	063125	51 54 46 15 21 26 		SIXBIT	/ILF-16/
 29518	063126	51 54 46 15 21 27 		SIXBIT	/ILF-17/
 29519	063127	51 54 46 15 22 20 		SIXBIT	/ILF-20/
 29520	063130	51 54 46 15 22 21 		SIXBIT	/ILF-21/
 29521	063131	51 54 46 15 22 22 		SIXBIT	/ILF-22/
 29522	063132	51 54 46 15 22 23 		SIXBIT	/ILF-23/
 29523	063133	67 64 43 53 44 00 		SIXBIT	/WTCKD/
 29524	063134	67 64 43 53 50 44 		SIXBIT	/WTCKHD/
 29525	063135	51 54 46 15 22 26 		SIXBIT	/ILF-26/
 29526	063136	51 54 46 15 22 27 		SIXBIT	/ILF-27/
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-17
DSRPA6	MAC	23-Feb-79 09:42		REGISTER BYTE INFORMATION PRINTERS                                                 SEQ 0901

 29527	063137	67 62 64 44 64 41 		SIXBIT	/WRTDTA/
 29528	063140	67 62 64 50 13 44 		SIXBIT	/WRTH+D/
 29529	063141	51 54 46 15 23 22 		SIXBIT	/ILF-32/
 29530	063142	51 54 46 15 23 23 		SIXBIT	/ILF-33/
 29531	063143	62 45 41 44 00 00 		SIXBIT	/READ/
 29532	063144	62 44 50 13 44 00 		SIXBIT	/RDH+D/
 29533	063145	51 54 46 15 23 26 		SIXBIT	/ILF-36/
 29534	063146	51 54 46 15 23 27 		SIXBIT	/ILF-37/
 29535
 29536	063147	261 17 0 00 000000 	CS2SER:	PUT	0
 29537	063150	030 00 0 00 076703 		TEXT	[ASCIZ/ DRIVE=/]
 29538	063151	135 00 0 00 076705 		LDB	[POINT 3,1,35]
 29539	063152	037 01 0 00 000000 		PNT1
 29540	063153	262 17 0 00 000000 		GET	0
 29541	063154	263 17 0 00 000000 		RTN
 29542
 29543	063155	261 17 0 00 000000 	WCSER:	PUT	0
 29544	063156	030 00 0 00 076706 		TEXT	[ASCIZ/ WORD CNT = /]
 29545	063157	135 00 0 00 063764 		LDB	[POINT 16,1,35]
 29546	063160	037 06 0 00 000000 		PNT6
 29547	063161	262 17 0 00 000000 		GET	0
 29548	063162	263 17 0 00 000000 		RTN
 29549
 29550	063163	261 17 0 00 000000 	BASER:	PUT	0
 29551	063164	030 00 0 00 076711 		TEXT	[ASCIZ/ BUS ADDR = /]
 29552	063165	135 00 0 00 063764 		LDB	[POINT 16,1,35]
 29553	063166	037 06 0 00 000000 		PNT6
 29554	063167	262 17 0 00 000000 		GET	0
 29555	063170	263 17 0 00 000000 		RTN
 29556
 29557	063171	261 17 0 00 000000 	DASER:	PUT	0
 29558	063172	030 00 0 00 076714 		TEXT	[ASCIZ/ SURFACE=/]
 29559	063173	135 00 0 00 076716 		LDB	[POINT 5,1,27]
 29560	063174	260 17 0 00 063470 		GO	POCT
 29561	063175	030 00 0 00 076717 		TEXT	[ASCIZ/, SECTOR=/]
 29562	063176	135 00 0 00 076721 		LDB	[POINT 5,1,35]
 29563	063177	260 17 0 00 063470 		GO	POCT
 29564	063200	262 17 0 00 000000 		GET	0
 29565	063201	263 17 0 00 000000 		RTN
 29566
 29567	063202	261 17 0 00 000000 	DASERA:	PUT	0
 29568	063203	030 00 0 00 076714 		TEXT	[ASCIZ/ SURFACE=/]
 29569	063204	135 00 0 00 076722 		LDB	[POINT 3,1,27]
 29570	063205	260 17 0 00 063470 		GO	POCT
 29571	063206	030 00 0 00 076717 		TEXT	[ASCIZ/, SECTOR=/]
 29572	063207	135 00 0 00 076721 		LDB	[POINT 5,1,35]
 29573	063210	260 17 0 00 063470 		GO	POCT
 29574	063211	262 17 0 00 000000 		GET	0
 29575	063212	263 17 0 00 000000 		RTN
 29576
 29577	063213	261 17 0 00 000000 	DTSER:	PUT	0
 29578	063214	261 17 0 00 000002 		PUT	2
 29579	063215	402 00 0 00 000000 		SETZM	0
 29580	063216	030 00 0 00 076723 		TEXT	[ASCIZ/ DRIVE TYPE=/]
 29581	063217	135 02 0 00 065515 		LDB	2,[POINT 15,1,35]
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-18
DSRPA6	MAC	23-Feb-79 09:42		REGISTER BYTE INFORMATION PRINTERS                                                 SEQ 0902

 29582	063220	306 02 0 00 020022 		CAIN	2,20022
 29583	063221	201 00 0 00 076726 		MOVEI	[ASCIZ/SINGLE PORTED RP06/]
 29584	063222	306 02 0 00 024022 		CAIN	2,24022
 29585	063223	201 00 0 00 076732 		MOVEI	[ASCIZ/DUAL PORTED RP06/]
 29586	063224	332 00 0 00 000000 		SKIPE	0
 29587	063225	254 00 0 00 063231 		JRST	.+4
 29588	063226	200 00 0 00 000002 		MOVE	0,2
 29589	063227	037 05 0 00 000000 		PNT5
 29590	063230	201 00 0 00 076736 		MOVEI	[ASCIZ/ NON-SUPPORTED DRIVE/]
 29591	063231	037 17 0 00 000000 		PNTAL
 29592	063232	262 17 0 00 000002 		GET	2
 29593	063233	262 17 0 00 000000 		GET	0
 29594	063234	263 17 0 00 000000 		RTN
 29595
 29596	063235	261 17 0 00 000000 	LASER:	PUT	0
 29597	063236	030 00 0 00 076743 		TEXT	[ASCIZ/ SECTOR=/]
 29598	063237	135 00 0 00 067476 		LDB	[POINT	5,1,29]
 29599	063240	260 17 0 00 063470 		GO	POCT
 29600	063241	030 00 0 00 076745 		TEXT	[ASCIZ/ EXTENSION=/]
 29601	063242	135 00 0 00 066742 		LDB	[POINT	6,1,35]
 29602	063243	260 17 0 00 063470 		GO	POCT
 29603	063244	262 17 0 00 000000 		GET	0
 29604	063245	263 17 0 00 000000 		RTN
 29605
 29606
 29607
 29608	063246	261 17 0 00 000000 	SNSER:	PUT	0
 29609	063247	030 00 0 00 076750 		TEXT	[ASCIZ/ DRIVE SER. NO.=/]
 29610	063250	135 00 0 00 076754 		LDB	[POINT 4,1,23]	;PRINT IN BCD
 29611	063251	037 15 0 00 000000 		PNTDEC
 29612	063252	135 00 0 00 076755 		LDB	[POINT 4,1,27]
 29613	063253	037 15 0 00 000000 		PNTDEC
 29614	063254	135 00 0 00 076756 		LDB	[POINT	4,1,31]
 29615	063255	037 15 0 00 000000 		PNTDEC
 29616	063256	135 00 0 00 076757 		LDB	[POINT 4,1,35]
 29617	063257	037 15 0 00 000000 		PNTDEC
 29618	063260	260 17 0 00 063421 		GO	.PERIOD
 29619	063261	030 00 0 00 064364 		TEXT	[ASCIZ/ /]
 29620	063262	262 17 0 00 000000 		GET	0
 29621	063263	263 17 0 00 000000 		RTN
 29622
 29623	063264	261 17 0 00 000000 	DBSER:	PUT	0
 29624	063265	030 00 0 00 076760 		TEXT	[ASCIZ/ DATA BUFFER=/]
 29625	063266	135 00 0 00 076763 		LDB	[POINT 18,1,35]
 29626	063267	037 06 0 00 000000 		PNT6
 29627	063270	262 17 0 00 000000 		GET	0
 29628	063271	263 17 0 00 000000 		RTN
 29629
 29630	063272	261 17 0 00 000000 	OFSER:	PUT	0
 29631	063273	030 00 0 00 076764 		TEXT	[ASCIZ/ OFFSET=/]
 29632	063274	135 00 0 00 076766 		LDB	[POINT	7,1,35]
 29633	063275	221 00 0 00 000031 		IMULI	^D25		;25 U-IN PER CNT
 29634	063276	602 01 0 00 000200 		TRNE	1,1B28		;ESTABLISH DIRECTION
 29635	063277	213 00 0 00 000000 		MOVNS
 29636	063300	260 17 0 00 063457 		GO	PSDN		;PRINT IN DECIMAL
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-19
DSRPA6	MAC	23-Feb-79 09:42		REGISTER BYTE INFORMATION PRINTERS                                                 SEQ 0903

 29637	063301	262 17 0 00 000000 		GET	0
 29638	063302	263 17 0 00 000000 		RTN
 29639
 29640
 29641	063303	261 17 0 00 000000 	DCSER:	PUT	0
 29642	063304	030 00 0 00 076767 		TEXT	[ASCIZ/ DESIRED CYLINDER=/]
 29643	063305	254 00 0 00 063310 		JRST	R1213C
 29644
 29645	063306	261 17 0 00 000000 	CCSER:	PUT	0
 29646	063307	030 00 0 00 076773 		TEXT	[ASCIZ/ CURRENT CYLINDER=/]
 29647	063310	135 00 0 00 065616 	R1213C:	LDB	[POINT 10,1,35]
 29648	063311	037 16 0 00 000003 		PNTOCS
 29649	063312	262 17 0 00 000000 		GET	0
 29650	063313	263 17 0 00 000000 		RTN
 29651
 29652	063314	261 17 0 00 000000 	EC1SER:	PUT	0
 29653	063315	030 00 0 00 076777 		TEXT	[ASCIZ/ ECC POSITION=/]
 29654	063316	135 00 0 00 077002 		LDB	[POINT 13,1,35]
 29655	063317	260 17 0 00 063457 		GO	PSDN		;PRINT IN DECIMAL
 29656	063320	262 17 0 00 000000 		GET	0
 29657	063321	263 17 0 00 000000 		RTN
 29658
 29659	063322	261 17 0 00 000000 	EC2SER:	PUT	0
 29660	063323	030 00 0 00 077003 		TEXT	[ASCIZ/ ECC PATTERN=/]
 29661	063324	135 00 0 00 077006 		LDB	[POINT	11,1,35]
 29662	063325	037 04 0 00 000000 		PNT4
 29663	063326	262 17 0 00 000000 		GET	0
 29664	063327	263 17 0 00 000000 		RTN
 29665
 29666						XLIST
 29667					 	LIST
 29668						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-20
DSRPA6	MAC	23-Feb-79 09:42		REGISTER BYTE INFORMATION PRINTERS                                                 SEQ 0904

 29669					S^;*********************************************************************^
 29670					;*TYPBIT - - TABLE BIT PRINTER
 29671					S^;*********************************************************************^
 29672
 29673					COMMENT $
 29674
 29675					THIS ROUTINE IS USED TO TRANSLATE ONES IN A 36 BIT
 29676					DATA WORD TO A SERIES OF EQUIV. SIXBIT MESSAGES TAKEN
 29677					FROM A TABLE. THE DESCRIPTION OF THE TABLE LAYOUT IS FOUND 
 29678					AT THE START OF THE TABLE SECTION. THIS ROUTINE MERELY
 29679					TRANSLATES ONE TO SIXBIT MESSAGES AND ALSO TYPES ERROR
 29680					MESSAGES IF IT FINDS ONES IN BIT POSITIONS WHERE THEY ARE 
 29681					NOT EXPECTED.
 29682
 29683						EG.	MOVE 	AC1,ARG1	;36 BITS OF DATA
 29684							MOVE	AC2,ARG2	;POINTER TO DESCRIPTOR TABLE
 29685							GO	TYPBIT	;CALL THE ROUTINE
 29686							RETURN		;RETURNS +1 ALWAYS
 29687						$
 29688						XLIST
 29689					 	LIST^
 29690
 29691
 29692					;*FUNCTIONS OF AC'S FOR THIS ROUTINE
 29693					;*AC	FUNCTION
 29694					;*--	----------
 29695					;*0	USED FOR PRINTING
 29696					;*1	HOLDS 36 BIT DATA WORD
 29697					;*2	HOLDS UPDATED TABLE POINTER
 29698					;*3	HOLDS MASK 1 (EXPECTED 1'S)
 29699					;*4	HOLDS MASK 2 (EXPECTED 0'S)
 29700					;*5	A SINGLE BIT MASK (SHIFTS TO RIGHT)
 29701					;*6	A SCRATCH AC FOR A JFFO
 29702	
 29703
 29704	063330	261 17 0 00 000000 	TYPBIT:	PUT	0		;SAVE AC0
 29705	063331	332 00 0 00 077330 		SKIPE	SHMODE		;SHORT PRINT FORCED?
 29706	063332	254 00 0 00 063335 		JRST	.+3		;YES
 29707	063333	200 00 0 00 030046 		MOVE	CONSW		;GET CONSOLE SWITCHES
 29708	063334	603 00 0 00 000200 		TLNE	TXTINH		;SHORT PRINTOUT ONLY ??
 29709	063335	254 00 0 00 063373 		JRST	EXG0		;YES. THEN EXIT
 29710	063336	261 17 0 00 000001 		PUT	1		;NO. SAVE SOME MORE
 29711	063337	261 17 0 00 000002 		PUT	2
 29712	063340	261 17 0 00 000003 		PUT	3
 29713	063341	261 17 0 00 000004 		PUT	4
 29714	063342	261 17 0 00 000005 		PUT	5
 29715	063343	261 17 0 00 000006 		PUT	6
 29716
 29717					;*GET THE AC'S READY TO GO
 29718
 29719	063344	271 02 0 00 000002 		ADDI	2,2		;GET POINTER TO FIRST MESSAGE
 29720	063345	200 03 0 02 777776 		MOVE	3,-2(2)		;GETS FIRST MASK WORD
 29721	063346	200 04 0 02 777777 		MOVE	4,-1(2)		;GETS SECOND MASK WORD
 29722	063347	400 05 0 00 000000 		SETZ	5,		;CLEAR THE MASK
 29723	063350	661 05 0 00 400000 		TLO	5,(1B0)		;AND CREATE A SINGLE BIT MASK
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-21
DSRPA6	MAC	23-Feb-79 09:42		REGISTER BYTE INFORMATION PRINTERS                                                 SEQ 0905

 29724	063351	616 03 0 00 000005 	TSX1:	TDNN	3,5		;MW-1 A ONE ??
 29725	063352	254 00 0 00 063357 		JRST	TSX2		;NO
 29726	063353	612 01 0 00 000005 		TDNE	1,5		;YES. IS DATA BIT A ONE ??
 29727	063354	260 17 0 00 063375 		GO	TSXM1		;YES. GO PRINT A MESSAGE
 29728	063355	350 00 0 00 000002 		AOS	2		;NO. BUMP THE POINTER
 29729	063356	254 00 0 00 063363 	 	JRST	TSX3		;GO AND UPDATE THE MASK
 29730	063357	616 01 0 00 000005 	TSX2:	TDNN	1,5		;IS DATA A ONE ??
 29731	063360	254 00 0 00 063363 		JRST	TSX3		;NO.
 29732	063361	612 04 0 00 000005 		TDNE	4,5		;YES. MW-2 A ONE ??
 29733	063362	260 17 0 00 063401 		GO	TSXM2		;YES. GO PRINT ERROR MSG
 29734	063363	242 05 0 00 777777 	TSX3:	LSH	5,-1		;SHIFT MASK BIT TO RIGHT
 29735	063364	326 05 0 00 063351 		JUMPN	5,TSX1		;JUMP IF MASK IS NOT YET ZERO
 29736	063365	262 17 0 00 000006 		GET	6		;OTHERWISE RESTORE AC'S
 29737	063366	262 17 0 00 000005 		GET	5
 29738	063367	262 17 0 00 000004 		GET	4
 29739	063370	262 17 0 00 000003 		GET 	3
 29740	063371	262 17 0 00 000002 		GET	2
 29741	063372	262 17 0 00 000001 		GET	1
 29742	063373	262 17 0 00 000000 	EXG0:	GET	0
 29743	063374	263 17 0 00 000000 		RTN			;AND RETURN
 29744
 29745					;*HERE ARE THE 2 MESSAGE SUBROUTINES
 29746
 29747	063375	200 00 0 02 000000 	TSXM1:	MOVE	0,(2)		;GETS MESSAGE
 29748	063376	260 17 0 00 063410 		GO	.SPACE		;FOLLOWED BY A SPACE
 29749	063377	037 00 0 00 000002 		PNTSIX			;PRINTS IT
 29750	063400	263 17 0 00 000000 		RTN
 29751
 29752	063401	030 00 0 00 077007 	TSXM2:	TEXT	[ASCIZ/ ?BIT-/]
 29753	063402	243 05 0 00 063403 		JFFO	5,.+1		;GET REAL BIT POSITION
 29754	063403	200 00 0 00 000006 		MOVE	0,6		;GET POSITION FOR PRINTING
 29755	063404	260 17 0 00 063457 		GO	PSDN		;PRINT IT
 29756	063405	260 17 0 00 063424 		GO	.QUEST		;THEN A QUESTION MARK
 29757	063406	260 17 0 00 063410 		GO	.SPACE		;FOLLOWED BY A SPACE
 29758	063407	263 17 0 00 000000 		RTN			;AND EXIT
 29759
 29760					SUBTTL	ADDITIONAL PRINT UTILITIES
 29761					 	XLIST
 29762					 	LIST
 29763						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-22
DSRPA6	MAC	23-Feb-79 09:42		ADDITIONAL PRINT UTILITIES                                                         SEQ 0906

 29764					S^;*********************************************************************^
 29765					;*SOME ADDITIONAL PRINT UTILITIES
 29766					S^;*********************************************************************^
 29767
 29768					COMMENT $
 29769
 29770					ROUTINES WHOSE NAMES ARE PROCEEDED WITH A PERIOD
 29771					PRINT ONLY SINGLE CHARACTERS. THOSE PROCEEDED WITH AN
 29772					"M" PRINT MULTIPLE TIMES. THE NUMBER OF TIMES IS
 29773					SPECIFIED BY AC0 IN THE SUBROUTINE CALL. 
 29774
 29775						THE FOLLOWING ARE AVAIL:
 29776						GO	.CRLF	PRINTS A CRLF (TYPICAL CALL)
 29777						GO	.SPACE
 29778						GO	.TAB
 29779						GO	.DASH
 29780						GO	.PERIOD
 29781						GO	.QUEST
 29782						GO	MZERO
 29783						GO	.EQUAL
 29784						GO	.MINUS
 29785						$
 29786						XLIST
 29787					 	LIST^
 29788
 29789					;*HERE ARE THE SINGLE CHARACTER PRINTERS
 29790
 29791	063410	261 17 0 00 000000 	.SPACE:	PUT	0
 29792	063411	201 00 0 00 000040 		MOVEI	" "
 29793	063412	254 00 0 00 063432 		JRST	CHROUT
 29794	063413	261 17 0 00 000000 	.TAB:	PUT	0
 29795	063414	201 00 0 00 000011 		MOVEI	"	"
 29796	063415	254 00 0 00 063432 		JRST	CHROUT
 29797
 29798	063416				.MINUS:
 29799	063416	261 17 0 00 000000 	.DASH:	PUT	0
 29800	063417	201 00 0 00 000055 		MOVEI	"-"
 29801	063420	254 00 0 00 063432 		JRST	CHROUT
 29802	063421	261 17 0 00 000000 	.PERIOD: PUT	0
 29803	063422	201 00 0 00 000056 		MOVEI	"."
 29804	063423	254 00 0 00 063432 		JRST	CHROUT
 29805	063424	261 17 0 00 000000 	.QUEST:	PUT	0
 29806	063425	201 00 0 00 000077 		MOVEI	"?"
 29807	063426	254 00 0 00 063432 		JRST	CHROUT
 29808	063427	261 17 0 00 000000 	.EQUAL:	PUT	0
 29809	063430	201 00 0 00 000075 		MOVEI	"="
 29810	063431	254 00 0 00 063432 		JRST	CHROUT
 29811	063432	037 12 0 00 000000 	CHROUT:	PNTCHR
 29812	063433	262 17 0 00 000000 		GET	0
 29813	063434	263 17 0 00 000000 		RTN
 29814
 29815					;*HERE ARE THE MULTIPLE CHARACTER OUTPUT ROUTINES.
 29816					;*# OF REPEATS IS SPECIFIED BY AC0 ON THE CALL.
 29817
 29818	063435	261 17 0 00 000000 	MDASH:	PUT	0
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-23
DSRPA6	MAC	23-Feb-79 09:42		ADDITIONAL PRINT UTILITIES                                                         SEQ 0907

 29819	063436	201 00 0 00 000055 		MOVEI	"-"
 29820	063437	254 00 0 00 063443 		JRST	MLTCHR
 29821	063440	261 17 0 00 000000 	MZERO:	PUT	0
 29822	063441	201 00 0 00 000060 		MOVEI	"0"
 29823	063442	254 00 0 00 063443 		JRST	MLTCHR
 29824	063443	261 17 0 00 000001 	MLTCHR:	PUT	1
 29825	063444	200 01 0 17 777777 		MOVE	1,-1(P)
 29826	063445	037 12 0 00 000000 		PNTCHR
 29827	063446	367 01 0 00 063445 		SOJG	1,.-1
 29828	063447	262 17 0 00 000001 		GET	1
 29829	063450	262 17 0 00 000000 		GET	0
 29830	063451	263 17 0 00 000000 		RTN
 29831
 29832					;*HERE ARE THE CRLF ROUTINES
 29833
 29834	063452	261 17 0 00 000000 	.CRLF:	PUT	0
 29835	063453	201 00 0 00 030242 		MOVEI	CRLF
 29836	063454	037 17 0 00 000000 		PNTAL
 29837	063455	262 17 0 00 000000 		GET	0
 29838	063456	263 17 0 00 000000 		RTN
 29839
 29840					 	XLIST
 29841					 	LIST
 29842						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-24
DSRPA6	MAC	23-Feb-79 09:42		ADDITIONAL PRINT UTILITIES                                                         SEQ 0908

 29843					S^;*********************************************************************^
 29844					;*PSDN - - PRINTS SIGNED DECIMAL NUMBERS
 29845					S^;*********************************************************************^
 29846
 29847					COMMENT $
 29848
 29849					PSDN PRINTS THE CONTENTS OF AC0 AS A SIGNED DECIMAL 
 29850					NUMBER FOLLOWED BY A PERIOD. LEADING ZEROS ARE
 29851					SURPRESSED.
 29852						$
 29853						XLIST
 29854					 	LIST^
 29855
 29856	063457	261 17 0 00 000000 	PSDN:	PUT	0
 29857	063460	321 00 0 00 063465 		JUMPL	0,PSDN1
 29858	063461	037 15 0 00 000000 	PSDN0:	PNTDEC			;PRINT THE NUMBER
 29859	063462	260 17 0 00 063421 		GO	.PERIOD		;FOLLOW WITH A PERIOD
 29860	063463	262 17 0 00 000000 		GET	0
 29861	063464	263 17 0 00 000000 		RTN
 29862	063465	260 17 0 00 063416 	PSDN1:	GO	.MINUS		;PRINT THE MINUS SIGN
 29863	063466	210 00 0 17 000000 		MOVN	0,(P)
 29864	063467	254 00 0 00 063461 		JRST	PSDN0
 29865
 29866					 	XLIST
 29867					 	LIST
 29868						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-25
DSRPA6	MAC	23-Feb-79 09:42		ADDITIONAL PRINT UTILITIES                                                         SEQ 0909

 29869					S^;*********************************************************************^
 29870					;*POCT - - OCTAL NUMBER PRINTER
 29871					S^;*********************************************************************^
 29872
 29873					COMMENT $
 29874
 29875					POCT PRINTS THE CONTENTS OF AC0 AS AN OCTAL NUMBER. 
 29876					LEADING ZEROS ARE SURPRESSED.
 29877	
 29878						FUNCTIONS OF AC'S FOR THE ROUTINE:
 29879
 29880						AC	FUNCTION
 29881						--	--------
 29882						0	HOLDS PRINT CHAR
 29883						1	DIGIT COUNTER
 29884						2	A FLAG
 29885						3	OCTAL DIGIT BYTE POINTER  
 29886						$
 29887						XLIST
 29888					 	LIST^
 29889
 29890	063470	261 17 0 00 000000 	POCT:	PUT	0		;SAVE AC'S
 29891	063471	261 17 0 00 000001 		PUT	1
 29892	063472	261 17 0 00 000002 		PUT	2
 29893	063473	261 17 0 00 000003 		PUT	3
 29894	063474	201 01 0 00 000014 		MOVEI	1,^D12		;# OF OCTAL DIGITS POSSIBLE
 29895	063475	400 02 0 00 000000 		SETZ	2,		;ZERO THE FLAG
 29896	063476	200 03 0 00 077011 		MOVE	3,[POINT 3,-3(P)] ;BYTE POINTER
 29897	063477	134 00 0 00 000003 	POCT1:	ILDB	0,3		;GETS NEXT DIGIT
 29898	063500	326 02 0 00 063506 		JUMPN	2,POCT3		;JUMP IF FLAG NON ZERO
 29899	063501	322 00 0 00 063504 		JUMPE	0,POCT2		;JUMP IF DIGIT IS ZERO
 29900	063502	201 02 0 00 000001 		MOVEI	2,1		;SET THE FLAG
 29901	063503	254 00 0 00 063506 		JRST	POCT3		;GO AND CONVERT
 29902	063504	302 01 0 00 000001 	POCT2:	CAIE	1,1		;CNT=1 ??
 29903	063505	254 00 0 00 063510 		JRST	POCT4		;NO
 29904	063506	271 00 0 00 000060 	POCT3:	ADDI	0,60		;CONVERT TO ASCII
 29905	063507	037 12 0 00 000000 		PNTCHR			;PRINT THE CHARACTER
 29906	063510	367 01 0 00 063477 	POCT4:	SOJG	1,POCT1		;LOOP IF COUNT IS NOT YET ZERO
 29907	063511	262 17 0 00 000003 		GET	3
 29908	063512	262 17 0 00 000002 		GET	2
 29909	063513	262 17 0 00 000001 		GET	1
 29910	063514	262 17 0 00 000000 		GET	0
 29911	063515	263 17 0 00 000000 		RTN			;AND EXIT.
 29912
 29913					 	XLIST
 29914					 	LIST
 29915						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-26
DSRPA6	MAC	23-Feb-79 09:42		ADDITIONAL PRINT UTILITIES                                                         SEQ 0910

 29916					S^;*********************************************************************^
 29917					;*HERE ARE 2 TEXT UUO UTILITIES
 29918					S^;*********************************************************************^
 29919
 29920					COMMENT $
 29921
 29922					THESE UUO'S USE THE UUO E-FIELD AS A POINTER TO TEXT
 29923					IN ASCIZ FORMAT. THEY MERELY PRINT THE TEXT IN THE
 29924					NORMAL OR FORCED PRINTOUT MODE.
 29925
 29926						THE UUO'S MUST BE DEFINED IN THE PROGRAMS TITLE FILE.
 29927
 29928						EG.	OPDEF	TEXT	[30B8]	;PRINT NORMAL
 29929							OPDEF	TEXTF	[31B8]	;PRINT FORCED
 29930
 29931							LUUO30=	TEXT.
 29932							LUUO31=	TEXTF.	;SERVICE ROUTINE
 29933						$
 29934						XLIST
 29935					 	LIST^
 29936
 29937	063516	261 17 0 00 000000 	TEXT.:	PUT	0		;SAVE AC0
 29938	063517	550 00 0 00 030113 		HRRZ	0,$SVUUO	;GET MESSAGE ADDR
 29939	063520	037 17 0 00 000000 		PNTAL			;PRINT THE MESSAGE
 29940	063521	262 17 0 00 000000 		GET	0		;RESTORE THE AC
 29941	063522	254 00 0 00 030065 		JRST	UUOEXT		;AND EXIT THE UUO
 29942
 29943	063523	261 17 0 00 000000 	TEXTF.:	PUT	0		;SAVE THE AC
 29944	063524	550 00 0 00 030113 		HRRZ	0,$SVUUO	;GET MSG ADDR FROM E-FIELD
 29945	063525	037 17 0 00 000001 		PNTALF			;FORCE PRINT THE MESSAGE
 29946	063526	262 17 0 00 000000 		GET	0		;RESTORE THE AC
 29947	063527	254 00 0 00 030065 		JRST	UUOEXT		;AND EXIT
 29948
 29949					;END OF FILE
 29950
 29951					SUBTTL	*STOR* RESERVED STORAGE, MARCH 1978
 29952
 29953					;PROGRAM LITERALS
 29954
 29955						XLIST
 29956						LIST
 29957	077052	000000	000000		ENDSLD:	0
 29958
 29959					IFDEF	DEBUG,<
 29960	077053				PATCH:	BLOCK DEBUG		;PATCHING AREA
 29961					>
 29962
 29963					;PROGRAM VARIABLES
 29964	077253					VAR
 29965
 29966					IFDEF	PGMEND,<
 29967					END:	0
 29968						END	BEGIN	>
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1
DSRPA7	MAC	23-Feb-79 09:30		PROGRAM STORE FILE                                                                 SEQ 0911

 29969					SUBTTL PROGRAM STORE FILE
 29970						XLIST
 29971					 	LIST
 29972						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-1
DSRPA7	MAC	23-Feb-79 09:30		PROGRAM STORE FILE                                                                 SEQ 0912

 29973					S^;*********************************************************************^
 29974					;*SOME DUMMY STORAGE
 29975					S^;*********************************************************************^
 29976
 29977					COMMENT $
 29978
 29979						$
 29980						XLIST
 29981					 	LIST^
 29982	077352				DEVREQ:
 29983	077352	263 17 0 00 000000 	DEVREL: RTN
 29984
 29985					SUBTTL  FLOATING PATTERNS FOR CONTROL BUS TESTING
 29986
 29987						XLIST
 29988					 	LIST
 29989						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-2
DSRPA7	MAC	23-Feb-79 09:30		FLOATING PATTERNS FOR CONTROL BUS TESTING                                          SEQ 0913

 29990					S^;*********************************************************************^
 29991					;*ONES,ZEROS,FLOATING PATTERNS THAT ARE 16 BITS WIDE
 29992					S^;*********************************************************************^
 29993
 29994					COMMENT $
 29995
 29996						PATTERNS ARE STORED 2 PER WORD AND THERE ARE 34 OF THEM
 29997						$
 29998						XLIST
 29999					 	LIST^
 30000
 30001	077353	000000	177777		CBDAT:	000000,,177777		;ZEROS AND ONES
 30002	077354	100000	040000			100000,,040000		;START FLOATING 1'S
 30003	077355	020000	010000			020000,,010000
 30004	077356	004000	002000			004000,,002000
 30005	077357	001000	000400			001000,,000400
 30006	077360	000200	000100			000200,,000100
 30007	077361	000040	000020			000040,,000020
 30008	077362	000010	000004			000010,,000004
 30009	077363	000002	000001			000002,,000001
 30010	077364	077777	137777			077777,,137777		;START FLOATING 0'S
 30011	077365	157777	167777			157777,,167777
 30012	077366	173777	175777			173777,,175777
 30013	077367	176777	177377			176777,,177377
 30014	077370	177577	177677			177577,,177677
 30015	077371	177737	177757			177737,,177757
 30016	077372	177767	177773			177767,,177773
 30017	077373	177775	177776			177775,,177776
 30018	077374	000000	000000			000000,,000000		;OPTIONAL TERMINATOR WORD
 30019
 30020
 30021					 	XLIST
 30022					 	LIST
 30023						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-3
DSRPA7	MAC	23-Feb-79 09:30		FLOATING PATTERNS FOR CONTROL BUS TESTING                                          SEQ 0914

 30024					S^;*********************************************************************^
 30025					;*THE TEST DISPATCH TABLE
 30026					S^;*********************************************************************^
 30027
 30028					COMMENT $
 30029
 30030					THIS AREA DEFINES THE TEST ADDRESSES. THEY ARE PACKED 2 PER WORD.
 30031					DECISION OF WHETHER OR NOT TO EXECUTE THE TEST IS MADE AT THE TEST.
 30032						$
 30033						XLIST
 30034					 	LIST^
 30035	077375	030711	030764		TSTLST:	TST1,,TST2
 30036	077376	031012	031015			TST3,,TST4
 30037	077377	031052	031105			TST5,,TST6
 30038	077400	031145	031203			TST7,,TST10
 30039	077401	031240	031271			TST11,,TST12
 30040	077402	031325	031365			TST13,,TST14
 30041	077403	031424	031462			TST15,,TST16
 30042	077404	031512	031544			TST17,,TST20
 30043	077405	031604	031641			TST21,,TST22
 30044	077406	031675	031724			TST23,,TST24
 30045	077407	031752	032002			TST25,,TST26
 30046	077410	032026	032052			TST27,,TST30
 30047	077411	032101	032127			TST31,,TST32
 30048	077412	032156	032202			TST33,,TST34
 30049	077413	032231	032264			TST35,,TST36
 30050	077414	032341	032405			TST37,,TST40
 30051	077415	032434	032461			TST41,,TST42
 30052	077416	032511	102406			TST43,,[RTN]
 30053	077417	032556	032611			TST45,,TST46
 30054	077420	032642	032671			TST47,,TST50
 30055	077421	032722	032725			TST51,,TST52
 30056	077422	032773	033115			TST53,,TST54
 30057	077423	033145	033175			TST55,,TST56
 30058	077424	033225	033253			TST57,,TST60
 30059	077425	033304	033333			TST61,,TST62
 30060	077426	033363	033411			TST63,,TST64
 30061	077427	033531	033563			TST65,,TST66
 30062	077430	033712	034011			TST67,,TST70
 30063	077431	034110	034140			TST71,,TST72
 30064	077432	034255	034350			TST73,,TST74
 30065	077433	034401	034431			TST75,,TST76
 30066	077434	034462	034536			TST77,,TST100
 30067	077435	034567	034612			TST101,,TST102
 30068	077436	034645	034701			TST103,,TST104
 30069	077437	034733	034767			TST105,,TST106
 30070	077440	035020	035051			TST107,,TST110
 30071	077441	035102	035135			TST111,,TST112
 30072	077442	035167	035221			TST113,,TST114
 30073	077443	035252	035372			TST115,,TST116
 30074	077444	035431	035474			TST117,,TST120
 30075	077445	035477	035625			TST121,,TST122
 30076	077446	035667	035732			TST123,,TST124
 30077	077447	035735	036032			TST125,,TST126
 30078	077450	036074	036137			TST127,,TST130
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-4
DSRPA7	MAC	23-Feb-79 09:30		FLOATING PATTERNS FOR CONTROL BUS TESTING                                          SEQ 0915

 30079	077451	036142	036243			TST131,,TST132
 30080	077452	036310	036353			TST133,,TST134
 30081	077453	036356	036405			TST135,,TST136
 30082	077454	036436	036465			TST137,,TST140
 30083	077455	036514	036537			TST141,,TST142
 30084	077456	036566	036623			TST143,,TST144
 30085	077457	036652	036701			TST145,,TST146
 30086	077460	036730	036757			TST147,,TST150
 30087	077461	037006	037034			TST151,,TST152
 30088	077462	037065	037204			TST153,,TST154
 30089	077463	037243	037306			TST155,,TST156
 30090	077464	037311	037374			TST157,,TST160
 30091	077465	037431	037503			TST161,,TST162
 30092	077466	037550	037614			TST163,,TST164
 30093	077467	037653	040006			TST165,,TST166
 30094	077470	040135	040273			TST167,,TST170
 30095	077471	040351	040413			TST171,,TST172
 30096	077472	040446	040504			TST173,,TST174
 30097	077473	040551	040602			TST175,,TST176
 30098	077474	040650	040723			TST177,,TST200
 30099	077475	041037	041070			TST201,,TST202
 30100	077476	041121	041153			TST203,,TST204
 30101	077477	041202	041272			TST205,,TST206
 30102	077500	041316	041342			TST207,,TST210
 30103	077501	041367	041415			TST211,,TST212
 30104	077502	041444	041473			TST213,,TST214
 30105	077503	041530	041604			TST215,,TST216
 30106	077504	041635	041666			TST217,,TST220
 30107	077505	041717	041750			TST221,,TST222
 30108	077506	042001	042032			TST223,,TST224
 30109	077507	042062	042113			TST225,,TST226
 30110	077510	042144	042177			TST227,,TST230
 30111	077511	042234	042266			TST231,,TST232
 30112	077512	042317	042350			TST233,,TST234
 30113	077513	042402	042433			TST235,,TST236
 30114	077514	042464	042516			TST237,,TST240
 30115	077515	042547	042600			TST241,,TST242
 30116	077516	042631	042657			TST243,,TST244
 30117	077517	042662	042724			TST245,,TST246
 30118	077520	042762	043103			TST247,,TST250
 30119	077521	043145	043205			TST251,,TST252
 30120	077522	043247	043307			TST253,,TST254
 30121	077523	043352	043412			TST255,,TST256
 30122	077524	043455	043516			TST257,,TST260
 30123	077525	043603	043710			TST261,,TST262
 30124	077526	102406	043756			[RTN],,TST264
 30125	077527	044010	044054			TST265,,TST266
 30126	077530	044153	044213			TST267,,TST270
 30127	077531	044335	044500			TST271,,TST272
 30128	077532	044537	044613			TST273,,TST274
 30129	077533	044664	044723			TST275,,TST276
 30130	077534	045001	045044			TST277,,TST300
 30131	077535	045100	045144			TST301,,TST302
 30132	077536	045307	045402			TST303,,TST304
 30133	077537	045540	045601			TST305,,TST306
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-5
DSRPA7	MAC	23-Feb-79 09:30		FLOATING PATTERNS FOR CONTROL BUS TESTING                                          SEQ 0916

 30134	077540	045637	045721			TST307,,TST310
 30135	077541	045765	046014			TST311,,TST312
 30136	077542	046043	046075			TST313,,TST314
 30137	077543	046123	046167			TST315,,TST316
 30138	077544	046256	046313			TST317,,TST320
 30139	077545	046343	046374			TST321,,TST322
 30140	077546	046431	102406			TST323,,[RTN]
 30141	077547	046463	046555			TST325,,TST326
 30142	077550	046732	047222			TST327,,TST330
 30143	077551	047322	047424			TST331,,TST332
 30144	077552	047512	047515			TST333,,TST334
 30145	077553	047776	050042			TST335,,TST336
 30146	077554	050117	050177			TST337,,TST340
 30147	077555	050257	050335			TST341,,TST342
 30148	077556	050411	050452			TST343,,TST344
 30149	077557	050656	051017			TST345,,TST346
 30150	077560	051043	051073			TST347,,TST350
 30151	077561	051154	051276			TST351,,TST352
 30152	077562	051402	051564			TST353,,TST354
 30153	077563	051667	051753			TST355,,TST356
 30154	077564	052046	052221			TST357,,TST360
 30155	077565	052351	052471			TST361,,TST362
 30156	077566	052663	053026			TST363,,TST364
 30157	077567	000000	077566		ENDLST:	ENDLST-1		;END OF LIST
 30158	077570	000000	000364		MAXTST:	2*<ENDLST-TSTLST>	;MAX NUMBER OF TESTS
 30159
 30160					 	XLIST
 30161					 	LIST
 30162						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-6
DSRPA7	MAC	23-Feb-79 09:30		FLOATING PATTERNS FOR CONTROL BUS TESTING                                          SEQ 0917

 30163					S^;*********************************************************************^
 30164					;*INDEXABLE REGISTER READ/WRITE LIST
 30165					S^;*********************************************************************^
 30166
 30167					COMMENT $
 30168
 30169						$
 30170						XLIST
 30171					 	LIST^
 30172
 30173	077571	000000	057576		RDISP:	RRPCS1
 30174	077572	000000	057601			RRPDS
 30175	077573	000000	057604			RRPER1
 30176	077574	000000	057607			RRPMR
 30177	077575	000000	057612			RRPAS
 30178	077576	000000	057615			RRPDA
 30179	077577	000000	057620			RRPDT
 30180	077600	000000	057623			RRPLA
 30181	077601	000000	057626			RRPSN
 30182	077602	000000	057631			RRPOF
 30183	077603	000000	057634			RRPDC
 30184	077604	000000	057637			RRPCC
 30185	077605	000000	057642			RRPER2
 30186	077606	000000	057645			RRPER3
 30187	077607	000000	057650			RRPEC1
 30188	077610	000000	057653			RRPEC2
 30189
 30190	077611	000000	057402		WDISP:	LRPCS1
 30191	077612	000000	057405			LRPDS
 30192	077613	000000	057410			LRPER1
 30193	077614	000000	057413			LRPMR
 30194	077615	000000	057416			LRPAS
 30195	077616	000000	057421			LRPDA
 30196	077617	000000	057424			LRPDT
 30197	077620	000000	057427			LRPLA
 30198	077621	000000	057432			LRPSN
 30199	077622	000000	057435			LRPOF
 30200	077623	000000	057440			LRPDC
 30201	077624	000000	057443			LRPCC
 30202	077625	000000	057446			LRPER2
 30203	077626	000000	057451			LRPER3
 30204	077627	000000	057454			LRPEC1
 30205	077630	000000	057457			LRPEC2
 30206
 30207					SUBTTL MISC. STORAGE AREA
 30208					 	XLIST
 30209					 	LIST
 30210						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-7
DSRPA7	MAC	23-Feb-79 09:30		MISC. STORAGE AREA                                                                 SEQ 0918

 30211					S^;*********************************************************************^
 30212					;*BUFFER AREA FOR REGISTER STORAGE
 30213					S^;*********************************************************************^
 30214
 30215					COMMENT $
 30216
 30217						HERE IS WHERE THE REGISTER DATA IS SAVED WHEN REGISTERS
 30218						ARE READ INTO CORE COLLECTIVELY OR SEPARATELY 
 30219						$
 30220						XLIST
 30221					 	LIST^
 30222
 30223	077631	000 00 0 00 000000 	SVUBAS:	Z			;UBA STATUS REGISTER
 30224
 30225	077632				SNAP:
 30226	077632	000 00 0 00 000000 	SRPCS1:	Z			;DRIVE REGISTERS ARE SAVED HERE
 30227	077633	000 00 0 00 000000 	SRPWC:	Z
 30228	077634	000 00 0 00 000000 	SRPBA:	Z
 30229	077635	000 00 0 00 000000 	SRPDA:	Z
 30230	077636	000 00 0 00 000000 	SRPCS2:	Z
 30231	077637	000 00 0 00 000000 	SRPDS:	Z
 30232	077640	000 00 0 00 000000 	SRPER1:	Z
 30233	077641	000 00 0 00 000000 	SRPAS:	Z
 30234	077642	000 00 0 00 000000 	SRPLA:	Z
 30235	077643	000 00 0 00 000000 	SRPDB:	Z
 30236	077644	000 00 0 00 000000 	SRPMR:	Z
 30237	077645	000 00 0 00 000000 	SRPDT:	Z
 30238	077646	000 00 0 00 000000 	SRPSN:	Z
 30239	077647	000 00 0 00 000000 	SRPOF:	Z
 30240	077650	000 00 0 00 000000 	SRPDC:	Z
 30241	077651	000 00 0 00 000000 	SRPCC:	Z
 30242	077652	000 00 0 00 000000 	SRPER2:	Z
 30243	077653	000 00 0 00 000000 	SRPER3:	Z
 30244	077654	000 00 0 00 000000 	SRPEC1:	Z
 30245	077655	000 00 0 00 000000 	SRPEC2:	Z
 30246
 30247					;*RH-11 CONSTANTS
 30248
 30249	077656	000001	763000		UBADDR:	1763000			;BASE ADR FOR UNIBUS ADAPTER
 30250	077657	000001	776700		RHADDR:	1776700			;BASE ADR FOR RH-11
 30251	077660	000000	000254		VECTOR:	254			;RH-11 INTERRUPT VECTOR ADR
 30252
 30253
 30254					SUBTTL MODULE CALLOUT MESSAGES
 30255					 	XLIST
 30256					 	LIST
 30257						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-8
DSRPA7	MAC	23-Feb-79 09:30		MODULE CALLOUT MESSAGES                                                            SEQ 0919

 30258					S^;*********************************************************************^
 30259					;*HERE ARE THE MODULE CALLOUT MESSAGES
 30260					S^;*********************************************************************^
 30261
 30262					COMMENT $
 30263
 30264						THESE ASCIZ MESSAGES ARE REFERENCED IN THE TABLE THAT THE
 30265						SCOPE UUO USES. THEY ARE POINTED TO BY THE SCOPE UUO FOR THE
 30266						PURPOSE OF DIAGNOSTIC MODULE CALLOUTS 
 30267						$
 30268						XLIST
 30269					 	LIST^
 30270
 30271	077661	115 065 071 060 063 	TA:	ASCIZ/M5903 - XCVR ROW-1 SLOTS E&F (PORT-A)
 30272	077662	040 055 040 130 103 
 30273	077663	126 122 040 122 117 
 30274	077664	127 055 061 040 123 
 30275	077665	114 117 124 123 040 
 30276	077666	105 046 106 040 050 
 30277	077667	120 117 122 124 055 
 30278	077670	101 051 015 012 115 	M5903 - XCVR ROW-1 SLOTS A&B (PORT-B)/
 30279	077671	065 071 060 063 040 
 30280	077672	055 040 130 103 126 
 30281	077673	122 040 122 117 127 
 30282	077674	055 061 040 123 114 
 30283	077675	117 124 123 040 101 
 30284	077676	046 102 040 050 120 
 30285	077677	117 122 124 055 102 
 30286	077700	051 000 000 000 000 
 30287
 30288	077701	115 065 071 060 063 	TB:	ASCIZ/M5903 - XCVR ROW-2 SLOTS E&F (PORT-A)
 30289	077702	040 055 040 130 103 
 30290	077703	126 122 040 122 117 
 30291	077704	127 055 062 040 123 
 30292	077705	114 117 124 123 040 
 30293	077706	105 046 106 040 050 
 30294	077707	120 117 122 124 055 
 30295	077710	101 051 015 012 115 	M5903 - XCVR ROW-2 SLOTS A&B (PORT-B)/
 30296	077711	065 071 060 063 040 
 30297	077712	055 040 130 103 126 
 30298	077713	122 040 122 117 127 
 30299	077714	055 062 040 123 114 
 30300	077715	117 124 123 040 101 
 30301	077716	046 102 040 050 120 
 30302	077717	117 122 124 055 102 
 30303	077720	051 000 000 000 000 
 30304
 30305	077721	115 065 071 060 063 	TC:	ASCIZ/M5903 - XCVR ROW-3 SLOTS E&F (PORT-A)
 30306	077722	040 055 040 130 103 
 30307	077723	126 122 040 122 117 
 30308	077724	127 055 063 040 123 
 30309	077725	114 117 124 123 040 
 30310	077726	105 046 106 040 050 
 30311	077727	120 117 122 124 055 
 30312	077730	101 051 015 012 115 	M5903 - XCVR ROW-3 SLOTS A&B (PORT-B)/
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-9
DSRPA7	MAC	23-Feb-79 09:30		MODULE CALLOUT MESSAGES                                                            SEQ 0920

 30313	077731	065 071 060 063 040 
 30314	077732	055 040 130 103 126 
 30315	077733	122 040 122 117 127 
 30316	077734	055 063 040 123 114 
 30317	077735	117 124 123 040 101 
 30318	077736	046 102 040 050 120 
 30319	077737	117 122 124 055 102 
 30320	077740	051 000 000 000 000 
 30321
 30322	077741				MA:
 30323	077741	115 067 067 070 070 	MDLI1:	ASCIZ/M7788 - MDLI ROW-4 SLOTS A&B/
 30324	077742	040 055 040 115 104 
 30325	077743	114 111 040 122 117 
 30326	077744	127 055 064 040 123 
 30327	077745	114 117 124 123 040 
 30328	077746	101 046 102 000 000 
 30329
 30330	077747				MB:
 30331	077747	115 067 067 070 071 	MDLI2:	ASCIZ/M7789 - MDLI ROW-4 SLOTS E&F/
 30332	077750	040 055 040 115 104 
 30333	077751	114 111 040 122 117 
 30334	077752	127 055 064 040 123 
 30335	077753	114 117 124 123 040 
 30336	077754	105 046 106 000 000 
 30337
 30338	077755	115 067 067 067 066 	EC:	ASCIZ/M7776 - EC ROW-5/
 30339	077756	040 055 040 105 103 
 30340	077757	040 122 117 127 055 
 30341	077760	065 000 000 000 000 
 30342
 30343	077761	115 067 067 067 063 	SN:	ASCIZ/M7773 - SN ROW-6/
 30344	077762	040 055 040 123 116 
 30345	077763	040 122 117 127 055 
 30346	077764	066 000 000 000 000 
 30347
 30348	077765	115 067 067 070 066 	SS:	ASCIZ/M7786 - SS ROW-7/
 30349	077766	040 055 040 123 123 
 30350	077767	040 122 117 127 055 
 30351	077770	067 000 000 000 000 
 30352
 30353	077771	115 067 067 070 067 	DP:	ASCIZ/M7787 - IFC ROW-8/
 30354	077772	040 055 040 111 106 
 30355	077773	103 040 122 117 127 
 30356	077774	055 070 000 000 000 
 30357
 30358	077775	115 067 067 067 064 	RG:	ASCIZ/M7774 - RG ROW-9/
 30359	077776	040 055 040 122 107 
 30360	077777	040 122 117 127 055 
 30361	100000	071 000 000 000 000 
 30362
 30363	100001	122 105 120 114 101 	TRMES:	ASCIZ/REPLACE TRANSCEIVERS CARRYING FAILING BITS ONLY
 30364	100002	103 105 040 124 122 
 30365	100003	101 116 123 103 105 
 30366	100004	111 126 105 122 123 
 30367	100005	040 103 101 122 122 
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-10
DSRPA7	MAC	23-Feb-79 09:30		MODULE CALLOUT MESSAGES                                                            SEQ 0921

 30368	100006	131 111 116 107 040 
 30369	100007	106 101 111 114 111 
 30370	100010	116 107 040 102 111 
 30371	100011	124 123 040 117 116 
 30372	100012	114 131 015 012 040 	 (CHECK FOR CABLE OR TERMINATOR PROBLEMS)/
 30373	100013	050 103 110 105 103 
 30374	100014	113 040 106 117 122 
 30375	100015	040 103 101 102 114 
 30376	100016	105 040 117 122 040 
 30377	100017	124 105 122 115 111 
 30378	100020	116 101 124 117 122 
 30379	100021	040 120 122 117 102 
 30380	100022	114 105 115 123 051 
 30381	100023	000 000 000 000 000 
 30382
 30383	100024	102 060 061 040 055 	B01:	ASCIZ/B01 - MOTOR CONTROL/
 30384	100025	040 115 117 124 117 
 30385	100026	122 040 103 117 116 
 30386	100027	124 122 117 114 000 
 30387
 30388	100030				EMA:
 30389	100030	102 060 062 040 055 	B02:	ASCIZ/B02 - SERVO POWER AMP/
 30390	100031	040 123 105 122 126 
 30391	100032	117 040 120 117 127 
 30392	100033	105 122 040 101 115 
 30393	100034	120 000 000 000 000 
 30394
 30395	100035	102 060 064 040 055 	B04:	ASCIZ/B04 - FILE INTERFACE/
 30396	100036	040 106 111 114 105 
 30397	100037	040 111 116 124 105 
 30398	100040	122 106 101 103 105 
 30399	100041	000 000 000 000 000 
 30400
 30401	100042	104 060 061 040 055 	D01:	ASCIZ/D01 - INPUT MODULE/
 30402	100043	040 111 116 120 125 
 30403	100044	124 040 115 117 104 
 30404	100045	125 114 105 000 000 
 30405
 30406	100046	104 060 062 040 055 	D02:	ASCIZ/D02 - OUTPUT MODULE/
 30407	100047	040 117 125 124 120 
 30408	100050	125 124 040 115 117 
 30409	100051	104 125 114 105 000 
 30410
 30411	100052	104 060 063 040 055 	D03:	ASCIZ/D03 - WRITE PRECOMPENSATION/
 30412	100053	040 127 122 111 124 
 30413	100054	105 040 120 122 105 
 30414	100055	103 117 115 120 105 
 30415	100056	116 123 101 124 111 
 30416	100057	117 116 000 000 000 
 30417
 30418	100060	104 060 064 040 055 	D04:	ASCIZ/D04 - INDEX DETECTOR/
 30419	100061	040 111 116 104 105 
 30420	100062	130 040 104 105 124 
 30421	100063	105 103 124 117 122 
 30422	100064	000 000 000 000 000 
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-11
DSRPA7	MAC	23-Feb-79 09:30		MODULE CALLOUT MESSAGES                                                            SEQ 0922

 30423
 30424	100065	104 060 065 040 055 	D05:	ASCIZ/D05 - VFO MODULE/
 30425	100066	040 126 106 117 040 
 30426	100067	115 117 104 125 114 
 30427	100070	105 000 000 000 000 
 30428
 30429	100071	104 061 060 040 055 	D10:	ASCIZ/D10 - SEQUENCER/
 30430	100072	040 123 105 121 125 
 30431	100073	105 116 103 105 122 
 30432	100074	000 000 000 000 000 
 30433
 30434	100075	104 061 061 040 055 	D11:	ASCIZ/D11 - SERVO CONTROL/
 30435	100076	040 123 105 122 126 
 30436	100077	117 040 103 117 116 
 30437	100100	124 122 117 114 000 
 30438
 30439	100101	104 061 064 040 055 	D14:	ASCIZ/D14 - VELOCITY SERVO/
 30440	100102	040 126 105 114 117 
 30441	100103	103 111 124 131 040 
 30442	100104	123 105 122 126 117 
 30443	100105	000 000 000 000 000 
 30444
 30445	100106	104 061 065 040 055 	D15:	ASCIZ/D15 - POSITION SERVO/
 30446	100107	040 120 117 123 111 
 30447	100110	124 111 117 116 040 
 30448	100111	123 105 122 126 117 
 30449	100112	000 000 000 000 000 
 30450
 30451	100113				HM:
 30452	100113	104 061 066 040 055 	D16:	ASCIZ/D16 - PREAMPS, PADDLEBOARD, HEAD MATRIX/
 30453	100114	040 120 122 105 101 
 30454	100115	115 120 123 054 040 
 30455	100116	120 101 104 104 114 
 30456	100117	105 102 117 101 122 
 30457	100120	104 054 040 110 105 
 30458	100121	101 104 040 115 101 
 30459	100122	124 122 111 130 000 
 30460
 30461	100123	104 061 067 040 055 	D17:	ASCIZ/D17 - WRITE LOGIC/
 30462	100124	040 127 122 111 124 
 30463	100125	105 040 114 117 107 
 30464	100126	111 103 000 000 000 
 30465
 30466	100127	104 061 070 040 055 	D18:	ASCIZ/D18 - LINEAR AMPLIFIER/
 30467	100130	040 114 111 116 105 
 30468	100131	101 122 040 101 115 
 30469	100132	120 114 111 106 111 
 30470	100133	105 122 000 000 000 
 30471
 30472	100134	104 061 071 040 055 	D19:	ASCIZ/D19 - HEAD SELECTION AND DETECTION/
 30473	100135	040 110 105 101 104 
 30474	100136	040 123 105 114 105 
 30475	100137	103 124 111 117 116 
 30476	100140	040 101 116 104 040 
 30477	100141	104 105 124 105 103 
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-12
DSRPA7	MAC	23-Feb-79 09:30		MODULE CALLOUT MESSAGES                                                            SEQ 0923

 30478	100142	124 111 117 116 000 
 30479
 30480	100143	104 062 060 040 055 	D20:	ASCIZ/D20 - DATA SAFETY, HEAD SELECT/
 30481	100144	040 104 101 124 101 
 30482	100145	040 123 101 106 105 
 30483	100146	124 131 054 040 110 
 30484	100147	105 101 104 040 123 
 30485	100150	105 114 105 103 124 
 30486	100151	000 000 000 000 000 
 30487
 30488	100152	104 062 062 040 055 	D22:	ASCIZ/D22 - OPERATOR CONTROL PANEL/
 30489	100153	040 117 120 105 122 
 30490	100154	101 124 117 122 040 
 30491	100155	103 117 116 124 122 
 30492	100156	117 114 040 120 101 
 30493	100157	116 105 114 000 000 
 30494
 30495					SUBTTL	THE STANDARD MAINT MODE WRITE BUFFER DATA
 30496					 	XLIST
 30497					 	LIST
 30498						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-13
DSRPA7	MAC	23-Feb-79 09:30		THE STANDARD MAINT MODE WRITE BUFFER DATA                                          SEQ 0924

 30499					S^;*********************************************************************^
 30500					;*MMBUF -- DESCRIPTION OF STANDARD M-MODE BUFFER
 30501					S^;*********************************************************************^
 30502
 30503					COMMENT $
 30504
 30505						DATA TESTING IS ACCOMPLISHED WITH ONLY ONE BUFFER CONTAINING
 30506						THE NECESSARY DATA PATTERNS STORED 2 PER WORD
 30507						$
 30508						XLIST
 30509					 	LIST^
 30510
 30511	100160	000000	000000		MMBUF:	0,,0			;HEADER WORDS
 30512	100161	000000	000000			0,,0			;KEY WORDS
 30513	100162	000000	777777			0,,-1			;ALL ZEROS,,ALL ONES
 30514	100163	000001	000002			1,,2			;FLAOTING ONES PATTERN
 30515	100164	000004	000010			4,,10
 30516	100165	000020	000040			20,,40
 30517	100166	000100	000200			100,,200
 30518	100167	000400	001000			400,,1000
 30519	100170	002000	004000			2000,,4000
 30520	100171	010000	020000			10000,,20000
 30521	100172	040000	100000			40000,,100000
 30522	100173	200000	400000			200000,,400000
 30523	100174	777776	777775			777776,,777775		;START OF FLOATING ZEROS
 30524	100175	777773	777767			777773,,777767
 30525	100176	777757	777737			777757,,777737
 30526	100177	777677	777577			777677,,777577
 30527	100200	777377	776777			777377,,776777
 30528	100201	775777	773777			775777,,773777
 30529	100202	767777	757777			767777,,757777
 30530	100203	577777	377777			577777,,377777
 30531	100204	000000	000000			0,,0			;ZERO WORDS
 30532	100205	000000	000000			0,,0
 30533	100206	300073	002702			300073,,002702		;START OF PARITY PATTERNS
 30534	100207	557114	240042			557114,,240042
 30535	100210	265506	066016			265506,,066016
 30536	100211	335342	000000			335342,,0
 30537	100212	000000	000000			0,,0			;END OF SPECIAL PATTERNS
 30538									;REST OF SECTOR MAY BE ZERO
 30539
 30540					SUBTTL BUFFER AREA
 30541					 	XLIST
 30542					 	LIST
 30543						PAGE
DSRPA	DECSYSTEM 2020 RP06-RH11 BASIC DRIVE DIAGNOSTIC VER 0,3	MACRO %53(1020) 13:19 16-Mar-79 Page 1-14
DSRPA7	MAC	23-Feb-79 09:30		BUFFER AREA                                                                        SEQ 0925

 30544					S^;*********************************************************************^
 30545					;*HERE IS THE PROGRAM STORAGE AREA
 30546					S^;*********************************************************************^
 30547
 30548					COMMENT $
 30549
 30550						$
 30551						XLIST
 30552					 	LIST^
 30553
 30554	100213	000000	101000		BUF1A:	BUF1			;HOLDS FIRST BUFFER ADDRESS
 30555	100214	000000	102000		BUF2A:	BUF2			;HOLDS ADDRESS OF SECOND BUFFER
 30556	101000					LOC	<.+777>&777000
 30557	101000				BUF1:	BLOCK	404		;DATA BUFFER #1
 30558	102000					LOC	<.+777>&777000
 30559	102000				BUF2:	BLOCK	404		;DATA BUFFER #2
 30560
 30561	102404	000000	102404		LSTLOC:	.			;LAST PGM ADDR
 30562	102405	000000	102411		FREE:	.+4			;FREE CORE HERE
 30563
 30564					;;;	XPUNGE			;NO SYMBOLS NOW
 30565
 30566		027000	000000		OPDEF	SCOPE	[27B8]
 30567		030000	000000		OPDEF	TEXT	[30B8]
 30568		261740	000000		OPDEF	PUT	[PUSH P,]
 30569		262740	000000		OPDEF	GET	[POP P,]
 30570		260740	000000		OPDEF	GO	[PUSHJ P,]
 30571		263740	000000		OPDEF	RTN	[POPJ P,]
 30572
 30573			030000		LST:	END	BEGIN

NO ERRORS DETECTED

PROGRAM BREAK IS 000000
ABSOLUTE BREAK IS 102407
CPU TIME USED 03:02.924

128P CORE USED

A16	   901#
A17	   900#                                                                                                            SEQ 0926
ABORT	   301#
ABS	  1091#
AC0	   109#	 26614	 26629	 26630	 26631	 26638	 26642	 26645	 26646	 26654	 26658	 26661	 26662	 26671
	 26680	 26682	 26683	 26684	 26687	 26694	 26701	 26710	 26715	 26720	 26721	 26726	 26731	 26837
	 26838	 26839	 26892	 26910	 26911	 26915	 26926	 26932	 26935	 26939	 27256	 27263	 27301
AC1	   108#	 26615	 26628	 26629	 26638	 26642	 26654	 26658	 26670	 26803	 26808	 26811	 26821	 26831
	 26833	 26835	 26837	 26851	 26853	 26855	 26866	 26893	 26908	 26909	 26911	 26912	 26913	 26914
	 26915	 26916	 26926	 26927	 26933	 26934	 26935	 26936	 26938	 27438
AC2	   107#	 26217	 26218	 26427	 26428
AC3	   106#
ACDCL	  1146#
ACL	  1108#
AHUNG	 25678	 25696#
AL1	 23773	 23788#	 23804	 23841	 23949
AL1.1	 23814#	 23853
AL1.2	 23819	 23823	 23827	 23831	 23835#
AL1.3	 23846#	 23860
AL1NE	 23790	 23801#
AL2	 23846	 23864#
AL2.1	 23869#	 23945
AL2.2	 23899#	 23931
AL2.ER	 23881	 23885	 23893	 23918	 23928	 23947#
AL3	 23777	 23983#
AL3.0	 23990#	 24060
AL3.1	 23996	 24000	 24004	 24006	 24011#	 24067
AL3.2	 24035#
AL3.3	 24037	 24047	 24051	 24054#
AL3.4	 24048	 24052	 24058#
AL3.5	 24058	 24069#
AL4	 23756	 23976	 24126#	 24181	 24194	 24198
AL4A	 24131	 24200#
AL4B	 24178#	 24197
AL4C	 24187#	 24192	 24193
AL4D	 24179	 24196#
AL4EL	 24139#	 24156	 24166	 24186
AL4NE	 24141	 24153#
ALHEAD	 24055	 24079#
ALIGN	 23710#	 27584
ALIGNA	 23757	 23760	 23764#
ALIGNS	 23729#	 23784	 24203
ALP	 23729#	 23729	 24202
ALS3Z	 23717	 23724#
ALSTAT	 24056	 24101#
ALTMGO	   613#
AOE	   975#
APR	 26647	 26663	 26707
APRSAV	 26707#	 26707	 26715
APT1	 23734#	 23745	 23746
APT2	 23749#	 23754	 23759
AROV	   527#
AROVTP	   527#
AROVU	   527#
ASKDR	   122	 26880	 27092#                                                                                            SEQ 0927
ASKER	 27106	 27119#
ASKER1	 27122	 27125#
ASKN	 27097#	 27109	 27120	 27123	 27140
ASKQ	 27105#	 27117
ASKX	 27116	 27132#
AST	   728#
ASTBL	 29270	 29380#
ATA	   951#
ATEND	  1352#	  1352	  9852	  9986	 10143	 10225	 15947	 16058	 21379	 27587	 27589
ATSIN	   729#
B01	  2676	 30383#
B02	 30389#
B04	 30395#
BAI	   945#
BASER	 29265	 29550#
BATBL	 29265	 29329#
BEGEND	   609#	  1307
BEGIN	    76	    77	    81	    82	    83	    84	    85	   516	   517	   540#	 30573
BEGIN1	   556#	   610
BELL	   732#	 28647
BHUNG	 25669	 25687	 25698#
BIS	   527#
BLKSIZ	 25012#	 25012	 25014
BMD	  1141#
BMDBUF	 26632	 26650#
BMDCOM	 26620	 26626	 26667#
BP205	 11118	 11173#
BP247	 13287	 13385#
BRANCH	 28557	 28650	 28654#
BREX1	 28661	 28663	 28667	 28671	 28690#
BREXC	 28674	 28677	 28679	 28689	 28691#
BUF1	   116	 17421	 17525	 17714	 17999	 18120	 18243	 18382	 18641	 19856	 19961	 20110	 20111	 20228
	 20229	 20404	 20405	 20517	 20518	 20616	 20725	 20726	 20905	 20906	 21056	 21084	 21208	 25191
	 25192	 25194	 25195	 25268	 25269	 26631	 30554	 30557#
BUF1A	 16957	 16983	 23809	 23984	 25231	 30554#
BUF2	   116	 18727	 18839	 18952	 19062	 19172	 19271	 19360	 19579	 20646	 20760	 20784	 20809	 20936
	 21114	 25275	 25305	 30555	 30559#
BUF2A	 30555#
BYTES	 28097	 28101	 29128	 29185#
C	   117	  1289#
CAL1	 25809#	 25814	 25853
CAL2	 25819#	 25824
CAL3	 25829#	 25836
CAL4	 25841#	 25848
CALIBR	 25802#	 27779
CBDAT	 22926	 22990	 23056	 30001#
CBTOER	   119	  1580	  1676	  1680	  1775	  1778	  1784	  1868	  1872	  1876	  1953	  1957	  1961	  2022
	  2028	  2116	  2120	  2216	  2220	  2227	  2311	  2315	  2319	  2398	  2402	  2406	  2461	  2467
	  2551	  2555	  2648	  2652	  2658	  2742	  2746	  2750	  2828	  2832	  2836	  2888	  2894	  2947
	  3001	  3056	  3107	  3159	  3212	  3268	  3323	  3375	  3379	  3431	  3435	  3440	  3499	  3503
	  3583	  3588	  3592	  3652	  3658	  3709	  3762	  3766	  3824	  3828	  3912	  3986	  3990	  4041
	  4047	  4095	  4099	  4103	  4198	  4203	  4291	  4295	  4310	  4314	  4318	  4333	  4337	  4341
	  4356	  4362	  4457	  4520	  4524	  4582	  4586	  4640	  4644	  4692	  4696	  4700	  4747	  4753     SEQ 0928
	  4805	  4809	  4876	  4955	  4959	  4974	  4978	  4982	  4997	  5001	  5005	  5020	  5026	  5102
	  5106	  5164	  5168	  5172	  5188	  5192	  5196	  5211	  5215	  5219	  5223	  5239	  5243	  5249
	  5333	  5337	  5352	  5356	  5360	  5375	  5379	  5383	  5470	  5474	  5489	  5493	  5497	  5512
	  5516	  5520	  5582	  5640	  5644	  5659	  5663	  5667	  5682	  5686	  5690	  5705	  5711	  5837
	  5844	  5848	  5852	  5938	  5942	  6001	  6005	  6067	  6071	  6158	  6231	  6235	  6339	  6343
	  6401	  6405	  6463	  6467	  6526	  6530	  6585	  6589	  6643	  6647	  6701	  6705	  6758	  6762
	  6819	  6823	  6824	  6879	  6883	  6940	  6944	  7003	  7007	  7023	  7027	  7031	  7046	  7050
	  7054	  7070	  7076	  7138	  7142	  7202	  7207	  7211	  7305	  7309	  7325	  7329	  7333	  7348
	  7355	  7359	  7378	  7384	  7446	  7450	  7521	  7526	  7530	  7607	  7611	  7627	  7631	  7635
	  7649	  7653	  7657	  7715	  7720	  7724	  7783	  7788	  7792	  7883	  7887	  7903	  7907	  7911
	  7929	  7933	  7937	  7995	  8000	  8004	  8074	  8079	  8083	  8159	  8163	  8214	  8218	  8271
	  8275	  8326	  8330	  8381	  8430	  8434	  8486	  8490	  8494	  8498	  8549	  8553	  8604	  8608
	  8659	  8663	  8714	  8718	  8769	  8773	  8824	  8828	  8877	  8881	  8885	  8939	  8943	  8959
	  8963	  8967	  8982	  8986	  8990	  9006	  9012	  9073	  9077	  9137	  9142	  9146	  9235	  9258
	  9264	  9270	  9326	  9330	  9334	  9338	  9393	  9397	  9403	  9474	  9478	  9484	  9544	  9548
	  9554	  9610	  9616	  9690	  9751	  9757	  9763	  9769	  9844	 10004	 10008	 10027	 10048	 10058
	 10078	 10089	 10159	 10164	 10168	 10173	 10241	 10313	 10318	 10322	 10383	 10391	 10454	 10458
	 10472	 10479	 10533	 10539	 10593	 10597	 10603	 10668	 10673	 10677	 10756	 10776	 10796	 10812
	 10818	 10882	 10886	 10890	 10940	 10944	 10948	 11000	 11004	 11008	 11061	 11065	 11129	 11133
	 11139	 11226	 11276	 11330	 11383	 11437	 11491	 11566	 11634	 11723	 11785	 11847	 11909	 11971
	 12033	 12094	 12156	 12218	 12281	 12354	 12423	 12493	 12559	 12622	 12684	 12746	 12809	 12871
	 12933	 12994	 13061	 13153	 13226	 13299	 13303	 13310	 13315	 13319	 13325	 13331	 13445	 13450
	 13454	 13458	 13522	 13527	 13531	 13535	 13597	 13603	 13607	 13611	 13672	 13678	 13682	 13686
	 13751	 13756	 13760	 13764	 13829	 13833	 13837	 13841	 13906	 13911	 13915	 13919	 13984	 13989
	 13993	 13997	 14060	 14064	 14073	 14077	 14176	 14180	 14184	 14193	 14197	 14313	 14317	 14325
	 14401	 14409	 14478	 14482	 14553	 14558	 14562	 14571	 14575	 14771	 14775	 14785	 14842	 15119
	 15203	 15207	 15296	 15300	 15304	 15381	 15385	 15389	 15467	 15473	 15561	 15565	 15571	 15641
	 15645	 15649	 15808	 15813	 15819	 15830	 15837	 16076	 16084	 16240	 16244	 16318	 16323	 16327
	 16409	 16524	 16599	 16603	 16659	 16719	 16728	 16785	 16857	 16935	 16939	 17047	 17054	 17249
	 17253	 17257	 17318	 17322	 17405	 17409	 17414	 17538	 17553	 17816	 17844	 18270	 18518	 18526
	 18654	 18818	 18831	 18931	 18944	 19054	 19166	 19384	 19603	 19734	 19786	 19957	 20105	 20224
	 20400	 20513	 20612	 20718	 20756	 20901	 21052	 21923	 21997	 22062	 22126	 22182	 22237	 22303
	 22368	 22372	 22446	 22450	 22529	 22534	 22615	 22620	 22702	 22707	 22741	 22799	 22804	 23138
	 23159	 23172	 23880	 23890	 23925	 24086	 24161	 24231	 24279	 24307	 24351	 24357	 24360	 24432
	 24487	 24496	 24501	 24527	 24531	 24560	 24571	 24576	 24634	 24640	 24669	 24675	 24705	 24708
	 24716	 24755	 24760	 24768	 24810	 24820	 24825	 24832	 24873	 24882	 24887	 24895	 24934	 24942
	 25022	 25028	 25034	 25136	 25348	 25352	 25391	 25395	 25403	 25455	 25459	 25463	 25512	 25516
	 25520	 25553	 25577	 25590	 25755	 25769	 25811	 25821	 25832	 25844	 27472#	 27721	 27733	 28083
	 28089
CC	 23705#	 23807	 23815	 23818	 23822	 23826	 23830	 23839	 23854	 23948	 23962	 23985	 23992	 23995
	 23999	 24003	 24005	 24043	 24061	 24101	 24104
CCA	   527#
CCSER	 29278	 29645#
CCTBL	 29278	 29426#
CERR	   952#
CFGA	 26796	 26799#
CFGB	 26797	 26880#
CFLG	 23707#	 23864	 23871	 23938	 23986	 24054	 24069	 24079
CH	 23706#	 23814	 23852	 23857	 23858	 23859	 23876	 23959	 23991	 24059	 24064	 24065	 24066	 24110
	 24135	 24157
CHAIN	   321#
CHARA	 27914	 27919#
CHARIN	  1373	  9862	  9885	  9899	  9933	 15988	 21402	 21430	 21454	 23744	 23753	 24191	 24246	 24323     SEQ 0929
	 24403	 27697	 27756	 27790	 27912#
CHKALH	 27276	 27278	 27304#
CHKALQ	 27281	 27283	 27308#
CHKALT	 27201	 27256#	 28534
CHKALX	 27268	 27285	 27301#	 27306
CHKALY	 27258	 27267#
CHKATR	 27271	 27273	 27288#
CHNOFF	   527#
CHNON	   527#
CHROUT	 29793	 29796	 29801	 29804	 29807	 29810	 29811#
CLEAR	   915#
CLKTOT	 17720#	 17720	 17725#	 17725	 17736	 17744	 17758	 17761	 17772	 17780	 17794	 17796	 17807	 17910
	 18398	 18401	 18413	 18428	 18441	 18456	 18470	 18483	 18496	 18545	 21224	 21227	 21239	 21254
	 21267	 21282	 21296	 21309	 21322
CLKU	   527#
CLOCKF	   595#
CLRATA	 22051	 22233	 22297	 22523	 22610	 22697	 22793	 25743#
CLRRAM	 24993#	 24997
CNPRG	  1179#
CNTLC	   612#
CNTRP	   527#
COF	 23704#	 23810	 23865	 23883	 23902	 23904	 23906	 23910	 23916	 23943
COMMA	   721#
CONDRV	 26877	 26970#
CONFG1	 26812	 26821#
CONFG2	 26822	 26831#
CONFG3	 26840	 26851#
CONFG5	 26856	 26865#
CONFG6	 26867	 26876#
CONFIG	   122	  1266	  1281	 26793#
CONSW	   117	   596#	  6281	 14978	 15028	 25148	 27358	 28060	 28274	 28548	 28960	 29023	 29110	 29707
CONT	 27262#	 27262
CPARER	   119	  3913	  3991	  4048	  4104	  4199	  4204	  4296	  4319	  4342	  4363	  4458	  4525	  4587
	  4645	  4701	  4754	  4810	  4877	  4960	  4983	  5006	  5027	  5107	  5173	  5197	  5224	  5250
	  5338	  5361	  5384	  5475	  5498	  5521	  5583	  5645	  5668	  5691	  5712	  5853	  5943	  6006
	  6072	  6159	  6236	  6344	  6406	  6468	  6531	  6590	  6648	  6706	  6763	  6884	  6945	  7008
	  7032	  7055	  7077	  7143	  7212	  7310	  7334	  7360	  7385	  7451	  7531	  7612	  7636	  7658
	  7725	  7793	  7888	  7912	  7938	  8005	  8084	  8164	  8219	  8276	  8331	  8435	  8499	  8554
	  8609	  8664	  8719	  8774	  8829	  8886	  8944	  8968	  8991	  9013	  9078	  9147	  9236	  9259
	  9265	  9271	  9339	  9398	  9404	  9479	  9485	  9549	  9555	  9611	  9617	  9691	  9752	  9758
	  9764	  9770	  9845	 10009	 10059	 10090	 10169	 10174	 10323	 10384	 10392	 10459	 10473	 10540
	 10598	 10604	 10678	 10813	 10819	 10891	 10949	 11009	 11066	 11134	 11140	 11227	 11277	 11331
	 11384	 11438	 11492	 11567	 11635	 11724	 11786	 11848	 11910	 11972	 12034	 12095	 12157	 12219
	 12282	 12355	 12424	 12494	 12560	 12623	 12685	 12747	 12810	 12872	 12934	 12995	 13062	 13154
	 13227	 13304	 13320	 13326	 13332	 13459	 13536	 13612	 13687	 13765	 13842	 13920	 13998	 14410
	 14786	 14843	 15820	 15838	 16085	 16604	 16729	 16940	 17055	 17539	 17554	 17817	 17845	 18271
	 18519	 18527	 18655	 19385	 19604	 21391	 21924	 21998	 22238	 22304	 22369	 22447	 22530	 22616
	 22703	 22708	 22800	 22805	 23139	 23173	 23891	 23926	 24087	 24361	 24488	 24561	 24635	 24670
	 24717	 24769	 24811	 24833	 24896	 24943	 25137	 25396	 25554	 25566	 25578	 25591	 25756	 25770
	 25812	 25822	 25833	 25845	 27517#	 27722	 27734	 28084	 28090
CPOPJ	   616#
CPOPJ1	   614#
CRA	 25555#	 25555	 25619                                                                                             SEQ 0930
CRB	 25567#	 25567	 25632
CRLF	   451	   452	   716#	 29835
CRLF2	   455	   456	   718#
CRY0	   527#
CRY1	   527#
CS1SER	 29263	 29485#
CS1TBL	 29263	 29299#
CS2SER	 29267	 29536#
CS2TBL	 29267	 29311#
CSBP	   103#
CSF	  1097#
CSHFLG	   775#
CSHMEM	   776#
CSU	  1095#
CTEST	 27569#	 27569	 27580	 27585	 27597	 27604	 27614	 27616	 27617	 27625
CTP	 23703#	 23808	 23809	 23850	 23939	 23941	 23983	 23984	 24011	 24016	 24018	 24023	 24027	 24058
	 24113	 24116
CTRP	   527#
CYCL60	   769#
CYLADR	  1072#	  1078#
CYLDIF	 10450	 10469#	 10529	 10589	 10752	 10772	 10792
D01	  2963	  3016	 16264	 30401#
D02	  1484	  2962	  3017	  3176	  3227	  3283	  5601	  6252	  6359	  6421	  6483	  6546	  6604	  6662
	  6719	  6778	  6839	  6899	  6960	  8234	 13171	 13245	 16022	 16182	 16265	 21496	 30406#
D03	 16266	 30411#
D04	  6484	  6547	 13172	 13246	 30418#
D05	 16024	 30424#
D10	  1483	  3018	  6961	 16025	 16455	 21497	 30429#
D11	  3019	  6425	 16456	 30434#
D14	 16457	 30439#
D15	  6548	  6606	 13173	 13247	 16458	 30445#
D16	  2677	  6361	  6423	  6549	  6780	 13174	 30452#
D17	  3174	  5599	  6362	  6424	  6781	  6841	  6901	 30461#
D18	 30466#
D19	 30472#
D20	  3175	  3226	  3284	  5600	  6251	  6360	  6422	  6485	  6605	  6663	  6720	  6779	  6840	  6900
	 30480#
D22	 30488#
D6D7PT	 21938#	 21950	 22014
DASER	 29266	 29557#
DASERA	 29567#
DATBL	 29266	 29391#
DATBLA	 29394#
DBSER	 29272	 29623#
DBTBL	 29272	 29400#
DCK	   527#	   969#
DCL	  1109#
DCSER	 29277	 29641#
DCTBL	 29277	 29425#
DCU	  1112#
DDTLNK	   335#	   554
DDTSRT	   554#
DEBUG	    51#	 29959	 29960                                                                                             SEQ 0931
DECVER	     4#	     8	    24	   575
DEVEX	 27223	 27226	 27230#
DEVREL	 23932	 26589	 27228	 29983#
DEVREQ	  1380	  1464	  1574	  1670	  1769	  1862	  1947	  2016	  2110	  2210	  2306	  2392	  2455	  2545
	  2642	  2736	  2822	  2882	  2941	  2995	  3050	  3101	  3153	  3206	  3262	  3317	  3369	  3425
	  3492	  3577	  3646	  3703	  3755	  3817	  3906	  3979	  4035	  4089	  4192	  4285	  4304	  4327
	  4350	  4451	  4514	  4576	  4634	  4686	  4741	  4797	  4870	  4949	  4968	  4991	  5014	  5096
	  5160	  5182	  5205	  5233	  5327	  5346	  5369	  5464	  5483	  5506	  5576	  5634	  5653	  5676
	  5699	  5829	  5931	  5993	  6058	  6144	  6225	  6333	  6395	  6457	  6520	  6579	  6638	  6695
	  6752	  6813	  6873	  6934	  6997	  7017	  7040	  7064	  7131	  7196	  7296	  7319	  7342	  7369
	  7439	  7515	  7601	  7621	  7643	  7709	  7777	  7874	  7897	  7920	  7989	  8068	  8153	  8208
	  8265	  8320	  8375	  8424	  8480	  8543	  8598	  8653	  8708	  8763	  8818	  8872	  8933	  8953
	  8976	  9000	  9066	  9131	  9229	  9320	  9386	  9467	  9537	  9604	  9684	  9721	  9731	  9838
	  9869	  9890	  9906	  9998	 10021	 10042	 10052	 10072	 10083	 10153	 10235	 10307	 10375	 11055
	 11220	 11270	 11324	 11377	 11431	 11485	 11546	 11619	 11708	 11770	 11832	 11894	 11956	 12018
	 12080	 12141	 12203	 12264	 12334	 12406	 12478	 12544	 12607	 12669	 12731	 12794	 12856	 12918
	 12977	 13044	 13138	 13214	 15220	 16080	 16134	 16150	 16593	 16929	 21386	 21407	 21419	 21435
	 21459	 21473	 22928	 22992	 23058	 24083	 24228	 24304	 24348	 25161	 27489	 27535	 28079	 29982#
DEVSEL	   120	  1355	  1460	  1569	  1666	  1765	  1858	  1943	  2012	  2106	  2206	  2302	  2388	  2451
	  2541	  2638	  2732	  2818	  2878	  2937	  2991	  3046	  3097	  3149	  3202	  3258	  3313	  3365
	  3421	  3485	  3570	  3642	  3699	  3751	  3809	  3902	  3975	  4031	  4085	  4185	  4281	  4447
	  4510	  4572	  4630	  4682	  4737	  4793	  4866	  4945	  5092	  5156	  5323	  5460	  5572	  5630
	  5796	  5927	  5989	  6054	  6126	  6221	  6329	  6391	  6453	  6516	  6576	  6634	  6691	  6748
	  6809	  6869	  6930	  6993	  7124	  7189	  7292	  7432	  7501	  7597	  7702	  7770	  7870	  7982
	  8054	  8149	  8204	  8261	  8316	  8371	  8420	  8476	  8539	  8594	  8649	  8704	  8759	  8814
	  8868	  8929	  9059	  9124	  9225	  9316	  9379	  9460	  9530	  9600	  9680	  9834	  9989	 10146
	 10228	 10303	 10370	 10440	 10519	 10579	 10655	 10742	 10872	 10930	 10990	 11051	 11114	 11216
	 11266	 11320	 11373	 11427	 11481	 11542	 11612	 11700	 11762	 11824	 11886	 11948	 12010	 12072
	 12133	 12195	 12260	 12330	 12402	 12470	 12536	 12598	 12661	 12723	 12785	 12848	 12910	 12973
	 13040	 13134	 13210	 13283	 13431	 13508	 13582	 13658	 13734	 13813	 13889	 13968	 14048	 14161
	 14297	 14389	 14461	 14538	 14662	 14747	 14934	 15105	 15185	 15278	 15364	 15451	 15546	 15626
	 15690	 15785	 15950	 16061	 16225	 16303	 16388	 16509	 16589	 16648	 16709	 16772	 16836	 16925
	 17037	 17104	 17168	 17234	 17303	 17377	 17501	 17689	 17975	 18097	 18218	 18358	 18617	 18706
	 18810	 18923	 19037	 19149	 19250	 19335	 19554	 19723	 19774	 19834	 19938	 20086	 20202	 20382
	 20495	 20594	 20701	 20881	 21034	 21184	 21382	 22923	 22987	 23053	 23117	 23250	 23367	 23452
	 23528	 23730	 27201#	 27691	 28076
DEVTBL	 26983	 26995	 27051	 27102	 27113	 27126	 27129	 27170	 27172#	 27214
DEVWD	 26974	 27133	 27170#
DF22F	   680#
DIAGCR	 26584	 27225#	 27225	 27227
DIAGMN	   543#
DIGI1	  1046#
DIGI2	  1047#
DIGI3	  1048#
DIGI4	  1049#
DING	   307#
DIS26A	 27593#
DIS26B	 27594	 27612#
DIS26C	 27613	 27616#
DISDIS	 27600	 27620	 27625#
DISERR	 27598	 27601#
DISGSW	 27649#	 27652
DISPAT	  1302	 27568#                                                                                                    SEQ 0932
DISS14	 27583	 27587#
DISS22	 27578	 27582#
DISSW	 27573#	 27581	 27586	 27608	 27632
DISXFR	  1147#	 26808	 26811
DLOOP	 26025#	 26028
DLOOP1	 26034#	 26039
DLT	   933#
DOLLAR	   735#
DP	  1403	  1480	  1598	  1697	  1800	  1893	  1977	  2043	  2138	  2245	  2336	  2423	  2571	  2673
	  2766	  2851	  3337	  3537	  3724	  3781	  3845	  3928	  4004	  4234	  4385	  4471	  4538	  4601
	  4890	  5047	  5121	  5402	  5539	  5882	  5957	  6187	 10112	 10408	 11453	 11507	 11580	 11668
	 13169	 13243	 16618	 16679	 16742	 16801	 16881	 17003	 17072	 21494	 21580	 21664	 21671	 21676
	 21743	 21749	 21815	 21881	 21953	 22017	 22085	 22140	 22196	 22258	 22324	 22397	 22479	 22564
	 22570	 22651	 22657	 22753	 22897	 30353#
DP10L	 22049#	 22075
DP11L	 22120#	 22132
DP12L	 22175#	 22188
DP13L	 22230#	 22247
DP14L	 22294#	 22313
DP15L	 22362#	 22379	 22388
DP16L	 22439#	 22458	 22470
DP17L	 22521#	 22540	 22555
DP2021	 22733#	 22748	 22830
DP20L	 22608#	 22627	 22642
DP21L	 22695#	 22728
DP22L	 22791#	 22825
DP23L	 22864#	 22886
DP2L	 21624#	 21633	 21643	 21654
DP3L	 21713#	 21722	 21734
DP4AL	 21788#	 21805
DP4X	 21799#	 21806
DP5AL	 21854#	 21871
DP5X	 21865#	 21872
DP6L	 21918#	 21930	 21933
DP7L	 21990#	 22005	 22008
DPD1	 27679	 27685#
DPD2	 27691#	 27776	 27823
DPD3	 27693	 27703#
DPD3A	 27705	 27714#
DPD4	 27718#	 27760
DPD5	 27725	 27729#
DPD6	 27737	 27741#
DPD7	 27727	 27739	 27764#
DPD8	   122	 27767	 27778#
DPD9	   122	 27795#	 27828
DPDISP	   122	 27579	 27678#
DPIAL	 21546#	 21555
DPIBL	 21560#	 21569
DPR	   958#
DR0AT	   989#
DR1AT	   990#
DR2AT	   991#
DR3AT	   992#                                                                                                            SEQ 0933
DR4AT	   993#
DR5AT	   994#
DR6AT	   995#
DR7AT	   996#
DRAS	   869#
DRCC	   878#
DRDA	   865#
DRDC	   876#
DRDT	   873#
DREC1	   884#
DREC2	   885#
DRER1	   868#
DRER2	   879#
DRER3	   882#
DRHLD	   877#
DRIVE	   100#	   115	  1365	  6138	  6150	  6155	  6177	 16851	 16959	 16960	 16967	 16970	 17059	 21536
	 21540	 21615	 21619	 21704	 21708	 21781	 21785	 21847	 21851	 21909	 21913	 21981	 21985	 21993
	 21994	 21999	 22042	 22046	 22056	 22059	 22113	 22117	 22123	 22168	 22172	 22178	 22179	 22223
	 22227	 22234	 22287	 22291	 22299	 22300	 22314	 22355	 22359	 22365	 22432	 22436	 22442	 22443
	 22451	 22462	 22463	 22465	 22514	 22518	 22525	 22526	 22531	 22601	 22605	 22612	 22617	 22621
	 22688	 22692	 22699	 22704	 22734	 22735	 22738	 22742	 22784	 22788	 22795	 22796	 22801	 22857
	 22861	 22867	 22871	 22874	 23558	 23563	 24107	 25549	 25550	 25556	 25561	 25562	 25563	 25568
	 25573	 25574	 25580	 25585	 25586	 25587	 25593	 25624	 25625	 25627	 25637	 25638	 25639	 25701
	 25703	 25716	 25744	 25752	 25766	 25777	 25884	 25900	 26206	 26207	 26210	 26211	 26212	 26264
	 26420	 26421	 26423	 26494	 26979	 26997	 26999	 27049	 27051	 27058	 27060	 27062	 27111	 27113
	 27206	 27209	 27210	 27211	 27214	 27219	 27398	 27714	 27718	 27729	 27730	 27751	 27764	 27778
	 27780	 27795	 27798	 27820	 27833	 27852	 27858	 27997	 28075	 28728	 28757
DRLA	   870#
DRMR1	   872#
DRMR2	   881#
DROF	   875#
DRPNT	 29113	 29122	 29152#
DRPNT1	 29153	 29160#
DRSN	   874#
DRSR	   867#
DRVA	 21993	 21999	 22056	 22123	 22178	 22234	 22299	 22314	 22365	 22442	 22451	 22462	 22465	 22525
	 22612	 22621	 22699	 22735	 22795	 22867	 22874	 25550	 25562	 25574	 25586	 25625	 25638	 25703
	 25752	 27714#	 27714	 27718	 27729	 27751	 27764	 27780	 27798	 27833	 27858
DRVE	 26986	 26987	 26993#
DRVF	 26981#	 27001
DRVX	 26998	 27003#
DRVY	 26997#
DRY	   959#
DSBP	   102#	 27218
DSKDTA	 19398#	 19398	 19402	 19408	 19424	 19431	 19447	 19454	 19475	 19481	 19619	 19625	 19631	 19654
DSKUPD	   580
DT7TRK	  1012#
DTA	 27723#	 27723	 27744
DTB	 27735#	 27735	 27747
DTDRR	  1013#
DTE	   972#
DTMOVH	  1011#
DTNBA	  1009#                                                                                                            SEQ 0934
DTP1	 17858	 17871	 17888	 17907#
DTP2	 17865	 17897	 17922#
DTP3	 17881	 17933#
DTP4	 18042	 18057#
DTP5	 18160	 18172#	 18289	 19505	 19686	 19692
DTSER	 29274	 29577#
DTSLVP	  1014#
DTTAPE	  1010#
DTTBL	 29274	 29397#
DUAL1	 21535#	 27799
DUAL10	 22041#	 27806
DUAL11	 22112#	 27807
DUAL12	 22167#	 27808
DUAL13	 22222#	 27809
DUAL14	 22286#	 27810
DUAL15	 22354#	 27811
DUAL16	 22431#	 27812
DUAL17	 22513#	 27813
DUAL2	 21614#	 27800
DUAL20	 22600#	 27814
DUAL21	 22687#	 27815
DUAL22	 22783#	 27816
DUAL23	 22856#	 27817
DUAL3	 21703#	 27801
DUAL4	 21780#	 27802
DUAL5	 21846#	 27803
DUAL6	 21908#	 27804
DUAL7	 21980#	 27805
DUALH	 27785	 27833#
DUMP	 26010	 26016#
DUMPA	   118	 26012#
DUMPDR	   118	 22399	 26013#
DUMPRH	   118	 26014#
DUMPS	 13470	 13546	 13623	 13697	 13776	 13852	 13931	 14008	 14106	 14251	 14349	 14420	 14506	 14589
	 14697	 14701	 14853	 14856	 14860	 15070	 15073	 15140	 15144	 15235	 15239	 15324	 15328	 15402
	 15499	 15503	 15508	 15587	 15659	 15727	 15732	 15902	 16161	 16166	 16171	 16176	 16257	 16341
	 16452	 16461	 16549	 16553	 16676	 16799	 16873	 17134	 17199	 17270	 17335	 17459	 17591	 17598
	 17615	 17620	 17626	 17631	 17636	 17641	 17647	 17856	 17863	 17868	 17879	 17886	 17891	 17895
	 17901	 18039	 18050	 18158	 18287	 18579	 18666	 18772	 18884	 18996	 19107	 19217	 19297	 19503
	 19513	 19517	 19684	 19690	 19747	 19802	 19904	 20027	 20036	 20040	 20046	 20051	 20163	 20169
	 20294	 20299	 20448	 20453	 20458	 20463	 20554	 20561	 20672	 20818	 20999	 21138	 21337	 21504
	 22481	 23190	 23195	 23200	 23205	 23210	 23215	 23315	 23320	 23325	 23330	 23335	 23411	 23416
	 23421	 23491	 23496	 23594	 23599	 23604	 23798	 24149	 26009#
DVA	   897#
DVC	  1124#
EBIT0	   527#
EBIT1	   527#
EBIT10	   527#
EBIT11	   527#
EBIT12	   527#
EBIT13	   527#
EBIT14	   527#
EBIT15	   527#                                                                                                            SEQ 0935
EBIT2	   527#
EBIT3	   527#
EBIT4	   527#
EBIT5	   527#
EBIT6	   527#
EBIT7	   527#
EBIT8	   527#
EBIT9	   527#
EC	  1802	  2137	  2243	  2335	  2422	  2480	  2570	  2672	  2765	  2850	  2907	  2960	  3014	  3069
	  3120	  3172	  3225	  3281	  3336	  3393	  3454	  3535	  3614	  3671	  3932	  5597	  5731	  6249
	  6357	  6419	  6481	  6544	  6602	  6660	  6717	  6776	  6837	  6897	  6958	  7096	  7162	  7232
	  8177	  8232	  8677	  9250	  9504	  9574	 11344	 11454	 11508	 17860	 17873	 18047	 18162	 18292
	 18585	 19507	 19907	 20034	 20043	 20049	 21343	 30338#
EC1SER	 29281	 29652#
EC1TBL	 29281	 29462#
EC2SER	 29282	 29659#
EC2TBL	 29282	 29465#
ECCDAT	 19874	 19884#	 19891
ECHARD	   978#
ECI	  1056#
ECOCHK	 14809	 14836#	 14848	 14849
EMA	 30388#
ENDFIX	   855#
ENDLST	 30157#	 30157	 30158
ENDSLD	 29957#
ENPRW	  1178#
ER1TBL	 29269	 29346#
ER23CK	 16267	 17596	 17602	 17618	 17624	 17629	 17634	 17639	 17645	 17650	 18777	 19804	 20030	 20038
	 20167	 20173	 20297	 20451	 20559	 20564	 20675	 21004	 21143	 28273#
ER23EX	 28276	 28280	 28335	 28364#
ER2TBL	 29279	 29432#
ER3CK	 28291	 28333#
ER3TBL	 29280	 29451#
ERCNT	   117	 27233	 28564	 28566#	 28566	 28581	 28654	 28659	 28662
ERFLG	   104#	   116	  1387	  1388	  1470	  1587	  1685	  1788	  1881	  1965	  2032	  2125	  2231	  2324
	  2410	  2471	  2560	  2662	  2755	  2840	  2898	  2951	  3005	  3060	  3111	  3163	  3216	  3272
	  3327	  3384	  3444	  3509	  3598	  3662	  3713	  3770	  3829	  3916	  3994	  4051	  4107	  4207
	  4299	  4322	  4345	  4366	  4461	  4528	  4590	  4648	  4704	  4757	  4813	  4880	  4963	  4986
	  5009	  5030	  5110	  5177	  5200	  5228	  5253	  5341	  5364	  5387	  5478	  5501	  5524	  5586
	  5648	  5671	  5694	  5715	  5856	  5946	  6009	  6075	  6162	  6239	  6347	  6409	  6471	  6534
	  6593	  6651	  6708	  6766	  6827	  6887	  6948	  7012	  7035	  7059	  7080	  7147	  7216	  7314
	  7337	  7364	  7389	  7455	  7535	  7616	  7639	  7662	  7729	  7797	  7892	  7915	  7942	  8009
	  8088	  8167	  8222	  8279	  8334	  8384	  8438	  8502	  8557	  8612	  8667	  8722	  8777	  8832
	  8889	  8948	  8971	  8995	  9016	  9082	  9151	  9239	  9342	  9407	  9488	  9558	  9620	  9723
	  9738	  9741	  9875	  9913	 10012	 10033	 10062	 10093	 10178	 10185	 10247	 10254	 10326	 10398
	 10462	 10543	 10608	 10682	 10762	 10781	 10802	 10894	 10952	 11012	 11069	 11144	 11151	 11230
	 11280	 11334	 11388	 11441	 11495	 11570	 11638	 11728	 11790	 11852	 11914	 11976	 12038	 12099
	 12161	 12223	 12285	 12358	 12427	 12498	 12564	 12627	 12689	 12751	 12814	 12876	 12938	 12998
	 13065	 13158	 13233	 13336	 13343	 13378	 13462	 13539	 13615	 13690	 13768	 13845	 13923	 14001
	 14091	 14098	 14206	 14331	 14404	 14413	 14487	 14492	 14581	 14673	 14678	 14690	 14758	 14762
	 14790	 14791	 14808	 14810	 14815	 14822	 14825	 14846	 14948	 14956	 14967	 14993	 14998	 15006
	 15017	 15035	 15042	 15044	 15050	 15057	 15062	 15063	 15126	 15133	 15196	 15215	 15228	 15289
	 15310	 15317	 15374	 15395	 15462	 15479	 15486	 15492	 15557	 15577	 15580	 15637	 15652	 15701     SEQ 0936
	 15706	 15712	 15720	 15796	 15833	 15849	 15857	 15960	 15980	 15997	 16008	 16072	 16095	 16098
	 16100	 16115	 16140	 16143	 16145	 16154	 16236	 16249	 16314	 16330	 16333	 16405	 16413	 16424
	 16520	 16528	 16532	 16542	 16607	 16662	 16668	 16722	 16732	 16781	 16791	 16847	 16863	 16944
	 17050	 17062	 17115	 17121	 17127	 17179	 17186	 17192	 17245	 17263	 17314	 17328	 17389	 17435
	 17438	 17441	 17508	 17527	 17541	 17556	 17582	 17583	 17698	 17716	 17730	 17749	 17766	 17785
	 17801	 17819	 17833	 17847	 17848	 17985	 18001	 18017	 18030	 18031	 18104	 18122	 18144	 18227
	 18245	 18273	 18367	 18384	 18406	 18420	 18434	 18448	 18462	 18475	 18488	 18502	 18503	 18626
	 18643	 18657	 18658	 18713	 18729	 18762	 18765	 18821	 18841	 18877	 18934	 18989	 19044	 19064
	 19100	 19156	 19174	 19210	 19257	 19273	 19290	 19342	 19362	 19387	 19414	 19437	 19460	 19488
	 19561	 19581	 19606	 19638	 19668	 19740	 19789	 19795	 19841	 19858	 19875	 19876	 19963	 19980
	 19991	 20001	 20011	 20020	 20093	 20113	 20126	 20136	 20209	 20231	 20244	 20257	 20396	 20407
	 20419	 20426	 20433	 20441	 20509	 20520	 20535	 20547	 20601	 20618	 20630	 20633	 20648	 20659
	 20662	 20721	 20728	 20731	 20740	 20743	 20762	 20765	 20774	 20777	 20786	 20897	 20908	 20920
	 20923	 20938	 20950	 20962	 21044	 21058	 21070	 21073	 21086	 21098	 21101	 21116	 21128	 21131
	 21193	 21210	 21232	 21246	 21260	 21274	 21288	 21301	 21314	 21328	 21411	 21440	 21441	 21463
	 21480	 21483	 21550	 21553	 21564	 21567	 21631	 21641	 21652	 21720	 21732	 21803	 21869	 21928
	 22003	 22070	 22073	 22130	 22186	 22245	 22311	 22377	 22386	 22456	 22468	 22538	 22553	 22625
	 22640	 22723	 22726	 22820	 22823	 22869	 22873	 22881	 22884	 22941	 23007	 23071	 23129	 23141
	 23149	 23163	 23175	 23183	 23258	 23266	 23285	 23297	 23308	 23381	 23389	 23401	 23471	 23482
	 23549	 23572	 23587	 23765	 23790	 23794	 23881	 23893	 23928	 24126	 24141	 24145	 24701	 24709
	 24718	 24721	 24723	 24751	 24756	 24761	 24770	 24774	 24775	 24806	 24812	 24821	 24826	 24834
	 24837	 24839	 24869	 24874	 24883	 24888	 24897	 24901	 24903	 24930	 24935	 24944	 24948	 24950
	 24983	 25023	 25029	 25035	 25138	 25159	 27231	 27488	 27517	 27521	 27715	 27724	 27736	 28556#
	 28556	 28655	 28673	 28691
ERHDR	 28586	 28701#
ERMORE	   629#
ERNRML	 28717#
EROLD	    52#	   527
ERRORT	 27570	 28558#	 28558
ERRPC	   600#	 28563	 28565	 28657	 28664	 28668
ERRTLS	   601#
ERSHRT	 28716	 28743#
ERSTOP	   310#
ERYET	   116	 21415	 21468	 22460	 23132	 23144	 23152	 23166	 23178	 23261	 23269	 23288	 23300	 23384
	 23392	 23404	 23474	 23552	 23575	 28544#	 28544	 28559
ERYETU	   116	 17544	 17559	 17733	 17752	 17769	 17788	 17804	 17822	 17836	 18020	 18147	 18276	 18409
	 18423	 18437	 18451	 18465	 18478	 18491	 19417	 19440	 19463	 19491	 19642	 19671	 21235	 21249
	 21263	 21277	 21291	 21304	 21317	 28545#	 28545	 28561
EVPAR	  1171#
EXCASB	    48#	   578
EXG0	 29709	 29742#
EXIOT	   527#
EXPECT	  3522#	  3533	  3612	  7160	  7230	  7397	  7403	  7472	  7542	  7742	  7811	  7950	  8025	  8095
	  9095	  9165	 22957	 23023	 23087
EXT	 11617#	 11617	 11655	 11705	 11768	 11829	 11891	 11953	 12015	 12076	 12139	 12201	 12476	 12542
	 12605	 12667	 12729	 12792	 12854	 12916
FECNT	 26719#	 26719	 26720
FETMC3	 25264#	 25468
FETWD	 18140	 18265	 19397	 19407	 19430	 19453	 19480	 19618	 19630	 19659	 25223#
FMT22	  1055#
FMTER	   980#
FNCTN	   904#
FOV	   527#                                                                                                            SEQ 0937
FOVU	   527#
FRDLNK	   333#
FREE	   120	 30562#
FSELNK	   332#
FXU	   527#
G	    75	   115	  1273#
GARBAG	 27264#	 27264
GNLW1	 25890#	 25897
GNLWT	 25881#	 25927	 25933	 25940
GOTO	   287#	  3615	  4376	  4379	  5040	  5043	  5263	  5266	  5397	  5534	  5725	  5728	  7090	  7093
	  7399	  7402	  7672	  7952	  9026	  9029	  9795	 10102	 10105	 10108	 12296	 12369	 12437	 13008
	 14703	 14863	 15071	 15237	 15326	 15501	 16017	 16164	 16169	 16174	 16179	 16344	 18053	 19515
	 20461	 20465	 21502	 21507	 22831
HCE	   977#
HCI	  1057#
HCRCER	   976#
HDREX	 28741	 28762#
HEAD	 20097#	 20097	 20108	 20141	 20142	 20152
HIPIA	  1149#
HIPROB	   281#	  1402	  1403	  1404	  1480	  1481	  1482	  1483	  1484	  1485	  1597	  1598	  1599	  1600
	  1694	  1695	  1696	  1697	  1797	  1798	  1799	  1890	  1891	  1892	  1893	  1974	  1975	  1976
	  1977	  2041	  2042	  2134	  2135	  2136	  2137	  2240	  2241	  2242	  2243	  2332	  2333	  2334
	  2335	  2419	  2420	  2421	  2422	  2480	  2569	  2570	  2671	  2672	  2764	  2765	  2849	  2850
	  2907	  2960	  2961	  2962	  2963	  3014	  3015	  3069	  3070	  3120	  3121	  3172	  3173	  3225
	  3226	  3227	  3228	  3281	  3282	  3283	  3284	  3336	  3393	  3454	  3535	  3614	  3671	  3723
	  3724	  3780	  3781	  3845	  3927	  3928	  4003	  4004	  4060	  4116	  4231	  4232	  4233	  4384
	  4385	  4386	  4470	  4471	  4472	  4473	  4474	  4475	  4537	  4538	  4600	  4601	  4657	  4713
	  4766	  4824	  4889	  5046	  5120	  5269	  5400	  5401	  5537	  5538	  5597	  5598	  5731	  5881
	  5956	  6020	  6085	  6187	  6188	  6249	  6250	  6357	  6358	  6419	  6420	  6481	  6482	  6544
	  6545	  6602	  6603	  6660	  6661	  6717	  6718	  6776	  6777	  6837	  6838	  6897	  6898	  6958
	  6959	  7096	  7162	  7232	  7405	  7474	  7544	  7675	  7744	  7813	  7955	  8027	  8097	  8176
	  8177	  8231	  8232	  8288	  8289	  8343	  8344	  8393	  8394	  8447	  8448	  8511	  8512	  8566
	  8567	  8621	  8622	  8676	  8677	  8731	  8732	  8786	  8787	  8841	  8898	  9032	  9097	  9167
	  9249	  9250	  9352	  9432	  9504	  9505	  9574	  9639	  9799	  9943	 10111	 10195	 10200	 10264
	 10268	 10336	 10408	 10487	 10552	 10628	 10709	 10838	 10842	 10846	 10903	 10962	 11023	 11079
	 11185	 11189	 11240	 11290	 11344	 11398	 11451	 11505	 11506	 11507	 11580	 11668	 13169	 13170
	 13243	 13244	 13392	 13396	 13472	 13548	 13625	 13699	 13779	 13855	 13934	 14011	 14113	 14114
	 14120	 14254	 14353	 14508	 14509	 14591	 14862	 14869	 15142	 15146	 15242	 15243	 15331	 15404
	 15505	 15506	 15590	 15591	 15661	 15662	 15730	 15735	 15909	 15914	 16022	 16023	 16181	 16182
	 16261	 16454	 16455	 16456	 16551	 16556	 16617	 16618	 16678	 16679	 16741	 16742	 16801	 16881
	 17003	 17072	 17136	 17201	 17272	 17337	 17462	 17594	 17595	 17600	 17617	 17622	 17623	 17628
	 17633	 17638	 17643	 17644	 17649	 17859	 17860	 17866	 17872	 17873	 17874	 17875	 17876	 17877
	 17882	 17883	 17889	 17893	 17898	 17903	 18043	 18044	 18045	 18046	 18047	 18048	 18161	 18162
	 18163	 18164	 18165	 18166	 18290	 18291	 18292	 18583	 18668	 18775	 18776	 18887	 18888	 18999
	 19000	 19111	 19112	 19220	 19221	 19300	 19506	 19507	 19508	 19509	 19510	 19511	 19687	 19688
	 19693	 19749	 19805	 19907	 20031	 20032	 20033	 20034	 20042	 20048	 20049	 20166	 20303	 20456
	 20557	 20558	 21003	 21141	 21142	 21341	 21494	 21495	 21496	 21497	 21498	 21580	 21581	 21664
	 21671	 21676	 21743	 21749	 21815	 21881	 21953	 22017	 22085	 22140	 22196	 22257	 22258	 22323
	 22324	 22396	 22397	 22478	 22479	 22564	 22570	 22651	 22657	 22753	 22897
HIREQ	  1144#
HLDTBL	 29429#
HM	 30451#
HNGDEV	 19966	 19975	 20116	 20120	 20234	 20238	 20410	 20413	 20523	 20527	 20621	 20625	 20651	 20654     SEQ 0938
	 20735	 20769	 20911	 20915	 20941	 20945	 21061	 21065	 21089	 21093	 21119	 21123	 25131#	 25131
	 25160
HNGMSG	 25706	 25722#
HWC	 18132#	 18132	 18134	 18139	 18150	 18175	 18255	 18259	 18264	 18279	 19391	 19392	 19394	 19405
	 19423	 19428	 19446	 19451	 19467	 19474	 19478	 19494	 19612	 19613	 19615	 19624	 19628	 19646
	 19653	 19657	 19675	 25467
HWMANY	 27142#	 27142
HYPEN	   726#
IAE	   974#
IE	   903#
ILF	   984#
ILR	   983#
INDEX	 11554	 11559	 11627	 11716	 11778	 11840	 11902	 11964	 12026	 12088	 12149	 12211	 12272	 12277
	 12342	 12347	 12414	 12419	 12486	 12552	 12615	 12677	 12739	 12802	 12864	 12926	 12985	 12990
	 13052	 13057	 13146	 17521	 24458	 24483#	 24603
INDX	 15208	 15209	 15222	 17534	 17549	 24524#
INHCSH	   318#
INHPAG	   315#
IOCLR	   527#
IOFTL	 26722	 26729#
IOL316	 16961#	 16968
IOPGF1	 26685	 26690#
IOPGFT	  1296	 26680#
IOTOUT	  1143#
IR	   942#
ITERAT	    49#	   573
ITRCH1	   633#	 26673	 26674
ITRCNT	   573#
IVC	  1120#
IXE	  1087#
JOB41	   527#
JOBAPR	   527#
JOBCNI	   527#
JOBDDT	   527#
JOBFF	   527#
JOBOPC	   527#
JOBREL	   527#
JOBREN	   527#
JOBSA	   527#
JOBSYM	   527#
JOBTPC	   527#
JOBUSY	   527#
JOBUUO	   527#
JOBVER	   527#
KAIFLG	   590#
KLFLG	   591#
KNTRP	   527#
KTRP	   527#
LACLK	   527#
LACLKE	   527#
LAPNT	 11645#	 11667
LAPRAL	   527#
LAPRP1	   527#                                                                                                            SEQ 0939
LAPRP2	   527#
LAPRP3	   527#
LAPRP4	   527#
LAPRP5	   527#
LAPRP6	   527#
LAPRP7	   527#
LASER	 29271	 29596#
LAST	   289#	  1404	  1485	  1603	  1698	  1803	  1894	  1978	  2043	  2139	  2246	  2337	  2424	  2481
	  2572	  2677	  2767	  2852	  2907	  2963	  3019	  3070	  3121	  3176	  3228	  3285	  3337	  3393
	  3455	  3541	  3671	  3724	  3781	  3845	  3933	  4006	  4060	  4116	  4234	  4387	  4475	  4539
	  4602	  4657	  4713	  4766	  4824	  4892	  5049	  5123	  5269	  5404	  5541	  5601	  5731	  5884
	  5957	  6020	  6085	  6188	  6252	  6362	  6425	  6485	  6550	  6606	  6663	  6720	  6781	  6841
	  6901	  6961	  7097	  7162	  7232	  7405	  7474	  7544	  7675	  7744	  7813	  7955	  8027	  8097
	  8177	  8234	  8289	  8344	  8394	  8448	  8512	  8567	  8622	  8677	  8732	  8787	  8841	  8898
	  9032	  9097	  9167	  9250	  9352	  9432	  9505	  9574	  9639	  9801	  9945	  9950	 10112	 10195
	 10200	 10264	 10268	 10336	 10408	 10488	 10552	 10628	 10709	 10838	 10842	 10846	 10903	 10962
	 11023	 11079	 11185	 11189	 11240	 11290	 11345	 11399	 11454	 11508	 11581	 11669	 13175	 13247
	 13392	 13396	 13473	 13549	 13625	 13699	 13779	 13855	 13934	 14011	 14115	 14120	 14255	 14353
	 14422	 14510	 14591	 14699	 14854	 14858	 14869	 15076	 15142	 15146	 15243	 15331	 15404	 15506
	 15510	 15591	 15662	 15730	 15735	 15909	 15914	 16025	 16183	 16267	 16459	 16463	 16551	 16556
	 16618	 16679	 16742	 16801	 16881	 17003	 17072	 17136	 17201	 17272	 17337	 17462	 17596	 17602
	 17618	 17624	 17629	 17634	 17639	 17645	 17650	 17861	 17866	 17877	 17883	 17889	 17893	 17898
	 17903	 18048	 18166	 18292	 18585	 18668	 18777	 18888	 19000	 19112	 19221	 19300	 19511	 19521
	 19688	 19693	 19749	 19805	 19908	 20034	 20038	 20044	 20049	 20054	 20167	 20173	 20297	 20303
	 20451	 20456	 20559	 20564	 20675	 20821	 21004	 21143	 21343	 21498	 21583	 21665	 21671	 21676
	 21744	 21749	 21815	 21881	 21953	 22017	 22085	 22140	 22196	 22258	 22324	 22397	 22401	 22479
	 22483	 22564	 22570	 22651	 22657	 22753	 22897	 22958	 23024	 23088	 23192	 23197	 23202	 23207
	 23212	 23217	 23317	 23322	 23327	 23332	 23337	 23413	 23418	 23423	 23493	 23499	 23596	 23601
	 23606
LATBL	 11639	 11667#	 11729	 11791	 11853	 11915	 11977	 12039	 12100	 12162	 12224	 12499	 12565	 12628
	 12690	 12752	 12815	 12877	 12939
LATBL1	 11668#	 12296	 12369	 12437	 13008
LATBLA	 29406#
LATBLX	 29271	 29403#
LBC	  1122#
LBT	   956#
LCHNOF	   527#
LCHNON	   527#
LCNTXT	   527#
LCNXER	   527#
LCPAER	   527#
LCPSFT	   527#
LCPWRF	   527#
LDATAF	   527#
LDERR	 26235	 26241#
LDERR1	 26244	 26278#
LDLNK	   334#	   543	   545
LDNXER	   527#
LDPAER	   527#
LDPSFT	   527#
LDPWRF	   527#
LDRAM	 24995	 25004	 28799#
LDRG1	 26222#                                                                                                            SEQ 0940
LDRG4	 26227#
LDRGC1	 26205	 26217#
LDRGCC	 26138	 26141	 26144	 26147	 26150	 26153	 26156	 26159	 26162	 26165	 26168	 26171	 26174	 26177
	 26180	 26183	 26186	 26189	 26192	 26195	 26197#
LDRGEX	 26229	 26237	 26279	 26292#
LDUBAS	 26804	 26809	 26832	 26852	 27439	 28884#
LEBXMH	   527#
LEBXML	   527#
LENXER	   527#
LEPAER	   527#
LEPSFT	   527#
LEPWRF	   527#
LEUPFW	   527#	 26682
LEXCMP	   527#
LFLGCL	   527#
LFLGDS	   527#
LFLGEN	   527#
LFLGST	   527#
LFP	   730#
LFTBIT	 29118	 29126	 29165#
LHTBL	 29168	 29290#
LINSTF	   527#
LINT	   527#
LIOCLR	   527#
LLACBL	   527#
LLDUSB	   527#
LMBXMH	   527#
LMBXML	   527#
LMRPW	  1156#
LNXMEN	   527#
LNXMER	   527#
LOOPER	   309#
LOPIA	  1150#
LOPROB	   282#	  1601	  1602	  1603	  1698	  1800	  1801	  1802	  1803	  1894	  1978	  2043	  2138	  2139
	  2244	  2245	  2246	  2336	  2337	  2423	  2424	  2481	  2571	  2572	  2673	  2674	  2675	  2676
	  2677	  2766	  2767	  2851	  2852	  3016	  3017	  3018	  3019	  3174	  3175	  3176	  3337	  3455
	  3537	  3538	  3539	  3540	  3541	  3929	  3930	  3931	  3932	  3933	  4005	  4006	  4234	  4387
	  4539	  4602	  4890	  4891	  4892	  5047	  5048	  5049	  5121	  5122	  5123	  5402	  5403	  5404
	  5539	  5540	  5541	  5599	  5600	  5601	  5882	  5883	  5884	  5957	  6251	  6252	  6359	  6360
	  6361	  6362	  6421	  6422	  6423	  6424	  6425	  6483	  6484	  6485	  6546	  6547	  6548	  6549
	  6604	  6605	  6606	  6662	  6663	  6719	  6720	  6778	  6779	  6780	  6781	  6839	  6840	  6841
	  6899	  6900	  6901	  6960	  6961	  7097	  8233	  8234	  9800	  9944	 10112	 10488	 11345	 11399
	 11452	 11453	 11454	 11508	 11581	 11669	 13171	 13172	 13173	 13174	 13175	 13245	 13246	 13247
	 13473	 13549	 14115	 14255	 14510	 16024	 16025	 16183	 16262	 16263	 16264	 16265	 16266	 16457
	 16458	 16459	 17601	 17861	 18584	 18585	 19908	 20043	 20044	 21342	 21343	 21582	 21583	 21665
	 21744
LOREQ	  1145#
LPADDR	  1160#
LPAREN	   527#
LPARER	   527#	 26625
LPFWPC	   527#	 26694
LPGFTR	   527#	  1294	  1297
LPICH1	   527#                                                                                                            SEQ 0941
LPICH2	   527#
LPICH3	   527#
LPICH4	   527#
LPICH5	   527#
LPICH6	   527#
LPICH7	   527#
LPICHA	   527#
LPICLR	   527#
LPIIP1	   527#
LPIIP2	   527#
LPIIP3	   527#
LPIIP4	   527#
LPIIP5	   527#
LPIIP6	   527#
LPIIP7	   527#
LPIOFF	   527#
LPION	   527#
LPRCH1	   527#
LPRCH2	   527#
LPRCH3	   527#
LPRCH4	   527#
LPRCH5	   527#
LPRCH6	   527#
LPRCH7	   527#
LPRFMH	   527#
LPRFML	   527#
LPSFT	   527#
LPSFTE	   527#
LPWRFE	   527#
LPWRFL	   527#
LREQSE	   527#
LRPAS	 15388	 16598	 16658	 16718	 16784	 16856	 16934	 17046	 17252	 17321	 19733	 19785	 22061	 26148#
	 30194
LRPBA	 23000	 25009	 26187#
LRPCC	 26169#	 30201
LRPCS1	  4290	  4309	  4313	  4332	  4336	  4355	  5937	  6000	  6066	  6152	  8876	 10003	 10026	 10047
	 10163	 10240	 10312	 10317	 10453	 10532	 10592	 10667	 10672	 10755	 10775	 10795	 10885	 10943
	 11003	 11060	 11128	 13314	 13453	 13530	 13606	 13681	 13759	 13836	 13914	 13992	 14063	 14076
	 14183	 14196	 14316	 14324	 14400	 14481	 14561	 14574	 14774	 15118	 15206	 15299	 15384	 15472
	 15570	 15648	 15829	 16075	 17256	 17413	 22125	 22181	 22371	 22449	 22533	 22619	 22740	 23158
	 24278	 24356	 24707	 24759	 24824	 24886	 24933	 25033	 26136#	 30190
LRPCS2	 23559	 25066	 26190#	 26834	 27441
LRPDA	  5332	  5351	  5355	  5374	  5378	  7882	  7902	  7906	  7928	  7932	  7994	  7999	  8073	  8078
	  8485	 10999	 13298	 13444	 13602	 13677	 13755	 13832	 13910	 13988	 14175	 14552	 15202	 15466
	 15564	 15644	 15812	 16243	 16321	 17404	 23879	 24160	 24704	 24881	 25021	 26151#	 30195
LRPDB	 23065	 23274	 23277	 23375	 23460	 23465	 23535	 23564	 26193#
LRPDC	  5469	  5488	  5492	  5511	  5515	  7606	  7626	  7630	  7648	  7652	  7714	  7719	  7782	  7787
	  8489	 10478	 10939	 13309	 13449	 13521	 13526	 13596	 13671	 13750	 13828	 13905	 13983	 14059
	 14072	 14179	 14192	 14312	 14477	 14557	 14570	 14770	 15295	 15303	 15380	 15560	 15640	 15807
	 16239	 16317	 16408	 16523	 17408	 24754	 24872	 25027	 26166#	 30200
LRPDS	 10077	 26139#	 30191
LRPDT	 26154#	 30196
LRPEC1	 26178#	 30204                                                                                                     SEQ 0942
LRPEC2	 26181#	 30205
LRPER1	  3985	  4040	  4094	  4098	  4519	  4581	  4639	  4691	  4695	  4746	  4804	  8158	  8213	  8270
	  8325	  8380	  8429	  8493	  8548	  8603	  8658	  8713	  8768	  8823	  8880	  8938	  8958	  8962
	  8981	  8985	  9005	  9072	  9136	  9141	  9325	  9392	 10158	 17248	 17317	 26142#	 30192
LRPER2	  2550	  2647	  2651	  2741	  2745	  2827	  2831	  2887	  5639	  5658	  5662	  5681	  5685	  5704
	  6230	  6338	  6400	  6462	  6525	  6584	  6642	  6700	  6757	  6818	  6878	  6939	  7002	  7022
	  7026	  7045	  7049	  7069	  7137	  7201	  7206	  9329	  9473	 26172#	 30202
LRPER3	  2115	  2215	  2219	  2310	  2314	  2397	  2401	  2460	  3374	  3430	  3434	  3498	  3582	  3587
	  3651	  3761	  3823	  9333	  9543	 26175#	 30203
LRPLA	 26157#	 30197
LRPMR	  4954	  4973	  4977	  4996	  5000	  5019	  5101	  5163	  5167	  5187	  5191	  5210	  5214	  5218
	  5238	  5242	  5836	 24431	 24495	 24500	 24526	 24530	 24570	 24575	 25347	 25351	 25390	 25402
	 25454	 25458	 25462	 25511	 25515	 25519	 26145#	 30193
LRPOF	  1675	  1774	  1777	  1867	  1871	  1952	  1956	  2021	  7304	  7324	  7328	  7347	  7354	  7377
	  7445	  7520	  7525	 10881	 16326	 18817	 18830	 18930	 18943	 19053	 19165	 19956	 20104	 20223
	 20399	 20512	 20611	 20717	 20755	 20900	 21051	 24639	 24674	 24819	 26163#	 30199
LRPSN	 26160#	 30198
LRPWC	 22935	 25017	 26184#
LRQCLR	   527#
LSC	  1121#
LSECMO	   527#
LSMODE	   527#
LSNXER	   527#
LSPAER	   527#
LSPSFT	   527#
LSPWRF	   527#
LST	 30573#
LSTLOC	 30561#
LTBASH	   527#
LTBASL	   527#
LTRPAE	   527#
LTRPEN	   527#
LUSCMP	   527#
LUUO	   527#
LUUO1	   660	   661
LUUO10	   660	   665
LUUO11	   660	   665
LUUO12	   660	   666
LUUO13	   660	   666
LUUO14	   660	   667
LUUO15	   660	   667
LUUO16	   660	   668
LUUO17	   660	   668
LUUO2	   660	   662
LUUO20	   660	   669
LUUO21	   660	   669
LUUO22	   660	   670
LUUO23	   660	   670
LUUO24	   660	   671
LUUO25	   660	   671
LUUO26	   660	   672
LUUO27	   133#	   660	   672
LUUO3	   660	   662                                                                                                     SEQ 0943
LUUO30	   134#	   660	   673
LUUO31	   135#	   660	   673
LUUO32	   660	   674
LUUO33	   660	   674
LUUO4	   660	   663
LUUO5	   660	   663
LUUO6	   660	   664
LUUO7	   660	   664
LUUOI	   527#
LVALID	  1159#	 24993	 25001
LWRITE	   527#
LXFR16	  1157#
LXFR36	  1158#	 24993	 25003
M	 26134#	 26139	 26142	 26145	 26148	 26151	 26154	 26157	 26160	 26163	 26166	 26169	 26172	 26175
	 26178	 26181	 26184	 26187	 26190	 26193	 26350	 26353	 26356	 26359	 26362	 26365	 26368	 26371
	 26374	 26377	 26380	 26383	 26386	 26389	 26392	 26395	 26398	 26401	 26404	 26407
MA	 16183	 16262	 16459	 20032	 30322#
MAPNEW	   681#	  1233
MARGIN	   603#
MASDAT	 18141#	 18141	 18179	 18266	 19411	 19434	 19457	 19485	 19634	 19663
MAXTST	 27599	 27618	 30158#
MB	  1482	  2675	  2961	  3015	  3173	  3228	  3282	  3455	  5598	  6250	  6358	  6420	  6482	  6545
	  6603	  6661	  6718	  6777	  6838	  6898	  6959	  7097	  8233	  9800	  9944	 13170	 13244	 16023
	 16263	 16454	 20033	 20044	 21495	 21583	 30330#
MBCMAX	 27168#	 28074
MBCMIN	 27167#
MBCN	   101#	   115	  1368	 21537	 21539	 21616	 21618	 21705	 21707	 21782	 21784	 21848	 21850	 21910
	 21912	 21982	 21984	 22043	 22045	 22114	 22116	 22169	 22171	 22224	 22226	 22288	 22290	 22356
	 22358	 22433	 22435	 22515	 22517	 22602	 22604	 22689	 22691	 22785	 22787	 22858	 22860	 26211
	 26218	 26233	 26259	 26272	 26283	 26290	 26423	 26428	 26440	 26462	 26489	 26502	 26513	 26520
	 26802	 26977	 27227	 27796	 27819	 28074	 28725	 28754	 29146
MCLK1	   121	 18008	 18129	 18252	 18402	 18415	 18429	 18443	 18457	 18471	 18484	 18497	 18736	 18748
	 18848	 18859	 18961	 18978	 19072	 19089	 19181	 19198	 19279	 19369	 19376	 19588	 19595	 19866
	 21228	 21241	 21255	 21269	 21283	 21297	 21310	 21323	 25342#
MCLK1A	 25346#	 25353
MCLK2	   121	 17726	 17745	 17762	 17781	 17797	 17829	 18013	 18027	 18137	 18261	 19871	 25383#
MCLK2A	 25389#	 25405
MCLK2B	 25408	 25413#
MCLK3	   121	 19400	 19410	 19433	 19456	 19483	 19621	 19633	 19662	 25443#
MCLK3A	 25450#	 25464
MCLK3F	 19356	 19575	 25002	 27442#	 27442
MCLK4	   121	 18742	 18754	 18854	 18866	 18967	 18973	 19078	 19084	 19187	 19193	 19373	 19380	 19592
	 19599	 25499#
MCLK4A	 25507#	 25521
MCNVER	     3#	     8	    24	   575
MCPE	   896#	 20632	 20661	 20742	 20776	 20922	 21072	 21100	 21130
MDASH	 28643	 29818#
MDLI1	 30323#
MDLI2	 30331#
MDPE	   940#	  1125#	 19637	 19666
MEMLOW	   683#
MEMMAP	    50#	   581
MEMSIZ	   684#                                                                                                            SEQ 0944
MEMTOT	   682#
MHS	  1089#
MINUS	   725#
MLTCHR	 29820	 29823	 29824#
MMBUF	 25191	 30511#
MMODE	   120	  5934	  5997	  6062	  6148	 10379	 10448	 10527	 10587	 10750	 10771	 10790	 11552	 11625
	 11714	 11776	 11838	 11900	 11962	 12024	 12086	 12147	 12209	 12270	 12340	 12412	 12484	 12550
	 12613	 12675	 12737	 12800	 12862	 12924	 12983	 13050	 13144	 13295	 13441	 13518	 13593	 13668
	 13747	 13825	 13902	 13980	 14056	 14068	 14172	 14188	 14308	 14321	 14473	 14549	 14566	 14767
	 15115	 15199	 15292	 15377	 15469	 15567	 17393	 24429#	 24457
MMODE1	   120	 17519	 17710	 17995	 18116	 18239	 18378	 18637	 18723	 18835	 18948	 19058	 19168	 19267
	 19354	 19573	 19852	 21204	 24456#
MODDVC	   317#	 26800
MODDVL	   516	   516#	   576
MODDVU	   517	   517#	   577
MODE	 11648	 24630#	 24630	 24665
MODE20	   121	 11550	 11623	 11712	 11774	 11836	 11898	 11960	 12145	 12207	 12268	 12338	 12410	 12482
	 12548	 12611	 12673	 12735	 13220	 13745	 13823	 17395	 17517	 17708	 17993	 18114	 18237	 18376
	 18635	 18721	 18833	 18946	 19056	 19265	 19352	 19571	 19850	 24628#
MODE22	   121	 12022	 12084	 12798	 12860	 12922	 12981	 13048	 13900	 13978	 15804	 21202	 24663#
MODLNK	   336#	   540
MODULE	   279#
MOL	   954#
MONCTL	   593#
MONFLG	   592#
MONTEN	   594#
MONTYP	   807#
MPVU	   527#
MRPW	  1167#
MRTBL	 29273	 29365#
MSTCLR	   120	  1382	  1466	  1576	  1672	  1771	  1780	  1864	  1949	  2018	  2024	  2112	  2212	  2222
	  2307	  2394	  2457	  2463	  2547	  2644	  2654	  2738	  2824	  2884	  2890	  2943	  2997	  3052
	  3103	  3155	  3208	  3264	  3319	  3371	  3427	  3494	  3579	  3648	  3654	  3705	  3758	  3819
	  3908	  3981	  4037	  4043	  4091	  4194	  4287	  4306	  4329	  4352	  4358	  4453	  4516	  4578
	  4636	  4688	  4743	  4749	  4799	  4872	  4951	  4970	  4993	  5016	  5022	  5098	  5184	  5207
	  5235	  5245	  5329	  5348	  5371	  5466	  5485	  5508	  5578	  5636	  5655	  5678	  5701	  5707
	  5831	  5933	  5995	  6060	  6146	  6227	  6335	  6397	  6459	  6522	  6581	  6639	  6697	  6754
	  6815	  6875	  6936	  6999	  7019	  7042	  7066	  7072	  7133	  7198	  7298	  7321	  7344	  7371
	  7380	  7441	  7517	  7603	  7623	  7645	  7711	  7779	  7876	  7899	  7922	  7991	  8070	  8155
	  8210	  8267	  8322	  8377	  8426	  8482	  8545	  8600	  8655	  8710	  8765	  8820	  8873	  8935
	  8955	  8978	  9002	  9008	  9068	  9133	  9231	  9322	  9388	  9469	  9539	  9606	  9686	  9840
	  9892	 10000	 10023	 10044	 10054	 10074	 10085	 10155	 10237	 10309	 10377	 10446	 10525	 10535
	 10585	 10664	 10748	 10769	 10788	 10878	 10936	 10996	 11057	 11124	 11222	 11272	 11326	 11379
	 11433	 11487	 11548	 11621	 11710	 11772	 11834	 11896	 11958	 12020	 12082	 12143	 12205	 12266
	 12336	 12408	 12480	 12546	 12609	 12671	 12733	 12796	 12858	 12920	 12979	 13046	 13142	 13148
	 13218	 13293	 13375	 13439	 13516	 13591	 13666	 13743	 13821	 13898	 13976	 14054	 14066	 14082
	 14170	 14186	 14199	 14306	 14319	 14397	 14471	 14484	 14547	 14564	 14670	 14755	 14777	 14838
	 14945	 14990	 15039	 15054	 15113	 15193	 15286	 15372	 15459	 15554	 15634	 15698	 15793	 15802
	 15957	 15994	 16069	 16233	 16311	 16402	 16421	 16517	 16595	 16655	 16715	 16724	 16844	 16931
	 17043	 17112	 17117	 17176	 17181	 17242	 17311	 17386	 17505	 17515	 17695	 17706	 17981	 18101
	 18112	 18224	 18235	 18364	 18374	 18623	 18633	 18710	 18719	 18814	 18827	 18927	 18940	 19041
	 19050	 19153	 19162	 19254	 19263	 19339	 19350	 19558	 19569	 19730	 19782	 19838	 19848	 19950
	 20090	 20101	 20206	 20217	 20386	 20393	 20499	 20506	 20598	 20608	 20642	 20705	 20714	 20752     SEQ 0945
	 20885	 20894	 20932	 21038	 21048	 21080	 21110	 21190	 21200	 22876	 22930	 22994	 23060	 23120
	 23253	 23370	 23455	 23532	 23766	 23793	 23837	 24144	 24153	 24183	 24276	 25758	 25772	 26876
	 26981	 27437#	 27716
MUBA1	 26899#	 26907
MUBA1A	 26902	 26905#
MUBA2	 26904	 26908#
MUBA3	 26898	 26918#
MUBA4	 26922#	 26931
MUBA4A	 26925	 26929#
MUBA5	 26928	 26932#
MUBADR	 26801	 26892#
MUBAX	 26921	 26938#
MUUO	   527#
MUUOPC	   527#
MXF	   939#
MZERO	 29821#
NA	 25663#	 25668	 25670
NB	 25667	 25672#	 25677	 25679
NC	 25676	 25681#	 25686	 25688
ND	 25685	 25690#
NED	   936#	 26234	 26441
NEM	   937#
NEUTRL	 21624	 21626	 21713	 21715	 21788	 21790	 21854	 21856	 21918	 21920	 21990	 21992	 22049	 22052
	 22120	 22122	 22175	 22177	 22230	 22232	 22240	 22294	 22296	 22298	 22306	 22362	 22364	 22439
	 22441	 22521	 22524	 22608	 22611	 22695	 22698	 22791	 22794	 22864	 22866	 22870	 22875	 25660#
	 25748	 25762	 25776
NHS	  1088#
NOER1	  1386	  1393#
NOINH	   285#	  1400	  1401	  1479	  1595	  1596	  1693	  1796	  1889	  1973	  2040	  2133	  2239	  2331
	  2418	  2479	  2568	  2670	  2763	  2848	  2906	  2959	  3013	  3068	  3119	  3171	  3224	  3280
	  3285	  3335	  3392	  3453	  3534	  3536	  3613	  3670	  3721	  3722	  3778	  3779	  3843	  3844
	  3924	  3925	  3926	  4002	  4059	  4115	  4230	  4375	  4378	  4381	  4382	  4383	  4469	  4536
	  4599	  4656	  4712	  4765	  4822	  4823	  4888	  5039	  5042	  5045	  5118	  5119	  5262	  5265
	  5268	  5396	  5399	  5533	  5536	  5595	  5596	  5724	  5727	  5730	  5954	  5955	  6018	  6019
	  6083	  6084	  6248	  6356	  6418	  6480	  6543	  6550	  6601	  6659	  6716	  6775	  6836	  6896
	  6957	  7089	  7092	  7095	  7161	  7231	  7398	  7401	  7404	  7473	  7543	  7671	  7674	  7743
	  7812	  7951	  7954	  8026	  8096	  8175	  8230	  8287	  8342	  8392	  8446	  8510	  8565	  8620
	  8675	  8730	  8785	  8840	  8897	  9025	  9028	  9031	  9096	  9166	  9247	  9248	  9350	  9351
	  9430	  9431	  9502	  9503	  9572	  9573	  9636	  9637	  9638	  9794	  9797	  9798	  9801	  9941
	  9942	  9948	  9949	 10101	 10104	 10107	 10110	 10193	 10194	 10198	 10199	 10262	 10263	 10267
	 10334	 10335	 10406	 10407	 10486	 10551	 10626	 10627	 10708	 10837	 10841	 10845	 10902	 10961
	 11021	 11022	 11077	 11078	 11184	 11188	 11238	 11239	 11288	 11289	 11342	 11343	 11396	 11397
	 11449	 11450	 11503	 11504	 11578	 11579	 12293	 12294	 12295	 12366	 12367	 12368	 12435	 12436
	 13007	 13166	 13167	 13168	 13241	 13242	 13391	 13395	 13471	 13547	 13624	 13698	 13777	 13778
	 13853	 13854	 13932	 13933	 14009	 14010	 14112	 14118	 14119	 14252	 14253	 14350	 14351	 14352
	 14421	 14422	 14507	 14590	 14698	 14699	 14702	 14854	 14857	 14858	 14861	 14866	 14867	 14868
	 15074	 15075	 15076	 15141	 15145	 15236	 15240	 15241	 15325	 15329	 15330	 15403	 15500	 15504
	 15509	 15510	 15588	 15589	 15660	 15728	 15729	 15733	 15734	 15908	 15912	 15913	 16016	 16020
	 16021	 16162	 16163	 16167	 16168	 16172	 16173	 16177	 16178	 16258	 16259	 16260	 16342	 16343
	 16453	 16462	 16463	 16550	 16554	 16555	 16616	 16677	 16740	 16800	 16879	 16880	 17001	 17002
	 17070	 17071	 17135	 17200	 17271	 17336	 17460	 17461	 17592	 17593	 17599	 17616	 17621	 17627
	 17632	 17637	 17642	 17648	 17857	 17864	 17869	 17870	 17880	 17887	 17892	 17896	 17902	 18040
	 18041	 18051	 18052	 18159	 18288	 18580	 18581	 18667	 18773	 18774	 18885	 18886	 18997	 18998     SEQ 0946
	 19108	 19109	 19110	 19218	 19219	 19298	 19299	 19504	 19514	 19518	 19519	 19520	 19521	 19685
	 19691	 19748	 19803	 19905	 20028	 20029	 20037	 20041	 20047	 20052	 20053	 20054	 20164	 20170
	 20171	 20295	 20300	 20301	 20449	 20450	 20454	 20455	 20459	 20460	 20464	 20555	 20556	 20562
	 20563	 20673	 20674	 20819	 20820	 21000	 21001	 21139	 21140	 21338	 21339	 21493	 21501	 21505
	 21506	 21575	 21576	 21577	 21661	 21668	 21669	 21674	 21740	 21747	 21812	 21878	 21951	 22015
	 22081	 22082	 22138	 22194	 22254	 22255	 22320	 22321	 22394	 22400	 22401	 22476	 22482	 22483
	 22561	 22562	 22567	 22568	 22648	 22649	 22654	 22655	 22749	 22750	 22893	 22894	 22956	 22958
	 23022	 23024	 23086	 23088	 23191	 23192	 23196	 23197	 23201	 23202	 23206	 23207	 23211	 23212
	 23216	 23217	 23316	 23317	 23321	 23322	 23326	 23327	 23331	 23332	 23336	 23337	 23412	 23413
	 23417	 23418	 23422	 23423	 23492	 23493	 23497	 23498	 23499	 23595	 23596	 23600	 23601	 23605
	 23606
NOOP	   911#
NOPNT	   305#
NRHCS1	 21541	 21620	 21709	 21786	 21852	 21914	 21986	 22047	 22118	 22173	 22228	 22292	 22360	 22437
	 22519	 22606	 22693	 22789	 22862	 26460#	 26460	 26982	 27003	 27351
NUMIE	 27960	 27971#
NUMIEX	 27964	 27967#	 27973
NUMIN	 27945#
NXMU	   527#
OCYL	  1105#
OF100M	  1063#
OF200M	  1064#
OF25M	  1061#
OF400M	  1065#
OF50M	  1062#
OF800M	  1066#
OFCHK1	 24358#	 24363
OFCHK2	 24354	 24364#
OFCK1	 24304#	 24326
OFCK2	 24312#
OFCK3	 24311	 24316#	 24324	 24325
OFDIR	  1067#
OFFCHK	 24347#
OFFCK	  9995	 10050	 10080	 10150	 10232	 24302#
OFFSET	   917#
OFMD	   963#
OFSER	 29276	 29630#
OFSEX	 24812	 24821	 24826	 24829	 24834	 24836	 24839#
OFSMSK	  1060#
OFTBL	 29276	 29412#
OFTBLA	 29419#
ONCHK	 10444	 10523	 10583	 10662	 10746	 10767	 10786	 10876	 10934	 10994	 11122	 13140	 13216	 13291
	 13373	 13437	 13514	 13589	 13664	 13741	 13819	 13896	 13974	 14052	 14168	 14304	 14395	 14469
	 14545	 14668	 14753	 14836	 14943	 14952	 14963	 14988	 15002	 15013	 15111	 15191	 15284	 15370
	 15457	 15552	 15632	 15696	 15791	 15955	 15992	 16067	 16231	 16309	 16400	 16419	 16515	 16653
	 16713	 16778	 16842	 17041	 17110	 17174	 17240	 17309	 17503	 17693	 17979	 18099	 18222	 18362
	 18621	 18708	 18717	 18812	 18825	 18925	 18938	 19039	 19048	 19151	 19160	 19252	 19261	 19337
	 19348	 19556	 19567	 19728	 19780	 19836	 19941	 20088	 20204	 20384	 20497	 20596	 20640	 20703
	 20750	 20883	 20930	 21036	 21108	 21188	 21421	 21625	 21714	 21789	 21855	 21919	 21991	 22050
	 22121	 22176	 22231	 22295	 22363	 22440	 22522	 22609	 22696	 22792	 22865	 23764	 23788	 23800
	 23835	 23869	 24139	 24151	 24182	 24270#	 24390
ONCHKX	 24274	 24280#
ONCK	  9996	 10019	 10040	 10065	 10070	 10081	 10151	 10233	 10373	 24226#	 24271                             SEQ 0947
ONCK1	 24228#	 24249
ONCK2	 24236#
ONCK3	 24235	 24240#	 24247	 24248
ONCKD	 24233#	 24233	 24272	 24391
ONETIM	  1231#	  1231	  1246	  1265
OPE	  1107#	  1119#
OPI	   971#
OPRSEL	   319#
OPTIME	   695#
OR	   941#
P	    99#	   115	   362	   363	   364	   365	   527#	   615	  1239	  1273	  1292	 18533	 23729	 23947
	 24202	 24569	 24573	 24724	 24776	 24815	 24816	 24840	 24876	 24878	 24904	 24951	 24999	 25006
	 25011	 25019	 25025	 25031	 25037	 25154	 25163	 25235	 25279	 25406	 25413	 25471	 25712	 26208
	 26227	 26236	 26242	 26422	 26430	 26434	 26447	 26459	 26469	 26523	 27212	 27220	 27260	 27355
	 27403	 27475	 27525	 27884	 27885	 27915	 27916	 27917	 27918	 27946	 27950	 27951	 27952	 27953
	 27954	 27955	 27961	 27962	 27963	 27965	 27966	 27967	 27972	 28550	 28568	 28570	 28572	 28573
	 28574	 28575	 28578	 28579	 28580	 28587	 28589	 28591	 28592	 28593	 28594	 28597	 28598	 28599
	 28601	 28602	 28604	 28608	 28613	 28614	 28615	 28616	 28619	 28620	 28621	 28676	 28678	 28680
	 28681	 28682	 28683	 28686	 28687	 28688	 28690	 28732	 28744	 28851	 29203	 29825	 29863	 29896
	 30568	 30569	 30570	 30571
PADDR	  1172#
PAFLG	 25696#	 25696	 25698	 25702
PAG	   527#
PAKACK	   920#
PALERS	   311#
PAREA1	    87#	   571
PAREA2	    88#	   572
PAREA3	    89#	   569
PAREA4	    90#	   570
PAREA5	    91#	   582
PAREA6	    92#	   583
PAREA7	   582#
PAREA8	   583#
PARITY	  1243	 26614#
PARTBL	  3813	  3849#
PARU	   527#
PASCNT	   597#	  1240	  1274	 28065
PAT	   944#
PATCH	   115	 29960#
PATFG	  4801	  6064	 26209#	 26209	 27350
PATRN	  3490#	  3490	  3496	  3508	  3513	  3515	  3516	  3525	  3575	  3585	  3597	  3602	  3605	  3815
	  3821	  3833	  3837	  7129	  7135	  7146	  7151	  7153	  7154	  7194	  7204	  7215	  7220	  7223
	  7301	  7313	  7351	  7363	  7374	  7388	  7437	  7443	  7454	  7460	  7463	  7464	  7513	  7523
	  7534	  7707	  7717	  7728	  7733	  7735	  7736	  7775	  7785	  7796	  7801	  7804	  7879	  7891
	  7925	  7941	  7987	  7997	  8008	  8014	  8016	  8017	  8066	  8076	  8087	  9064	  9070	  9081
	  9086	  9088	  9089	  9129	  9139	  9150	  9155	  9158	  9384	  9390	  9411	  9413	  9465	  9471
	  9492	  9494	  9535	  9541	  9562	  9564	  9565	 10660	 10671	 10681	 10687	 10689	 10699	 11120
	 11127	 11157	 13289	 13313	 13349	 16853	 16869	 22933	 22940	 22998	 23006	 23063	 23070	 23458
	 23481
PCMN	 25626#	 25640
PCRA	 21662	 21813	 25618#
PCRB	 21741	 21879	 25631#
PDISF	   692#                                                                                                            SEQ 0948
PDLOVU	   527#
PDOVTP	   527#
PE	   981#
PERIOD	   722#
PFSTRT	   549#
PGE	   938#
PGM	   957#
PGMEND	 29966
PGMNAM	   574	  1191#
PI	 26706
PICHN1	   527#
PICHN2	   527#
PICHN3	   527#
PICHN4	   527#
PICHN5	   527#
PICHN6	   527#
PICHN7	   527#
PICHNA	   527#
PICLR	   527#
PIOFF	   527#
PION	   527#
PIP	   953#
PISAV	 26706#	 26706	 26710
PLIST	   761#	   761
PLISTE	   761	   763#
PLISTS	   762#
PLU	  1086#
PLUS	   727#
PNT260	 14105#	 14111	 14117
PNTCE1	 11163#	 11183	 11187
PNTCS	 10826#	 10836	 10840	 10844
PNTCSE	 13358#	 13390	 13394
PNTENB	   691#	  1300
PNTEXT	   570#
PNTFLG	   690#
PNTINH	   693#
PNTLPT	   306#
PNTNAM	   569#
PNTRP	   527#
PNTSE	  9777#	  9793	  9796	  9940	  9947	 10103	 10266
PNTSPC	   694#
POCT	   117	 11653	 11656	 20153	 20279	 20282	 20286	 20984	 20987	 20991	 28723	 28752	 28958	 29018
	 29032	 29147	 29156	 29560	 29563	 29570	 29573	 29599	 29602	 29890#
POCT1	 29897#	 29906
POCT2	 29899	 29902#
POCT3	 29898	 29901	 29904#
POCT4	 29903	 29906#
PSDN	   117	 11659	 17912	 18176	 18546	 20155	 23960	 23963	 24102	 24105	 24111	 24114	 24117	 24120
	 29636	 29655	 29755	 29856#
PSDN0	 29858#	 29864
PSDN1	 29857	 29862#
PSEL	   898#
PSRA	 21578	 21742	 21748	 21880	 22016	 22083	 22195	 22322	 22477	 22563	 22569	 22751	 22895	 25621#    SEQ 0949
PSRB	 21579	 21663	 21670	 21675	 21814	 21952	 22084	 22139	 22256	 22395	 22650	 22656	 22752	 22896
	 25634#
PTRP	   527#
PVPAGI	   788#	  1232
QSTN	  1278	  9713	 15978	 16113	 16129	 27782	 27881#	 28127
QSTNA	 27885#	 27890	 27891
QSTNB	 27883	 27889#
QUEST	   733#
R1213C	 29643	 29647#
RADIX	   736#
RADLSC	   738#
RADLSP	   737#
RAMPT	 29010#
RAMPT1	 29025	 29030#
RAMPT2	 29028	 29036#
RAMTBL	 29034	 29053#
RANDBS	   571#
RAW	  1094#
RDAT	   891#
RDCRA	 21627	 21799	 25548#
RDCRB	 21716	 21865	 25560#
RDD	   926#
RDERR	 26455	 26480#
RDERR1	 26442	 26459#
RDERR3	 26452	 26474	 26508#
RDHD	   927#
RDISP	  4197	  5851	 21922	 21996	 30173#
RDRAM	 28841#
RDRG1	 26429#
RDRGC1	 26419	 26427#
RDRGCC	 26352	 26355	 26358	 26361	 26364	 26367	 26370	 26373	 26376	 26379	 26382	 26385	 26388	 26391
	 26394	 26397	 26400	 26403	 26406	 26409	 26411#
RDRGEX	 26436	 26509	 26521	 26525#
RDRGNX	 26461	 26464	 26523#
RDSRA	 21546	 21561	 21717	 21729	 21866	 22000	 22066	 22183	 22308	 22373	 22452	 22535	 22550	 22719
	 22816	 22877	 25572#	 25664	 25682
RDSRB	 21547	 21560	 21628	 21638	 21649	 21800	 21925	 22067	 22127	 22242	 22374	 22453	 22622	 22637
	 22720	 22817	 22878	 25584#	 25673
RDUBAS	 26057	 26810	 26865	 28920#
RDY	   902#	 17578	 18528	 20010	 26514
READIN	   919#
RECAL	   914#
RECEX	 24709	 24711	 24718	 24720	 24723#
REENTR	   551#
REFDRV	 27219#	 27219
REGIN	  9399#	  9399	  9422	  9480	  9550	  9612	  9627	  9629
REGPNT	   117	  1399	  1478	  1594	  1692	  1795	  1888	  1972	  2039	  2132	  2238	  2330	  2417	  2478
	  2567	  2669	  2762	  2847	  2905	  2958	  3012	  3067	  3118	  3170	  3223	  3279	  3334	  3391
	  3452	  3522	  3669	  3720	  3777	  3842	  3923	  4001	  4058	  4114	  4218	  4374	  4377	  4380
	  4468	  4535	  4598	  4655	  4711	  4764	  4821	  4887	  5038	  5041	  5044	  5117	  5261	  5264
	  5267	  5395	  5398	  5532	  5535	  5594	  5723	  5726	  5729	  5875	  5953	  6017	  6082	  6170
	  6247	  6355	  6417	  6479	  6542	  6600	  6658	  6715	  6774	  6835	  6895	  6956	  7088	  7091
	  7094	  7400	  7670	  7673	  7953	  8174	  8229	  8286	  8341	  8391	  8445	  8509	  8564	  8619     SEQ 0950
	  8674	  8729	  8784	  8839	  8896	  9024	  9027	  9030	  9281	  9283	  9285	  9287	  9421	  9423
	  9628	  9630	  9707	  9781	  9783	  9785	  9787	  9926	 10100	 10106	 10109	 10192	 10197	 10261
	 10333	 10485	 10550	 10617	 10619	 10697	 10828	 10830	 10901	 10960	 11020	 11076	 11165	 11167
	 11237	 11287	 11341	 11395	 11448	 11502	 11577	 11646	 12292	 12365	 12434	 13006	 13165	 13240
	 13360	 13362	 13364	 15878	 15880	 15882	 16015	 16019	 16615	 16739	 16988	 16991	 21492	 22955
	 23021	 23085	 24088	 25152	 25626	 26027	 26038	 26846	 26862	 27486	 27533	 27745	 27748	 27774
	 29100#
REGSER	 29176	 29185	 29263#
REGTST	 29152	 29165	 29196#
RELIAB	   313#
RELSE	   916#
REPT	   128	   527#
REPT1	   527#
REPTU	   649#
REQSET	   527#
RESRT1	   626#
RESRT2	   627#
RETURN	   558#
RG	  1404	  1601	  1698	  1801	  1894	  1978	  2042	  2139	  2244	  2337	  2424	  2481	  2572	  2674
	  2767	  2852	  3927	  4003	  4060	  4116	  4231	  4384	  4470	  4539	  4602	  4657	  4713	  4766
	  4824	  4889	  5046	  5120	  5269	  5401	  5538	  5881	  5956	  6020	  6085	  7405	  7474	  7544
	  8176	  8231	  8288	  8343	  8393	  8447	  8511	  8566	  8621	  8676	  8731	  8786	  8841	  8898
	  9032	  9097	  9167	  9249	  9352	  9432	  9505	  9639	  9799	  9943	 10111	 10195	 10200	 10264
	 10268	 10336	 10487	 10552	 10628	 10709	 10838	 10842	 10846	 10903	 11079	 11185	 11189	 11345
	 11399	 11451	 11505	 13392	 13396	 13473	 13549	 14114	 14255	 14509	 15142	 15146	 15243	 15331
	 15404	 15505	 15590	 15662	 16181	 16261	 16617	 16678	 16741	 17136	 17201	 17272	 17337	 17462
	 17595	 17601	 21141	 21581	 21665	 21744	 22257	 22323	 22396	 22478	 30358#
RGLIST	   105#	   115	 13434	 13512	 13586	 13662	 13738	 13817	 13893	 13972	 14079	 14084	 14087	 14105
	 14165	 14301	 14393	 14467	 14542	 14666	 14686	 14751	 14936	 15109	 15189	 15282	 15368	 15455
	 15550	 15630	 15694	 15789	 15953	 16065	 16229	 16307	 16398	 16513	 16651	 16776	 16840	 17108
	 17172	 17238	 17307	 17383	 17511	 17702	 17989	 18108	 18231	 18370	 18629	 18715	 18823	 18936
	 19046	 19158	 19259	 19344	 19563	 19726	 19778	 19844	 19970	 20096	 20212	 20389	 20502	 20604
	 20708	 20888	 21041	 21196	 21471	 23789	 24140	 24722	 24773	 24838	 24902	 24949	 25092	 25098
	 26009	 26014	 26015	 26037	 26046
RGTSTX	 29197	 29199	 29201	 29204#
RH10TA	 23550	 23594#
RH10TB	 23573	 23599#
RH10TC	 23588	 23604#
RH11T	  6285	  6292#
RH1TBL	 22942	 22955#
RH2TBL	 23008	 23021#
RH3TBL	 23072	 23085#
RH4TB1	 23130	 23190#
RH4TB2	 23142	 23195#
RH4TB3	 23150	 23200#
RH4TB4	 23164	 23205#
RH4TB5	 23176	 23210#
RH4TB6	 23184	 23215#
RH5TB1	 23259	 23315#
RH5TB2	 23267	 23320#
RH5TB3	 23286	 23325#
RH5TB4	 23298	 23330#
RH5TB5	 23309	 23335#                                                                                                    SEQ 0951
RH6TB1	 23382	 23411#
RH6TB2	 23390	 23416#
RH6TB3	 23402	 23421#
RH7TB1	 23472	 23491#
RH7TB2	 23483	 23496#
RHADDR	 26802	 26913	 26916	 26933	 26936	 26977	 30250#
RHBA	   864#
RHCLR	   943#	 25065	 27440
RHCS1	   862#
RHCS2	   866#
RHDB	   871#
RHGO	   905#
RHT10B	 23543#	 23546
RHT10C	 23566#	 23569
RHT10L	 23532#	 23539	 23551	 23574	 23589
RHT10S	 23528#	 23553	 23576	 23591
RHT1L	 22928#	 22943	 22950
RHT1S	 22923#	 22949
RHT2L	 22992#	 23009	 23016
RHT2S	 22987#	 23015
RHT3L	 23058#	 23073	 23080
RHT3S	 23053#	 23079
RHT4L	 23120#	 23131	 23143	 23151	 23165	 23177	 23185
RHT4S	 23117#	 23133	 23145	 23153	 23167	 23179	 23187
RHT5A	 23279#
RHT5L	 23253#	 23260	 23268	 23287	 23299	 23310
RHT5S	 23250#	 23262	 23270	 23289	 23301	 23312
RHT6A	 23397#	 23406
RHT6L	 23370#	 23383	 23391	 23403
RHT6S	 23367#	 23385	 23393	 23405	 23408
RHT7A	 23464#	 23466
RHT7L	 23455#	 23473	 23484
RHT7S	 23452#	 23475	 23486
RHTBL	 27169	 27171#
RHTS10	  6299	 23525#
RHTST1	  6292	 22920#
RHTST2	  6293	 22984#
RHTST3	  6294	 23050#
RHTST4	  6295	 23114#
RHTST5	  6296	 23247#
RHTST6	  6297	 23364#
RHTST7	  6298	 23449#
RHWC	   863#
RHWD	 27169#
RITBIT	 29127	 29175#
RM03DP	  1026#
RM03SP	  1025#
RMER2	   883#
RMR	   982#
RNAM	 26250	 26480	 29140	 29234#
RNAMPT	 29107	 29140#
RP04	    37#	 16393	 16442	 16449	 20266	 20793	 20971	 28288
RP04DP	  1020#                                                                                                            SEQ 0952
RP04SP	  1019#
RP05	    38#	 14221	 14340	 14595	 16393	 16442	 16449	 20266	 20793	 20971	 28288
RP05DP	  1022#
RP05SP	  1021#
RP06	    39#	 14221	 14340	 14595	 16393	 20266	 20349	 20793	 20847	 20971	 28288
RP06DP	  1024#
RP06SP	  1023#
RPAR	  1166#
RPDSF	  1003#
RPDTF	  1002#
RPFNCT	 29488	 29503#
RPPSF	  1035#
RPPSFF	  1038#
RPT1	 29112	 29122#
RPT2	 29120	 29130#
RRPAS	 16938	 17053	 26065	 26362#	 30177
RRPBA	 23002	 26060	 26401#
RRPCC	 10471	 11490	 13302	 14784	 26072	 26383#	 30184
RRPCS1	  4294	  4317	  4340	  4361	  4875	  9609	 10167	 10321	 10457	 10538	 10596	 10676	 10811	 11064
	 11132	 13318	 18525	 22236	 22302	 22367	 22445	 22528	 22614	 22701	 22706	 22798	 22803	 23137
	 23171	 25135	 25552	 25565	 25754	 25768	 26061	 26350#	 30173
RRPCS2	 19636	 19665	 23126	 23161	 23256	 23280	 23379	 23469	 23544	 23567	 23585	 26058	 26404#	 26836
	 26854
RRPDA	  5336	  5359	  5382	  7886	  7910	  7936	  8003	  8082	 11007	 11225	 26066	 26365#	 30178
RRPDB	 23067	 23123	 23294	 23305	 23398	 23479	 23580	 23582	 26407#
RRPDC	  5473	  5496	  5519	  7610	  7634	  7656	  7723	  7791	 10947	 11436	 26071	 26380#	 30183
RRPDS	  9234	  9337	  9402	  9483	  9553	  9615	  9689	  9750	  9843	 10007	 10057	 10088	 10172	 10602
	 10817	 13324	 14408	 16083	 16602	 16727	 16962	 21389	 21410	 21438	 21462	 24230	 24306	 24350
	 24359	 24715	 24767	 24831	 24894	 24941	 25576	 25589	 26062	 26353#	 30174
RRPDT	  1385	  1469	  1579	 11329	 11382	 26067	 26368#	 26985	 27720	 27732	 28082	 30179
RRPEC1	 26075	 26392#	 30187
RRPEC2	 26076	 26395#	 30188
RRPER1	  3911	  3989	  4046	  4102	  4202	  4456	  4523	  4585	  4643	  4699	  4752	  4808	  8162	  8217
	  8274	  8329	  8433	  8497	  8552	  8607	  8662	  8717	  8772	  8827	  8884	  8942	  8966	  8989
	  9011	  9076	  9145	  9257	  9396	  9756	 11138	 13330	 13457	 13534	 13610	 13685	 13763	 13840
	 13918	 13996	 17537	 17552	 18269	 18653	 19383	 19602	 26063	 26356#	 30175
RRPER2	  2554	  2657	  2749	  2835	  2893	  5581	  5643	  5666	  5689	  5710	  6234	  6342	  6404	  6466
	  6529	  6588	  6646	  6704	  6761	  6822	  6882	  6943	  7006	  7030	  7053	  7075	  7141	  7210
	  9263	  9477	  9762	 26073	 26386#	 30185
RRPER3	  2119	  2226	  2318	  2405	  2466	  2946	  3000	  3055	  3106	  3158	  3211	  3267	  3322	  3378
	  3439	  3502	  3591	  3657	  3708	  3765	  3827	  9269	  9547	  9768	 14841	 26074	 26389#	 30186
RRPLA	 10382	 10390	 11275	 11565	 11633	 11722	 11784	 11846	 11908	 11970	 12032	 12093	 12155	 12217
	 12280	 12353	 12422	 12492	 12558	 12621	 12683	 12745	 12808	 12870	 12932	 12993	 13060	 13152
	 13225	 15818	 15836	 25810	 25820	 25831	 25843	 25892	 26068	 26371#	 30180
RRPMR	  4958	  4981	  5004	  5025	  5105	  5171	  5195	  5222	  5248	  5941	  6004	  6070	  6157	 17815
	 17843	 18517	 24486	 24559	 25394	 26064	 26359#	 30176
RRPOF	  1679	  1783	  1875	  1960	  2027	  7308	  7332	  7358	  7383	  7449	  7529	 10889	 23889	 23924
	 24633	 24668	 24809	 26070	 26377#	 30182
RRPS	 21794	 21860	 25804#	 25804	 25829	 25841	 25925	 25932	 25938
RRPSN	 24085	 26069	 26374#	 28088	 30181
RRPWC	 22937	 26059	 26398#
RS04	    40#
RS04I	  1017#                                                                                                            SEQ 0953
RS04N	  1016#
RSTART	   302#
RTNCTL	 13377	 16329	 16332	 16423	 24930#
RTNCTR	   918#
RTNEX	 24935	 24938	 24944	 24947	 24950#
RTP	   731#
RUNFLG	   598#
SADR1	    75#	   547
SADR10	    84#	   563
SADR11	    85#	   564
SADR2	    76#	   549
SADR3	    77#	   551
SADR4	    78#
SADR5	    79#	   612
SADR6	    80#	   613
SADR7	    81#	   560
SADR8	    82#	   561
SADR9	    83#	   562
SAVP	  1239#	  1239	  1273	  1292
SBINIT	   375	   557#
SC	   893#	 20632	 20661	 20742	 20776	 20922	 21072	 21100	 21130
SCLK	 11658	 24557#	 24557
SCOPE	   129#	   650#	 30566#
SCOPE.	   116	   133	 28527#
SCOPE1	 28568#
SCOPE2	 28588	 28603	 28640#
SCOPE3	 28646	 28649#
SCP1A	 28590	 28601#	 28609	 28639
SCP1B	 28606	 28611#
SCP1C	 28612	 28623#
SCP2A	 28585	 28645#
SCPMS1	 28624	 28627#
SCPMS2	 28628	 28630	 28633#
SCPMS3	 28622	 28626	 28632	 28638#
SCPPC	 27232#	 27232	 28551#	 28551	 28553	 28555	 28562	 28665	 28669	 28672
SCPSW	 25094	 28549#	 28549
SDTBL	 25973	 26025	 26034	 26057#
SEAEX	 24874	 24883	 24888	 24891	 24897	 24900	 24903#
SEARCH	   921#
SECA	 25835	 25860#
SECB	 25847	 25861#
SECC	 25885	 25896	 25903#
SECPLS	 17528	 17718	 18002	 18123	 18246	 18385	 18644	 18648	 18730	 18842	 18955	 19066	 19175	 19274
	 19363	 19582	 19859	 21211	 24602#
SECT	 11616#	 11616	 11652	 11706	 11766	 11830	 11892	 11954	 12016	 12078	 12137	 12200	 12475	 12541
	 12603	 12666	 12728	 12790	 12853	 12915
SECTCK	 11557	 11562	 11630	 11719	 11781	 11843	 11905	 11967	 12029	 12091	 12152	 12214	 12275	 12345
	 12350	 12417	 12489	 12555	 12618	 12680	 12742	 12805	 12867	 12929	 12988	 13055	 24460	 24554#
	 24605
SECTL	 24569#	 24577
SEEK	   913#
SEKEX	 24756	 24761	 24764	 24770	 24772	 24775#
SEL1	 27204	 27209#	 27216                                                                                             SEQ 0954
SEL3	 27207	 27210	 27214#
SELFLG	 27203#	 27203	 27206	 27397	 27797	 27818	 28069
SETB1	 17391	 17510	 17700	 17987	 18106	 18229	 18369	 18628	 19346	 19565	 19843	 19946	 20095	 20211
	 20388	 20501	 20603	 20707	 20887	 21040	 21195	 25189#
SETEX	 26556	 26561#
SETTRP	  1242	 26551#
SFSTRT	   547#
SG	   115	  1229#
SGNBIT	 23895#	 23895	 23930	 24025	 24028	 24031	 24038	 24119
SGNCHG	  1058#
SGNERR	 23912	 23953#
SHMODE	  1357	  1462	  1571	  1668	  1767	  1860	  1945	  2014	  2108	  2208	  2304	  2390	  2453	  2543
	  2640	  2734	  2820	  2880	  2939	  2993	  3048	  3099	  3151	  3204	  3260	  3315	  3367	  3423
	  3487	  3572	  3644	  3701	  3753	  3811	  3904	  3977	  4033	  4087	  4283	  4449	  4512	  4574
	  4632	  4684	  4739	  4868	  4947	  5094	  5158	  5325	  5462	  5574	  5632	  5798	  5929	  5991
	  6056	  6128	  6995	  7126	  7191	  7294	  7434	  7503	  7599	  7704	  7772	  7872	  7984	  8056
	  8151	  8206	  8263	  8318	  8373	  8422	  8478	  8541	  8596	  8651	  8706	  8761	  8816	  8870
	  8931	  9061	  9126	  9227	  9318	  9381	  9462	  9532	  9602	 10581	 10657	 10874	 10932	 10992
	 11053	 11218	 11268	 11322	 11375	 11429	 11483	 14163	 22925	 22989	 23055	 26020	 26021	 26041
	 27234	 27484	 27485	 27487	 27531	 27532	 27534	 28961	 29021	 29108#	 29108	 29116	 29117	 29119
	 29705
SIOADR	 26696#	 26696	 26727
SKI	  1106#	  1118#
SLASH	   734#
SLOOP	 25973#	 25980
SM10	   838#
SMPE	  1142#
SN	  4475	  8344	  8394	  8732	 14115	 14510	 17617	 17622	 17628	 17638	 17643	 17859	 17866	 17872
	 17882	 17889	 17893	 17898	 17903	 18048	 18166	 18290	 18583	 18668	 18775	 18888	 19000	 19112
	 19221	 19300	 19506	 19687	 19693	 19908	 20031	 20042	 20048	 20558	 21142	 21341	 30343#
SNABRT	   120	 17591	 17598	 17615	 17620	 17626	 17631	 17636	 17641	 17647	 17856	 17863	 17868	 17879
	 17886	 17891	 17895	 17901	 18039	 18050	 18158	 18287	 18579	 18666	 18756	 19503	 19513	 19517
	 19684	 19690	 19904	 21337	 25091#
SNAP	 30225#
SNAPA	   118	 19968	 25093	 25966#
SNAPDR	 22399	 22464	 25967#
SNAPRH	 25968#
SNAPS	 13470	 13546	 13623	 13697	 13776	 13852	 13931	 14008	 14080	 14085	 14201	 14327	 14420	 14489
	 14577	 14680	 14807	 14853	 15037	 15052	 15121	 15211	 15224	 15306	 15391	 15475	 15573	 15659
	 15708	 15843	 15962	 15999	 16091	 16136	 16152	 16257	 16341	 16452	 16461	 16534	 16664	 16787
	 16859	 17123	 17188	 17259	 17324	 17427	 17566	 18870	 18982	 19093	 19202	 19283	 19736	 19791
	 20118	 20236	 20412	 20525	 20623	 20652	 20733	 20767	 20913	 20943	 21063	 21091	 21121	 21475
	 23190	 23195	 23200	 23205	 23210	 23215	 23315	 23320	 23325	 23330	 23335	 23411	 23416	 23421
	 23491	 23496	 23594	 23599	 23604	 23792	 24143	 25965#
SNPCS	 10758	 10777	 10798	 10809#
SNPSE	  9733	  9748#	  9793	  9871	  9908	 10029	 10243
SNSER	 29275	 29608#
SNTBL	 29275	 29409#
SNTRP	   527#
SPACE	   723#
SPC0	 28569	 28571	 28581#
SPC1	 28583	 28586#
SRA	 21548	 21562	 21718	 21730	 21867	 22001	 22068	 22184	 22309	 22384	 22454	 22536	 22551	 22721     SEQ 0955
	 22818	 22879	 25579#	 25579	 25622	 25665	 25683
SRB	 21551	 21565	 21629	 21639	 21650	 21801	 21926	 22071	 22128	 22243	 22375	 22466	 22623	 22638
	 22724	 22736	 22821	 22882	 25592#	 25592	 25635	 25674
SRCEPT	  9246	  9279#	  9349
SRCESN	  9246	  9254#	  9349
SRPAS	 16941	 16987	 17056	 26065	 30233#
SRPBA	 26060	 30228#
SRPCC	 14096	 14204	 14490	 14687	 14820	 15717	 16540	 26072	 30241#
SRPCS1	 10183	 10599	 10616	 10814	 10827	 11135	 11149	 11164	 13321	 13359	 14089	 14329	 14579	 15123
	 15477	 15575	 15877	 16093	 16138	 17433	 17574	 20009	 20631	 20660	 20741	 20775	 20921	 21071
	 21099	 21129	 26061	 30226#
SRPCS2	 26058	 30230#
SRPDA	 15879	 17570	 20254	 20431	 26066	 30229#
SRPDB	 30235#
SRPDC	 14203	 15315	 20251	 20438	 26071	 30240#
SRPDS	  9255	  9280	  9692	  9706	  9735	  9753	  9780	  9846	  9873	  9910	  9925	 10031	 10175	 10245
	 10252	 10605	 10618	 10760	 10779	 10800	 10820	 10829	 13327	 13341	 13361	 15131	 15484	 15710
	 15847	 15964	 15968	 16001	 16096	 16141	 16666	 16789	 16861	 17125	 17190	 17261	 17326	 17436
	 17439	 19738	 19793	 20424	 20628	 20657	 20738	 20772	 20918	 21068	 21096	 21126	 21477	 26062
	 30231#
SRPDT	 26067	 28085	 28094	 30237#
SRPEC1	 26075	 30244#
SRPEC2	 26076	 30245#
SRPER1	  9260	  9282	  9759	  9782	 11141	 11166	 13333	 13363	 15213	 15226	 15308	 15393	 15578	 18760
	 18875	 18987	 19098	 19208	 19977	 19999	 20018	 20124	 20131	 20242	 20417	 20533	 20542	 20948
	 20957	 26063	 30232#
SRPER2	  9266	  9284	  9765	  9784	 19988	 20133	 20544	 20959	 26073	 28277	 28289	 30242#
SRPER3	  9272	  9286	  9771	  9786	 14813	 14823	 19989	 20134	 20545	 20960	 21481	 26074	 28278	 28333
	 30243#
SRPLA	 15845	 15853	 15881	 26068	 30234#
SRPMR	 18763	 19288	 26064	 30236#
SRPOF	 23892	 23894	 23899	 23927	 23929	 23937	 26070	 30239#
SRPSN	 26069	 28091	 28098	 30238#
SRPWC	 26059	 30227#
SRTBL	 29268	 29332#
SRTDDT	    78	    80	   553#	 27265
SS	  1603	  1803	  2246	  3933	  5400	  5537	  7675	  7744	  7813	  7955	  8027	  8097	  8289	  8448
	  8512	  8567	  8622	  8787	 10488	 10962	 11023	 11240	 11290	 11452	 11506	 11581	 11669	 13472
	 13548	 13625	 13699	 13779	 13855	 13934	 14011	 14113	 14120	 14254	 14353	 14508	 14591	 14862
	 14869	 15242	 15506	 15591	 15661	 15730	 15735	 15909	 15914	 16551	 16556	 17594	 17600	 17623
	 17633	 17861	 17883	 18584	 18776	 18887	 18999	 19111	 19220	 20166	 20303	 20456	 20557	 21003
	 21342	 30348#
START	   115	   541	  1230#	  1291
START1	   560#
START2	   561#
START3	   562#
START4	   563#
START5	   564#
STARTA	   115	   556	  1267	  1283	  1290#	 27310
STARTX	  1247	  1265#
STATE	 18404#	 18404	 18418	 18432	 18446	 18460	 18473	 18486	 18500	 18532	 18549	 18553	 18557	 21230#
	 21230	 21244	 21258	 21272	 21286	 21299	 21312	 21326
STATG	 18530#	 18530	 18562	 18566	 18570                                                                             SEQ 0956
STATP1	 18542#	 18582	 21340
STCK1	 18405	 18419	 18433	 18447	 18461	 18474	 18487	 18501	 18512#	 21231	 21245	 21259	 21273	 21287
	 21300	 21313	 21327
STRP	   527#
SUBLNK	   337#	   557
SUBRTN	   283#	 16267	 17596	 17602	 17618	 17624	 17629	 17634	 17639	 17645	 17650	 17858	 17865	 17871
	 17881	 17888	 17897	 18042	 18160	 18289	 18582	 18777	 19505	 19686	 19692	 19804	 19906	 20030
	 20038	 20165	 20167	 20172	 20173	 20296	 20297	 20302	 20451	 20559	 20564	 20675	 20821	 21002
	 21004	 21143	 21340	 21578	 21579	 21662	 21663	 21670	 21675	 21741	 21742	 21748	 21813	 21814
	 21879	 21880	 21952	 22016	 22083	 22084	 22139	 22195	 22256	 22322	 22395	 22477	 22563	 22569
	 22650	 22656	 22751	 22752	 22895	 22896	 22957	 23023	 23087
SUBT1	 15035#	 15070
SUBT2	 15049#	 15073
SUMARY	  1304	 28056#
SUMEX	 28062	 28068	 28077	 28105#
SUMSEL	 28074#	 28103
SV41	 26558#	 26558	 26585	 26591
SVDAT	 17727#	 17727	 17746	 17763	 17782	 17798	 17830	 17914	 17925	 17936	 18014	 18028	 18060	 18138
	 18143	 18183	 18262	 19403	 19413	 19425	 19436	 19448	 19459	 19476	 19487	 19626	 19655	 19660
	 19872	 19895
SVPGFT	  1295#	  1295	 26688#	 26688
SVUBAS	 26022	 26057	 30223#
SW25WT	 27576	 27636#
SW26FG	 27571#	 27571	 27595	 27612	 27615
SWOP	   119	  1258	 28125#
SWOPMS	 28131	 28135#
SWP	  1204#	  1234
SWPTAB	   844#	  1235
SWTEXR	   572#
SYNCH	 15798#	 15798	 15823	 15868	 15869	 15895
SYSEXR	   545#
T100L	  6225#	  6241
T100S	  6221#	  6242
T101L	  6281#	  6287
T102L	  6333#	  6349
T102S	  6329#	  6350
T103L	  6395#	  6411
T103S	  6391#	  6412
T104L	  6457#	  6473
T104S	  6453#	  6474
T105L	  6520#	  6536
T105S	  6516#	  6537
T106L	  6579#	  6595
T106S	  6576#	  6596
T107L	  6638#	  6653
T107S	  6634#	  6654
T10L	  1947#	  1967
T10SEL	  1943#	  1968
T110L	  6695#	  6710
T110S	  6691#	  6711
T111L	  6752#	  6768
T111S	  6748#	  6769
T112L	  6813#	  6829                                                                                                     SEQ 0957
T112S	  6809#	  6830
T113L	  6873#	  6889
T113S	  6869#	  6890
T114L	  6934#	  6950
T114S	  6930#	  6951
T115AL	  6997#	  7014
T115BL	  7017#	  7037
T115CL	  7040#	  7061
T115DL	  7064#	  7082
T115S	  6993#	  7083
T116L	  7131#	  7149	  7155
T116S	  7124#	  7156
T117L	  7196#	  7218	  7225
T117S	  7189#	  7226
T11L	  2016#	  2034
T11SEL	  2012#	  2035
T121AL	  7296#	  7316
T121BL	  7319#	  7339
T121CL	  7342#	  7366
T121DL	  7369#	  7391
T121S	  7292#	  7392
T122L	  7439#	  7457	  7468
T122P	  7462#	  7467
T122S	  7432#	  7465
T123L	  7515#	  7537
T123P	  7507#	  7512	  7538
T123S	  7501#	  7508
T125AL	  7601#	  7618
T125BL	  7621#	  7641
T125CL	  7643#	  7664
T125S	  7597#	  7665
T126L	  7709#	  7731	  7737
T126S	  7702#	  7738
T127L	  7777#	  7799	  7806
T127S	  7770#	  7807
T12L	  2110#	  2127
T12SEL	  2106#	  2128
T131AL	  7874#	  7894
T131BL	  7897#	  7917
T131CL	  7920#	  7944
T131S	  7870#	  7945
T132L	  7989#	  8011	  8021
T132P	  8015#	  8020
T132S	  7982#	  8018
T133L	  8068#	  8090
T133P	  8060#	  8065	  8091
T133S	  8054#	  8061
T135L	  8153#	  8169
T135S	  8149#	  8170
T136L	  8208#	  8224
T136S	  8204#	  8225
T137L	  8265#	  8281
T137S	  8261#	  8282                                                                                                     SEQ 0958
T13L	  2210#	  2233
T13SEL	  2206#	  2234
T140L	  8320#	  8336
T140S	  8316#	  8337
T141L	  8375#	  8386
T141S	  8371#	  8387
T142L	  8424#	  8440
T142S	  8420#	  8441
T143L	  8480#	  8504
T143S	  8476#	  8505
T144L	  8543#	  8559
T144S	  8539#	  8560
T145L	  8598#	  8614
T145S	  8594#	  8615
T146L	  8653#	  8669
T146S	  8649#	  8670
T147L	  8708#	  8724
T147S	  8704#	  8725
T14L	  2306#	  2326
T14SEL	  2302#	  2327
T150L	  8763#	  8779
T150S	  8759#	  8780
T151L	  8818#	  8834
T151S	  8814#	  8835
T152L	  8872#	  8891
T152S	  8868#	  8892
T153AL	  8933#	  8950
T153BL	  8953#	  8973
T153CL	  8976#	  8997
T153DL	  9000#	  9018
T153S	  8929#	  9019
T154L	  9066#	  9084	  9090
T154S	  9059#	  9091
T155L	  9131#	  9153	  9160
T155S	  9124#	  9161
T157L	  9229#	  9241
T157S	  9225#	  9242
T15L	  2392#	  2412
T15SEL	  2388#	  2413
T160L	  9320#	  9344
T160S	  9316#	  9345
T161L	  9386#	  9409	  9415
T161S	  9379#	  9416
T162L	  9467#	  9490	  9496
T162S	  9460#	  9497
T163L	  9537#	  9560	  9566
T163S	  9530#	  9567
T164L	  9604#	  9622
T164PT	  9627#	  9635
T164S	  9600#	  9623
T165M	  9708#	  9714	  9725	  9743
T165N	  9715	  9721#
T165PF	  9697	  9701#                                                                                                    SEQ 0959
T165S	  9680#	  9696	  9726	  9744
T165Y	  9716	  9731#
T166L	  9838#	  9888	  9936
T166S	  9834#	  9853	  9915	  9916
T166SA	  9852#
T166SB	  9855#	  9863	  9864
T166SC	  9869#
T166SD	  9877	  9880#	  9886	  9887
T166SE	  9878	  9890#	  9900	  9901
T166SF	  9850	  9918#
T166SG	  9928#	  9934	  9935
T167AL	  9993#	 10014
T167BL	 10017#	 10035
T167CL	 10038#	 10064
T167DL	 10068#	 10095
T167S	  9989#	 10096
T16L	  2455#	  2473
T16SEL	  2451#	  2474
T16XPT	  9420#	  9429	  9501	  9571
T170L	 10150#	 10180	 10187
T170S	 10146#	 10188
T171L	 10232#	 10249	 10256
T171S	 10228#	 10257
T172L	 10307#	 10328
T172S	 10303#	 10329
T173L	 10373#	 10400
T173R	 10389#	 10395
T173S	 10370#	 10401
T174L	 10444#	 10464
T174S	 10440#	 10465
T175L	 10523#	 10545
T175S	 10519#	 10546
T176L	 10583#	 10610
T176PT	 10615#	 10625
T176S	 10579#	 10611
T177L	 10662#	 10684	 10691
T177PT	 10696#	 10707
T177S	 10655#	 10692
T17L	  2545#	  2562
T17SEL	  2541#	  2563
T1SEL	  1355#	  1395
T200AL	 10746#	 10764
T200BL	 10767#	 10783
T200CL	 10786#	 10804
T200S	 10742#	 10805
T201L	 10876#	 10896
T201S	 10872#	 10897
T202L	 10934#	 10954
T202S	 10930#	 10955
T203L	 10994#	 11014
T203S	 10990#	 11015
T204L	 11055#	 11071
T204S	 11051#	 11072                                                                                                     SEQ 0960
T205L	 11122#	 11146	 11153	 11159
T205S	 11114#	 11158
T206L	 11220#	 11232
T206S	 11216#	 11233
T207L	 11270#	 11282
T207S	 11266#	 11283
T20L	  2642#	  2664
T20SEL	  2638#	  2665
T210L	 11324#	 11336
T210S	 11320#	 11337
T211L	 11377#	 11390
T211S	 11373#	 11391
T212L	 11431#	 11443
T212S	 11427#	 11444
T213L	 11485#	 11497
T213S	 11481#	 11498
T214L	 11546#	 11572
T214S	 11542#	 11573
T215L	 11619#	 11640
T215S	 11612#	 11641
T216L	 11708#	 11730
T216S	 11700#	 11731
T217L	 11770#	 11792
T217S	 11762#	 11793
T21L	  2736#	  2757
T21SEL	  2732#	  2758
T220L	 11832#	 11854
T220S	 11824#	 11855
T221L	 11894#	 11916
T221S	 11886#	 11917
T222L	 11956#	 11978
T222S	 11948#	 11979
T223L	 12018#	 12040
T223S	 12010#	 12041
T224L	 12080#	 12101
T224S	 12072#	 12102
T225L	 12141#	 12163
T225S	 12133#	 12164
T226L	 12203#	 12225
T226S	 12195#	 12226
T227L	 12264#	 12287
T227S	 12260#	 12288
T22L	  2822#	  2842
T22SEL	  2818#	  2843
T230L	 12334#	 12360
T230S	 12330#	 12361
T231L	 12406#	 12429
T231S	 12402#	 12430
T232L	 12478#	 12500
T232S	 12470#	 12501
T233L	 12544#	 12566
T233S	 12536#	 12567
T234L	 12607#	 12629                                                                                                     SEQ 0961
T234S	 12598#	 12630
T235L	 12669#	 12691
T235S	 12661#	 12692
T236L	 12731#	 12753
T236S	 12723#	 12754
T237L	 12794#	 12816
T237S	 12785#	 12817
T23L	  2882#	  2900
T23SEL	  2878#	  2901
T240L	 12856#	 12878
T240S	 12848#	 12879
T241L	 12918#	 12940
T241S	 12910#	 12941
T242L	 12977#	 13000
T242S	 12973#	 13001
T243L	 13044#	 13067
T243S	 13040#	 13068
T245L	 13138#	 13160
T245RD	 13151#	 13157
T245S	 13134#	 13161
T245SC	 13156	 13159#
T246L	 13214#	 13235
T246RD	 13224#	 13232
T246S	 13210#	 13236
T247EX	 13352	 13373#
T247L	 13291#	 13338	 13345	 13351
T247S	 13283#	 13353
T24L	  2941#	  2953
T24SEL	  2937#	  2954
T250L	 13437#	 13464	 13465
T250S	 13431#	 13466
T251L	 13514#	 13541
T251S	 13508#	 13542
T252L	 13589#	 13617	 13618
T252S	 13582#	 13619
T253L	 13664#	 13692
T253S	 13658#	 13693
T254L	 13741#	 13770	 13771
T254S	 13734#	 13772
T255L	 13819#	 13847
T255S	 13813#	 13848
T256L	 13896#	 13925	 13926
T256S	 13889#	 13927
T257L	 13974#	 14003
T257S	 13968#	 14004
T25L	  2995#	  3007
T25SEL	  2991#	  3008
T260L	 14052#	 14093	 14100
T260S	 14048#	 14101
T261L	 14168#	 14208	 14216
T261S	 14161#	 14215
T262L	 14304#	 14333	 14345
T262S	 14297#	 14344                                                                                                     SEQ 0962
T264L	 14395#	 14415
T264S	 14389#	 14416
T265L	 14469#	 14494	 14502
T265S	 14461#	 14500
T266L	 14545#	 14583	 14584
T266S	 14538#	 14585
T267L	 14666#	 14683	 14692
T267S	 14662#	 14693
T26L	  3050#	  3062
T26SEL	  3046#	  3063
T270L	 14751#	 14794	 14817	 14827
T270NX	 14792	 14802#
T270S	 14747#	 14795	 14828
T271AL	 14940#	 14980
T271BL	 14952#	 14975
T271CL	 14977	 14981	 14985#	 15031
T271DL	 15002#	 15025
T271S	 14934#	 15027	 15030
T272L	 15111#	 15128	 15135
T272S	 15105#	 15136
T273L	 15191#	 15217	 15230
T273S	 15185#	 15231
T274L	 15284#	 15312	 15319
T274S	 15278#	 15320
T275L	 15370#	 15397
T275S	 15364#	 15398
T276L	 15455#	 15481	 15488	 15494
T276S	 15451#	 15495
T277L	 15550#	 15582
T277S	 15546#	 15583
T27L	  3101#	  3113
T27SEL	  3097#	  3114
T2L	  1464#	  1473
T2SEL	  1460#	  1474
T300L	 15630#	 15654
T300S	 15626#	 15655
T301L	 15694#	 15714	 15722
T301S	 15690#	 15723
T302.4	 15800#	 15871
T302.5	 15802#	 15851	 15859	 15867
T302.8	 15817#	 15824
T302.9	 15828#
T302L	 15791#
T302P1	 15876#	 15911
T302P2	 15884	 15888#	 15901
T302P3	 15901#	 15907
T302S	 15785#	 15872
T303A	 15970#	 15979
T303B	 15983	 15985#	 15990
T303L	 15953#	 15982	 16010
T303S	 15950#	 16011
T304B	 16107#
T304C	 16122#	 16130                                                                                                     SEQ 0963
T304L	 16065#	 16102	 16114	 16117	 16147	 16156
T304N	 16131	 16150#
T304S	 16061#	 16148	 16157
T304Y	 16132	 16134#
T305L	 16229#	 16252
T305S	 16225#	 16253
T306L	 16307#	 16336
T306S	 16303#	 16337
T307L	 16398#	 16416	 16427	 16430
T307S	 16388#	 16431
T30L	  3153#	  3165
T30SEL	  3149#	  3166
T310L	 16513#	 16537	 16544
T310S	 16509#	 16545
T311L	 16593#	 16609
T311S	 16589#	 16610
T312L	 16651#	 16670
T312S	 16648#	 16671
T313L	 16713#	 16734
T313S	 16709#	 16735
T314L	 16776#	 16793
T314S	 16772#	 16794
T315L	 16840#	 16865
T315PT	 16868#	 16878
T315S	 16836#	 16866
T316IO	 16952#	 17000
T316L	 16929#	 16946
T316PT	 16978#	 17000
T316S	 16925#	 16947
T317IO	 16953#	 17069
T317L	 17041#	 17064
T317PT	 16979#	 17069
T317S	 17037#	 17065
T31L	  3206#	  3218
T31SEL	  3202#	  3219
T320L	 17108#	 17129
T320S	 17104#	 17130
T321L	 17172#	 17194
T321S	 17168#	 17195
T322L	 17238#	 17265
T322S	 17234#	 17266
T323L	 17307#	 17330
T323S	 17303#	 17331
T325CK	 17433#
T325L	 17383#	 17443	 17444
T325L1	 17399	 17419#
T325L2	 17415	 17427#
T325S	 17377#	 17445
T326L	 17513#	 17543	 17558	 17586
T326LS	 17585	 17606#
T326S	 17501#	 17545	 17560	 17587
T327A	 17724#	 17738
T327B	 17739	 17743#                                                                                                    SEQ 0964
T327C	 17754	 17758#
T327C1	 17760#	 17774
T327D	 17775	 17779#
T327E	 17790	 17794#
T327E1	 17795#	 17809
T327F	 17810	 17814#
T327G	 17824	 17828#
T327H	 17838	 17842#
T327L	 17704#	 17732	 17751	 17768	 17787	 17803	 17821	 17835	 17851
T327S	 17689#	 17734	 17753	 17770	 17789	 17805	 17823	 17837	 17852
T32L	  3262#	  3274
T32SEL	  3258#	  3275
T330A	 18003	 18007#
T330B	 18022	 18026#
T330L	 17991#	 18019	 18034
T330S	 17975#	 18021	 18035
T331A	 18124	 18128#
T331A1	 18134#	 18152
T331L	 18110#	 18146
T331S	 18097#	 18148	 18154
T332A	 18247	 18251#
T332A1	 18259#	 18281
T332L	 18233#	 18275
T332S	 18218#	 18277	 18283
T334A	 18386	 18398#
T334B	 18413#
T334C	 18427#
T334D	 18441#
T334E	 18455#
T334F	 18469#
T334G	 18482#
T334H	 18495#
T334L	 18372#	 18408	 18422	 18436	 18450	 18464	 18477	 18490	 18506
T334S	 18358#	 18410	 18424	 18438	 18452	 18466	 18479	 18492	 18507
T335L	 18631#	 18661
T335S	 18617#	 18662
T336L	 18717#	 18767
T336S	 18706#	 18768
T337L	 18825#	 18879
T337S	 18810#	 18880
T33L	  3317#	  3329
T33SEL	  3313#	  3330
T340L	 18938#	 18991
T340L1	 16080#	 16087
T340S	 18923#	 18992
T341L	 19048#	 19102
T341S	 19037#	 19103
T342L	 19160#	 19212
T342S	 19149#	 19213
T343L	 19261#	 19292
T343S	 19250#	 19293
T344A	 19391#
T344B	 19419	 19423#                                                                                                    SEQ 0965
T344C	 19442	 19446#	 19469
T344D	 19470	 19474#	 19496
T344L	 19348#	 19416	 19439	 19462	 19490
T344S	 19335#	 19418	 19441	 19464	 19492	 19498
T345A	 19612#
T345A1	 19613#
T345A2	 19624#	 19648
T345B	 19649	 19653#	 19677
T345L	 19567#	 19640	 19670
T345S	 19554#	 19643	 19672	 19679
T346L	 19728#	 19742
T346S	 19723#	 19743
T347L	 19780#	 19797
T347S	 19774#	 19798
T34L	  3369#	  3386
T34SEL	  3365#	  3387	  3447
T350L	 19846#	 19879
T350PT	 19888#	 19906
T350S	 19834#	 19880
T351L	 19948#	 19983	 19993	 20003	 20013	 20022
T351S	 19938#	 20023
T352L	 20099#	 20128	 20138	 20144
T352PT	 20149#	 20165	 20172
T352S	 20086#	 20145
T353L	 20215#	 20246	 20259	 20270
T353PT	 20275#	 20296	 20302
T353S	 20202#	 20271
T354L	 20391#	 20421	 20428	 20435	 20443
T354S	 20382#	 20444
T355L	 20504#	 20537	 20549
T355S	 20495#	 20550
T356L	 20606#	 20635	 20664
T356S	 20594#	 20665
T357L	 20712#	 20745	 20779	 20788	 20797
T357PT	 20802#	 20821
T357S	 20701#	 20798
T35L	  3425#	  3446
T35SEL	  3421#
T360L	 20892#	 20925	 20952	 20964	 20975
T360PT	 20980#	 21002
T360S	 20881#	 20976
T361L	 21046#	 21103	 21133
T361S	 21034#	 21134
T362A	 21212	 21224#
T362B	 21239#
T362C	 21253#
T362D	 21267#
T362E	 21281#
T362F	 21295#
T362G	 21308#
T362H	 21321#
T362L	 21198#	 21234	 21248	 21262	 21276	 21290	 21303	 21316	 21330
T362S	 21184#	 21236	 21250	 21264	 21278	 21292	 21305	 21318	 21332                                             SEQ 0966
T363AE	 21390	 21394#
T363AL	 21386#	 21414
T363BG	 21439	 21442#
T363BI	 21427#	 21431	 21432
T363BL	 21392	 21419#	 21443
T363CI	 21451#	 21455	 21456
T363CL	 21446#	 21467	 21485
T363IA	 21399#	 21403	 21404
T363S	 21382#	 21416	 21469	 21486
T36L	  3492#	  3511	  3517
T36SEL	  3485#	  3518
T37L	  3577#	  3600	  3607
T37SEL	  3570#	  3608
T40L	  3646#	  3664
T40SEL	  3642#	  3665
T41L	  3703#	  3715
T41SEL	  3699#	  3716
T42L	  3755#	  3772
T42SEL	  3751#	  3773
T43L	  3817#	  3831	  3838
T43SEL	  3809#	  3834
T45L	  3906#	  3918
T45SEL	  3902#	  3919
T46L	  3979#	  3996
T46SEL	  3975#	  3997
T47L	  4035#	  4053
T47SEL	  4031#	  4054
T4L	  1574#	  1589
T4SEL	  1569#	  1590
T50L	  4089#	  4109
T50SEL	  4085#	  4110
T52L	  4192#	  4209	  4213
T52P	  4217#	  4229
T52SEL	  4185#	  4212
T53AL	  4285#	  4301
T53BL	  4304#	  4324
T53CL	  4327#	  4347
T53DL	  4350#	  4368
T53SEL	  4281#	  4369
T54L	  4451#	  4463
T54SEL	  4447#	  4464
T55L	  4514#	  4530
T55SEL	  4510#	  4531
T56L	  4576#	  4592
T56SEL	  4572#	  4593
T57L	  4634#	  4650
T57SEL	  4630#	  4651
T5L	  1670#	  1687
T5SEL	  1666#	  1688
T60L	  4686#	  4706
T60SEL	  4682#	  4707
T61L	  4741#	  4759
T61SEL	  4737#	  4760                                                                                                     SEQ 0967
T62L	  4797#	  4815
T62SEL	  4793#	  4816
T63L	  4870#	  4882
T63SEL	  4866#	  4883
T64AL	  4949#	  4965
T64BL	  4968#	  4988
T64CL	  4991#	  5011
T64DL	  5014#	  5032
T64SEL	  4945#	  5033
T65L	  5096#	  5112
T65SEL	  5092#	  5113
T66AL	  5160#	  5179
T66BL	  5182#	  5202
T66CL	  5205#	  5230
T66DL	  5233#	  5255
T66SEL	  5156#	  5256
T67AL	  5327#	  5343
T67BL	  5346#	  5366
T67CL	  5369#	  5389
T67SEL	  5323#	  5390
T6L	  1769#	  1790
T6SEL	  1765#	  1791
T70AL	  5464#	  5480
T70BL	  5483#	  5503
T70CL	  5506#	  5526
T70SEL	  5460#	  5527
T71L	  5576#	  5588
T71SEL	  5572#	  5589
T72AL	  5634#	  5650
T72BL	  5653#	  5673
T72CL	  5676#	  5696
T72DL	  5699#	  5717
T72SEL	  5630#	  5718
T73L	  5829#	  5858
T73N	  5802#	  5822
T73NMR	  5834	  5842#
T73P	  5820#	  5824	  5859
T73PNT	  5863#	  5880
T73SEL	  5796#	  5808
T73WY	  5846#
T74L	  5931#	  5948
T74SEL	  5927#	  5949
T75L	  5993#	  6011
T75SEL	  5989#	  6012
T76L	  6058#	  6077
T76SEL	  6054#	  6078
T77L	  6144#	  6164
T77N	  6135#	  6139	  6165
T77PNT	  6169#	  6186
T77SEL	  6126#	  6137
T7L	  1862#	  1883
T7SEL	  1858#	  1884
TA	  1599	  1695	  1798	  1891	  1975	  2041	  2671	  3539	  3930	  4005	  4233	  4386	  4473	  4891     SEQ 0968
	  5048	  5122	  5403	  5540	  5883	 17875	 18044	 18163	 19509	 19749	 19805	 30271#
TAB	   724#
TB	  1600	  1696	  1799	  1892	  1976	  2135	  2241	  2333	  2420	  3540	  3931	  4006	  4232	  4387
	  4474	  4892	  5049	  5123	  5404	  5541	  5884	 17644	 17649	 17876	 18045	 18164	 19510	 30288#
TB115A	  7013	  7087#
TB115B	  7036	  7091#
TB115C	  7060	  7088#
TB115D	  7081	  7094#
TB115E	  7090	  7093	  7096#
TB121A	  7315	  7396#
TB121B	  7338	  7400#
TB121C	  7365	  7397#
TB121D	  7390	  7403#
TB121E	  7399	  7402	  7405#
TB125A	  7617	  7669#
TB125B	  7640	  7673#
TB125C	  7663	  7670#
TB125D	  7672	  7675#
TB131A	  7893	  7949#
TB131B	  7916	  7953#
TB131C	  7943	  7950#
TB131D	  7952	  7955#
TB153A	  8949	  9023#
TB153B	  8972	  9027#
TB153C	  8996	  9024#
TB153D	  9017	  9030#
TB153E	  9026	  9029	  9032#
TB165A	  9724	  9793#
TB165B	  9742	  9796#
TB165C	  9795	  9799#
TB166A	  9876	  9940#
TB166B	  9914	  9947#
TB167A	 10013	 10100#
TB167B	 10034	 10103#
TB167C	 10063	 10106#
TB167D	 10094	 10109#
TB167E	 10102	 10105	 10108	 10111#
TB170A	 10179	 10192#
TB170B	 10186	 10197#
TB171A	 10248	 10261#
TB171B	 10255	 10266#
TB172	 10327	 10333#
TB173	 10399	 10405#
TB174	 10463	 10485#
TB175	 10544	 10550#
TB176	 10609	 10625#
TB177	 10683	 10707#
TB200A	 10763	 10836#
TB200B	 10782	 10840#
TB200C	 10803	 10844#
TB201	 10895	 10901#
TB202	 10953	 10960#
TB203	 11013	 11020#                                                                                                    SEQ 0969
TB204	 11070	 11076#
TB205A	 11145	 11183#
TB205B	 11152	 11187#
TB206	 11231	 11237#
TB207	 11281	 11287#
TB210	 11335	 11341#
TB211	 11389	 11395#
TB212	 11442	 11448#
TB213	 11496	 11502#
TB214	 11571	 11577#
TB227	 12286	 12292#
TB230	 12359	 12365#
TB231	 12428	 12434#
TB242	 12999	 13005#
TB243	 13006#	 13066
TB246	 13234	 13240#
TB247A	 13337	 13390#
TB247B	 13344	 13394#
TB250	 13463	 13470#
TB251	 13540	 13546#
TB252	 13616	 13623#
TB253	 13691	 13697#
TB254	 13769	 13776#
TB255	 13846	 13852#
TB256	 13924	 13931#
TB257	 14002	 14008#
TB260A	 14092	 14111#
TB260B	 14099	 14117#
TB261	 14207	 14251#
TB262	 14332	 14349#
TB264	 14414	 14420#
TB265	 14493	 14506#
TB266	 14582	 14589#
TB267A	 14682	 14697#
TB267B	 14691	 14701#
TB267C	 14699#	 14703
TB270A	 14793	 14853#
TB270B	 14816	 14856#
TB270C	 14826	 14860#
TB270D	 14858#	 14863
TB270E	 14847	 14865#
TB271A	 14959	 14969	 15070#
TB271B	 15009	 15020	 15073#
TB271C	 15071	 15074#
TB272A	 15127	 15140#
TB272B	 15134	 15144#
TB273A	 15216	 15235#
TB273B	 15229	 15239#
TB273C	 15237	 15241#
TB274A	 15311	 15324#
TB274B	 15318	 15328#
TB274C	 15326	 15331#
TB275	 15396	 15402#                                                                                                    SEQ 0970
TB276A	 15480	 15499#
TB276B	 15487	 15503#
TB276C	 15493	 15508#
TB276D	 15501	 15505#
TB277	 15581	 15587#
TB300	 15653	 15659#
TB301A	 15713	 15727#
TB301B	 15721	 15732#
TB302A	 15850	 15907#
TB302B	 15858	 15911#
TB303A	 15981	 16015#
TB303B	 16009	 16019#
TB303C	 16017	 16021#
TB304A	 16101	 16161#	 16169
TB304B	 16116	 16166#
TB304C	 16146	 16171#	 16179
TB304D	 16155	 16176#
TB304E	 16164	 16174	 16181#
TB305	 16251	 16257#
TB305.	 16260#	 16344
TB306	 16335	 16341#
TB307A	 16415	 16452#
TB307B	 16426	 16461#
TB310A	 16536	 16549#
TB310B	 16543	 16553#
TB311	 16608	 16615#
TB312	 16669	 16676#
TB313	 16733	 16739#
TB314	 16792	 16799#
TB315	 16864	 16878#
TB316	 16945	 17000#
TB317	 17063	 17069#
TB320	 17128	 17134#
TB321	 17193	 17199#
TB322	 17264	 17270#
TB323	 17329	 17335#
TB325	 17442	 17459#
TB326A	 17542	 17591#
TB326C	 17557	 17598#
TB326D	 17606	 17615#
TB326E	 17607	 17620#
TB326F	 17608	 17626#
TB326G	 17609	 17631#
TB326H	 17610	 17636#
TB326I	 17611	 17641#
TB326J	 17612	 17647#
TB327A	 17731	 17856#
TB327B	 17750	 17863#
TB327C	 17767	 17868#
TB327D	 17786	 17879#
TB327E	 17802	 17886#
TB327F	 17820	 17891#
TB327G	 17834	 17895#                                                                                                    SEQ 0971
TB327H	 17850	 17901#
TB330A	 18018	 18039#
TB330B	 18033	 18050#
TB330C	 18042#	 18053
TB331	 18145	 18158#
TB332	 18274	 18287#
TB344A	 19415	 19502#
TB344B	 19438	 19503#
TB344C	 19461	 19513#
TB344D	 19489	 19517#
TB344E	 19505#	 19515
TB345A	 19639	 19684#
TB345B	 19669	 19690#
TB351A	 19982	 20027#
TB351B	 19992	 20036#
TB351C	 20002	 20040#
TB351D	 20012	 20046#
TB351F	 20021	 20051#
TB352A	 20127	 20163#
TB352B	 20137	 20169#
TB353A	 20245	 20294#
TB353B	 20258	 20299#
TB354A	 20420	 20448#
TB354B	 20427	 20453#
TB354C	 20434	 20458#	 20465
TB354D	 20455#	 20461
TB354E	 20442	 20463#
TB355A	 20536	 20554#
TB355B	 20548	 20561#
TB356	 20634	 20663	 20669#
TB357	 20670#	 20744	 20778
TB357A	 20787	 20818#
TB360	 20671#	 20924	 20963
TB360A	 20951	 20999#
TB361	 20672#	 21074
TB361A	 21102	 21132	 21138#
TB3637	  3536#	  3615
TB363A	 21413	 21490#
TB363B	 21442	 21492#	 21502	 21507
TB363C	 21466	 21500#
TB363D	 21484	 21504#
TBD10	 22074	 22080#
TBD11	 22131	 22137#
TBD12	 22187	 22193#
TBD13	 22246	 22253#
TBD14	 22312	 22319#
TBD15A	 22378	 22393#
TBD15B	 22387	 22399#
TBD16A	 22457	 22475#
TBD16B	 22469	 22481#
TBD17A	 22539	 22560#
TBD17B	 22554	 22566#
TBD20A	 22626	 22647#                                                                                                    SEQ 0972
TBD20B	 22641	 22653#
TBD21	 22727	 22748#	 22831
TBD22	 22824	 22830#
TBD23	 22885	 22892#
TBD2A	 21632	 21660#
TBD2B	 21642	 21667#
TBD2C	 21653	 21673#
TBD3A	 21721	 21739#
TBD3C	 21733	 21746#
TBD4	 21804	 21811#
TBD5	 21870	 21877#
TBD6	 21929	 21950#
TBD7	 22004	 22014#
TBL1	  1390	  1399#
TBL10	  1966	  1972#
TBL100	  6240	  6247#
TBL102	  6348	  6355#
TBL103	  6410	  6417#
TBL104	  6472	  6479#
TBL105	  6535	  6542#
TBL106	  6594	  6600#
TBL107	  6652	  6658#
TBL11	  2033	  2039#
TBL110	  6709	  6715#
TBL111	  6767	  6774#
TBL112	  6828	  6835#
TBL113	  6888	  6895#
TBL114	  6949	  6956#
TBL116	  7148	  7160#
TBL117	  7217	  7230#
TBL12	  2126	  2132#
TBL122	  7456	  7472#
TBL123	  7536	  7542#
TBL126	  7730	  7742#
TBL127	  7798	  7811#
TBL13	  2232	  2238#
TBL132	  8010	  8025#
TBL133	  8089	  8095#
TBL135	  8168	  8174#
TBL136	  8223	  8229#
TBL137	  8280	  8286#
TBL14	  2325	  2330#
TBL140	  8335	  8341#
TBL141	  8385	  8391#
TBL142	  8439	  8445#
TBL143	  8503	  8509#
TBL144	  8558	  8564#
TBL145	  8613	  8619#
TBL146	  8668	  8674#
TBL147	  8723	  8729#
TBL15	  2411	  2417#
TBL150	  8778	  8784#
TBL151	  8833	  8839#                                                                                                    SEQ 0973
TBL152	  8890	  8896#
TBL154	  9083	  9095#
TBL155	  9152	  9165#
TBL157	  9240	  9246#
TBL16	  2472	  2478#
TBL160	  9343	  9349#
TBL161	  9408	  9429#
TBL162	  9489	  9501#
TBL163	  9559	  9571#
TBL164	  9621	  9635#
TBL17	  2561	  2567#
TBL2	  1472	  1478#	 21490
TBL20	  2663	  2669#
TBL205	 11173	 11177#
TBL21	  2756	  2762#
TBL22	  2841	  2847#
TBL23	  2899	  2905#
TBL24	  2952	  2958#
TBL245	 13159	 13165#
TBL247	 13385	 13386#
TBL25	  3006	  3012#
TBL26	  3061	  3067#
TBL261	 14190	 14214	 14223#
TBL266	 14555	 14568	 14597#
TBL27	  3112	  3118#
TBL30	  3164	  3170#
TBL307	 16411	 16436#
TBL31	  3217	  3223#
TBL32	  3273	  3279#
TBL325	 17397	 17450#
TBL33	  3328	  3334#
TBL334	 18407	 18421	 18435	 18449	 18463	 18476	 18489	 18505	 18579#
TBL335	 18660	 18666#
TBL336	 18766	 18772#
TBL337	 18878	 18884#
TBL34	  3385	  3391#
TBL340	 18990	 18996#
TBL341	 19101	 19107#
TBL342	 19211	 19217#
TBL343	 19291	 19297#
TBL346	 19741	 19747#
TBL347	 19796	 19802#
TBL35	  3445	  3452#
TBL350	 19878	 19904#
TBL353	 20227	 20256	 20278	 20281	 20284	 20310#
TBL357	 20724	 20759	 20785	 20805	 20825#
TBL36	  3510	  3533#
TBL360	 20826#	 20904	 20935	 20983	 20986	 20989
TBL362	 21233	 21247	 21261	 21275	 21289	 21302	 21315	 21329	 21337#
TBL37	  3599	  3612#
TBL4	  1588	  1594#
TBL40	  3663	  3669#
TBL41	  3714	  3720#                                                                                                    SEQ 0974
TBL42	  3771	  3777#
TBL43	  3830	  3842#
TBL45	  3917	  3923#
TBL46	  3995	  4001#
TBL47	  4052	  4058#
TBL5	  1686	  1692#
TBL50	  4108	  4114#
TBL52	  4208	  4229#
TBL53A	  4300	  4373#
TBL53B	  4323	  4377#
TBL53C	  4346	  4374#
TBL53D	  4367	  4380#
TBL53E	  4376	  4379	  4384#
TBL54	  4462	  4468#
TBL55	  4529	  4535#
TBL56	  4591	  4598#
TBL57	  4649	  4655#
TBL6	  1789	  1795#
TBL60	  4705	  4711#
TBL61	  4758	  4764#
TBL62	  4814	  4821#
TBL63	  4881	  4887#
TBL64A	  4964	  5037#
TBL64B	  4987	  5041#
TBL64C	  5010	  5038#
TBL64D	  5031	  5044#
TBL64E	  5040	  5043	  5046#
TBL65	  5111	  5117#
TBL66A	  5178	  5260#
TBL66B	  5201	  5264#
TBL66C	  5229	  5261#
TBL66D	  5254	  5267#
TBL66E	  5263	  5266	  5269#
TBL67A	  5342	  5394#
TBL67B	  5365	  5398#
TBL67C	  5388	  5395#
TBL67D	  5397	  5400#
TBL7	  1882	  1888#
TBL70A	  5479	  5531#
TBL70B	  5502	  5535#
TBL70C	  5525	  5532#
TBL70D	  5534	  5537#
TBL71	  5587	  5594#
TBL72A	  5649	  5722#
TBL72B	  5672	  5726#
TBL72C	  5695	  5723#
TBL72D	  5716	  5729#
TBL72E	  5725	  5728	  5731#
TBL73	  5857	  5880#
TBL74	  5947	  5953#
TBL75	  6010	  6017#
TBL76	  6076	  6082#
TBL77	  6163	  6186#                                                                                                    SEQ 0975
TBLD1	 21554	 21568	 21574#
TC	  1402	  1481	  1602	  2136	  2242	  2334	  2421	  2569	  2764	  2849	  3541	  3723	  3780	  4472
	  4537	  4600	  6188	 17877	 18046	 18165	 18291	 19511	 19688	 30305#
TDF	  1093#
TELL	   122	 26878	 27033#
TELLA	 27040	 27049#
TELLD	 27051#	 27063
TELLN	 27053	 27060#
TELLW	 27054	 27057#
TELLX1	 27042#	 27065
TELLY	 27056	 27058#
TELTST	  1361	  9701	  9708	  9855	  9880	  9894	  9918	  9928	 15970	 16107	 21394	 21422	 21446	 24240
	 24316	 24397	 28022#
TELWHO	  9704	  9710	  9858	  9921	 15972	 16110	 21395	 21423	 21447	 23737	 23957	 24242	 24318	 24399
	 25150	 25705	 27752	 27770	 27787	 27826	 27835	 27853	 27995#	 28093
TESTPC	   599#	 27297	 27357	 27393	 28735
TEXT.	   134	 29937#
TEXTF.	   135	 29943#
THRUZ	 23866#	 23866	 23903	 23905	 23944
TICKS	   602#
TIMOT	  1140#
TL1	  1380#	  1391
TMP	 14940#	 14940	 14960	 14970	 14976	 14985	 15010	 15021	 15026	 15966	 15974	 16003
TN0	   527#
TN1	   527#
TOTALS	   303#
TR2	 27373	 27380#
TR3	 27361	 27365	 27371	 27376#	 27381
TR4	 27375	 27382#
TRACE	   120	  1350	  1458	  1506	  1567	  1664	  1763	  1856	  1941	  2010	  2104	  2204	  2300	  2386
	  2449	  2539	  2636	  2730	  2816	  2876	  2935	  2989	  3044	  3095	  3147	  3200	  3256	  3311
	  3363	  3419	  3483	  3568	  3640	  3697	  3749	  3807	  3900	  3973	  4029	  4083	  4139	  4183
	  4279	  4445	  4508	  4570	  4628	  4680	  4735	  4791	  4864	  4943	  5090	  5154	  5321	  5458
	  5570	  5628	  5794	  5925	  5987	  6052	  6124	  6219	  6277	  6327	  6389	  6451	  6514	  6574
	  6632	  6689	  6746	  6807	  6867	  6928	  6991	  7122	  7187	  7253	  7290	  7430	  7499	  7565
	  7595	  7700	  7768	  7834	  7868	  7980	  8052	  8118	  8147	  8202	  8259	  8314	  8369	  8418
	  8474	  8537	  8592	  8647	  8702	  8757	  8812	  8866	  8927	  9057	  9122	  9189	  9223	  9314
	  9377	  9458	  9528	  9598	  9678	  9832	  9985	 10142	 10224	 10301	 10368	 10438	 10517	 10577
	 10653	 10740	 10870	 10928	 10988	 11049	 11112	 11214	 11264	 11318	 11371	 11425	 11479	 11540
	 11610	 11698	 11760	 11822	 11884	 11946	 12008	 12070	 12131	 12193	 12258	 12328	 12400	 12468
	 12534	 12596	 12659	 12721	 12783	 12846	 12908	 12971	 13038	 13089	 13132	 13208	 13281	 13429
	 13506	 13580	 13656	 13732	 13811	 13887	 13966	 14046	 14159	 14295	 14387	 14459	 14537	 14660
	 14745	 14932	 15103	 15183	 15276	 15362	 15449	 15544	 15624	 15688	 15780	 15945	 16056	 16223
	 16301	 16386	 16507	 16587	 16646	 16707	 16770	 16834	 16923	 17035	 17102	 17166	 17232	 17301
	 17375	 17499	 17687	 17973	 18095	 18216	 18315	 18356	 18615	 18704	 18808	 18921	 19035	 19147
	 19248	 19333	 19552	 19721	 19772	 19832	 19936	 20084	 20200	 20380	 20493	 20592	 20699	 20879
	 21032	 21182	 21377	 21538	 21617	 21706	 21783	 21849	 21911	 21983	 22044	 22115	 22170	 22225
	 22289	 22357	 22434	 22516	 22603	 22690	 22786	 22859	 22921	 22985	 23051	 23115	 23248	 23365
	 23450	 23526	 23711	 27350#	 27689
TRCMN	 27378	 27384	 27385#
TRE	   895#	 20632	 20661	 20742	 20776	 20922	 21072	 21100	 21130
TRECLR	   894#
TREX	 27379	 27383	 27397#                                                                                            SEQ 0976
TRMES	  1597	  1694	  1797	  1890	  1974	  2134	  2240	  2332	  2419	  3538	  3929	 17874	 18043	 18161
	 19508	 30363#
TRMSG	 27396	 27407#
TRP3TP	   527#
TRSKP	 27363#	 27363	 27364	 27368	 27376	 27395	 27401
TST1	  1349#	 30035
TST10	  1940#	 30038
TST100	  6218#	 30066
TST101	  6276#	 30067
TST102	  6326#	 30067
TST103	  6388#	 30068
TST104	  6450#	 30068
TST105	  6513#	 30069
TST106	  6573#	 30069
TST107	  6631#	 30070
TST11	  2009#	 30039
TST110	  6688#	 30070
TST111	  6745#	 30071
TST112	  6806#	 30071
TST113	  6866#	 30072
TST114	  6927#	 30072
TST115	  6990#	 30073
TST116	  7121#	 30073
TST117	  7186#	 30074
TST12	  2103#	 30039
TST120	  7252#	 30074
TST121	  7289#	 30075
TST122	  7429#	 30075
TST123	  7498#	 30076
TST124	  7564#	 30076
TST125	  7594#	 30077
TST126	  7699#	 30077
TST127	  7767#	 30078
TST13	  2203#	 30040
TST130	  7833#	 30078
TST131	  7867#	 30079
TST132	  7979#	 30079
TST133	  8051#	 30080
TST134	  8117#	 30080
TST135	  8146#	 30081
TST136	  8201#	 30081
TST137	  8258#	 30082
TST14	  2299#	 30040
TST140	  8313#	 30082
TST141	  8368#	 30083
TST142	  8417#	 30083
TST143	  8473#	 30084
TST144	  8536#	 30084
TST145	  8591#	 30085
TST146	  8646#	 30085
TST147	  8701#	 30086
TST15	  2385#	 30041
TST150	  8756#	 30086                                                                                                     SEQ 0977
TST151	  8811#	 30087
TST152	  8865#	 30087
TST153	  8926#	 30088
TST154	  9056#	 30088
TST155	  9121#	 30089
TST156	  9188#	 30089
TST157	  9222#	 30090
TST16	  2448#	 30041
TST160	  9313#	 30090
TST161	  9376#	 30091
TST162	  9457#	 30091
TST163	  9527#	 30092
TST164	  9597#	 30092
TST165	  9677#	 30093
TST166	  9831#	 30093
TST167	  9984#	 30094
TST17	  2538#	 30042
TST170	 10141#	 30094
TST171	 10223#	 30095
TST172	 10300#	 30095
TST173	 10367#	 30096
TST174	 10437#	 30096
TST175	 10516#	 30097
TST176	 10576#	 30097
TST177	 10652#	 30098
TST1X	  1356	  1406#
TST2	  1457#	 30035
TST20	  2635#	 30042
TST200	 10739#	 30098
TST201	 10869#	 30099
TST202	 10927#	 30099
TST203	 10987#	 30100
TST204	 11048#	 30100
TST205	 11111#	 30101
TST206	 11213#	 30101
TST207	 11263#	 30102
TST21	  2729#	 30043
TST210	 11317#	 30102
TST211	 11370#	 30103
TST212	 11424#	 30103
TST213	 11478#	 30104
TST214	 11539#	 30104
TST215	 11609#	 30105
TST216	 11697#	 30105
TST217	 11759#	 30106
TST22	  2815#	 30043
TST220	 11821#	 30106
TST221	 11883#	 30107
TST222	 11945#	 30107
TST223	 12007#	 30108
TST224	 12069#	 30108
TST225	 12130#	 30109
TST226	 12192#	 30109                                                                                                     SEQ 0978
TST227	 12257#	 30110
TST23	  2875#	 30044
TST230	 12327#	 30110
TST231	 12399#	 30111
TST232	 12467#	 30111
TST233	 12533#	 30112
TST234	 12595#	 30112
TST235	 12658#	 30113
TST236	 12720#	 30113
TST237	 12782#	 30114
TST24	  2934#	 30044
TST240	 12845#	 30114
TST241	 12907#	 30115
TST242	 12970#	 30115
TST243	 13037#	 30116
TST244	 13088#	 30116
TST245	 13131#	 30117
TST246	 13207#	 30117
TST247	 13280#	 30118
TST25	  2988#	 30045
TST250	 13428#	 30118
TST251	 13505#	 30119
TST252	 13579#	 30119
TST253	 13655#	 30120
TST254	 13731#	 30120
TST255	 13810#	 30121
TST256	 13886#	 30121
TST257	 13965#	 30122
TST26	  3043#	 30045
TST260	 14045#	 30122
TST261	 14158#	 30123
TST262	 14294#	 30123
TST264	 14386#	 30124
TST265	 14458#	 30125
TST266	 14536#	 30125
TST267	 14659#	 30126
TST27	  3094#	 30046
TST270	 14744#	 30126
TST271	 14931#	 30127
TST272	 15102#	 30127
TST273	 15182#	 30128
TST274	 15275#	 30128
TST275	 15361#	 30129
TST276	 15448#	 30129
TST277	 15543#	 30130
TST3	  1505#	 30036
TST30	  3146#	 30046
TST300	 15623#	 30130
TST301	 15687#	 30131
TST302	 15778#	 30131
TST303	 15944#	 30132
TST304	 16055#	 30132
TST305	 16222#	 30133                                                                                                     SEQ 0979
TST306	 16300#	 30133
TST307	 16385#	 30134
TST31	  3199#	 30047
TST310	 16506#	 30134
TST311	 16586#	 30135
TST312	 16645#	 30135
TST313	 16706#	 30136
TST314	 16769#	 30136
TST315	 16833#	 30137
TST316	 16922#	 30137
TST317	 17034#	 30138
TST32	  3255#	 30047
TST320	 17101#	 30138
TST321	 17165#	 30139
TST322	 17231#	 30139
TST323	 17300#	 30140
TST325	 17374#	 30141
TST326	 17498#	 30141
TST327	 17686#	 30142
TST33	  3310#	 30048
TST330	 17972#	 30142
TST331	 18094#	 30143
TST332	 18215#	 30143
TST333	 18314#	 30144
TST334	 18355#	 30144
TST335	 18614#	 30145
TST336	 18703#	 30145
TST337	 18807#	 30146
TST34	  3362#	 30048
TST340	 18920#	 30146
TST341	 19034#	 30147
TST342	 19146#	 30147
TST343	 19247#	 30148
TST344	 19332#	 30148
TST345	 19551#	 30149
TST346	 19720#	 30149
TST347	 19770#	 30150
TST35	  3418#	 30049
TST350	 19831#	 30150
TST351	 19935#	 30151
TST352	 20083#	 30151
TST353	 20199#	 30152
TST354	 20379#	 30152
TST355	 20492#	 30153
TST356	 20591#	 30153
TST357	 20698#	 30154
TST36	  3482#	 30049
TST360	 20878#	 30154
TST361	 21031#	 30155
TST362	 21181#	 30155
TST363	 21376#	 30156
TST364	 21509#	 30156
TST37	  3567#	 30050                                                                                                     SEQ 0980
TST4	  1566#	 30036
TST40	  3639#	 30050
TST41	  3696#	 30051
TST42	  3748#	 30051
TST43	  3806#	 30052
TST45	  3899#	 30053
TST46	  3972#	 30053
TST47	  4028#	 30054
TST5	  1663#	 30037
TST50	  4082#	 30054
TST51	  4138#	 30055
TST52	  4182#	 30055
TST53	  4278#	 30056
TST54	  4444#	 30056
TST55	  4507#	 30057
TST56	  4569#	 30057
TST57	  4627#	 30058
TST6	  1762#	 30037
TST60	  4679#	 30058
TST61	  4734#	 30059
TST62	  4790#	 30059
TST63	  4863#	 30060
TST64	  4942#	 30060
TST65	  5089#	 30061
TST66	  5153#	 30061
TST67	  5320#	 30062
TST7	  1855#	 30038
TST70	  5457#	 30062
TST71	  5569#	 30063
TST72	  5627#	 30063
TST73	  5793#	 30064
TST74	  5924#	 30064
TST75	  5986#	 30065
TST76	  6051#	 30065
TST77	  6123#	 30066
TSTLST	 27628	 30035#	 30158
TSTNUM	   120	  9994	 10018	 10039	 10069	 25709	 27290	 27354#	 27354	 27359	 27362	 27367	 27386	 27568
	 27638	 28024	 28718	 28747
TSX1	 29724#	 29735
TSX2	 29725	 29730#
TSX3	 29729	 29731	 29734#
TSXM1	 29727	 29747#
TSXM2	 29733	 29752#
TT	  1183#
TTNBRF	   782#
TTYFIL	   698#
TTYSPD	   699#
TU16	    41#
TU16D	  1028#
TUF	  1092#
TXTINH	   314#	 24036	 28625	 28641	 28715	 28963	 29024	 29111	 29708
TYPBIT	 28972	 29035	 29169	 29179	 29704#
TYPE	 27765#	 27765	 27773	 27778                                                                                     SEQ 0981
UBADDR	 26908	 26912	 28803	 28845	 28887	 28922	 28955	 29016	 30249#
UBASP1	 28964	 28969#
UBASP2	 28967	 28981#
UBASPT	 26023	 26818	 26828	 26873	 28952#
UBASTB	 28971	 29042#
UBAVEC	   527#
UBINIT	  1148#	 26803	 26831	 26851	 27438	 28890
UCBUF2	  1237	 25302#
UNIT	   946#
UNLOAD	   912#
UNSF	   970#
UPE	   935#
USER	   589#	 15782	 25095	 25302	 26551	 26619	 26672	 26795	 27119	 27222	 27374	 27678	 28546	 28560
	 28649
USERF	   527#
USRASB	   579
USRCRF	   708#
USRLFF	   707#
UUODIS	   661#
UUOEXT	   617#	 29941	 29947
UUORTN	   618#
UUOSKP	   615#
UUOTST	 26555	 26559	 26584#
VALID	  1170#
VECTOR	 30251#
VRF35	  1110#
VV	   960#
WAIT.5	 21637	 21727	 23282	 25924#
WAIT1	 21648	 21728	 22715	 22812	 25931#
WAIT2	 22546	 22633	 22714	 22811	 25937#
WAITGO	   117	 14403	 15651	 15832	 19965	 20115	 20233	 20409	 20522	 20620	 20650	 20730	 20764	 20910
	 20940	 21060	 21088	 21118	 24710	 24763	 24828	 24890	 24937	 25129#
WAITL	 25134#	 25143
WAO	  1111#
WCE	   934#
WCLKF	   979#
WCSER	 29264	 29543#
WCTBL	 29264	 29326#
WCU	  1098#
WDISP	  5843	  5847	 30190#
WENB1	 24390#	 24406
WENB2	 24393	 24397#	 24404	 24405
WENB3	 24394#
WEX2	 25139	 25141	 25163#
WLE	   973#
WRTENB	 17384	 17513	 17704	 17991	 18110	 18233	 18372	 18631	 19846	 19948	 19952	 20099	 20215	 20391
	 20504	 20606	 20712	 20892	 21046	 21078	 21198	 24388#
WRTLOK	   955#
WRU	  1090#
WSU	  1096#
WTCHD	   922#
WTCHHD	   923#
WTD	   924#                                                                                                            SEQ 0982
WTDTA	 25142#	 25142
WTHD	   925#
XFEREX	 25023	 25029	 25035	 25039#
XFR16	  1168#
XFR36	  1169#
XFSTOP	   119	 17429	 17584	 17849	 18032	 18153	 18282	 18504	 18659	 18871	 18983	 19094	 19204	 19284
	 19497	 19678	 19877	 19981	 20121	 20239	 20414	 20528	 20626	 20655	 20736	 20770	 20916	 20946
	 21066	 21094	 21124	 21331	 25064#	 25097
XFSTRT	   119	 17422	 17526	 17715	 18000	 18121	 18244	 18383	 18642	 18728	 18840	 18953	 19063	 19173
	 19272	 19361	 19580	 19857	 19962	 20112	 20230	 20406	 20519	 20617	 20647	 20727	 20761	 20907
	 20937	 21057	 21085	 21115	 21209	 24983#
$$MUUO	   813#
$$OUTE	   819#
$$TAX1	   831#
$$TAX2	   832#
$$TOGG	   825#
$$UUO	   802#
$ACC0	   640#
$BEND1	   610#
$BEND2	    79	   611#
$CHRIN	   701#	 27114
$CRLF	   703#
$DEVCH	   527#
$DSKUP	   580#
$DVOFF	   697#
$EMODE	   578#
$FFF	   705#
$IBUF	   753#
$INEXT	   755#
$INNM	   754#
$ITRHL	   621#
$ITRX1	   622#	  1244
$LPAPE	    47#	 29956
$MMAP	   581#
$MODVL	   576#
$MODVU	   577#
$OBUF	   744#
$ONETM	   604#	  1230	  1290
$OUTEX	   746#
$OUTNM	   745#
$PAPER	   527
$PARER	   628#
$PNAME	   574#
$PSHER	   632#
$PVER	   575#
$RSRTX	   624#
$RSRTY	   625#
$SPAG1	   644#
$START	   541#
$SVAPR	   642#	 26624
$SVPAG	   643#
$SVPI	   641#
$SVUPC	   647#	 26617	 26668	 28528	 28696                                                                             SEQ 0983
$SVUUO	   646#	 26616	 26669	 28529	 28695	 29938	 29944
$TABF	   704#
$TTCHR	   700#
$TWCNT	   696#	 24196	 24200	 27889	 27971
$TYPNB	   702#
$UMODE	   579#
$UORTX	   619#
$USRHL	   623#
$UUOER	   620#	   661
$VTF	   706#
%ACTFL	   653#
%ACTUL	   654#
%COREC	   652#
%CORFL	   651#
%DISCR	   655#
%ERHI1	   794#
%ERHI2	   795#
%ERHI3	   796#
.CRLF	  3527	  4223	  5864	  6169	  6172	  6181	  9779	 10701	 11661	 15893	 15897	 16123	 16125	 16127
	 16871	 16872	 16986	 20287	 20288	 20811	 20812	 20992	 20993	 23799	 24121	 24150	 25151	 25157
	 27827	 27886	 28600	 28636	 28644	 28762	 28763	 28980	 28981	 29036	 29130	 29834#
.DASH	 24109	 28756	 29154	 29799#
.EQUAL	 29808#
.JB41	   527#
.JBAPR	   527#
.JBCNI	   527#
.JBDDT	   527#
.JBFF	   527#
.JBOPC	   527#
.JBREL	   527#
.JBREN	   527#
.JBSA	   527#
.JBSYM	   527#
.JBTPC	   527#
.JBUSY	   527#
.JBUUO	   527#
.JBVER	   527#
.MINUS	 29798#	 29862
.OFSET	 16248	 16412	 16527	 23884	 23917	 24806#
.PERIO	 29618	 29802#	 29859
.QUEST	 29756	 29805#
.RECAL	   121	 14486	 14672	 14757	 14947	 14992	 15041	 15056	 15195	 15288	 15373	 15461	 15556	 15636
	 15700	 15795	 15959	 15996	 16071	 16235	 16313	 16404	 16519	 16661	 16721	 16780	 16846	 17049
	 17114	 17178	 17244	 17313	 17388	 17507	 17697	 17983	 18103	 18226	 18366	 18625	 18712	 18820
	 18933	 19043	 19155	 19256	 19341	 19560	 19788	 19840	 19943	 20092	 20208	 20219	 20395	 20508
	 20600	 20720	 20896	 21043	 21192	 22868	 22872	 23803	 24155	 24701#
.SECT	 15800#	 15800	 15810	 15856	 15864	 15865	 15891
.SEEK	   121	 14677	 14761	 14803	 14955	 14966	 14997	 15005	 15016	 15061	 16531	 17120	 23840	 24165
	 24185	 24751#
.SPACE	 29748	 29757	 29791#
.SRCH	 15705	 17185	 24869#
.TAB	 18551	 18555	 18564	 18568	 24103	 24106	 24112	 24115	 24118	 28957	 29017	 29144	 29794#
                                                                                                                           SEQ 0984
APRID	   527#
BCIO	   527#                                                                                                            SEQ 0985
BCIOB	   527#
BOX	   152#	   199	   246	 24209	 24252	 24284	 24329	 24368	 24409	 24437	 24465	 24506	 24536	 24585
	 24611	 24646	 24680	 24729	 24781	 24845	 24909	 24956	 25046	 25071	 25104	 25170	 25201	 25242
	 25286	 25323	 25359	 25420	 25478	 25529	 25598	 25643	 25725	 25782	 25864	 25906	 25947	 25991
	 26078	 26299	 26533	 26565	 26595	 26748	 26943	 27011	 27068	 27151	 27176	 27238	 27313	 27417
	 27448	 27494	 27541	 27659	 27863	 27894	 27924	 27977	 28004	 28036	 28111	 28250	 28369	 28769
	 28814	 28860	 28900	 28931	 28987	 29064	 29208	 29470	 29667	 29762	 29841	 29867	 29914	 29971
	 29988	 30022	 30161	 30209	 30256	 30497	 30542
BSIO	   527#
BSIOB	   527#
CFLUSH	   487#
CINVAL	   486#
CLOKOP	   481#
CLRPT	   527#
CWRTBI	   488#
DROPDV	   448#
ENDUUO	   494#	   609
EOPUUO	   495#	   611	 26648	 26743
ERRHLT	   382#	 28652
FATAL	   381#	 18954	 20220	 23829	 26819	 26829	 26847	 26863	 26874	 27683
FATL	    58#	 26732
FRD36	   523#
FRD8	   524#
FREAD	   522#
FSELEC	   521#
GET	   365#	  3528	  4224	  6286	  9274	  9288	  9424	  9772	  9788	 10480	 10620	 10702	 10821	 10831
	 11168	 11662	 13365	 15065	 15845	 15885	 15898	 16970	 16971	 16972	 16994	 16995	 17917	 17928
	 17939	 18063	 18187	 18534	 18535	 18574	 19899	 20157	 20289	 20813	 20994	 21539	 21540	 21618
	 21619	 21707	 21708	 21784	 21785	 21850	 21851	 21912	 21913	 21945	 21984	 21985	 22045	 22046
	 22116	 22117	 22171	 22172	 22226	 22227	 22290	 22291	 22358	 22359	 22435	 22436	 22517	 22518
	 22604	 22605	 22691	 22692	 22742	 22743	 22787	 22788	 22860	 22861	 23977	 23978	 24236	 24237
	 24280	 24312	 24313	 24364	 24394	 24433	 24461	 24498	 24502	 24532	 24579	 24580	 24581	 24606
	 24642	 24676	 24725	 24777	 24817	 24841	 24905	 24952	 25039	 25040	 25041	 25067	 25098	 25099
	 25158	 25164	 25165	 25197	 25236	 25237	 25238	 25280	 25281	 25282	 25354	 25355	 25414	 25415
	 25416	 25456	 25472	 25473	 25474	 25513	 25522	 25523	 25524	 25556	 25557	 25568	 25569	 25580
	 25581	 25593	 25594	 25627	 25628	 25690	 25691	 25716	 25717	 25718	 25777	 25778	 25854	 25855
	 25898	 25899	 25928	 25934	 25941	 25982	 25983	 25984	 25985	 26041	 26042	 26043	 26044	 26045
	 26046	 26292	 26293	 26294	 26295	 26525	 26526	 26527	 26528	 26561	 26590	 26667	 26668	 26669
	 26670	 26671	 26687	 26726	 26731	 26882	 26883	 26938	 26939	 27004	 27005	 27006	 27007	 27042
	 27043	 27044	 27045	 27046	 27143	 27144	 27145	 27146	 27147	 27230	 27263	 27264	 27301	 27399
	 27400	 27404	 27443	 27487	 27490	 27534	 27536	 27818	 27819	 27820	 27920	 27968	 28000	 28032
	 28105	 28106	 28107	 28364	 28637	 28692	 28693	 28694	 28695	 28696	 28764	 28808	 28809	 28810
	 28853	 28854	 28855	 28895	 28896	 28926	 28982	 28983	 29037	 29038	 29039	 29119	 29131	 29132
	 29133	 29134	 29135	 29170	 29180	 29496	 29497	 29540	 29547	 29554	 29564	 29574	 29592	 29593
	 29603	 29620	 29627	 29637	 29649	 29656	 29663	 29736	 29737	 29738	 29739	 29740	 29741	 29742
	 29812	 29828	 29829	 29837	 29860	 29907	 29908	 29909	 29910	 29940	 29946	 30569#
GO	   362#	  1237	  1242	  1258	  1266	  1278	  1281	  1302	  1304	  1350	  1355	  1361	  1373	  1380
	  1382	  1385	  1458	  1460	  1464	  1466	  1469	  1506	  1567	  1569	  1574	  1576	  1579	  1580
	  1664	  1666	  1670	  1672	  1675	  1676	  1679	  1680	  1763	  1765	  1769	  1771	  1774	  1775
	  1777	  1778	  1780	  1783	  1784	  1856	  1858	  1862	  1864	  1867	  1868	  1871	  1872	  1875
	  1876	  1941	  1943	  1947	  1949	  1952	  1953	  1956	  1957	  1960	  1961	  2010	  2012	  2016
	  2018	  2021	  2022	  2024	  2027	  2028	  2104	  2106	  2110	  2112	  2115	  2116	  2119	  2120
	  2204	  2206	  2210	  2212	  2215	  2216	  2219	  2220	  2222	  2226	  2227	  2300	  2302	  2306     SEQ 0986
	  2307	  2310	  2311	  2314	  2315	  2318	  2319	  2386	  2388	  2392	  2394	  2397	  2398	  2401
	  2402	  2405	  2406	  2449	  2451	  2455	  2457	  2460	  2461	  2463	  2466	  2467	  2539	  2541
	  2545	  2547	  2550	  2551	  2554	  2555	  2636	  2638	  2642	  2644	  2647	  2648	  2651	  2652
	  2654	  2657	  2658	  2730	  2732	  2736	  2738	  2741	  2742	  2745	  2746	  2749	  2750	  2816
	  2818	  2822	  2824	  2827	  2828	  2831	  2832	  2835	  2836	  2876	  2878	  2882	  2884	  2887
	  2888	  2890	  2893	  2894	  2935	  2937	  2941	  2943	  2946	  2947	  2989	  2991	  2995	  2997
	  3000	  3001	  3044	  3046	  3050	  3052	  3055	  3056	  3095	  3097	  3101	  3103	  3106	  3107
	  3147	  3149	  3153	  3155	  3158	  3159	  3200	  3202	  3206	  3208	  3211	  3212	  3256	  3258
	  3262	  3264	  3267	  3268	  3311	  3313	  3317	  3319	  3322	  3323	  3363	  3365	  3369	  3371
	  3374	  3375	  3378	  3379	  3419	  3421	  3425	  3427	  3430	  3431	  3434	  3435	  3439	  3440
	  3483	  3485	  3492	  3494	  3498	  3499	  3502	  3503	  3522	  3527	  3568	  3570	  3577	  3579
	  3582	  3583	  3587	  3588	  3591	  3592	  3640	  3642	  3646	  3648	  3651	  3652	  3654	  3657
	  3658	  3697	  3699	  3703	  3705	  3708	  3709	  3749	  3751	  3755	  3758	  3761	  3762	  3765
	  3766	  3807	  3809	  3817	  3819	  3823	  3824	  3827	  3828	  3900	  3902	  3906	  3908	  3911
	  3912	  3913	  3973	  3975	  3979	  3981	  3985	  3986	  3989	  3990	  3991	  4029	  4031	  4035
	  4037	  4040	  4041	  4043	  4046	  4047	  4048	  4083	  4085	  4089	  4091	  4094	  4095	  4098
	  4099	  4102	  4103	  4104	  4139	  4183	  4185	  4192	  4194	  4197	  4198	  4199	  4202	  4203
	  4204	  4218	  4223	  4279	  4281	  4285	  4287	  4290	  4291	  4294	  4295	  4296	  4304	  4306
	  4309	  4310	  4313	  4314	  4317	  4318	  4319	  4327	  4329	  4332	  4333	  4336	  4337	  4340
	  4341	  4342	  4350	  4352	  4355	  4356	  4358	  4361	  4362	  4363	  4445	  4447	  4451	  4453
	  4456	  4457	  4458	  4508	  4510	  4514	  4516	  4519	  4520	  4523	  4524	  4525	  4570	  4572
	  4576	  4578	  4581	  4582	  4585	  4586	  4587	  4628	  4630	  4634	  4636	  4639	  4640	  4643
	  4644	  4645	  4680	  4682	  4686	  4688	  4691	  4692	  4695	  4696	  4699	  4700	  4701	  4735
	  4737	  4741	  4743	  4746	  4747	  4749	  4752	  4753	  4754	  4791	  4793	  4797	  4799	  4804
	  4805	  4808	  4809	  4810	  4864	  4866	  4870	  4872	  4875	  4876	  4877	  4943	  4945	  4949
	  4951	  4954	  4955	  4958	  4959	  4960	  4968	  4970	  4973	  4974	  4977	  4978	  4981	  4982
	  4983	  4991	  4993	  4996	  4997	  5000	  5001	  5004	  5005	  5006	  5014	  5016	  5019	  5020
	  5022	  5025	  5026	  5027	  5090	  5092	  5096	  5098	  5101	  5102	  5105	  5106	  5107	  5154
	  5156	  5160	  5163	  5164	  5167	  5168	  5171	  5172	  5173	  5182	  5184	  5187	  5188	  5191
	  5192	  5195	  5196	  5197	  5205	  5207	  5210	  5211	  5214	  5215	  5218	  5219	  5222	  5223
	  5224	  5233	  5235	  5238	  5239	  5242	  5243	  5245	  5248	  5249	  5250	  5321	  5323	  5327
	  5329	  5332	  5333	  5336	  5337	  5338	  5346	  5348	  5351	  5352	  5355	  5356	  5359	  5360
	  5361	  5369	  5371	  5374	  5375	  5378	  5379	  5382	  5383	  5384	  5458	  5460	  5464	  5466
	  5469	  5470	  5473	  5474	  5475	  5483	  5485	  5488	  5489	  5492	  5493	  5496	  5497	  5498
	  5506	  5508	  5511	  5512	  5515	  5516	  5519	  5520	  5521	  5570	  5572	  5576	  5578	  5581
	  5582	  5583	  5628	  5630	  5634	  5636	  5639	  5640	  5643	  5644	  5645	  5653	  5655	  5658
	  5659	  5662	  5663	  5666	  5667	  5668	  5676	  5678	  5681	  5682	  5685	  5686	  5689	  5690
	  5691	  5699	  5701	  5704	  5705	  5707	  5710	  5711	  5712	  5794	  5796	  5829	  5831	  5836
	  5837	  5843	  5844	  5847	  5848	  5851	  5852	  5853	  5864	  5875	  5925	  5927	  5931	  5933
	  5934	  5937	  5938	  5941	  5942	  5943	  5987	  5989	  5993	  5995	  5997	  6000	  6001	  6004
	  6005	  6006	  6052	  6054	  6058	  6060	  6062	  6066	  6067	  6070	  6071	  6072	  6124	  6126
	  6144	  6146	  6148	  6152	  6157	  6158	  6159	  6169	  6170	  6172	  6181	  6219	  6221	  6225
	  6227	  6230	  6231	  6234	  6235	  6236	  6277	  6285	  6327	  6329	  6333	  6335	  6338	  6339
	  6342	  6343	  6344	  6389	  6391	  6395	  6397	  6400	  6401	  6404	  6405	  6406	  6451	  6453
	  6457	  6459	  6462	  6463	  6466	  6467	  6468	  6514	  6516	  6520	  6522	  6525	  6526	  6529
	  6530	  6531	  6574	  6576	  6579	  6581	  6584	  6585	  6588	  6589	  6590	  6632	  6634	  6638
	  6639	  6642	  6643	  6646	  6647	  6648	  6689	  6691	  6695	  6697	  6700	  6701	  6704	  6705
	  6706	  6746	  6748	  6752	  6754	  6757	  6758	  6761	  6762	  6763	  6807	  6809	  6813	  6815
	  6818	  6819	  6822	  6823	  6824	  6867	  6869	  6873	  6875	  6878	  6879	  6882	  6883	  6884
	  6928	  6930	  6934	  6936	  6939	  6940	  6943	  6944	  6945	  6991	  6993	  6997	  6999	  7002
	  7003	  7006	  7007	  7008	  7017	  7019	  7022	  7023	  7026	  7027	  7030	  7031	  7032	  7040
	  7042	  7045	  7046	  7049	  7050	  7053	  7054	  7055	  7064	  7066	  7069	  7070	  7072	  7075
	  7076	  7077	  7122	  7124	  7131	  7133	  7137	  7138	  7141	  7142	  7143	  7187	  7189	  7196     SEQ 0987
	  7198	  7201	  7202	  7206	  7207	  7210	  7211	  7212	  7253	  7290	  7292	  7296	  7298	  7304
	  7305	  7308	  7309	  7310	  7319	  7321	  7324	  7325	  7328	  7329	  7332	  7333	  7334	  7342
	  7344	  7347	  7348	  7354	  7355	  7358	  7359	  7360	  7369	  7371	  7377	  7378	  7380	  7383
	  7384	  7385	  7430	  7432	  7439	  7441	  7445	  7446	  7449	  7450	  7451	  7499	  7501	  7515
	  7517	  7520	  7521	  7525	  7526	  7529	  7530	  7531	  7565	  7595	  7597	  7601	  7603	  7606
	  7607	  7610	  7611	  7612	  7621	  7623	  7626	  7627	  7630	  7631	  7634	  7635	  7636	  7643
	  7645	  7648	  7649	  7652	  7653	  7656	  7657	  7658	  7700	  7702	  7709	  7711	  7714	  7715
	  7719	  7720	  7723	  7724	  7725	  7768	  7770	  7777	  7779	  7782	  7783	  7787	  7788	  7791
	  7792	  7793	  7834	  7868	  7870	  7874	  7876	  7882	  7883	  7886	  7887	  7888	  7897	  7899
	  7902	  7903	  7906	  7907	  7910	  7911	  7912	  7920	  7922	  7928	  7929	  7932	  7933	  7936
	  7937	  7938	  7980	  7982	  7989	  7991	  7994	  7995	  7999	  8000	  8003	  8004	  8005	  8052
	  8054	  8068	  8070	  8073	  8074	  8078	  8079	  8082	  8083	  8084	  8118	  8147	  8149	  8153
	  8155	  8158	  8159	  8162	  8163	  8164	  8202	  8204	  8208	  8210	  8213	  8214	  8217	  8218
	  8219	  8259	  8261	  8265	  8267	  8270	  8271	  8274	  8275	  8276	  8314	  8316	  8320	  8322
	  8325	  8326	  8329	  8330	  8331	  8369	  8371	  8375	  8377	  8380	  8381	  8418	  8420	  8424
	  8426	  8429	  8430	  8433	  8434	  8435	  8474	  8476	  8480	  8482	  8485	  8486	  8489	  8490
	  8493	  8494	  8497	  8498	  8499	  8537	  8539	  8543	  8545	  8548	  8549	  8552	  8553	  8554
	  8592	  8594	  8598	  8600	  8603	  8604	  8607	  8608	  8609	  8647	  8649	  8653	  8655	  8658
	  8659	  8662	  8663	  8664	  8702	  8704	  8708	  8710	  8713	  8714	  8717	  8718	  8719	  8757
	  8759	  8763	  8765	  8768	  8769	  8772	  8773	  8774	  8812	  8814	  8818	  8820	  8823	  8824
	  8827	  8828	  8829	  8866	  8868	  8872	  8873	  8876	  8877	  8880	  8881	  8884	  8885	  8886
	  8927	  8929	  8933	  8935	  8938	  8939	  8942	  8943	  8944	  8953	  8955	  8958	  8959	  8962
	  8963	  8966	  8967	  8968	  8976	  8978	  8981	  8982	  8985	  8986	  8989	  8990	  8991	  9000
	  9002	  9005	  9006	  9008	  9011	  9012	  9013	  9057	  9059	  9066	  9068	  9072	  9073	  9076
	  9077	  9078	  9122	  9124	  9131	  9133	  9136	  9137	  9141	  9142	  9145	  9146	  9147	  9189
	  9223	  9225	  9229	  9231	  9234	  9235	  9236	  9257	  9258	  9259	  9263	  9264	  9265	  9269
	  9270	  9271	  9281	  9283	  9285	  9287	  9314	  9316	  9320	  9322	  9325	  9326	  9329	  9330
	  9333	  9334	  9337	  9338	  9339	  9377	  9379	  9386	  9388	  9392	  9393	  9396	  9397	  9398
	  9402	  9403	  9404	  9421	  9423	  9458	  9460	  9467	  9469	  9473	  9474	  9477	  9478	  9479
	  9483	  9484	  9485	  9528	  9530	  9537	  9539	  9543	  9544	  9547	  9548	  9549	  9553	  9554
	  9555	  9598	  9600	  9604	  9606	  9609	  9610	  9611	  9615	  9616	  9617	  9628	  9630	  9678
	  9680	  9684	  9686	  9689	  9690	  9691	  9701	  9704	  9707	  9708	  9710	  9713	  9721	  9731
	  9733	  9750	  9751	  9752	  9756	  9757	  9758	  9762	  9763	  9764	  9768	  9769	  9770	  9779
	  9781	  9783	  9785	  9787	  9832	  9834	  9838	  9840	  9843	  9844	  9845	  9855	  9858	  9862
	  9869	  9871	  9880	  9885	  9890	  9892	  9894	  9899	  9906	  9908	  9918	  9921	  9926	  9928
	  9933	  9985	  9989	  9995	  9996	  9998	 10000	 10003	 10004	 10007	 10008	 10009	 10019	 10021
	 10023	 10026	 10027	 10029	 10040	 10042	 10044	 10047	 10048	 10050	 10052	 10054	 10057	 10058
	 10059	 10065	 10070	 10072	 10074	 10077	 10078	 10080	 10081	 10083	 10085	 10088	 10089	 10090
	 10142	 10146	 10150	 10151	 10153	 10155	 10158	 10159	 10163	 10164	 10167	 10168	 10169	 10172
	 10173	 10174	 10224	 10228	 10232	 10233	 10235	 10237	 10240	 10241	 10243	 10301	 10303	 10307
	 10309	 10312	 10313	 10317	 10318	 10321	 10322	 10323	 10368	 10370	 10373	 10375	 10377	 10379
	 10382	 10383	 10384	 10390	 10391	 10392	 10438	 10440	 10444	 10446	 10448	 10450	 10453	 10454
	 10457	 10458	 10459	 10471	 10472	 10473	 10478	 10479	 10517	 10519	 10523	 10525	 10527	 10529
	 10532	 10533	 10535	 10538	 10539	 10540	 10577	 10579	 10583	 10585	 10587	 10589	 10592	 10593
	 10596	 10597	 10598	 10602	 10603	 10604	 10617	 10619	 10653	 10655	 10662	 10664	 10667	 10668
	 10672	 10673	 10676	 10677	 10678	 10697	 10701	 10740	 10742	 10746	 10748	 10750	 10752	 10755
	 10756	 10758	 10767	 10769	 10771	 10772	 10775	 10776	 10777	 10786	 10788	 10790	 10792	 10795
	 10796	 10798	 10811	 10812	 10813	 10817	 10818	 10819	 10828	 10830	 10870	 10872	 10876	 10878
	 10881	 10882	 10885	 10886	 10889	 10890	 10891	 10928	 10930	 10934	 10936	 10939	 10940	 10943
	 10944	 10947	 10948	 10949	 10988	 10990	 10994	 10996	 10999	 11000	 11003	 11004	 11007	 11008
	 11009	 11049	 11051	 11055	 11057	 11060	 11061	 11064	 11065	 11066	 11112	 11114	 11122	 11124
	 11128	 11129	 11132	 11133	 11134	 11138	 11139	 11140	 11165	 11167	 11214	 11216	 11220	 11222
	 11225	 11226	 11227	 11264	 11266	 11270	 11272	 11275	 11276	 11277	 11318	 11320	 11324	 11326     SEQ 0988
	 11329	 11330	 11331	 11371	 11373	 11377	 11379	 11382	 11383	 11384	 11425	 11427	 11431	 11433
	 11436	 11437	 11438	 11479	 11481	 11485	 11487	 11490	 11491	 11492	 11540	 11542	 11546	 11548
	 11550	 11552	 11554	 11557	 11559	 11562	 11565	 11566	 11567	 11610	 11612	 11619	 11621	 11623
	 11625	 11627	 11630	 11633	 11634	 11635	 11646	 11653	 11656	 11659	 11661	 11698	 11700	 11708
	 11710	 11712	 11714	 11716	 11719	 11722	 11723	 11724	 11760	 11762	 11770	 11772	 11774	 11776
	 11778	 11781	 11784	 11785	 11786	 11822	 11824	 11832	 11834	 11836	 11838	 11840	 11843	 11846
	 11847	 11848	 11884	 11886	 11894	 11896	 11898	 11900	 11902	 11905	 11908	 11909	 11910	 11946
	 11948	 11956	 11958	 11960	 11962	 11964	 11967	 11970	 11971	 11972	 12008	 12010	 12018	 12020
	 12022	 12024	 12026	 12029	 12032	 12033	 12034	 12070	 12072	 12080	 12082	 12084	 12086	 12088
	 12091	 12093	 12094	 12095	 12131	 12133	 12141	 12143	 12145	 12147	 12149	 12152	 12155	 12156
	 12157	 12193	 12195	 12203	 12205	 12207	 12209	 12211	 12214	 12217	 12218	 12219	 12258	 12260
	 12264	 12266	 12268	 12270	 12272	 12275	 12277	 12280	 12281	 12282	 12328	 12330	 12334	 12336
	 12338	 12340	 12342	 12345	 12347	 12350	 12353	 12354	 12355	 12400	 12402	 12406	 12408	 12410
	 12412	 12414	 12417	 12419	 12422	 12423	 12424	 12468	 12470	 12478	 12480	 12482	 12484	 12486
	 12489	 12492	 12493	 12494	 12534	 12536	 12544	 12546	 12548	 12550	 12552	 12555	 12558	 12559
	 12560	 12596	 12598	 12607	 12609	 12611	 12613	 12615	 12618	 12621	 12622	 12623	 12659	 12661
	 12669	 12671	 12673	 12675	 12677	 12680	 12683	 12684	 12685	 12721	 12723	 12731	 12733	 12735
	 12737	 12739	 12742	 12745	 12746	 12747	 12783	 12785	 12794	 12796	 12798	 12800	 12802	 12805
	 12808	 12809	 12810	 12846	 12848	 12856	 12858	 12860	 12862	 12864	 12867	 12870	 12871	 12872
	 12908	 12910	 12918	 12920	 12922	 12924	 12926	 12929	 12932	 12933	 12934	 12971	 12973	 12977
	 12979	 12981	 12983	 12985	 12988	 12990	 12993	 12994	 12995	 13038	 13040	 13044	 13046	 13048
	 13050	 13052	 13055	 13057	 13060	 13061	 13062	 13089	 13132	 13134	 13138	 13140	 13142	 13144
	 13146	 13148	 13152	 13153	 13154	 13208	 13210	 13214	 13216	 13218	 13220	 13225	 13226	 13227
	 13281	 13283	 13291	 13293	 13295	 13298	 13299	 13302	 13303	 13304	 13309	 13310	 13314	 13315
	 13318	 13319	 13320	 13324	 13325	 13326	 13330	 13331	 13332	 13352	 13360	 13362	 13364	 13373
	 13375	 13377	 13429	 13431	 13437	 13439	 13441	 13444	 13445	 13449	 13450	 13453	 13454	 13457
	 13458	 13459	 13506	 13508	 13514	 13516	 13518	 13521	 13522	 13526	 13527	 13530	 13531	 13534
	 13535	 13536	 13580	 13582	 13589	 13591	 13593	 13596	 13597	 13602	 13603	 13606	 13607	 13610
	 13611	 13612	 13656	 13658	 13664	 13666	 13668	 13671	 13672	 13677	 13678	 13681	 13682	 13685
	 13686	 13687	 13732	 13734	 13741	 13743	 13745	 13747	 13750	 13751	 13755	 13756	 13759	 13760
	 13763	 13764	 13765	 13811	 13813	 13819	 13821	 13823	 13825	 13828	 13829	 13832	 13833	 13836
	 13837	 13840	 13841	 13842	 13887	 13889	 13896	 13898	 13900	 13902	 13905	 13906	 13910	 13911
	 13914	 13915	 13918	 13919	 13920	 13966	 13968	 13974	 13976	 13978	 13980	 13983	 13984	 13988
	 13989	 13992	 13993	 13996	 13997	 13998	 14046	 14048	 14052	 14054	 14056	 14059	 14060	 14063
	 14064	 14066	 14068	 14072	 14073	 14076	 14077	 14080	 14082	 14085	 14106	 14159	 14161	 14168
	 14170	 14172	 14175	 14176	 14179	 14180	 14183	 14184	 14186	 14188	 14192	 14193	 14196	 14197
	 14199	 14201	 14295	 14297	 14304	 14306	 14308	 14312	 14313	 14316	 14317	 14319	 14321	 14324
	 14325	 14327	 14387	 14389	 14395	 14397	 14400	 14401	 14403	 14408	 14409	 14410	 14459	 14461
	 14469	 14471	 14473	 14477	 14478	 14481	 14482	 14484	 14486	 14489	 14537	 14538	 14545	 14547
	 14549	 14552	 14553	 14557	 14558	 14561	 14562	 14564	 14566	 14570	 14571	 14574	 14575	 14577
	 14660	 14662	 14668	 14670	 14672	 14677	 14680	 14745	 14747	 14753	 14755	 14757	 14761	 14767
	 14770	 14771	 14774	 14775	 14777	 14784	 14785	 14786	 14803	 14807	 14809	 14836	 14838	 14841
	 14842	 14843	 14932	 14934	 14943	 14945	 14947	 14952	 14955	 14963	 14966	 14988	 14990	 14992
	 14997	 15002	 15005	 15013	 15016	 15037	 15039	 15041	 15052	 15054	 15056	 15061	 15103	 15105
	 15111	 15113	 15115	 15118	 15119	 15121	 15183	 15185	 15191	 15193	 15195	 15199	 15202	 15203
	 15206	 15207	 15208	 15209	 15211	 15220	 15222	 15224	 15276	 15278	 15284	 15286	 15288	 15292
	 15295	 15296	 15299	 15300	 15303	 15304	 15306	 15362	 15364	 15370	 15372	 15373	 15377	 15380
	 15381	 15384	 15385	 15388	 15389	 15391	 15449	 15451	 15457	 15459	 15461	 15466	 15467	 15469
	 15472	 15473	 15475	 15544	 15546	 15552	 15554	 15556	 15560	 15561	 15564	 15565	 15567	 15570
	 15571	 15573	 15624	 15626	 15632	 15634	 15636	 15640	 15641	 15644	 15645	 15648	 15649	 15651
	 15688	 15690	 15696	 15698	 15700	 15705	 15708	 15780	 15785	 15791	 15793	 15795	 15802	 15804
	 15807	 15808	 15812	 15813	 15818	 15819	 15820	 15829	 15830	 15832	 15836	 15837	 15838	 15843
	 15878	 15880	 15882	 15884	 15893	 15897	 15901	 15902	 15945	 15950	 15955	 15957	 15959	 15962     SEQ 0989
	 15970	 15972	 15978	 15988	 15992	 15994	 15996	 15999	 16056	 16061	 16067	 16069	 16071	 16075
	 16076	 16080	 16083	 16084	 16085	 16091	 16107	 16110	 16113	 16123	 16125	 16127	 16129	 16134
	 16136	 16150	 16152	 16223	 16225	 16231	 16233	 16235	 16239	 16240	 16243	 16244	 16248	 16301
	 16303	 16309	 16311	 16313	 16317	 16318	 16321	 16323	 16326	 16327	 16329	 16332	 16386	 16388
	 16400	 16402	 16404	 16408	 16409	 16412	 16419	 16421	 16423	 16507	 16509	 16515	 16517	 16519
	 16523	 16524	 16527	 16531	 16534	 16587	 16589	 16593	 16595	 16598	 16599	 16602	 16603	 16604
	 16646	 16648	 16653	 16655	 16658	 16659	 16661	 16664	 16707	 16709	 16713	 16715	 16718	 16719
	 16721	 16724	 16727	 16728	 16729	 16770	 16772	 16778	 16780	 16784	 16785	 16787	 16834	 16836
	 16842	 16844	 16846	 16856	 16857	 16859	 16871	 16872	 16873	 16923	 16925	 16929	 16931	 16934
	 16935	 16938	 16939	 16940	 16962	 16986	 16988	 16991	 17035	 17037	 17041	 17043	 17046	 17047
	 17049	 17053	 17054	 17055	 17102	 17104	 17110	 17112	 17114	 17117	 17120	 17123	 17166	 17168
	 17174	 17176	 17178	 17181	 17185	 17188	 17232	 17234	 17240	 17242	 17244	 17248	 17249	 17252
	 17253	 17256	 17257	 17259	 17301	 17303	 17309	 17311	 17313	 17317	 17318	 17321	 17322	 17324
	 17375	 17377	 17384	 17386	 17388	 17391	 17393	 17395	 17404	 17405	 17408	 17409	 17413	 17414
	 17422	 17427	 17429	 17499	 17501	 17503	 17505	 17507	 17510	 17513	 17515	 17517	 17519	 17521
	 17526	 17528	 17534	 17537	 17538	 17539	 17549	 17552	 17553	 17554	 17566	 17584	 17687	 17689
	 17693	 17695	 17697	 17700	 17704	 17706	 17708	 17710	 17715	 17718	 17726	 17745	 17762	 17781
	 17797	 17815	 17816	 17817	 17829	 17843	 17844	 17845	 17849	 17912	 17973	 17975	 17979	 17981
	 17983	 17987	 17991	 17993	 17995	 18000	 18002	 18008	 18013	 18027	 18032	 18095	 18097	 18099
	 18101	 18103	 18106	 18110	 18112	 18114	 18116	 18121	 18123	 18129	 18137	 18140	 18153	 18176
	 18216	 18218	 18222	 18224	 18226	 18229	 18233	 18235	 18237	 18239	 18244	 18246	 18252	 18261
	 18265	 18269	 18270	 18271	 18282	 18315	 18356	 18358	 18362	 18364	 18366	 18369	 18372	 18374
	 18376	 18378	 18383	 18385	 18402	 18405	 18415	 18419	 18429	 18433	 18443	 18447	 18457	 18461
	 18471	 18474	 18484	 18487	 18497	 18501	 18504	 18517	 18518	 18519	 18525	 18526	 18527	 18546
	 18551	 18555	 18564	 18568	 18615	 18617	 18621	 18623	 18625	 18628	 18631	 18633	 18635	 18637
	 18642	 18644	 18648	 18653	 18654	 18655	 18659	 18704	 18706	 18708	 18710	 18712	 18717	 18719
	 18721	 18723	 18728	 18730	 18736	 18742	 18748	 18754	 18756	 18808	 18810	 18812	 18814	 18817
	 18818	 18820	 18825	 18827	 18830	 18831	 18833	 18835	 18840	 18842	 18848	 18854	 18859	 18866
	 18870	 18871	 18921	 18923	 18925	 18927	 18930	 18931	 18933	 18938	 18940	 18943	 18944	 18946
	 18948	 18953	 18955	 18961	 18967	 18973	 18978	 18982	 18983	 19035	 19037	 19039	 19041	 19043
	 19048	 19050	 19053	 19054	 19056	 19058	 19063	 19066	 19072	 19078	 19084	 19089	 19093	 19094
	 19147	 19149	 19151	 19153	 19155	 19160	 19162	 19165	 19166	 19168	 19173	 19175	 19181	 19187
	 19193	 19198	 19202	 19204	 19248	 19250	 19252	 19254	 19256	 19261	 19263	 19265	 19267	 19272
	 19274	 19279	 19283	 19284	 19333	 19335	 19337	 19339	 19341	 19346	 19348	 19350	 19352	 19354
	 19361	 19363	 19369	 19373	 19376	 19380	 19383	 19384	 19385	 19397	 19400	 19407	 19410	 19430
	 19433	 19453	 19456	 19480	 19483	 19497	 19552	 19554	 19556	 19558	 19560	 19565	 19567	 19569
	 19571	 19573	 19580	 19582	 19588	 19592	 19595	 19599	 19602	 19603	 19604	 19618	 19621	 19630
	 19633	 19636	 19659	 19662	 19665	 19678	 19721	 19723	 19728	 19730	 19733	 19734	 19736	 19772
	 19774	 19780	 19782	 19785	 19786	 19788	 19791	 19832	 19834	 19836	 19838	 19840	 19843	 19846
	 19848	 19850	 19852	 19857	 19859	 19866	 19871	 19877	 19936	 19938	 19941	 19943	 19946	 19948
	 19950	 19952	 19956	 19957	 19962	 19965	 19968	 19981	 20084	 20086	 20088	 20090	 20092	 20095
	 20099	 20101	 20104	 20105	 20112	 20115	 20118	 20121	 20153	 20155	 20200	 20202	 20204	 20206
	 20208	 20211	 20215	 20217	 20219	 20223	 20224	 20230	 20233	 20236	 20239	 20279	 20282	 20286
	 20287	 20288	 20380	 20382	 20384	 20386	 20388	 20391	 20393	 20395	 20399	 20400	 20406	 20409
	 20412	 20414	 20493	 20495	 20497	 20499	 20501	 20504	 20506	 20508	 20512	 20513	 20519	 20522
	 20525	 20528	 20592	 20594	 20596	 20598	 20600	 20603	 20606	 20608	 20611	 20612	 20617	 20620
	 20623	 20626	 20640	 20642	 20647	 20650	 20652	 20655	 20699	 20701	 20703	 20705	 20707	 20712
	 20714	 20717	 20718	 20720	 20727	 20730	 20733	 20736	 20750	 20752	 20755	 20756	 20761	 20764
	 20767	 20770	 20811	 20812	 20879	 20881	 20883	 20885	 20887	 20892	 20894	 20896	 20900	 20901
	 20907	 20910	 20913	 20916	 20930	 20932	 20937	 20940	 20943	 20946	 20984	 20987	 20991	 20992
	 20993	 21032	 21034	 21036	 21038	 21040	 21043	 21046	 21048	 21051	 21052	 21057	 21060	 21063
	 21066	 21078	 21080	 21085	 21088	 21091	 21094	 21108	 21110	 21115	 21118	 21121	 21124	 21182
	 21184	 21188	 21190	 21192	 21195	 21198	 21200	 21202	 21204	 21209	 21211	 21228	 21231	 21241     SEQ 0990
	 21245	 21255	 21259	 21269	 21273	 21283	 21287	 21297	 21300	 21310	 21313	 21323	 21327	 21331
	 21377	 21382	 21386	 21389	 21391	 21394	 21395	 21402	 21407	 21410	 21419	 21421	 21422	 21423
	 21430	 21435	 21438	 21446	 21447	 21454	 21459	 21462	 21473	 21475	 21538	 21546	 21547	 21560
	 21561	 21617	 21624	 21625	 21626	 21627	 21628	 21637	 21638	 21648	 21649	 21706	 21713	 21714
	 21715	 21716	 21717	 21727	 21728	 21729	 21783	 21788	 21789	 21790	 21799	 21800	 21849	 21854
	 21855	 21856	 21865	 21866	 21911	 21918	 21919	 21920	 21922	 21923	 21924	 21925	 21983	 21990
	 21991	 21992	 21996	 21997	 21998	 22000	 22044	 22049	 22050	 22051	 22052	 22061	 22062	 22066
	 22067	 22115	 22120	 22121	 22122	 22125	 22126	 22127	 22170	 22175	 22176	 22177	 22181	 22182
	 22183	 22225	 22230	 22231	 22232	 22233	 22236	 22237	 22238	 22240	 22242	 22289	 22294	 22295
	 22296	 22297	 22298	 22302	 22303	 22304	 22306	 22308	 22357	 22362	 22363	 22364	 22367	 22368
	 22369	 22371	 22372	 22373	 22374	 22434	 22439	 22440	 22441	 22445	 22446	 22447	 22449	 22450
	 22452	 22453	 22464	 22516	 22521	 22522	 22523	 22524	 22528	 22529	 22530	 22533	 22534	 22535
	 22546	 22550	 22603	 22608	 22609	 22610	 22611	 22614	 22615	 22616	 22619	 22620	 22622	 22633
	 22637	 22690	 22695	 22696	 22697	 22698	 22701	 22702	 22703	 22706	 22707	 22708	 22714	 22715
	 22719	 22720	 22740	 22741	 22786	 22791	 22792	 22793	 22794	 22798	 22799	 22800	 22803	 22804
	 22805	 22811	 22812	 22816	 22817	 22859	 22864	 22865	 22866	 22868	 22870	 22872	 22875	 22876
	 22877	 22878	 22921	 22923	 22928	 22930	 22935	 22937	 22985	 22987	 22992	 22994	 23000	 23002
	 23051	 23053	 23058	 23060	 23065	 23067	 23115	 23117	 23120	 23123	 23126	 23137	 23138	 23139
	 23158	 23159	 23161	 23171	 23172	 23173	 23248	 23250	 23253	 23256	 23274	 23277	 23280	 23282
	 23294	 23305	 23365	 23367	 23370	 23375	 23379	 23398	 23450	 23452	 23455	 23460	 23465	 23469
	 23479	 23526	 23528	 23532	 23535	 23544	 23559	 23564	 23567	 23580	 23582	 23585	 23711	 23730
	 23737	 23744	 23753	 23756	 23764	 23766	 23773	 23777	 23788	 23792	 23793	 23798	 23799	 23800
	 23803	 23835	 23837	 23840	 23846	 23869	 23879	 23880	 23884	 23889	 23890	 23891	 23917	 23924
	 23925	 23926	 23932	 23957	 23960	 23963	 23976	 24055	 24056	 24083	 24085	 24086	 24087	 24088
	 24102	 24103	 24105	 24106	 24109	 24111	 24112	 24114	 24115	 24117	 24118	 24120	 24121	 24139
	 24143	 24144	 24149	 24150	 24151	 24153	 24155	 24160	 24161	 24165	 24182	 24183	 24185	 24191
	 24228	 24230	 24231	 24240	 24242	 24246	 24271	 24276	 24278	 24279	 24304	 24306	 24307	 24316
	 24318	 24323	 24348	 24350	 24351	 24356	 24357	 24359	 24360	 24361	 24390	 24397	 24399	 24403
	 24431	 24432	 24457	 24458	 24460	 24486	 24487	 24488	 24495	 24496	 24500	 24501	 24526	 24527
	 24530	 24531	 24559	 24560	 24561	 24570	 24571	 24575	 24576	 24603	 24605	 24633	 24634	 24635
	 24639	 24640	 24668	 24669	 24670	 24674	 24675	 24704	 24705	 24707	 24708	 24710	 24715	 24716
	 24717	 24754	 24755	 24759	 24760	 24763	 24767	 24768	 24769	 24809	 24810	 24811	 24819	 24820
	 24824	 24825	 24828	 24831	 24832	 24833	 24872	 24873	 24881	 24882	 24886	 24887	 24890	 24894
	 24895	 24896	 24933	 24934	 24937	 24941	 24942	 24943	 24995	 25004	 25009	 25017	 25021	 25022
	 25027	 25028	 25033	 25034	 25066	 25093	 25097	 25135	 25136	 25137	 25150	 25151	 25152	 25157
	 25161	 25347	 25348	 25351	 25352	 25390	 25391	 25394	 25395	 25396	 25402	 25403	 25454	 25455
	 25458	 25459	 25462	 25463	 25468	 25511	 25512	 25515	 25516	 25519	 25520	 25552	 25553	 25554
	 25565	 25566	 25576	 25577	 25578	 25589	 25590	 25591	 25626	 25664	 25669	 25673	 25678	 25682
	 25687	 25705	 25748	 25754	 25755	 25756	 25758	 25762	 25768	 25769	 25770	 25772	 25776	 25810
	 25811	 25812	 25820	 25821	 25822	 25831	 25832	 25833	 25843	 25844	 25845	 25892	 25927	 25933
	 25940	 25976	 26023	 26027	 26038	 26559	 26589	 26801	 26804	 26809	 26810	 26818	 26828	 26832
	 26834	 26836	 26846	 26852	 26854	 26862	 26865	 26873	 26876	 26877	 26878	 26880	 26981	 26985
	 27201	 27228	 27439	 27441	 27486	 27489	 27533	 27535	 27576	 27579	 27584	 27631	 27689	 27691
	 27697	 27716	 27720	 27721	 27722	 27732	 27733	 27734	 27745	 27748	 27752	 27756	 27770	 27774
	 27779	 27782	 27785	 27787	 27790	 27799	 27800	 27801	 27802	 27803	 27804	 27805	 27806	 27807
	 27808	 27809	 27810	 27811	 27812	 27813	 27814	 27815	 27816	 27817	 27826	 27827	 27835	 27853
	 27886	 28076	 28079	 28082	 28083	 28084	 28088	 28089	 28090	 28093	 28097	 28101	 28127	 28534
	 28575	 28586	 28594	 28600	 28616	 28636	 28643	 28644	 28683	 28723	 28752	 28756	 28762	 28763
	 28957	 28958	 28972	 28980	 28981	 29017	 29018	 29032	 29035	 29036	 29107	 29113	 29118	 29122
	 29126	 29127	 29128	 29130	 29144	 29147	 29152	 29154	 29156	 29165	 29169	 29179	 29188	 29560
	 29563	 29570	 29573	 29599	 29602	 29618	 29636	 29655	 29727	 29733	 29748	 29755	 29756	 29757
	 29859	 29862	 30570#
HALT	    81	    82	    83	    84	    85	   367#	   630                                                             SEQ 0991
JEN	   369#	 26673
JRSTF	   368#
MAPADR	   504#
MAPCNK	   505#
MAPMEM	   501#
MAPPNT	   507#
MAPSET	   506#
MEMSEG	   503#
MEMZRO	   502#
MODPCP	   514#
MODPCU	   513#
MTROP	   482#
NAME	     8#	     8
NEWTST	   179#	  1311	  1415	  1488	  1513	  1607	  1701	  1806	  1897	  1981	  2047	  2142	  2249	  2340
	  2427	  2485	  2575	  2680	  2770	  2855	  2911	  2966	  3022	  3073	  3124	  3179	  3231	  3288
	  3341	  3396	  3458	  3544	  3618	  3675	  3727	  3784	  3859	  3936	  4009	  4063	  4119	  4147
	  4237	  4390	  4478	  4542	  4605	  4660	  4716	  4769	  4828	  4895	  5052	  5126	  5273	  5408
	  5545	  5604	  5735	  5888	  5960	  6023	  6089	  6194	  6256	  6304	  6366	  6429	  6489	  6554
	  6610	  6667	  6724	  6785	  6845	  6905	  6965	  7101	  7165	  7235	  7261	  7408	  7477	  7547
	  7572	  7678	  7747	  7816	  7842	  7958	  8030	  8100	  8126	  8181	  8238	  8293	  8348	  8398
	  8452	  8516	  8571	  8626	  8681	  8736	  8791	  8845	  8902	  9035	  9100	  9171	  9197	  9292
	  9355	  9435	  9508	  9578	  9643	  9805	  9955	 10116	 10203	 10271	 10340	 10412	 10491	 10555
	 10632	 10713	 10850	 10907	 10966	 11027	 11083	 11193	 11243	 11294	 11348	 11403	 11458	 11512
	 11584	 11672	 11734	 11796	 11858	 11920	 11982	 12044	 12105	 12167	 12229	 12299	 12372	 12440
	 12504	 12570	 12633	 12695	 12757	 12820	 12882	 12944	 13011	 13071	 13097	 13178	 13251	 13400
	 13476	 13552	 13628	 13702	 13782	 13858	 13937	 14015	 14124	 14259	 14357	 14426	 14514	 14625
	 14706	 14872	 15080	 15150	 15247	 15334	 15408	 15513	 15594	 15665	 15738	 15918	 16029	 16187
	 16271	 16348	 16467	 16560	 16621	 16682	 16745	 16804	 16884	 17006	 17075	 17139	 17204	 17275
	 17342	 17465	 17654	 17944	 18067	 18192	 18295	 18320	 18589	 18672	 18780	 18891	 19003	 19115
	 19224	 19304	 19525	 19697	 19752	 19809	 19911	 20058	 20177	 20356	 20468	 20568	 20678	 20854
	 21008	 21146	 21347	 21513	 21586	 21679	 21752	 21818	 21884	 21956	 22020	 22088	 22143	 22199
	 22261	 22327	 22404	 22486	 22573	 22660	 22756	 22834	 22901	 22964	 23029	 23093	 23221	 23343
	 23427	 23503	 23610
PBELL	   457#
PCRL	   451#	 15883	 17916	 17927	 17938	 18062	 18185	 18186	 18573	 19897	 19898	 20156	 21943	 23990
	 25704	 25715	 26274	 26504	 27746	 27749	 27759	 27769	 27775	 27793	 28331	 28363
PCRL2	   455#
PCRL2F	   456#	  9705
PCRLF	   452#	  1282	  1410	 26644	 26660	 26704	 26717	 26881	 27064	 27288	 27299	 27606	 27607	 27644
	 27919	 28102
PFORCE	   459#	  9860	  9883	  9897	  9931	 15986	 23742	 23751	 24244	 24321	 27881	 27999
PGMINT	   375#	  1236
PJRST	   366#	 26585	 26591
PMSG	   461#	 26248	 26262	 26266	 26270	 26453	 26475	 26492	 26496	 26500	 26640	 26656	 26664	 26814
	 26895	 26899	 26905	 26918	 26922	 26929
PMSGF	   464#	 26634	 26636	 26650	 26652	 26690	 26692	 26699	 26708	 26713	 26724	 26729	 26816	 26824
	 26826	 26842	 26844	 26858	 26860	 26869	 26871	 27038	 27304	 27308
PNT1	   417#	  6175	  6178	 18550	 18554	 18559	 18563	 18567	 18572	 26265	 26495	 28729	 28758	 29495
	 29539
PNT11	   431#
PNT11F	   432#
PNT1F	   418#	  1366	 27998
PNT2	   419#	  4221	  5867	  5870	 10700	 11649	 15892	 15896	 21942                                             SEQ 0992
PNT2F	   420#
PNT3	   421#	 16870	 17915	 17926
PNT3F	   422#	 27295	 27391	 27605	 27643	 28029
PNT4	   423#	 29662
PNT4F	   424#
PNT5	   425#	 29589
PNT5F	   426#
PNT6	   427#	  3526	 17937	 18061	 18180	 18184	 25156	 25714	 26269	 26273	 26499	 26503	 27477	 27527
	 28733	 28736	 28745	 29115	 29125	 29546	 29553	 29626
PNT6F	   428#	 27298	 27394
PNT7	   429#
PNT7F	   430#
PNTA	   403#
PNTADF	   434#
PNTADR	   433#
PNTAF	   404#	 28648
PNTAL	   405#	 28132	 29591	 29836	 29939
PNTALF	   406#	 29945
PNTCHF	   416#
PNTCHR	   415#	 29811	 29826	 29905
PNTCI	   413#	 26257	 26261	 26487	 26491	 29033
PNTCIF	   414#
PNTCW	   449#
PNTCWF	   450#
PNTDCF	   442#
PNTDEC	   441#	 24108	 29611	 29613	 29615	 29617	 29858
PNTDS	   443#
PNTDSF	   444#
PNTHW	   437#	 19892	 19896	 20806	 20810	 28740	 28761	 28966	 28970	 29027
PNTHWF	   438#	 26643	 26659	 26711	 26716
PNTMSF	   410#
PNTMSG	   409#
PNTNM	   445#
PNTOCF	   440#	  1369	 26697	 26703	 27059
PNTOCS	   439#	 26260	 26490	 28726	 28755	 28976	 28979	 29648
PNTOCT	   435#
PNTOTF	   436#	 26639	 26655
PNTSIX	   446#	 25710	 26255	 26485	 28721	 28750	 29143	 29492	 29749
PNTSXF	   447#	 27293	 27389	 27641	 28027
PSIXL	   407#
PSIXLF	   408#
PSIXM	   411#	 26249	 26263	 26267	 26271	 26454	 26476	 26493	 26497	 26501	 26641	 26657	 26665	 26815
	 26896	 26900	 26906	 26919	 26923	 26930
PSIXMF	   412#	 26635	 26637	 26651	 26653	 26691	 26693	 26700	 26709	 26714	 26725	 26730	 26817	 26825
	 26827	 26843	 26845	 26859	 26861	 26870	 26872	 27039	 27305	 27309
PSP	   453#	 26256	 26486
PSPF	   454#
PUT	   364#	  3523	  4217	  6284	  9254	  9279	  9420	  9748	  9777	 10469	 10615	 10696	 10809	 10826
	 11163	 11645	 13358	 15049	 15839	 15876	 15888	 16953	 16954	 16959	 16979	 16980	 17907	 17922
	 17933	 18057	 18172	 18512	 18513	 18542	 19888	 20149	 20275	 20802	 20980	 21536	 21537	 21615
	 21616	 21704	 21705	 21781	 21782	 21847	 21848	 21909	 21910	 21938	 21981	 21982	 22042	 22043
	 22113	 22114	 22168	 22169	 22223	 22224	 22287	 22288	 22355	 22356	 22432	 22433	 22514	 22515
	 22601	 22602	 22688	 22689	 22733	 22734	 22784	 22785	 22857	 22858	 24226	 24227	 24270	 24302     SEQ 0993
	 24303	 24347	 24388	 24429	 24456	 24483	 24492	 24524	 24554	 24555	 24565	 24602	 24628	 24663
	 24702	 24752	 24807	 24814	 24870	 24931	 24988	 24989	 24990	 25064	 25091	 25092	 25129	 25130
	 25144	 25189	 25223	 25224	 25225	 25264	 25265	 25266	 25342	 25343	 25383	 25384	 25385	 25443
	 25444	 25445	 25453	 25499	 25500	 25501	 25510	 25548	 25549	 25560	 25561	 25572	 25573	 25584
	 25585	 25618	 25621	 25624	 25631	 25634	 25637	 25660	 25661	 25699	 25700	 25701	 25743	 25744
	 25802	 25803	 25881	 25882	 25924	 25931	 25937	 25968	 25969	 25970	 25971	 26009	 26014	 26016
	 26017	 26018	 26019	 26020	 26197	 26198	 26199	 26200	 26411	 26412	 26413	 26414	 26553	 26586
	 26614	 26615	 26616	 26617	 26618	 26680	 26793	 26794	 26892	 26893	 26970	 26971	 26972	 26973
	 27033	 27034	 27035	 27036	 27037	 27092	 27093	 27094	 27095	 27096	 27202	 27256	 27352	 27353
	 27437	 27472	 27484	 27522	 27531	 27795	 27796	 27797	 27912	 27945	 27995	 28022	 28056	 28057
	 28058	 28273	 28528	 28529	 28530	 28531	 28532	 28633	 28701	 28799	 28800	 28801	 28841	 28842
	 28843	 28884	 28885	 28920	 28952	 28953	 29010	 29011	 29012	 29100	 29101	 29102	 29103	 29104
	 29116	 29167	 29175	 29485	 29486	 29536	 29543	 29550	 29557	 29567	 29577	 29578	 29596	 29608
	 29623	 29630	 29641	 29645	 29652	 29659	 29704	 29710	 29711	 29712	 29713	 29714	 29715	 29791
	 29794	 29799	 29802	 29805	 29808	 29818	 29821	 29824	 29834	 29856	 29890	 29891	 29892	 29893
	 29937	 29943	 30568#
RDAPR	   527#
RDCSB	   527#
RDCSTM	   527#
RDEBR	   527#
RDHSB	   527#
RDINT	   527#
RDIO	   527#	 26233	 26272	 26283	 26429	 26440	 26462	 26502	 26513	 26628	 28848	 28924
RDIOB	   527#
RDPI	   527#
RDPUR	   527#
RDSPB	   527#
RDTIM	   527#
RDUBR	   527#
REPTLP	   128#
RTN	   363#	   617	  1353	  1411	  1461	  1507	  1570	  1667	  1766	  1859	  1944	  2013	  2107	  2207
	  2303	  2389	  2452	  2542	  2639	  2733	  2819	  2879	  2938	  2992	  3047	  3098	  3150	  3203
	  3259	  3314	  3366	  3422	  3486	  3529	  3571	  3643	  3700	  3752	  3810	  3903	  3976	  4032
	  4086	  4141	  4186	  4225	  4282	  4448	  4511	  4573	  4631	  4683	  4738	  4794	  4867	  4946
	  5093	  5157	  5324	  5461	  5573	  5631	  5797	  5876	  5928	  5990	  6055	  6127	  6182	  6222
	  6288	  6330	  6392	  6454	  6517	  6577	  6635	  6692	  6749	  6810	  6870	  6931	  6994	  7125
	  7190	  7254	  7293	  7433	  7502	  7566	  7598	  7703	  7771	  7835	  7871	  7983	  8055	  8119
	  8150	  8205	  8262	  8317	  8372	  8421	  8477	  8540	  8595	  8650	  8705	  8760	  8815	  8869
	  8930	  9060	  9125	  9190	  9226	  9275	  9289	  9317	  9380	  9425	  9461	  9531	  9601	  9631
	  9681	  9773	  9789	  9835	  9987	  9990	 10144	 10147	 10226	 10229	 10304	 10371	 10441	 10481
	 10520	 10580	 10621	 10656	 10703	 10743	 10822	 10832	 10873	 10931	 10991	 11052	 11115	 11169
	 11217	 11267	 11321	 11374	 11428	 11482	 11543	 11613	 11663	 11701	 11763	 11825	 11887	 11949
	 12011	 12073	 12134	 12196	 12261	 12331	 12403	 12471	 12537	 12599	 12662	 12724	 12786	 12849
	 12911	 12974	 13041	 13090	 13135	 13211	 13284	 13366	 13381	 13432	 13509	 13583	 13659	 13735
	 13814	 13890	 13969	 14049	 14107	 14162	 14298	 14390	 14462	 14539	 14663	 14748	 14845	 14935
	 15045	 15066	 15106	 15186	 15279	 15365	 15452	 15547	 15627	 15691	 15783	 15786	 15886	 15899
	 15903	 15948	 15951	 16059	 16062	 16226	 16304	 16389	 16510	 16590	 16649	 16710	 16773	 16837
	 16874	 16926	 16973	 16996	 17038	 17105	 17169	 17235	 17304	 17378	 17502	 17690	 17918	 17929
	 17940	 17976	 18064	 18098	 18188	 18219	 18317	 18359	 18536	 18575	 18618	 18707	 18811	 18924
	 19038	 19150	 19251	 19336	 19555	 19724	 19775	 19835	 19900	 19939	 20087	 20158	 20203	 20290
	 20383	 20496	 20595	 20702	 20814	 20882	 20995	 21035	 21185	 21380	 21383	 21509	 21570	 21655
	 21735	 21807	 21873	 21934	 21946	 22009	 22076	 22133	 22189	 22248	 22315	 22389	 22471	 22556
	 22643	 22729	 22744	 22826	 22887	 22924	 22988	 23054	 23118	 23251	 23368	 23453	 23529	 23731     SEQ 0994
	 23851	 23940	 23979	 24070	 24075	 24097	 24122	 24134	 24201	 24205	 24238	 24281	 24314	 24365
	 24395	 24434	 24462	 24503	 24533	 24582	 24607	 24643	 24677	 24701	 24726	 24751	 24778	 24806
	 24842	 24869	 24906	 24930	 24953	 24986	 25043	 25068	 25100	 25166	 25198	 25239	 25283	 25303
	 25314	 25320	 25356	 25417	 25475	 25525	 25558	 25570	 25582	 25595	 25629	 25692	 25719	 25779
	 25856	 25901	 25929	 25935	 25942	 25987	 26048	 26296	 26529	 26552	 26562	 26884	 26940	 27008
	 27047	 27148	 27235	 27302	 27402	 27405	 27444	 27491	 27518	 27537	 27619	 27655	 27701	 27859
	 27887	 27921	 27969	 28001	 28033	 28108	 28128	 28129	 28133	 28365	 28697	 28765	 28811	 28856
	 28897	 28927	 28984	 29040	 29136	 29148	 29158	 29161	 29166	 29171	 29181	 29189	 29204	 29268
	 29269	 29270	 29273	 29279	 29280	 29498	 29541	 29548	 29555	 29565	 29575	 29594	 29604	 29621
	 29628	 29638	 29650	 29657	 29664	 29743	 29750	 29758	 29813	 29830	 29838	 29861	 29911	 29983
	 30052	 30124	 30140	 30571#
S	    31#	    33	    35	    43	    45	    71	    73	    95	    97	   111	   113	   124	   126	   138
	   140	   166	   201	   203	   248	   250	   293#	   295	   299	   328	   330	   339	   342	   357
	   358	   360	   371	   373	   377	   379	   384	   388	   527	   532	   538	   565	   567	   585
	   587	   605	   607	   636	   638	   656	   658	   676	   678	   686	   688	   709	   714	   740
	   742	   749	   751	   757	   759	   765	   767	   771	   773	   778	   780	   784	   786	   790
	   792	   798	   800	   803	   805	   809	   811	   815	   817	   821	   823	   827	   829	   834
	   836	   840	   842	   846	   848	   850	   852	   858	   860	   887	   889	   906	   909	   929
	   931	   947	   949	   965	   967	   985	   987	   998	  1000	  1005	  1007	  1029	  1031	  1040
	  1042	  1051	  1053	  1068	  1070	  1074	  1076	  1080	  1082	  1099	  1101	  1114	  1116	  1127
	  1129	  1131	  1133	  1136	  1138	  1152	  1154	  1162	  1164	  1174	  1176	  1313	  1315	  1417
	  1419	  1490	  1492	  1515	  1517	  1609	  1611	  1703	  1705	  1808	  1810	  1899	  1901	  1983
	  1985	  2049	  2051	  2144	  2146	  2251	  2253	  2342	  2344	  2429	  2431	  2487	  2489	  2577
	  2579	  2682	  2684	  2772	  2774	  2857	  2859	  2913	  2915	  2968	  2970	  3024	  3026	  3075
	  3077	  3126	  3128	  3181	  3183	  3233	  3235	  3290	  3292	  3343	  3345	  3398	  3400	  3460
	  3462	  3546	  3548	  3620	  3622	  3677	  3679	  3729	  3731	  3786	  3788	  3861	  3863	  3938
	  3940	  4011	  4013	  4065	  4067	  4121	  4123	  4149	  4151	  4239	  4241	  4392	  4394	  4480
	  4482	  4544	  4546	  4607	  4609	  4662	  4664	  4718	  4720	  4771	  4773	  4830	  4832	  4897
	  4899	  5054	  5056	  5128	  5130	  5275	  5277	  5410	  5412	  5547	  5549	  5606	  5608	  5737
	  5739	  5890	  5892	  5962	  5964	  6025	  6027	  6091	  6093	  6196	  6198	  6258	  6260	  6306
	  6308	  6368	  6370	  6431	  6433	  6491	  6493	  6556	  6558	  6612	  6614	  6669	  6671	  6726
	  6728	  6787	  6789	  6847	  6849	  6907	  6909	  6967	  6969	  7103	  7105	  7167	  7169	  7237
	  7239	  7263	  7265	  7410	  7412	  7479	  7481	  7549	  7551	  7574	  7576	  7680	  7682	  7749
	  7751	  7818	  7820	  7844	  7846	  7960	  7962	  8032	  8034	  8102	  8104	  8128	  8130	  8183
	  8185	  8240	  8242	  8295	  8297	  8350	  8352	  8400	  8402	  8454	  8456	  8518	  8520	  8573
	  8575	  8628	  8630	  8683	  8685	  8738	  8740	  8793	  8795	  8847	  8849	  8904	  8906	  9037
	  9039	  9102	  9104	  9173	  9175	  9199	  9201	  9294	  9296	  9357	  9359	  9437	  9439	  9510
	  9512	  9580	  9582	  9645	  9647	  9807	  9809	  9957	  9959	 10118	 10120	 10205	 10207	 10273
	 10275	 10342	 10344	 10414	 10416	 10493	 10495	 10557	 10559	 10634	 10636	 10715	 10717	 10852
	 10854	 10909	 10911	 10968	 10970	 11029	 11031	 11085	 11087	 11195	 11197	 11245	 11247	 11296
	 11298	 11350	 11352	 11405	 11407	 11460	 11462	 11514	 11516	 11586	 11588	 11674	 11676	 11736
	 11738	 11798	 11800	 11860	 11862	 11922	 11924	 11984	 11986	 12046	 12048	 12107	 12109	 12169
	 12171	 12231	 12233	 12301	 12303	 12374	 12376	 12442	 12444	 12506	 12508	 12572	 12574	 12635
	 12637	 12697	 12699	 12759	 12761	 12822	 12824	 12884	 12886	 12946	 12948	 13013	 13015	 13073
	 13075	 13099	 13101	 13180	 13182	 13253	 13255	 13402	 13404	 13478	 13480	 13554	 13556	 13630
	 13632	 13704	 13706	 13784	 13786	 13860	 13862	 13939	 13941	 14017	 14019	 14126	 14128	 14261
	 14263	 14359	 14361	 14428	 14430	 14516	 14518	 14627	 14629	 14708	 14710	 14874	 14876	 15082
	 15084	 15152	 15154	 15249	 15251	 15336	 15338	 15410	 15412	 15515	 15517	 15596	 15598	 15667
	 15669	 15740	 15742	 15920	 15922	 16031	 16033	 16189	 16191	 16273	 16275	 16350	 16352	 16469
	 16471	 16562	 16564	 16623	 16625	 16684	 16686	 16747	 16749	 16806	 16808	 16886	 16888	 17008
	 17010	 17077	 17079	 17141	 17143	 17206	 17208	 17277	 17279	 17344	 17346	 17467	 17469	 17656
	 17658	 17946	 17948	 18069	 18071	 18194	 18196	 18297	 18299	 18322	 18324	 18591	 18593	 18674
	 18676	 18782	 18784	 18893	 18895	 19005	 19007	 19117	 19119	 19226	 19228	 19306	 19308	 19527     SEQ 0995
	 19529	 19699	 19701	 19754	 19756	 19811	 19813	 19913	 19915	 20060	 20062	 20179	 20181	 20358
	 20360	 20470	 20472	 20570	 20572	 20680	 20682	 20856	 20858	 21010	 21012	 21148	 21150	 21349
	 21351	 21515	 21517	 21588	 21590	 21681	 21683	 21754	 21756	 21820	 21822	 21886	 21888	 21958
	 21960	 22022	 22024	 22090	 22092	 22145	 22147	 22201	 22203	 22263	 22265	 22329	 22331	 22406
	 22408	 22488	 22490	 22575	 22577	 22662	 22664	 22758	 22760	 22836	 22838	 22903	 22905	 22966
	 22968	 23031	 23033	 23095	 23097	 23223	 23225	 23345	 23347	 23429	 23431	 23505	 23507	 23612
	 23614	 24211	 24213	 24254	 24256	 24286	 24288	 24331	 24333	 24370	 24372	 24416	 24418	 24439
	 24441	 24467	 24469	 24508	 24510	 24538	 24540	 24587	 24589	 24613	 24615	 24648	 24650	 24682
	 24684	 24731	 24733	 24783	 24785	 24847	 24849	 24911	 24913	 24958	 24960	 25048	 25050	 25073
	 25075	 25106	 25108	 25172	 25174	 25203	 25205	 25244	 25246	 25288	 25290	 25325	 25327	 25361
	 25363	 25422	 25424	 25480	 25482	 25531	 25533	 25600	 25602	 25645	 25647	 25727	 25729	 25784
	 25786	 25866	 25868	 25908	 25910	 25949	 25951	 25993	 25995	 26080	 26082	 26301	 26303	 26535
	 26537	 26567	 26569	 26597	 26599	 26750	 26752	 26945	 26947	 27013	 27015	 27070	 27072	 27153
	 27155	 27178	 27180	 27240	 27242	 27315	 27317	 27419	 27421	 27450	 27452	 27496	 27498	 27543
	 27545	 27661	 27663	 27865	 27867	 27896	 27898	 27926	 27928	 27979	 27981	 28006	 28008	 28038
	 28040	 28113	 28115	 28252	 28254	 28371	 28373	 28771	 28773	 28816	 28818	 28862	 28864	 28902
	 28904	 28933	 28935	 28989	 28991	 29066	 29068	 29210	 29212	 29472	 29474	 29669	 29671	 29764
	 29766	 29843	 29845	 29869	 29871	 29916	 29918	 29973	 29975	 29990	 29992	 30024	 30026	 30163
	 30165	 30211	 30213	 30258	 30260	 30499	 30501	 30544	 30546
SCOPE	   129	  1390	  1472	  1588	  1686	  1789	  1882	  1966	  2033	  2126	  2232	  2325	  2411	  2472
	  2561	  2663	  2756	  2841	  2899	  2952	  3006	  3061	  3112	  3164	  3217	  3273	  3328	  3385
	  3445	  3510	  3599	  3663	  3714	  3771	  3830	  3917	  3995	  4052	  4108	  4208	  4300	  4323
	  4346	  4367	  4462	  4529	  4591	  4649	  4705	  4758	  4814	  4881	  4964	  4987	  5010	  5031
	  5111	  5178	  5201	  5229	  5254	  5342	  5365	  5388	  5479	  5502	  5525	  5587	  5649	  5672
	  5695	  5716	  5857	  5947	  6010	  6076	  6163	  6240	  6348	  6410	  6472	  6535	  6594	  6652
	  6709	  6767	  6828	  6888	  6949	  7013	  7036	  7060	  7081	  7148	  7217	  7315	  7338	  7365
	  7390	  7456	  7536	  7617	  7640	  7663	  7730	  7798	  7893	  7916	  7943	  8010	  8089	  8168
	  8223	  8280	  8335	  8385	  8439	  8503	  8558	  8613	  8668	  8723	  8778	  8833	  8890	  8949
	  8972	  8996	  9017	  9083	  9152	  9240	  9343	  9408	  9489	  9559	  9621	  9724	  9742	  9876
	  9914	 10013	 10034	 10063	 10094	 10179	 10186	 10248	 10255	 10327	 10399	 10463	 10544	 10609
	 10683	 10763	 10782	 10803	 10895	 10953	 11013	 11070	 11145	 11152	 11231	 11281	 11335	 11389
	 11442	 11496	 11571	 11639	 11729	 11791	 11853	 11915	 11977	 12039	 12100	 12162	 12224	 12286
	 12359	 12428	 12499	 12565	 12628	 12690	 12752	 12815	 12877	 12939	 12999	 13066	 13159	 13234
	 13337	 13344	 13463	 13540	 13616	 13691	 13769	 13846	 13924	 14002	 14092	 14099	 14207	 14332
	 14414	 14493	 14582	 14682	 14691	 14793	 14816	 14826	 14847	 14959	 14969	 15009	 15020	 15127
	 15134	 15216	 15229	 15311	 15318	 15396	 15480	 15487	 15493	 15581	 15653	 15713	 15721	 15850
	 15858	 15981	 16009	 16101	 16116	 16146	 16155	 16251	 16335	 16415	 16426	 16536	 16543	 16608
	 16669	 16733	 16792	 16864	 16945	 17063	 17128	 17193	 17264	 17329	 17442	 17542	 17557	 17585
	 17731	 17750	 17767	 17786	 17802	 17820	 17834	 17850	 18018	 18033	 18145	 18274	 18407	 18421
	 18435	 18449	 18463	 18476	 18489	 18505	 18660	 18766	 18878	 18990	 19101	 19211	 19291	 19415
	 19438	 19461	 19489	 19639	 19669	 19741	 19796	 19878	 19982	 19992	 20002	 20012	 20021	 20127
	 20137	 20245	 20258	 20420	 20427	 20434	 20442	 20536	 20548	 20634	 20663	 20744	 20778	 20787
	 20924	 20951	 20963	 21074	 21102	 21132	 21233	 21247	 21261	 21275	 21289	 21302	 21315	 21329
	 21413	 21442	 21466	 21484	 21554	 21568	 21632	 21642	 21653	 21721	 21733	 21804	 21870	 21929
	 22004	 22074	 22131	 22187	 22246	 22312	 22378	 22387	 22457	 22469	 22539	 22554	 22626	 22641
	 22727	 22824	 22885	 22942	 23008	 23072	 23130	 23142	 23150	 23164	 23176	 23184	 23259	 23267
	 23286	 23298	 23309	 23382	 23390	 23402	 23472	 23483	 23550	 23573	 23588	 30566
SIXBTZ	   470#
SWITCH	   476#	 23715	 23721	 24035	 26799	 27573	 27649	 27703	 27709	 27821	 28547
TEXT	   130#	  3524	  4219	  4222	  5863	  5865	  5868	  5871	  6171	  6173	  6176	  6179	 10698	 11647
	 11650	 11654	 11657	 11660	 15889	 15890	 15894	 15985	 16868	 16985	 17908	 17913	 17923	 17934
	 18058	 18173	 18177	 18181	 18543	 18547	 18552	 18556	 18560	 18565	 18569	 19889	 19893	 20150
	 20154	 20276	 20280	 20283	 20803	 20807	 20981	 20985	 20988	 21939	 23726	 23734	 23738	 23767     SEQ 0996
	 23781	 23795	 23958	 23961	 23964	 23967	 23969	 23972	 24072	 24080	 24089	 24091	 24093	 24146
	 24169	 24171	 25145	 25153	 25623	 25636	 25706	 25707	 25711	 27473	 27478	 27481	 27523	 27528
	 27741	 27750	 27753	 27771	 27781	 27786	 27788	 27834	 27836	 27837	 27840	 27842	 27846	 27851
	 27854	 28282	 28293	 28296	 28299	 28302	 28305	 28308	 28311	 28314	 28317	 28320	 28323	 28326
	 28329	 28337	 28340	 28343	 28346	 28349	 28352	 28355	 28358	 28635	 28713	 28717	 28724	 28727
	 28730	 28734	 28737	 28743	 28746	 28753	 28759	 28954	 28959	 28973	 28977	 29014	 29019	 29030
	 29157	 29160	 29487	 29493	 29537	 29544	 29551	 29558	 29561	 29568	 29571	 29580	 29597	 29600
	 29609	 29619	 29624	 29631	 29642	 29646	 29653	 29660	 29752	 30567#
TEXTF	   131#	  1249	  1255	  1260	  1276	  1362	  1367	  1370	  1393	  1406	  6283	  9702	  9709	  9711
	  9778	  9856	  9859	  9881	  9895	  9919	  9922	  9929	 15971	 15973	 15975	 15976	 16108	 16111
	 16122	 16124	 16126	 16128	 21396	 21399	 21424	 21427	 21448	 21451	 23718	 23740	 23749	 23953
	 24127	 24173	 24187	 24241	 24243	 24317	 24319	 24398	 24400	 27055	 27097	 27139	 27289	 27296
	 27385	 27392	 27396	 27602	 27636	 27653	 27680	 27685	 27694	 27706	 27824	 27996	 28023	 28030
	 28070	 28125
TIOE	   527#
TIOEB	   527#
TION	   527#
TIONB	   527#
TTALTM	   397#	 27257
TTICHR	   390#	  1408	 24178	 27913
TTICLR	   400#
TTICNV	   395#	 24130	 27959
TTIDEC	   394#
TTINO	   392#
TTIOCT	   393#	 26901	 26924	 27105
TTIYES	   391#	 26897	 26920	 27882
TTLOOK	   396#
TTSIXB	   398#
TTYINP	   399#
WRAPR	   527#
WRCSB	   527#
WRCSTM	   527#
WREBR	   527#
WRHSB	   527#
WRINT	   527#
WRIO	   527#	 26211	 26223	 26423	 26646	 26662	 28806	 28889	 28893
WRIOB	   527#	 26290	 26520
WRPI	   527#
WRPUR	   527#
WRSPB	   527#
WRTIM	   527#
WRUBR	   527#